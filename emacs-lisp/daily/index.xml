<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Emacs Lisp Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2023-04-06T01:35:07Z</updated>
  <subtitle>Daily Trending of Emacs Lisp in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>lorniu/org-mpvi</title>
    <updated>2023-04-06T01:35:07Z</updated>
    <id>tag:github.com,2023-04-06:/lorniu/org-mpvi</id>
    <link href="https://github.com/lorniu/org-mpvi" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Integrate Org with Video&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;Integrate Org with Video&lt;/h1&gt; &#xA;&lt;p&gt;Knock knock, &lt;a href=&#34;https://raw.githubusercontent.com/lorniu/org-mpvi/master/README-en.md&#34;&gt;English Help&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;简介&lt;/h2&gt; &#xA;&lt;p&gt;将 Org Mode 跟 mpv/ffmpeg/yt-dlp 等有机结合，娱乐、学习两不误:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;通过 MPV 看视频 (本地、网络、直播)&lt;/li&gt; &#xA; &lt;li&gt;对视频播放进行控制 (进度、速度等)&lt;/li&gt; &#xA; &lt;li&gt;对视频进行相关操作 (下载、转换，截图，OCR 等)&lt;/li&gt; &#xA; &lt;li&gt;结合 Org-Buffer 整理笔记&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;类似项目:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/yuchen-lea/org-media-note&#34;&gt;https://github.com/yuchen-lea/org-media-note&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/bpanthi977/org-mpv-notes&#34;&gt;https://github.com/bpanthi977/org-mpv-notes&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;这是很久之前知识焦虑的时候，为了消化收藏夹中的视频而写。&lt;/p&gt; &#xA;&lt;p&gt;最近几天将其翻新了一下。因为发现用它来拉片、看直播，简直不要太爽!&lt;/p&gt; &#xA;&lt;h2&gt;安装&lt;/h2&gt; &#xA;&lt;p&gt;首先确保已安装 &lt;code&gt;mpv.el&lt;/code&gt;, 然后下载本仓库，加入到 &lt;code&gt;load-path&lt;/code&gt;，并 &lt;code&gt;(require &#39;org-mpvi)&lt;/code&gt;。&lt;/p&gt; &#xA;&lt;p&gt;之后安装相关依赖。除了 &lt;a href=&#34;https://mpv.io/&#34;&gt;mpv&lt;/a&gt; 是必须的外，其他的是可选的:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/yt-dlp/yt-dlp&#34;&gt;yt-dlp&lt;/a&gt;，如果要看网络视频，这个必须要安装&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://ffmpeg.org/&#34;&gt;ffmpeg&lt;/a&gt;, 用来对视频进行剪辑之类的操作&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/Borber/seam&#34;&gt;seam&lt;/a&gt;，用来解析直播链接，要看直播的需要安装&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/m13253/danmaku2ass&#34;&gt;danmaku2ass&lt;/a&gt;，安装这个后，看 B 站视频就有弹幕啦&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/tesseract-ocr/tesseract&#34;&gt;tesseract&lt;/a&gt;，需要用这个来进行画面的文字识别 (OCR)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;对于 Arch Linux 用户，一键安装依赖:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;yay -S mpv ffmpeg yt-dlp tesseract xclip danmaku2ass-git seam-git&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;使用&lt;/h2&gt; &#xA;&lt;p&gt;主要有 3 个命令:&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;&lt;code&gt;org-mpvi-open&lt;/code&gt;，打开视频文件或网络链接&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;org-mpvi-seek&lt;/code&gt;，通过 minibuffer 的方式对播放的视频进行控制&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;org-mpvi-insert&lt;/code&gt;，在 org buffer 中插入当前播放视频的带时间戳的链接&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;其中 &lt;code&gt;org-mpvi-seek&lt;/code&gt; 是最核心的命令，它通过 minibuffer 集成了很多功能。比如:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;i&lt;/code&gt; 在 buffer 中插入时间戳链接&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;Space&lt;/code&gt; 切换暂停与播放&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;j/k/l&lt;/code&gt; 调整播放速度&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;n/p/N/P/M-n/M-p&lt;/code&gt; 等实现各种维度的播放进度调整&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;s/C-s/C-i&lt;/code&gt; 等实现各种方式的截图&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;r/C-r&lt;/code&gt; 对当前播放页面进行 OCR 识别并复制结果&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;t/C-t&lt;/code&gt; 复制当前页面的字幕或弹幕&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;v/C-v&lt;/code&gt; 切换网络视频 playlist/category 里的视频&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;o/C-o&lt;/code&gt; 切换到系统默认程序 (比如浏览器) 打开当前播放视频&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;q/C-q&lt;/code&gt; 退出 minibuffer&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;时间戳是一个 &lt;code&gt;[mpv:https://xxx.com#10-30]&lt;/code&gt; 格式的链接，可以直接点击。光标置于其上，有如下快捷键:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;, s&lt;/code&gt; 进入到 &lt;code&gt;org-mpvi-seek&lt;/code&gt; 界面&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;, ,&lt;/code&gt; 播放当前链接中的视频&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;, a&lt;/code&gt; 更改链接中视频的开始时间&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;, b&lt;/code&gt; 更改链接中视频的结束时间&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;, v&lt;/code&gt; 预览链接中视频时间戳位置的画面&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;, c&lt;/code&gt; 视频的下载、转码、截取。All In One, 很好用&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;其他补充:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;支持视频分 P 播放。比如，可以直接用 &lt;code&gt;org-mpvi-open&lt;/code&gt; 打开 B 站播放列表 url 或专栏合集 url&lt;/li&gt; &#xA; &lt;li&gt;目前直播仅支持斗鱼和抖音。其他的可以仿照 &lt;code&gt;org-mpvi-ps.el&lt;/code&gt; 中的代码自行扩展。我不看其他的，所以没加&lt;/li&gt; &#xA; &lt;li&gt;详细的快捷键参见 map 定义: &lt;code&gt;org-mpvi-open-map&lt;/code&gt;, &lt;code&gt;org-mpvi-seek-map&lt;/code&gt;, &lt;code&gt;org-mpvi-link-keymap&lt;/code&gt;。不合意可自行重新绑定&lt;/li&gt; &#xA; &lt;li&gt;如果纯粹看视频/直播，并通过 minibuffer 操控 MPV，并不需要 Org Mode。但进行插入、编辑操作则必须在 Org Mode Buffer 中&lt;/li&gt; &#xA; &lt;li&gt;yt-dlp 对播放列表 (playlist) 信息的返回不够详细不够友好。这导致打开视频链接的时候可能会卡顿一下，并且切换列表的时候不会显示分 P 标题。这个可能只能通过上游解决，有点难受&lt;/li&gt; &#xA; &lt;li&gt;最大的遗憾是，看直播的时候没弹幕。&lt;strong&gt;这种实时弹幕，不知道有没有啥实现的思路&lt;/strong&gt;&lt;/li&gt; &#xA; &lt;li&gt;本来想把 &lt;code&gt;danmaku2ass&lt;/code&gt; 和解析直播链接也用 &lt;code&gt;elisp&lt;/code&gt; 重新实现一下的。后面想想这简直是自寻烦恼，这种洁癖要不得，第三方的依赖不差这一两个，因此作罢&lt;/li&gt; &#xA; &lt;li&gt;通过 Emacs 对 MPV 播放器进行详细控制不在本包范畴之内，推荐使用 &lt;code&gt;transient&lt;/code&gt; 提供集成各种命令的界面，它是内置的，且语法简单&lt;/li&gt; &#xA; &lt;li&gt;结合视频网站的 API 可以实时抓取其收藏夹、热门视频等，结合本包食用，特别香。再结合 Org Mode 对视频进行分类、整理，更香。再加上带视频时间戳链接的笔记，完美。现在基本可以做到不打开网页看 B 站视频了&lt;/li&gt; &#xA; &lt;li&gt;最近 B 站改版了电影页面，所以电影暂时是看不了的。等待上游补丁 (&lt;a href=&#34;https://github.com/yt-dlp/yt-dlp/pull/6022&#34;&gt;https://github.com/yt-dlp/yt-dlp/pull/6022&lt;/a&gt;)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;其他&lt;/h2&gt; &#xA;&lt;p&gt;这个项目的初衷是自己爽。现在整理出来，如果有人喜欢，我也会很开心。&lt;/p&gt; &#xA;&lt;p&gt;欢迎大家沟通交流，互相学习、共同进步。&lt;/p&gt; &#xA;&lt;p&gt;感谢社区中的类似项目，你们给我了更多灵感。&lt;/p&gt; &#xA;&lt;p&gt;感谢 mpv/ffmpeg/emacs 等开源软件，你们让世界更美好。&lt;/p&gt; &#xA;&lt;p&gt;最后，感谢所有贡献了优秀视频的平台和作者，你们让我更焦虑、也更强大（误）。&lt;/p&gt;</summary>
  </entry>
</feed>