<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Emacs Lisp Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2023-06-20T01:37:16Z</updated>
  <subtitle>Daily Trending of Emacs Lisp in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>jpmonettas/cider-storm</title>
    <updated>2023-06-20T01:37:16Z</updated>
    <id>tag:github.com,2023-06-20:/jpmonettas/cider-storm</id>
    <link href="https://github.com/jpmonettas/cider-storm" rel="alternate"></link>
    <summary type="html">&lt;p&gt;An emacs cider front-end for the FlowStorm debugger with support for Clojure and ClojureScript.&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;Cider Storm&lt;/h1&gt; &#xA;&lt;p&gt;Cider Storm is an Emacs Cider front-end for the &lt;a href=&#34;https://github.com/jpmonettas/flow-storm-debugger&#34;&gt;FlowStorm debugger&lt;/a&gt; with support for Clojure and ClojureScript.&lt;/p&gt; &#xA;&lt;p&gt;It brings the time-travel code stepping capabilities of FlowStorm to Emacs, providing an interface similar to the Cider debugger one.&lt;/p&gt; &#xA;&lt;p&gt;It also contains a bunch of utilities functions for interacting with FlowStorm.&lt;/p&gt; &#xA;&lt;p&gt;Cider Storm isn&#39;t trying to re-implement the entire FlowStorm UI, but the most used functionality. You can always start the full FlowStorm UI if you need the extra tools.&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/jpmonettas/cider-storm/assets/786299/4328309c-9a60-47e1-ae1b-878884f19aa3&#34;&gt;https://github.com/jpmonettas/cider-storm/assets/786299/4328309c-9a60-47e1-ae1b-878884f19aa3&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Pre-requisites&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code&gt;- cider&#xA;- flow-storm &amp;gt;= 3.6.5&#xA;- when using ClojureStorm, &amp;gt;= 1.11.1-4, or &amp;gt;= 1.12.0-alpha3_2&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Installation&lt;/h2&gt; &#xA;&lt;p&gt;First you need to setup FlowStorm as you normally do for your environment. Check &lt;a href=&#34;https://jpmonettas.github.io/flow-storm-debugger/user_guide.html#_quick_start&#34;&gt;https://jpmonettas.github.io/flow-storm-debugger/user_guide.html#_quick_start&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;Apart from that you need two things. First clone this repo (no package yet) and load it into emacs, like :&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;(add-to-list &#39;load-path &#34;/home/user/cider-storm&#34;)&#xA;(require &#39;cider-storm)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Second is to add the flow-storm nrepl middleware to your list of middlewares automatically loaded by your cider-jack-in commands.&lt;/p&gt; &#xA;&lt;p&gt;There are multiple ways of accomplishing this depending on your use case, like :&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;(add-to-list &#39;cider-jack-in-nrepl-middlewares &#34;flow-storm.nrepl.middleware/wrap-flow-storm&#34;)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;then the middleware will be added every time you do a cider-jack-in. The problem with this approach is that if you jack-in into a project that doesn&#39;t contain FlowStorm on the classpath it will fail.&lt;/p&gt; &#xA;&lt;p&gt;Another approach is to setup the middlewares like this in your &lt;code&gt;.dir-locals.el&lt;/code&gt; at the root of each project.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;((clojure-mode . ((cider-jack-in-nrepl-middlewares . (&#34;flow-storm.nrepl.middleware/wrap-flow-storm&#34;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  (&#34;refactor-nrepl.middleware/wrap-refactor&#34; :predicate cljr--inject-middleware-p)&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;  &#34;cider.nrepl/cider-middleware&#34;)))))&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;There are other ways probably depending on what you are using and how you are starting your nrepl servers, but the important thing is that the middleware should be loaded in the nrepl server for Cider Storm to work.&lt;/p&gt; &#xA;&lt;h3&gt;Setup bindings&lt;/h3&gt; &#xA;&lt;p&gt;If you want to add bindings to your Cider map, you can also add :&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;(define-key cider-mode-map (kbd &#34;C-c C-f&#34;) &#39;cider-storm-map)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;which will add all the commands below under &lt;code&gt;C-c C-f&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;List of commands cider-storm provides (assumes C-c C-f prefix)&lt;/h2&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Command name&lt;/th&gt; &#xA;   &lt;th&gt;Binding&lt;/th&gt; &#xA;   &lt;th&gt;Description&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;cider-storm-storm-start-gui&lt;/td&gt; &#xA;   &lt;td&gt;s&lt;/td&gt; &#xA;   &lt;td&gt;Starts the FlowStrom GUI&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;cider-storm-storm-stop-gui&lt;/td&gt; &#xA;   &lt;td&gt;x&lt;/td&gt; &#xA;   &lt;td&gt;Stops the FlowStrom GUI&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;cider-storm-instrument-current-ns&lt;/td&gt; &#xA;   &lt;td&gt;n&lt;/td&gt; &#xA;   &lt;td&gt;Instrument the current NS (vanilla only)&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;cider-storm-instrument-last-form&lt;/td&gt; &#xA;   &lt;td&gt;f&lt;/td&gt; &#xA;   &lt;td&gt;Instrument the form before the cursor (vanilla only)&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;cider-storm-instrument-current-defn&lt;/td&gt; &#xA;   &lt;td&gt;c&lt;/td&gt; &#xA;   &lt;td&gt;Instrument the form surrounding the cursor (vanilla only)&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;cider-storm-eval-and-debug-last-form&lt;/td&gt; &#xA;   &lt;td&gt;e&lt;/td&gt; &#xA;   &lt;td&gt;Eval and debug last form (will use #rtrace on vanilla)&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;cider-storm-tap-last-result&lt;/td&gt; &#xA;   &lt;td&gt;t&lt;/td&gt; &#xA;   &lt;td&gt;Taps the last evaluated expression (*1)&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;cider-storm-show-current-var-doc&lt;/td&gt; &#xA;   &lt;td&gt;D&lt;/td&gt; &#xA;   &lt;td&gt;Shows the FlowStorm doc for the current var&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;cider-storm-rtrace-last-sexp&lt;/td&gt; &#xA;   &lt;td&gt;r&lt;/td&gt; &#xA;   &lt;td&gt;#rtrace the last s-expression&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;cider-storm-debug-current-fn&lt;/td&gt; &#xA;   &lt;td&gt;d&lt;/td&gt; &#xA;   &lt;td&gt;Moves the stepper to the first recording for the current fn (cursor needs to be on the fn symbol)&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;cider-storm-debug-fn&lt;/td&gt; &#xA;   &lt;td&gt;j&lt;/td&gt; &#xA;   &lt;td&gt;Select a recorded fn and make the stepper jump into it&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;cider-storm-clear-recordings&lt;/td&gt; &#xA;   &lt;td&gt;l&lt;/td&gt; &#xA;   &lt;td&gt;Clear all recordings (same as Ctrl-L on the FlowStorm UI)&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;h2&gt;Stepper Usage&lt;/h2&gt; &#xA;&lt;h3&gt;With ClojureStorm (recommended for Clojure)&lt;/h3&gt; &#xA;&lt;p&gt;If you are using FlowStorm with ClojureStorm, then you don&#39;t need to do anything special, you don&#39;t even need the FlowStorm UI running.&lt;/p&gt; &#xA;&lt;p&gt;Start your repl, run your expressions so things get recorded and then when you want to step over a recorded function on emacs run : M-x cider-storm-debug-fn&lt;/p&gt; &#xA;&lt;p&gt;This should retrieve a list of all the functions that FlowStorm has recordings for. When you choose one, it should jump to the first recorded step for that function, and provide a similar interface to the Cider debugger.&lt;/p&gt; &#xA;&lt;p&gt;Once the debugging mode is enable you can type &lt;code&gt;h&lt;/code&gt; to show the keybindings.&lt;/p&gt; &#xA;&lt;h3&gt;With vanilla FlowStorm&lt;/h3&gt; &#xA;&lt;p&gt;Currently you need to have the FlowStorm UI running (flow-storm.api/local-connect) to use it with vanilla FlowStorm.&lt;/p&gt; &#xA;&lt;p&gt;After you have your recordings you can explore them following the same instructions described in &lt;code&gt;With ClojureStorm&lt;/code&gt; .&lt;/p&gt; &#xA;&lt;h3&gt;With ClojureScript&lt;/h3&gt; &#xA;&lt;p&gt;Currently you need to have the FlowStorm debugger UI connected to use it with ClojureScript.&lt;/p&gt; &#xA;&lt;p&gt;After you have your recordings you can explore them following the same instructions described in &lt;code&gt;With ClojureStorm&lt;/code&gt; .&lt;/p&gt; &#xA;&lt;h2&gt;Tips&lt;/h2&gt; &#xA;&lt;h3&gt;Clear recordings&lt;/h3&gt; &#xA;&lt;p&gt;Same as when using the FlowStorm UI, it is convenient to clear the recordings frequently so you don&#39;t get confused with previous recordings. You can do this from emacs by M-x cider-storm-clear-recordings&lt;/p&gt; &#xA;&lt;h3&gt;Value inspection&lt;/h3&gt; &#xA;&lt;p&gt;By hitting &lt;code&gt;i&lt;/code&gt; Cider Storm will inspect the value using the Cider inspector. If you want to inspect values using other inspectors (like the FlowStorm one) you can hit &lt;code&gt;t&lt;/code&gt; to tap the value.&lt;/p&gt;</summary>
  </entry>
</feed>