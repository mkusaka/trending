<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Java Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2023-11-18T01:35:01Z</updated>
  <subtitle>Daily Trending of Java in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>onetable-io/onetable</title>
    <updated>2023-11-18T01:35:01Z</updated>
    <id>tag:github.com,2023-11-18:/onetable-io/onetable</id>
    <link href="https://github.com/onetable-io/onetable" rel="alternate"></link>
    <summary type="html">&lt;p&gt;OneTable is an omni-directional converter for table formats that facilitates interoperability across data processing systems and query engines.&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;OneTable&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://dev.azure.com/onetable-io/onetable-io/_build/latest?definitionId=1&amp;amp;branchName=main&#34;&gt;&lt;img src=&#34;https://dev.azure.com/onetable-io/onetable-io/_apis/build/status%2Fonetable-io.onetable?branchName=main&#34; alt=&#34;Build Status&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;OneTable is an omni-directional converter for table formats that facilitates interoperability across data processing systems and query engines. Currently, OneTable supports widely adopted open-source table formats such as Apache Hudi, Apache Iceberg, and Delta Lake.&lt;/p&gt; &#xA;&lt;p&gt;OneTable simplifies data lake operations by leveraging a common model for table representation. This allows users to write data in one format while still benefiting from integrations and features available in other formats. For instance, OneTable enables existing Hudi users to seamlessly work with Databricks&#39;s Photon Engine or query Iceberg tables with Snowflake. Creating transformations from one format to another is straightforward and only requires the implementation of a few interfaces, which we believe will facilitate the expansion of supported source and target formats in the future.&lt;/p&gt; &#xA;&lt;h1&gt;Building the project and running tests.&lt;/h1&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Use Java11 for building the project. If you are using some other java version, you can use &lt;a href=&#34;https://github.com/jenv/jenv&#34;&gt;jenv&lt;/a&gt; to use multiple java versions locally.&lt;/li&gt; &#xA; &lt;li&gt;Build the project using &lt;code&gt;mvn clean package&lt;/code&gt;. Use &lt;code&gt;mvn clean package -DskipTests&lt;/code&gt; to skip tests while building.&lt;/li&gt; &#xA; &lt;li&gt;Use &lt;code&gt;mvn clean test&lt;/code&gt; or &lt;code&gt;mvn test&lt;/code&gt; to run all unit tests. If you need to run only a specific test you can do this by something like &lt;code&gt;mvn test -Dtest=TestDeltaSync -pl core&lt;/code&gt;.&lt;/li&gt; &#xA; &lt;li&gt;Similarly, use &lt;code&gt;mvn clean verify&lt;/code&gt; or &lt;code&gt;mvn verify&lt;/code&gt; to run integration tests.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h1&gt;Style guide&lt;/h1&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;We use &lt;a href=&#34;https://github.com/diffplug/spotless/tree/main/plugin-maven&#34;&gt;Maven Spotless plugin&lt;/a&gt; and &lt;a href=&#34;https://github.com/google/google-java-format&#34;&gt;Google java format&lt;/a&gt; for code style.&lt;/li&gt; &#xA; &lt;li&gt;Use &lt;code&gt;mvn spotless:check&lt;/code&gt; to find out code style violations and &lt;code&gt;mvn spotless:apply&lt;/code&gt; to fix them. Code style check is tied to compile phase by default, so code style violations will lead to build failures.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h1&gt;Running the bundled jar&lt;/h1&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Get a pre-built bundled jar or create the jar with &lt;code&gt;mvn install -DskipTests&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;create a yaml file that follows the format below:&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;sourceFormat: HUDI&#xA;targetFormats:&#xA;  - DELTA&#xA;  - ICEBERG&#xA;datasets:&#xA;  -&#xA;    tableBasePath: s3://tpc-ds-datasets/1GB/hudi/call_center&#xA;    tableDataPath: s3://tpc-ds-datasets/1GB/hudi/call_center/data&#xA;    tableName: call_center&#xA;    namespace: my.db&#xA;  -&#xA;    tableBasePath: s3://tpc-ds-datasets/1GB/hudi/catalog_sales&#xA;    tableName: catalog_sales&#xA;    partitionSpec: cs_sold_date_sk:VALUE&#xA;  -&#xA;    tableBasePath: s3://hudi/multi-partition-dataset&#xA;    tableName: multi_partition_dataset&#xA;    partitionSpec: time_millis:DAY:yyyy-MM-dd,type:VALUE&#xA;  -&#xA;    tableBasePath: abfs://container@storage.dfs.core.windows.net/multi-partition-dataset&#xA;    tableName: multi_partition_dataset&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;tableFormats&lt;/code&gt; is a list of formats you want to create from your source tables&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;tableBasePath&lt;/code&gt; is the basePath of the table&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;tableDataPath&lt;/code&gt; is an optional field specifying the path to the data files. If not specified, the tableBasePath will be used. For Iceberg source tables, you will need to specify the &lt;code&gt;/data&lt;/code&gt; path.&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;namespace&lt;/code&gt; is an optional field specifying the namespace of the table and will be used when syncing to a catalog.&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;partitionSpec&lt;/code&gt; is a spec that allows us to infer partition values. This is only required for Hudi source tables. If the table is not partitioned, leave it blank. If it is partitioned, you can specify a spec with a comma separated list with format &lt;code&gt;path:type:format&lt;/code&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;code&gt;path&lt;/code&gt; is a dot separated path to the partition field&lt;/li&gt; &#xA;   &lt;li&gt;&lt;code&gt;type&lt;/code&gt; describes how the partition value was generated from the column value &#xA;    &lt;ul&gt; &#xA;     &lt;li&gt;&lt;code&gt;VALUE&lt;/code&gt;: an identity transform of field value to partition value&lt;/li&gt; &#xA;     &lt;li&gt;&lt;code&gt;YEAR&lt;/code&gt;: data is partitioned by a field representing a date and year granularity is used&lt;/li&gt; &#xA;     &lt;li&gt;&lt;code&gt;MONTH&lt;/code&gt;: same as &lt;code&gt;YEAR&lt;/code&gt; but with month granularity&lt;/li&gt; &#xA;     &lt;li&gt;&lt;code&gt;DAY&lt;/code&gt;: same as &lt;code&gt;YEAR&lt;/code&gt; but with day granularity&lt;/li&gt; &#xA;     &lt;li&gt;&lt;code&gt;HOUR&lt;/code&gt;: same as &lt;code&gt;YEAR&lt;/code&gt; but with hour granularity&lt;/li&gt; &#xA;    &lt;/ul&gt; &lt;/li&gt; &#xA;   &lt;li&gt;&lt;code&gt;format&lt;/code&gt;: if your partition type is &lt;code&gt;YEAR&lt;/code&gt;, &lt;code&gt;MONTH&lt;/code&gt;, &lt;code&gt;DAY&lt;/code&gt;, or &lt;code&gt;HOUR&lt;/code&gt; specify the format for the date string as it appears in your file paths&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;ol start=&#34;3&#34;&gt; &#xA; &lt;li&gt;The default implementations of table format clients can be replaced with custom implementations by specifying a client configs yaml file in the format below:&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;# sourceClientProviderClass: The class name of a table format&#39;s client factory, where the client is&#xA;#     used for reading from a table of this format. All user configurations, including hadoop config&#xA;#     and client specific configuration, will be available to the factory for instantiation of the&#xA;#     client.&#xA;# targetClientProviderClass: The class name of a table format&#39;s client factory, where the client is&#xA;#     used for writing to a table of this format.&#xA;# configuration: A map of configuration values specific to this client.&#xA;tableFormatsClients:&#xA;    HUDI:&#xA;      sourceClientProviderClass: io.onetable.hudi.HudiSourceClientProvider&#xA;    DELTA:&#xA;      targetClientProviderClass: io.onetable.delta.DeltaClient&#xA;      configuration:&#xA;        spark.master: local[2]&#xA;        spark.app.name: onetableclient&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ol start=&#34;4&#34;&gt; &#xA; &lt;li&gt;A catalog can be used when reading and updating Iceberg tables. The catalog can be specified in a yaml file and passed in with the &lt;code&gt;--icebergCatalogConfig&lt;/code&gt; option. The format of the catalog config file is:&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;catalogImpl: io.my.CatalogImpl&#xA;catalogName: name&#xA;catalogOptions: # all other options are passed through in a map&#xA;  key1: value1&#xA;  key2: value2&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ol start=&#34;5&#34;&gt; &#xA; &lt;li&gt;run with &lt;code&gt;java -jar utilities/target/utilities-0.1.0-SNAPSHOT-bundled.jar --datasetConfig my_config.yaml [--hadoopConfig hdfs-site.xml] [--clientsConfig clients.yaml] [--icebergCatalogConfig catalog.yaml]&lt;/code&gt; The bundled jar includes hadoop dependencies for AWS, Azure, and GCP. Authentication for AWS is done with &lt;code&gt;com.amazonaws.auth.DefaultAWSCredentialsProviderChain&lt;/code&gt;. To override this setting, specify a different implementation with the &lt;code&gt;--awsCredentialsProvider&lt;/code&gt; option.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h1&gt;Contributing&lt;/h1&gt; &#xA;&lt;h2&gt;Setup&lt;/h2&gt; &#xA;&lt;p&gt;For setting up the repo on IntelliJ, open the project and change the java version to Java11 in File-&amp;gt;ProjectStructure &lt;img src=&#34;https://raw.githubusercontent.com/onetable-io/onetable/main/style/IDE.png&#34; alt=&#34;img.png&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;You have found a bug, or have a cool idea you that want to contribute to the project ? Please file a GitHub issue &lt;a href=&#34;https://github.com/onetable-io/onetable/issues&#34;&gt;here&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Adding a new target format&lt;/h2&gt; &#xA;&lt;p&gt;Adding a new target format requires a developer implement &lt;a href=&#34;https://raw.githubusercontent.com/onetable-io/onetable/main/api/src/main/java/io/onetable/spi/sync/TargetClient.java&#34;&gt;TargetClient&lt;/a&gt;. Once you have implemented that interface, you can integrate it into the &lt;a href=&#34;https://raw.githubusercontent.com/onetable-io/onetable/main/core/src/main/java/io/onetable/client/OneTableClient.java&#34;&gt;OneTableClient&lt;/a&gt;. If you think others may find that target useful, please raise a Pull Request to add it to the project.&lt;/p&gt; &#xA;&lt;h2&gt;Overview of the sync process&lt;/h2&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/onetable-io/onetable/main/assets/images/sync_flow.jpg&#34; alt=&#34;img.png&#34;&gt;&lt;/p&gt;</summary>
  </entry>
</feed>