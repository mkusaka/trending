<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Haskell Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2022-08-02T01:43:59Z</updated>
  <subtitle>Daily Trending of Haskell in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>kokobd/cabal-hoogle</title>
    <updated>2022-08-02T01:43:59Z</updated>
    <id>tag:github.com,2022-08-02:/kokobd/cabal-hoogle</id>
    <link href="https://github.com/kokobd/cabal-hoogle" rel="alternate"></link>
    <summary type="html">&lt;p&gt;&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;cabal-hoogle&lt;/h1&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://github.com/kokobd/cabal-hoogle/actions/workflows/test.yml/badge.svg?branch=main&#34; alt=&#34;GitHub Action Badge&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;Like &lt;code&gt;stack hoogle&lt;/code&gt;, but works for cabal projects. Generates hoogle database of your local packages and all dependencies.&lt;/p&gt; &#xA;&lt;img src=&#34;https://user-images.githubusercontent.com/16440269/180609310-643ff9a1-c1eb-479a-b9ca-0cf69d65a62a.gif&#34; width=&#34;600&#34;&gt; &#xA;&lt;h2&gt;Installation&lt;/h2&gt; &#xA;&lt;p&gt;Compiling from source requires a minimum GHC version of 8.10. Having &lt;code&gt;cabal-hoogle&lt;/code&gt; installed, you may use it on a wider range of GHC, as long as the &lt;code&gt;Cabal&lt;/code&gt; used to build &lt;code&gt;cabal-hoogle&lt;/code&gt; and &lt;code&gt;cabal-install&lt;/code&gt; match.&lt;/p&gt; &#xA;&lt;p&gt;Step 1, run &lt;code&gt;cabal update&lt;/code&gt; to make sure you are using the latest hackage index&lt;/p&gt; &#xA;&lt;p&gt;Step 2, check the &lt;code&gt;Cabal&lt;/code&gt; library version used by your cabal&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;cabal --version&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;It shows my cabal is using &lt;code&gt;3.6.3.0&lt;/code&gt; of Cabal library. &lt;strong&gt;&lt;code&gt;cabal-hoogle&lt;/code&gt; requires at least Cabal 3.2&lt;/strong&gt;. Update it before continue.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;cabal-install version 3.6.2.0&#xA;compiled using version 3.6.3.0 of the Cabal library &#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Step 3, use &lt;code&gt;cabal install&lt;/code&gt; to install &lt;code&gt;cabal-hoogle&lt;/code&gt; from Hackage, specifying the &lt;code&gt;Cabal&lt;/code&gt; library version you fetched above.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;cabal install --constraint=&#34;Cabal == 3.6.3.0&#34; cabal-hoogle&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Usage&lt;/h2&gt; &#xA;&lt;h3&gt;Prerequisite&lt;/h3&gt; &#xA;&lt;h4&gt;Install Hoogle&lt;/h4&gt; &#xA;&lt;p&gt;Make sure &lt;code&gt;hoogle&lt;/code&gt; is installed in your &lt;code&gt;$PATH&lt;/code&gt;. You can do this by running &lt;code&gt;cabal install hoogle&lt;/code&gt;&lt;/p&gt; &#xA;&lt;h4&gt;Enable Hoogle for Cabal&lt;/h4&gt; &#xA;&lt;p&gt;Make sure your &lt;code&gt;~/.cabal/config&lt;/code&gt; has the following entries. (DON&#39;T remove existing entries!) &lt;a href=&#34;https://cabal.readthedocs.io/en/3.6/installing-packages.html&#34;&gt;Check the official docs&lt;/a&gt; if you don&#39;t know where is your cabal&#39;s global configuration file&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;documentation: True&#xA;haddock&#xA;  hoogle: True&#xA;  html: True&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Or, run this command in bash:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;cabal user-config update -a &#34;documentation: True&#xA;haddock&#xA;  hoogle: True&#xA;  html: True&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Build Project with Cabal&lt;/h4&gt; &#xA;&lt;p&gt;Then, run &lt;code&gt;cabal build all&lt;/code&gt; on your project, so that cabal will build haddock and hoogle files for your local packages and dependencies.&lt;/p&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;NOTE: Adding &lt;code&gt;--enable-documentation --haddock-hoogle --haddock-html&lt;/code&gt; to your build command won&#39;t work for dependencies as I tried.&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;h3&gt;Generate&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code&gt;cabal-hoogle generate&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;This generates the hoogle database. You will see logs very similar to &lt;code&gt;stack hoogle --rebuild&lt;/code&gt;&lt;/p&gt; &#xA;&lt;h3&gt;Run Hoogle&lt;/h3&gt; &#xA;&lt;p&gt;With &lt;code&gt;cabal-hoogle run --&lt;/code&gt;, extra arguments are passed directly to &lt;code&gt;hoogle&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;You may start a server like this:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;cabal-hoogle run -- server --local --port 9000&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Or directly search in command line like this:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;cabal-hoogle run -- search catMaybes&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;More Options&lt;/h3&gt; &#xA;&lt;p&gt;Run &lt;code&gt;cabal-hoogle --help&lt;/code&gt; to see more options. For example if you are using a non-default build dir (not &lt;code&gt;dist-newstyle&lt;/code&gt;), or you have multiple GHC verisons on the same project.&lt;/p&gt; &#xA;&lt;p&gt;Below is a complex example:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;cabal-hoogle --compiler ghc-9.2.3 --platform &#34;x86_64-linux&#34; --builddir mydist generate&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;FAQ&lt;/h2&gt; &#xA;&lt;h3&gt;Many packages missing documentation&lt;/h3&gt; &#xA;&lt;p&gt;If you see output like this when running &lt;code&gt;cabal-hoogle generate&lt;/code&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;Packages missing documentation: ansi-terminal ansi-wl-pprint async base-orphans base16-bytestring base64-bytestring Cabal cabal-hoogle clock colour extra hashable haskell-src-exts haskell-src-meta optparse-applicative primitive regex-base regex-tdfa safe split string-interpolate syb text-conversions th-abstraction th-compat th-expand-syns th-lift th-lift-instances th-orphans th-reify-many transformers-compat typed-process unliftio-core utf8-string vector vector-stream&#xA;Found 27 warnings when processing items&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Probably you haven&#39;t built dependencies with hoogle enabled. Check &lt;a href=&#34;https://raw.githubusercontent.com/kokobd/cabal-hoogle/main/#prerequisite&#34;&gt;prerequisites&lt;/a&gt; more carefully.&lt;/p&gt; &#xA;&lt;h3&gt;Cabal version mismatch&lt;/h3&gt; &#xA;&lt;p&gt;Make sure to build &lt;code&gt;cabal-hoogle&lt;/code&gt; with the exact same &lt;code&gt;Cabal&lt;/code&gt; library as your &lt;code&gt;cabal-install&lt;/code&gt;. You can use &lt;code&gt;cabal --version&lt;/code&gt; to check the version of &lt;code&gt;Cabal&lt;/code&gt; library. See &lt;a href=&#34;https://raw.githubusercontent.com/kokobd/cabal-hoogle/main/#installation&#34;&gt;Installation&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h3&gt;Core libraries missing documentation&lt;/h3&gt; &#xA;&lt;p&gt;If you are on macOS or Windows, and using &lt;code&gt;ghcup&lt;/code&gt;, your &lt;code&gt;ghc&lt;/code&gt; probably doesn&#39;t come with docs. See &lt;a href=&#34;https://gitlab.haskell.org/ghc/ghc/-/issues/20903&#34;&gt;this&lt;/a&gt; and &lt;a href=&#34;https://github.com/haskell/haskell-language-server/issues/208#issuecomment-1162169087&#34;&gt;this&lt;/a&gt; for details of the upstream issue.&lt;/p&gt;</summary>
  </entry>
</feed>