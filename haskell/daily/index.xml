<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Haskell Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2023-01-17T01:37:35Z</updated>
  <subtitle>Daily Trending of Haskell in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>purescript/spago</title>
    <updated>2023-01-17T01:37:35Z</updated>
    <id>tag:github.com,2023-01-17:/purescript/spago</id>
    <link href="https://github.com/purescript/spago" rel="alternate"></link>
    <summary type="html">&lt;p&gt;üçù PureScript package manager and build tool powered by Dhall and package-sets&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;spago&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://www.npmjs.com/package/spago&#34;&gt;&lt;img src=&#34;https://img.shields.io/npm/v/spago.svg?sanitize=true&#34; alt=&#34;npm&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/purescript/spago/releases&#34;&gt;&lt;img src=&#34;https://img.shields.io/github/v/release/purescript/spago.svg?sanitize=true&#34; alt=&#34;Latest release&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/purescript/spago/actions/workflows/build.yml&#34;&gt;&lt;img src=&#34;https://github.com/purescript/spago/actions/workflows/build.yml/badge.svg?sanitize=true&#34; alt=&#34;build&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://ci.appveyor.com/project/f-f/spago/branch/master&#34;&gt;&lt;img src=&#34;https://ci.appveyor.com/api/projects/status/jydvr4sur6j6816e/branch/master?svg=true&#34; alt=&#34;Build status&#34;&gt;&lt;/a&gt; &lt;a href=&#34;http://github.com/f-f&#34;&gt;&lt;img src=&#34;https://img.shields.io/badge/maintainer-f%2d-f-teal.svg?sanitize=true&#34; alt=&#34;Maintainer: f-f&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;em&gt;(IPA: /Ààspa…°o/)&lt;/em&gt;&lt;/p&gt; &#xA;&lt;p&gt;PureScript package manager and build tool powered by &lt;a href=&#34;https://github.com/dhall-lang/dhall-lang&#34;&gt;Dhall&lt;/a&gt; and &lt;a href=&#34;https://github.com/purescript/package-sets&#34;&gt;package-sets&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;img src=&#34;https://raw.githubusercontent.com/spacchetti/logo/master/spacchetti-icon.png&#34; height=&#34;300px&#34; alt=&#34;spacchetti logo&#34;&gt; &#xA;&lt;h2&gt;Installation&lt;/h2&gt; &#xA;&lt;p&gt;The recommended installation method for Windows, Linux and macOS is &lt;code&gt;npm&lt;/code&gt; (see the latest releases on npm &lt;a href=&#34;https://www.npmjs.com/package/spago&#34;&gt;here&lt;/a&gt;):&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;npm install -g spago&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Other installation methods available:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Download the binary from the &lt;a href=&#34;https://github.com/purescript/spago/releases/latest&#34;&gt;latest GitHub release&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Compile from source by cloning this repo and running &lt;code&gt;make install&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;With Nix, using &lt;a href=&#34;https://github.com/justinwoo/easy-purescript-nix/raw/master/spago.nix&#34;&gt;easy-purescript-nix&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;On FreeBSD, install with &lt;code&gt;pkg install hs-spago&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;On macOS, install with &lt;code&gt;brew install spago&lt;/code&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;&lt;strong&gt;General notes:&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;The assumption is that you already installed the &lt;a href=&#34;https://github.com/purescript/purescript&#34;&gt;PureScript compiler&lt;/a&gt;. If not, get it with &lt;code&gt;npm install -g purescript&lt;/code&gt;, or the recommended method for your OS.&lt;/li&gt; &#xA; &lt;li&gt;You might have issues with &lt;code&gt;npm&lt;/code&gt; and Docker (e.g. getting the message &#34;Downloading the spago binary failed..&#34; etc) You have two options: &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;either &lt;strong&gt;do not run npm as root&lt;/strong&gt;, because it doesn&#39;t work well with binaries. Use it as a nonprivileged user.&lt;/li&gt; &#xA;   &lt;li&gt;or use &lt;code&gt;--unsafe-perm&lt;/code&gt;: &lt;code&gt;npm install -g --unsafe-perm spago&lt;/code&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Super quick tutorial&lt;/h2&gt; &#xA;&lt;p&gt;Let&#39;s set up a new project!&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;$ mkdir purescript-unicorns&#xA;$ cd purescript-unicorns&#xA;$ spago init&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;This last command will create a bunch of files:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;.&#xA;‚îú‚îÄ‚îÄ packages.dhall&#xA;‚îú‚îÄ‚îÄ spago.dhall&#xA;‚îú‚îÄ‚îÄ src&#xA;‚îÇ&amp;nbsp;&amp;nbsp; ‚îî‚îÄ‚îÄ Main.purs&#xA;‚îî‚îÄ‚îÄ test&#xA;    ‚îî‚îÄ‚îÄ Main.purs&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Let&#39;s take a look at the two &lt;a href=&#34;https://github.com/dhall-lang/dhall-lang&#34;&gt;Dhall&lt;/a&gt; configuration files that &lt;code&gt;spago&lt;/code&gt; requires:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;code&gt;packages.dhall&lt;/code&gt;: this file is meant to contain the &lt;em&gt;totality&lt;/em&gt; of the packages available to your project (that is, any package you might want to import).&lt;/p&gt; &lt;p&gt;In practice it pulls in the &lt;a href=&#34;https://github.com/purescript/package-sets&#34;&gt;official package-set&lt;/a&gt; as a base, and you are then able to add any package that might not be in the package set, or override existing ones.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;code&gt;spago.dhall&lt;/code&gt;: this is your project configuration. It includes the above package set, the list of your dependencies, the source paths that will be used to build, and any other project-wide setting that &lt;code&gt;spago&lt;/code&gt; will use.&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;To build your project, run:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;$ spago build&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;This will download the necessary dependencies and compile the sample project in the &lt;code&gt;output/&lt;/code&gt; directory. You can take a look at the content of &lt;code&gt;output/Main/index.js&lt;/code&gt; to see what kind of JavaScript has been generated from your new &lt;code&gt;Main.purs&lt;/code&gt; file.&lt;/p&gt; &#xA;&lt;p&gt;You can already see your project running, by doing&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;$ spago run&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;..which is basically equivalent to the following command:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;$ node -e &#34;import(&#39;./output/Main/index&#39;).then(m =&amp;gt; m.main())&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;..which imports the JS file you just looked at, and runs the &lt;code&gt;main&lt;/code&gt; with Node.&lt;/p&gt; &#xA;&lt;p&gt;You can also bundle the project in a single file with an entry point, so it can be run directly (useful for CLI apps):&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;$ spago bundle-app&#xA;$ node .&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;!-- START doctoc generated TOC please keep comment here to allow auto update --&gt; &#xA;&lt;!-- DON&#39;T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE --&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#design-goals-and-reasons&#34;&gt;Design goals and reasons&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#brief-survey-of-other-package-managers-and-build-tools-available&#34;&gt;Brief survey of other package managers and build tools available&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#developing-and-contributing&#34;&gt;Developing and contributing&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#how-do-i&#34;&gt;How do I...&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#switch-from-psc-package&#34;&gt;Switch from &lt;code&gt;psc-package&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#switch-from-bower&#34;&gt;Switch from &lt;code&gt;bower&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#see-what-commands-and-flags-are-supported&#34;&gt;See what commands and flags are supported&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#setup-a-new-project-using-a-specific-package-set&#34;&gt;Setup a new project using a specific package set&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#install-a-direct-dependency&#34;&gt;Install a direct dependency&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#download-my-dependencies-locally&#34;&gt;Download my dependencies locally&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#build-and-run-my-project&#34;&gt;Build and run my project&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#test-my-project&#34;&gt;Test my project&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#run-a-repl&#34;&gt;Run a repl&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#run-a-standalone-purescript-file-as-a-script&#34;&gt;Run a standalone PureScript file as a script&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#list-available-packages&#34;&gt;List available packages&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#install-all-the-packages-in-the-set&#34;&gt;Install all the packages in the set&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#override-a-package-in-the-package-set-with-a-local-one&#34;&gt;Override a package in the package set with a local one&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#override-a-package-in-the-package-set-with-a-remote-one&#34;&gt;Override a package in the package set with a remote one&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#add-a-package-to-the-package-set&#34;&gt;Add a package to the package set&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#bower-link&#34;&gt;&lt;code&gt;bower link&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#verify-that-an-additionoverride-doesnt-break-the-package-set&#34;&gt;Verify that an addition/override doesn&#39;t break the package set&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#upgrade-the-package-set&#34;&gt;Upgrade the package set...&lt;/a&gt; &#xA;    &lt;ul&gt; &#xA;     &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#to-the-latest-release-automatically&#34;&gt;...to the latest release automatically&lt;/a&gt;&lt;/li&gt; &#xA;     &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#to-a-specific-release-automatically&#34;&gt;...to a specific release automatically&lt;/a&gt;&lt;/li&gt; &#xA;     &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#to-a-specific-tag-manually&#34;&gt;...to a specific tag manually&lt;/a&gt;&lt;/li&gt; &#xA;    &lt;/ul&gt; &lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#monorepo&#34;&gt;Monorepo&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#devdependencies-testdependencies-or-in-general-a-situation-with-many-configurations&#34;&gt;&lt;code&gt;devDependencies&lt;/code&gt;, &lt;code&gt;testDependencies&lt;/code&gt;, or in general a situation with many configurations&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#bundle-a-project-into-a-single-js-file&#34;&gt;Bundle a project into a single JS file&lt;/a&gt; &#xA;    &lt;ul&gt; &#xA;     &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#1-spago-bundle-app&#34;&gt;1. &lt;code&gt;spago bundle-app&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA;     &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#2-spago-bundle-module&#34;&gt;2. &lt;code&gt;spago bundle-module&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA;     &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#skip-the-build-step&#34;&gt;Skip the &#34;build&#34; step&lt;/a&gt;&lt;/li&gt; &#xA;    &lt;/ul&gt; &lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#make-a-project-with-purescript--javascript&#34;&gt;Make a project with PureScript + JavaScript&lt;/a&gt; &#xA;    &lt;ul&gt; &#xA;     &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#get-started-from-scratch-with-parcel-frontend-projects&#34;&gt;Get started from scratch with Parcel (frontend projects)&lt;/a&gt;&lt;/li&gt; &#xA;     &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#get-started-from-scratch-with-webpack-frontend-projects&#34;&gt;Get started from scratch with Webpack (frontend projects)&lt;/a&gt;&lt;/li&gt; &#xA;     &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#get-started-from-scratch-with-nodemon-backend-andor-cli-projects&#34;&gt;Get started from scratch with Nodemon (backend and/or CLI projects)&lt;/a&gt;&lt;/li&gt; &#xA;    &lt;/ul&gt; &lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#generate-documentation-for-my-project&#34;&gt;Generate documentation for my project&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#get-source-maps-for-my-project&#34;&gt;Get source maps for my project&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#use-alternate-backends-to-compile-to-go-c-kotlin-etc&#34;&gt;Use alternate backends to compile to Go, C++, Kotlin, etc&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#publish-my-library&#34;&gt;Publish my library&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#get-all-the-licenses-of-my-dependencies&#34;&gt;Get all the licenses of my dependencies&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#know-which-purs-commands-are-run-under-the-hood&#34;&gt;Know which &lt;code&gt;purs&lt;/code&gt; commands are run under the hood&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#install-autocompletions-for-bash&#34;&gt;Install autocompletions for &lt;code&gt;bash&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#install-autocompletions-for-zsh&#34;&gt;Install autocompletions for &lt;code&gt;zsh&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#ignore-or-update-the-global-cache&#34;&gt;Ignore or update the global cache&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#know-the-output-path-for-my-compiled-code&#34;&gt;Know the output path for my compiled code&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#explanations&#34;&gt;Explanations&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#visual-overview-what-happens-when-you-do-spago-build&#34;&gt;Visual Overview: What happens when you do &#39;spago build&#39;?&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#configuration-file-format&#34;&gt;Configuration file format&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#why-cant-spago-also-install-my-npm-dependencies&#34;&gt;Why can&#39;t &lt;code&gt;spago&lt;/code&gt; also install my npm dependencies?&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#why-we-dont-resolve-js-dependencies-when-bundling-and-how-to-do-it&#34;&gt;Why we don&#39;t resolve JS dependencies when bundling, and how to do it&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#how-does-the-global-cache-work&#34;&gt;How does the &#34;global cache&#34; work?&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#troubleshooting&#34;&gt;Troubleshooting&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#spago-is-failing-with-some-errors-about-too-many-open-files&#34;&gt;Spago is failing with some errors about &#34;too many open files&#34;&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#package-set-caching-problems&#34;&gt;Package set caching problems&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#i-added-a-new-package-to-the-packagesdhall-but-spago-is-not-installing-it-why&#34;&gt;I added a new package to the &lt;code&gt;packages.dhall&lt;/code&gt;, but &lt;code&gt;spago&lt;/code&gt; is not installing it. Why?&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;!-- END doctoc generated TOC please keep comment here to allow auto update --&gt; &#xA;&lt;h2&gt;Design goals and reasons&lt;/h2&gt; &#xA;&lt;p&gt;Our main design goals are:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;strong&gt;Great UX&lt;/strong&gt;: you&#39;re not supposed to spend your life configuring the build for your project. A good build system just does what&#39;s most expected and gets out of the way so you can focus on actually writing the software.&lt;/li&gt; &#xA; &lt;li&gt;&lt;strong&gt;Minimal dependencies&lt;/strong&gt;: users should not be expected to install a myriad of tools on their system to support various workflows. We depend only on &lt;code&gt;git&lt;/code&gt; and &lt;code&gt;purs&lt;/code&gt; being installed.&lt;/li&gt; &#xA; &lt;li&gt;&lt;strong&gt;Reproducible builds&lt;/strong&gt;: thanks to &lt;a href=&#34;https://github.com/purescript/package-sets&#34;&gt;package sets&lt;/a&gt; and &lt;a href=&#34;https://github.com/dhall-lang/dhall-lang&#34;&gt;Dhall&lt;/a&gt;, if your project builds today it will also build tomorrow and every day after that.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Some tools that inspired &lt;code&gt;spago&lt;/code&gt; are: &lt;a href=&#34;https://github.com/rust-lang/cargo&#34;&gt;Rust&#39;s Cargo&lt;/a&gt;, &lt;a href=&#34;https://github.com/commercialhaskell/stack&#34;&gt;Haskell&#39;s Stack&lt;/a&gt;, &lt;a href=&#34;https://github.com/purescript/psc-package&#34;&gt;&lt;code&gt;psc-package&lt;/code&gt;&lt;/a&gt;, &lt;a href=&#34;https://github.com/purescript-contrib/pulp&#34;&gt;&lt;code&gt;pulp&lt;/code&gt;&lt;/a&gt; and &lt;a href=&#34;https://github.com/justinwoo/purp&#34;&gt;&lt;code&gt;purp&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h3&gt;Brief survey of other package managers and build tools available&lt;/h3&gt; &#xA;&lt;p&gt;&lt;code&gt;pulp&lt;/code&gt; is excellent, but it is only a build tool. This means that you&#39;ll have to use it with either &lt;code&gt;bower&lt;/code&gt; or &lt;code&gt;psc-package&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;If you go for &lt;code&gt;bower&lt;/code&gt;, you&#39;re missing out on package-sets (that is: packages versions that are known to be working together, saving you the headache of fitting package versions together all the time).&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;If you use &lt;code&gt;psc-package&lt;/code&gt;, you have the problem of not having the ability of overriding packages versions when needed, leading everyone to make their own package-set, which then goes unmaintained, etc.&lt;/p&gt; &lt;p&gt;Of course you can use the package-set-local-setup to solve this issue, but this is exactly what we&#39;re doing here: integrating all the workflow in a single tool, &lt;code&gt;spago&lt;/code&gt;, instead of having to install and use &lt;code&gt;pulp&lt;/code&gt;, &lt;code&gt;psc-package&lt;/code&gt;, &lt;code&gt;purp&lt;/code&gt;, etc.&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Developing and contributing&lt;/h2&gt; &#xA;&lt;p&gt;We&#39;d love your help, and welcome PRs and contributions!&lt;/p&gt; &#xA;&lt;p&gt;Some ideas for getting started:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/CONTRIBUTING.md#developing-spago&#34;&gt;Build and run &lt;code&gt;spago&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/purescript/spago/issues?utf8=%E2%9C%93&amp;amp;q=is%3Aissue+is%3Aopen+label%3A%22help+wanted%22+label%3A%22defect%22&#34;&gt;Help us fix bugs and build features&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Help us improve our documentation&lt;/li&gt; &#xA; &lt;li&gt;Help us &lt;a href=&#34;https://github.com/purescript/spago/issues/new&#34;&gt;log bugs and open issues&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;For more details see the &lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/CONTRIBUTING.md&#34;&gt;&lt;code&gt;CONTRIBUTING.md&lt;/code&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;How do I...&lt;/h2&gt; &#xA;&lt;p&gt;This section contains a collection of workflows you might want to use to get things done with &lt;code&gt;spago&lt;/code&gt;&lt;/p&gt; &#xA;&lt;h3&gt;Switch from &lt;code&gt;psc-package&lt;/code&gt;&lt;/h3&gt; &#xA;&lt;p&gt;Do you have an existing &lt;code&gt;psc-package&lt;/code&gt; project and want to switch to &lt;code&gt;spago&lt;/code&gt;?&lt;/p&gt; &#xA;&lt;p&gt;No problem! If you run &lt;code&gt;spago init&lt;/code&gt;, we&#39;ll port your existing &lt;code&gt;psc-package.json&lt;/code&gt; configuration into a new &lt;code&gt;spago.dhall&lt;/code&gt; üòé&lt;/p&gt; &#xA;&lt;p&gt;Note: &lt;code&gt;spago&lt;/code&gt; won&#39;t otherwise touch your &lt;code&gt;psc-package.json&lt;/code&gt; file, so you&#39;ll have to remove it yourself.&lt;/p&gt; &#xA;&lt;p&gt;You&#39;ll note that most of the &lt;code&gt;psc-package&lt;/code&gt; commands are the same in &lt;code&gt;spago&lt;/code&gt;, so porting your existing build is just a matter of search-and-replace most of the times.&lt;/p&gt; &#xA;&lt;h3&gt;Switch from &lt;code&gt;bower&lt;/code&gt;&lt;/h3&gt; &#xA;&lt;p&gt;Switching from &lt;code&gt;bower&lt;/code&gt; is about the same workflow: just run &lt;code&gt;spago init&lt;/code&gt; and we&#39;ll try to match the package versions in your &lt;code&gt;bower.json&lt;/code&gt; with the ones in the package set, porting the packages to your &lt;code&gt;spago.dhall&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Note: &lt;code&gt;spago&lt;/code&gt; won&#39;t otherwise touch your &lt;code&gt;bower.json&lt;/code&gt; file, so you&#39;ll have to remove it yourself.&lt;/p&gt; &#xA;&lt;p&gt;Some packages might not be found or have the wrong version, in which case you&#39;ll have to carefully:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;try to run &lt;code&gt;spago install some-package&lt;/code&gt; for packages in the set&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#add-a-package-to-the-package-set&#34;&gt;add the missing packages&lt;/a&gt; if not in the set&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;See what commands and flags are supported&lt;/h3&gt; &#xA;&lt;p&gt;For an overview of the available commands, run:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;$ spago --help&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;You will see several subcommands (e.g. &lt;code&gt;build&lt;/code&gt;, &lt;code&gt;test&lt;/code&gt;); you can ask for help about them by invoking the command with &lt;code&gt;--help&lt;/code&gt;, e.g.:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;$ spago build --help&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;This will give a detailed view of the command, and list any command-specific (vs global) flags.&lt;/p&gt; &#xA;&lt;h3&gt;Setup a new project using a specific package set&lt;/h3&gt; &#xA;&lt;p&gt;Since &lt;code&gt;spago init&lt;/code&gt; does not necessarily use the latest package set. Fortunately, you can specify which package set to use via the &lt;code&gt;--tag&lt;/code&gt; argument. See the &lt;a href=&#34;https://github.com/purescript/package-sets/releases&#34;&gt;&lt;code&gt;purescript/package-sets&lt;/code&gt; repo&#39;s releases&lt;/a&gt; for tags you can use:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;$ spago init --tag &#34;psc-0.13.8-20200822&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Install a direct dependency&lt;/h3&gt; &#xA;&lt;p&gt;You can add dependencies that are available in your package set by running:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;# E.g. installing Halogen&#xA;$ spago install halogen&#xA;&#xA;# This also supports multiple packages&#xA;$ spago install foreign simple-json&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Download my dependencies locally&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;$ spago install&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;This will download all the transitive dependencies of your project (i.e. the direct dependencies, i.e. the ones listed in the &lt;code&gt;dependencies&lt;/code&gt; key of &lt;code&gt;spago.dhall&lt;/code&gt;, plus all their dependencies, recursively) to the local &lt;code&gt;.spago&lt;/code&gt; folder (and the global cache, if possible).&lt;/p&gt; &#xA;&lt;p&gt;However, running this directly is usually &lt;strong&gt;not necessary&lt;/strong&gt;, as all commands that need the dependencies to be installed will run this for you.&lt;/p&gt; &#xA;&lt;h3&gt;Build and run my project&lt;/h3&gt; &#xA;&lt;p&gt;We can build the project and its dependencies by running:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;$ spago build&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;This is mostly just a thin layer above the PureScript compiler command &lt;code&gt;purs compile&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;em&gt;Note&lt;/em&gt;: by default the &lt;code&gt;build&lt;/code&gt; command will try to install any dependencies that haven&#39;t been fetched yet - if you wish to disable this behaviour, you can pass the &lt;code&gt;--no-install&lt;/code&gt; flag.&lt;/p&gt; &#xA;&lt;p&gt;The build will produce very many JavaScript files in the &lt;code&gt;output/&lt;/code&gt; folder. These are CommonJS modules, and you can just &lt;code&gt;require()&lt;/code&gt; them e.g. on Node.&lt;/p&gt; &#xA;&lt;p&gt;It&#39;s also possible to include custom source paths when building (the ones declared in your &lt;code&gt;sources&lt;/code&gt; config are always included):&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;$ spago build --path &#39;another_source/**/*.purs&#39;&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: the wrapper on the compiler is so thin that you can pass options to &lt;code&gt;purs&lt;/code&gt;. E.g. if you wish to output your files in some other place than &lt;code&gt;output/&lt;/code&gt;, you can run&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;$ spago build --purs-args &#34;-o myOutput/&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If you wish to automatically have your project rebuilt when making changes to source files you can use the &lt;code&gt;--watch&lt;/code&gt; flag:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;$ spago build --watch&#xA;&#xA;# or, to clear the screen on rebuild:&#xA;$ spago build --watch --clear-screen&#xA;&#xA;# files ignored through git (i.e. via .gitignore) don&#39;t trigger&#xA;# rebuild by default. If you wish to override this behavior:&#xA;$ spago build --watch --allow-ignored&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To run a command before a build you can use the &lt;code&gt;--before&lt;/code&gt; flag, eg to post a notification that a build has started:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;$ spago build --watch --before &#34;notify-send &#39;Building&#39;&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To run a command after the build, use &lt;code&gt;--then&lt;/code&gt; for successful builds, or &lt;code&gt;--else&lt;/code&gt; for unsuccessful builds:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;$ spago build --watch --then &#34;notify-send &#39;Built successfully&#39;&#34; --else &#34;notify-send &#39;Build failed&#39;&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Multiple commands are possible - they will be run in the order specified:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;$ spago build --watch --before clear --before &#34;notify-send &#39;Building&#39;&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If you want to run the program (akin to &lt;code&gt;pulp run&lt;/code&gt;), just use &lt;code&gt;run&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;# The main module defaults to &#34;Main&#34;&#xA;$ spago run&#xA;&#xA;# Or define your own module path to Main&#xA;$ spago run --main ModulePath.To.Main&#xA;&#xA;# And pass arguments through to `purs compile`&#xA;$ spago run --main ModulePath.To.Main --purs-args &#34;--verbose-errors&#34;&#xA;&#xA;# Or pass arguments to the backend, in this case node&#xA;$ spago run --exec-args &#34;arg1 arg2&#34;&#xA;&#xA;# For versions 18 and below, use `node-args` instead:&#xA;$ spago run --node-args &#34;arg1 arg2&#34;&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Test my project&lt;/h3&gt; &#xA;&lt;p&gt;You can also test your project with &lt;code&gt;spago&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;# Test.Main is the default here, but you can override it as usual&#xA;$ spago test --main Test.Main&#xA;Build succeeded.&#xA;You should add some tests.&#xA;Tests succeeded.&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Run a repl&lt;/h3&gt; &#xA;&lt;p&gt;You can start a repl with the following command:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;$ spago repl&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Run a standalone PureScript file as a script&lt;/h3&gt; &#xA;&lt;p&gt;You can run a standalone PureScript file as a script via &lt;code&gt;spago script&lt;/code&gt;. Note: The module name must be &lt;code&gt;Main&lt;/code&gt;, and it must export a function &lt;code&gt;main :: Effect Unit&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;By default, the following dependencies are installed: &lt;code&gt;effect&lt;/code&gt;, &lt;code&gt;console&lt;/code&gt;, &lt;code&gt;prelude&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;You can run a script via the following, optionally specifying a package set to use, and additional dependencies to pull from there:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;$ spago script --tag psc-13.8 -d node-fs path/to/script.purs&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;List available packages&lt;/h3&gt; &#xA;&lt;p&gt;It is sometimes useful to know which packages are contained in our package set (e.g. to see which version we&#39;re using, or to search for packages).&lt;/p&gt; &#xA;&lt;p&gt;You can get a complete list of the packages your &lt;code&gt;packages.dhall&lt;/code&gt; imports (together with their versions and URLs) by running:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;$ spago ls packages&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;By using the &lt;code&gt;ls deps&lt;/code&gt; command instead you can restrict the list to direct or transitive dependencies:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;# Direct dependencies, i.e. only the ones listed in spago.dhall&#xA;$ spago ls deps&#xA;&#xA;# Transitive dependencies, i.e. all the dependencies of your dependencies&#xA;$ spago ls deps --transitive&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Install all the packages in the set&lt;/h3&gt; &#xA;&lt;p&gt;There might be cases where you&#39;d like your project to depend on all the packages that are contained in the package set (this is sometimes called &lt;a href=&#34;https://hackage.haskell.org/package/acme-everything&#34;&gt;&#34;acme build&#34;&lt;/a&gt;).&lt;/p&gt; &#xA;&lt;p&gt;You can accomplish this in pure Dhall in your &lt;code&gt;spago.dhall&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;It might look something like this (example from &lt;a href=&#34;https://github.com/purescript/spago/issues/607#issuecomment-612512906&#34;&gt;here&lt;/a&gt;):&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-dhall&#34;&gt;let packages = ./packages.dhall&#xA;let Package = { dependencies : List Text, repo : Text, version : Text }&#xA;let PackageAssoc = { mapKey : Text, mapValue : Package }&#xA;let getPackageName = \(v : PackageAssoc) -&amp;gt; v.mapKey&#xA;let List/map = https://prelude.dhall-lang.org/List/map&#xA;in&#xA;  { name = &#34;acme&#34;&#xA;  , dependencies =&#xA;        List/map PackageAssoc Text getPackageName (toMap packages)&#xA;  , packages = packages&#xA;  , sources = [ &#34;src/**/*.purs&#34; ]&#xA;  }&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Override a package in the package set with a local one&lt;/h3&gt; &#xA;&lt;p&gt;Let&#39;s say I&#39;m a user of the &lt;code&gt;simple-json&lt;/code&gt; package. Now, let&#39;s say I stumble upon a bug in there, but thankfully I figure how to fix it. So I clone it locally and add my fix.&lt;/p&gt; &#xA;&lt;p&gt;Now if I want to test this version in my current project, how can I tell &lt;code&gt;spago&lt;/code&gt; to do it?&lt;/p&gt; &#xA;&lt;p&gt;We have a &lt;code&gt;overrides&lt;/code&gt; record in &lt;code&gt;packages.dhall&lt;/code&gt; just for that!&lt;/p&gt; &#xA;&lt;p&gt;In this case we override the package with its local copy, which must have a &lt;code&gt;spago.dhall&lt;/code&gt;. (it should be enough to do &lt;code&gt;spago init&lt;/code&gt; to have the Bower configuration imported)&lt;/p&gt; &#xA;&lt;p&gt;It might look like this:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-haskell&#34;&gt;let upstream = -- &amp;lt;package set URL here&amp;gt;&#xA;in  upstream&#xA;  with simple-json = ../purescript-simple-json/spago.dhall as Location&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Note that if we do &lt;code&gt;spago ls packages&lt;/code&gt;, we&#39;ll see that it is now included as a local package:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;$ spago ls packages&#xA;...&#xA;signal                v10.1.0   Remote &#34;https://github.com/bodil/purescript-signal.git&#34;&#xA;sijidou               v0.1.0    Remote &#34;https://github.com/justinwoo/purescript-sijidou.git&#34;&#xA;simple-json           local     Local &#34;./../purescript-simple-json&#34;&#xA;simple-json-generics  v0.1.0    Remote &#34;https://github.com/justinwoo/purescript-simple-json-generics.git&#34;&#xA;smolder               v11.0.1   Remote &#34;https://github.com/bodil/purescript-smolder.git&#34;&#xA;...&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;And since local packages are just included in the build, if we add it to the &lt;code&gt;dependencies&lt;/code&gt; in &lt;code&gt;spago.dhall&lt;/code&gt; and then do &lt;code&gt;spago install&lt;/code&gt;, it will not be downloaded.&lt;/p&gt; &#xA;&lt;h3&gt;Override a package in the package set with a remote one&lt;/h3&gt; &#xA;&lt;p&gt;Let&#39;s now say that we test that our fix from above works, and we are ready to Pull Request the fix.&lt;/p&gt; &#xA;&lt;p&gt;So we push our fork and open the PR, but while we wait for the fix to land on the next &lt;code&gt;package sets&lt;/code&gt; release, we still want to use the fix in our production build.&lt;/p&gt; &#xA;&lt;p&gt;In this case, we can just change the override to point to some commit of our fork, like this:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-haskell&#34;&gt;let upstream = -- &amp;lt;package set URL here&amp;gt;&#xA;in  upstream&#xA;  with simple-json.repo = &#34;https://github.com/my-user/purescript-simple-json.git&#34;&#xA;  with simple-json.version = &#34;701f3e44aafb1a6459281714858fadf2c4c2a977&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: you can use a &#34;branch&#34;, a &#34;tag&#34; or a &#34;commit hash&#34; as a &lt;code&gt;version&lt;/code&gt;. Generally it&#39;s recommended that you avoid using branches, because if you push new commits to a branch, &lt;code&gt;spago&lt;/code&gt; won&#39;t pick them up unless you delete the &lt;code&gt;.spago&lt;/code&gt; folder.&lt;/p&gt; &#xA;&lt;h3&gt;Add a package to the package set&lt;/h3&gt; &#xA;&lt;p&gt;If a package is not in the upstream package set, you can add it in a similar way, by changing the &lt;code&gt;additions&lt;/code&gt; record in the &lt;code&gt;packages.dhall&lt;/code&gt; file.&lt;/p&gt; &#xA;&lt;p&gt;E.g. if we want to add the &lt;code&gt;facebook&lt;/code&gt; package:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-haskell&#34;&gt;let upstream = -- &amp;lt;package set URL here&amp;gt;&#xA;in  upstream&#xA;  with facebook =&#xA;    { dependencies =&#xA;        [ &#34;console&#34;&#xA;        , &#34;aff&#34;&#xA;        , &#34;prelude&#34;&#xA;        , &#34;foreign&#34;&#xA;        , &#34;foreign-generic&#34;&#xA;        , &#34;errors&#34;&#xA;        , &#34;effect&#34;&#xA;        ]&#xA;    , repo =&#xA;        &#34;https://github.com/Unisay/purescript-facebook.git&#34;&#xA;    , version =&#xA;        &#34;v0.3.0&#34;  -- branch, tag, or commit hash&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;As you might expect, this works also in the case of adding local packages:&lt;/p&gt; &#xA;&lt;p&gt;Example:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-haskell&#34;&gt;let upstream = -- &amp;lt;package set URL here&amp;gt;&#xA;in  upstream&#xA;  with foobar = ../foobar/spago.dhall as Location&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;&lt;code&gt;bower link&lt;/code&gt;&lt;/h3&gt; &#xA;&lt;p&gt;See how to &lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#add-a-package-to-the-package-set&#34;&gt;add local packages&lt;/a&gt; or &lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#override-a-package-in-the-package-set-with-a-local-one&#34;&gt;override existing ones&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h3&gt;Verify that an addition/override doesn&#39;t break the package set&lt;/h3&gt; &#xA;&lt;p&gt;&#34;But wait&#34;, you might say, &#34;how do I know that my override doesn&#39;t break the package set?&#34;&lt;/p&gt; &#xA;&lt;p&gt;This is a fair question, and you can verify that your fix didn&#39;t break the rest of the package-set by running the &lt;code&gt;verify&lt;/code&gt; command.&lt;/p&gt; &#xA;&lt;p&gt;E.g. if you patched the &lt;code&gt;foreign&lt;/code&gt; package, and added it as a local package to your package-set, you can check that you didn&#39;t break its dependents (also called &#34;reverse dependencies&#34;) by running:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;$ spago verify foreign&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Once you check that the packages you added verify correctly, we would of course very much love if you could pull request it to the &lt;a href=&#34;https://github.com/purescript/package-sets&#34;&gt;Upstream package-set&lt;/a&gt; ‚ù§Ô∏è&lt;/p&gt; &#xA;&lt;p&gt;If you decide so, you can read up on how to do it &lt;a href=&#34;https://github.com/purescript/package-sets/raw/master/CONTRIBUTING.md&#34;&gt;here&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h3&gt;Upgrade the package set...&lt;/h3&gt; &#xA;&lt;p&gt;The version of the package-set you depend on is fixed in the &lt;code&gt;packages.dhall&lt;/code&gt; file (look for the &lt;code&gt;upstream&lt;/code&gt; var).&lt;/p&gt; &#xA;&lt;p&gt;You can upgrade to the latest version of the package-set with the &lt;code&gt;upgrade-set&lt;/code&gt; command. It will download the package set and write the new url and hashes in the &lt;code&gt;packages.dhall&lt;/code&gt; file for you.&lt;/p&gt; &#xA;&lt;p&gt;Spago can update the package set to the latest release or to a specific release automagically. If you wish to use a specific commit, you will have to manually edit one part of your &lt;code&gt;packages.dhall&lt;/code&gt; file. Each is covered below.&lt;/p&gt; &#xA;&lt;h4&gt;...to the latest release automatically&lt;/h4&gt; &#xA;&lt;p&gt;Running it would look something like this:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;$ spago upgrade-set&#xA;[info] Updating package-set tag to &#34;psc-0.13.8-20200822&#34;&#xA;Fetching the new one and generating hashes.. (this might take some time)&#xA;[info] Generating new hashes for the package set file so it will be cached.. (this might take some time)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;...to a specific release automatically&lt;/h4&gt; &#xA;&lt;p&gt;If the package set exists, running &lt;code&gt;upgrade-set&lt;/code&gt; would look something like this:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;$ spago upgrade-set --tag &#34;psc-0.13.8-20200822&#34;&#xA;[info] Updating package-set tag to &#34;psc-0.13.8-20200822&#34;&#xA;Fetching the new one and generating hashes.. (this might take some time)&#xA;[info] Generating new hashes for the package set file so it will be cached.. (this might take some time)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If the package set does not exist, your &lt;code&gt;packages.dhall&lt;/code&gt; file will not be touched and you will see a warning:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;spago upgrade-set --tag &#34;whoops-i-made-a-big-typo&#34;&#xA;[info] Updating package-set tag to &#34;whoops-i-made-a-big-typo&#34;&#xA;Fetching the new one and generating hashes.. (this might take some time)&#xA;[warn] Package-set tag &#34;whoops-i-made-a-big-typo&#34; in the repo &#34;purescript/package-sets&#34; does not exist.&#xA;Will ignore user-specified tag and continue using current tag: &#34;psc-0.13.4-20191025&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;...to a specific tag manually&lt;/h4&gt; &#xA;&lt;p&gt;If you wish to detach from tags for your package-set, you can of course point it to a specific commit. Just set your &lt;code&gt;upstream&lt;/code&gt; to look something like this:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-haskell&#34;&gt;let upstream =&#xA;      https://raw.githubusercontent.com/purescript/package-sets/bd72269fec59950404a380a46e293bde34b4618f/src/packages.dhall&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Monorepo&lt;/h3&gt; &#xA;&lt;p&gt;Spago aims to support &lt;a href=&#34;https://danluu.com/monorepo/&#34;&gt;&#34;monorepos&#34;&lt;/a&gt;, allowing you to split a blob of code into different &#34;compilation units&#34; that might have different dependencies, deliverables, etc.&lt;/p&gt; &#xA;&lt;p&gt;A typical monorepo setup in spago consists of:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;some &#34;libraries&#34; (i.e. packages that other packages will depend on), each having their own &lt;code&gt;spago.dhall&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;some &#34;apps&#34; (i.e. packages that no one depends on), each having their own &lt;code&gt;spago.dhall&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;a single &lt;code&gt;packages.dhall&lt;/code&gt; , that includes all the &#34;libraries&#34; as local packages, and that all &lt;code&gt;spago.dhall&lt;/code&gt; files refer to - this is so that all packages share the same package set.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;So for example if you have &lt;code&gt;lib1&lt;/code&gt;, &lt;code&gt;lib2&lt;/code&gt; and &lt;code&gt;app1&lt;/code&gt;, you might have the following file tree:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;.&#xA;‚îú‚îÄ‚îÄ app1&#xA;‚îÇ   ‚îú‚îÄ‚îÄ spago.dhall&#xA;‚îÇ   ‚îú‚îÄ‚îÄ src&#xA;‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Main.purs&#xA;‚îÇ   ‚îî‚îÄ‚îÄ test&#xA;‚îÇ       ‚îî‚îÄ‚îÄ Main.purs&#xA;‚îú‚îÄ‚îÄ lib1&#xA;‚îÇ   ‚îú‚îÄ‚îÄ spago.dhall&#xA;‚îÇ   ‚îî‚îÄ‚îÄ src&#xA;‚îÇ       ‚îî‚îÄ‚îÄ Main.purs&#xA;‚îú‚îÄ‚îÄ lib2&#xA;‚îÇ   ‚îú‚îÄ‚îÄ spago.dhall&#xA;‚îÇ   ‚îî‚îÄ‚îÄ src&#xA;‚îÇ       ‚îî‚îÄ‚îÄ Main.purs&#xA;‚îî‚îÄ‚îÄ packages.dhall&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Then:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;the top level &lt;code&gt;packages.dhall&lt;/code&gt; might look like this:&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-dhall&#34;&gt;let upstream = https://github.com/purescript/package-sets/releases/download/psc-0.13.4-20191025/packages.dhall sha256:f9eb600e5c2a439c3ac9543b1f36590696342baedab2d54ae0aa03c9447ce7d4&#xA;in upstream&#xA;  with lib1 = ./lib1/spago.dhall as Location&#xA;  with lib2 = ./lib2/spago.dhall as Location&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;lib1/spago.dhall&lt;/code&gt; might look something like this:&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-dhall&#34;&gt;{ name =&#xA;    &#34;lib1&#34;&#xA;, dependencies =&#xA;    [ &#34;effect&#34;&#xA;    , &#34;console&#34;&#xA;    , &#34;prelude&#34;&#xA;    ]&#xA;, sources =&#xA;    [ &#34;src/**/*.purs&#34; ]&#xA;, packages =&#xA;    ../packages.dhall   -- Note: this refers to the top-level packages file&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;assuming &lt;code&gt;lib2&lt;/code&gt; depends on &lt;code&gt;lib1&lt;/code&gt;, &lt;code&gt;lib2/spago.dhall&lt;/code&gt; might look something like this:&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-dhall&#34;&gt;{ name =&#xA;    &#34;lib2&#34;&#xA;, dependencies =&#xA;    [ &#34;effect&#34;&#xA;    , &#34;console&#34;&#xA;    , &#34;prelude&#34;&#xA;    , &#34;lib1&#34;            -- Note the dependency here&#xA;    ]&#xA;, sources =&#xA;    [ &#34;src/**/*.purs&#34; ]&#xA;, packages =&#xA;    ../packages.dhall&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;and then &lt;code&gt;app1/spago.dhall&lt;/code&gt; might look something like this:&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-hs&#34;&gt;{ name =&#xA;    &#34;app1&#34;&#xA;, dependencies =&#xA;    -- Note: the app does not include all the dependencies that the lib included&#xA;    [ &#34;prelude&#34;&#xA;    , &#34;simple-json&#34; -- Note: this dep was not used by the library, only the app uses it&#xA;    , &#34;lib2&#34;        -- Note: we add `lib2` as dependency&#xA;    ]&#xA;, packages =&#xA;    -- We also refer to the top-level packages file here, so deps stay in sync for all packages&#xA;    ../packages.dhall&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;&lt;code&gt;devDependencies&lt;/code&gt;, &lt;code&gt;testDependencies&lt;/code&gt;, or in general a situation with many configurations&lt;/h3&gt; &#xA;&lt;p&gt;You might have a simpler situation than a monorepo, where e.g. you just want to &#34;split&#34; dependencies.&lt;/p&gt; &#xA;&lt;p&gt;A common case is when you don&#39;t want to include your test dependencies in your app&#39;s dependencies.&lt;/p&gt; &#xA;&lt;p&gt;E.g. if you want to add &lt;code&gt;purescript-spec&lt;/code&gt; to your test dependencies you can have a &lt;code&gt;test.dhall&lt;/code&gt; that looks like this:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-dhall&#34;&gt;let conf = ./spago.dhall&#xA;&#xA;in conf // {&#xA;  sources = conf.sources # [ &#34;test/**/*.purs&#34; ],&#xA;  dependencies = conf.dependencies # [ &#34;spec&#34; ]&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;And then you can run tests like this:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;$ spago -x test.dhall test&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Bundle a project into a single JS file&lt;/h3&gt; &#xA;&lt;p&gt;For the cases when you wish to produce a single JS file from your PureScript project, there are basically two ways to do that:&lt;/p&gt; &#xA;&lt;h4&gt;1. &lt;code&gt;spago bundle-app&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;This will produce a single, executable, dead-code-eliminated file:&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;&amp;gt;= v0.15.0&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;Since v0.15.0 spago uses &lt;code&gt;esbuild&lt;/code&gt; as the underlying default bundler. See the &lt;a href=&#34;https://esbuild.github.io/getting-started/#install-esbuild&#34;&gt;&lt;code&gt;esbuild&lt;/code&gt; getting started&lt;/a&gt; for installation instructions.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;# You can specify the main module and the target file, or these defaults will be used. This will bundle for the browser by default.&#xA;$ spago bundle-app --main Main --to index.js&#xA;Bundle succeeded and output file to index.js&#xA;&#xA;# If you want to minify the build, use &#xA;$ spago bundle-app --main Main --to index.js --minify&#xA;&#xA;# Or if you want to bundle for node&#xA;$ spago bundle-app --main Main --to index.js --platform node&#xA;Bundle succeeded and output file to index.js&#xA;&#xA;&#xA;# We can then run it with node:&#xA;$ node .&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;code&gt;spago bundle-app&lt;/code&gt; uses the &lt;a href=&#34;https://esbuild.github.io/api/#format&#34;&gt;esbuild bundle format&lt;/a&gt; &lt;a href=&#34;https://esbuild.github.io/api/#format-iife&#34;&gt;IIFE&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;&amp;lt;= v0.14.0&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;# You can specify the main module and the target file, or these defaults will be used&#xA;$ spago bundle-app --main Main --to index.js&#xA;Bundle succeeded and output file to index.js&#xA;&#xA;# We can then run it with node:&#xA;$ node .&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;2. &lt;code&gt;spago bundle-module&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;If you wish to produce a single, dead-code-eliminated JS module that you can &lt;code&gt;import&lt;/code&gt; from JavaScript:&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;&amp;gt;= v0.15.0&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;# You can specify the main module and the target file, or these defaults will be used&#xA;$ spago bundle-module --main Main --to index.js&#xA;Bundling first...&#xA;Bundle succeeded and output file to index.js&#xA;Make module succeeded and output file to index.js&#xA;&#xA;$ node -e &#34;import(&#39;./index.js&#39;).then(m =&amp;gt; console.log(m.main))&#34;                              &#xA;[Function]&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;strong&gt;&amp;lt;= v0.14.0&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;# You can specify the main module and the target file, or these defaults will be used&#xA;$ spago bundle-module --main Main --to index.js&#xA;Bundling first...&#xA;Bundle succeeded and output file to index.js&#xA;Make module succeeded and output file to index.js&#xA;&#xA;$ node -e &#34;console.log(require(&#39;./index&#39;).main)&#34;&#xA;[Function]&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Skip the &#34;build&#34; step&lt;/h4&gt; &#xA;&lt;p&gt;When running &lt;code&gt;spago bundle-app&lt;/code&gt; and &lt;code&gt;spago bundle-module&lt;/code&gt;, Spago will first try to &lt;code&gt;build&lt;/code&gt; your project, since bundling requires the project to be compiled first.&lt;/p&gt; &#xA;&lt;p&gt;If you already compiled your project and want to skip this step you can pass the &lt;code&gt;--no-build&lt;/code&gt; flag.&lt;/p&gt; &#xA;&lt;h3&gt;Make a project with PureScript + JavaScript&lt;/h3&gt; &#xA;&lt;p&gt;Take a look at &lt;a href=&#34;https://github.com/f-f/purescript-react-basic-todomvc&#34;&gt;TodoMVC with react-basic + spago + parcel&lt;/a&gt; for a working example, or follow one of the next &#34;get started&#34; sections:&lt;/p&gt; &#xA;&lt;h4&gt;Get started from scratch with Parcel (frontend projects)&lt;/h4&gt; &#xA;&lt;p&gt;To start a project using Spago and Parcel together, here&#39;s the commands and file setup you&#39;ll need:&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Follow &lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#super-quick-tutorial&#34;&gt;Spago&#39;s &#34;Super quick tutorial&#34;&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Initialise a JavaScript/npm project with &lt;code&gt;npm init&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;Install Parcel as a development-time dependency &lt;code&gt;npm i parcel --save-dev&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;Add a JavaScript file which imports and calls the &lt;code&gt;main&lt;/code&gt; function from the output of &lt;code&gt;src/Main.purs&lt;/code&gt;. This can be placed in the root directory for your project. Traditionally this file is named &lt;code&gt;index.js&lt;/code&gt;. The &lt;code&gt;main&lt;/code&gt; function from &lt;code&gt;Main.purs&lt;/code&gt; can accept arguments, this is useful since Parcel will replace environment variables inside of JavaScript. It is recommended to read any environment variables in the JavaScript file and pass them as arguments to &lt;code&gt;main&lt;/code&gt;. Here is an example JavaScript file:&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;&lt;strong&gt;&amp;gt;= v0.15.0&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;import * as Main from &#39;./output/Main/index&#39;;&#xA;&#xA;function main () {&#xA;    /*&#xA;    Here we could add variables such as&#xA;&#xA;    var baseUrl = process.env.BASE_URL;&#xA;&#xA;    Parcel will replace `process.env.BASE_URL`&#xA;    with the string contents of the BASE_URL environment&#xA;    variable at bundle/build time.&#xA;    A .env file can also be used to override shell variables&#xA;    for more information, see https://en.parceljs.org/env.html&#xA;&#xA;    These variables can be supplied to the Main.main function.&#xA;    However, you will need to change the type to accept variables, by default it is an Effect.&#xA;    You will probably want to make it a function from String -&amp;gt; Effect ()&#xA;  */&#xA;&#xA;  Main.main();&#xA;}&#xA;&#xA;// HMR setup. For more info see: https://parceljs.org/hmr.html&#xA;if (module.hot) {&#xA;  module.hot.accept(function () {&#xA;    console.log(&#39;Reloaded, running main again&#39;);&#xA;    main();&#xA;  });&#xA;}&#xA;&#xA;console.log(&#39;Starting app&#39;);&#xA;&#xA;main();&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;strong&gt;&amp;lt;= v0.14.0&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;var Main = require(&#39;./output/Main&#39;);&#xA;&#xA;function main () {&#xA;    /*&#xA;    Here we could add variables such as&#xA;&#xA;    var baseUrl = process.env.BASE_URL;&#xA;&#xA;    Parcel will replace `process.env.BASE_URL`&#xA;    with the string contents of the BASE_URL environment&#xA;    variable at bundle/build time.&#xA;    A .env file can also be used to override shell variables&#xA;    for more information, see https://en.parceljs.org/env.html&#xA;&#xA;    These variables can be supplied to the Main.main function.&#xA;    However, you will need to change the type to accept variables, by default it is an Effect.&#xA;    You will probably want to make it a function from String -&amp;gt; Effect ()&#xA;  */&#xA;&#xA;  Main.main();&#xA;}&#xA;&#xA;// HMR setup. For more info see: https://parceljs.org/hmr.html&#xA;if (module.hot) {&#xA;  module.hot.accept(function () {&#xA;    console.log(&#39;Reloaded, running main again&#39;);&#xA;    main();&#xA;  });&#xA;}&#xA;&#xA;console.log(&#39;Starting app&#39;);&#xA;&#xA;main();&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ol start=&#34;5&#34;&gt; &#xA; &lt;li&gt;Add an HTML file which sources your JavaScript file. This can be named &lt;code&gt;index.html&lt;/code&gt; and placed in the root directory of your project. Here is an example HTML file:&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;!doctype html&amp;gt;&#xA;&amp;lt;html lang=&#34;en&#34; data-framework=&#34;purescript&#34;&amp;gt;&#xA;&amp;lt;head&amp;gt;&#xA;  &amp;lt;meta http-equiv=&#34;Content-Type&#34; content=&#34;text/html; charset=utf-8&#34;&amp;gt;&#xA;&amp;lt;/head&amp;gt;&#xA;&#xA;&amp;lt;body&amp;gt;&#xA;  &amp;lt;div id=&#34;app&#34;&amp;gt;&amp;lt;/div&amp;gt;&#xA;  &amp;lt;script src=&#34;./index.js&#34; type=&#34;module&#34;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&amp;lt;/body&amp;gt;&#xA;&amp;lt;/html&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ol start=&#34;6&#34;&gt; &#xA; &lt;li&gt;Add a development script to &lt;code&gt;package.json&lt;/code&gt; which will hot-reload the JavaScript generated by the compiler using Parcel. Here, we&#39;ll call this script &lt;code&gt;dev&lt;/code&gt;:&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;...&#xA;  &#34;scripts&#34;: {&#xA;    &#34;dev&#34;: &#34;parcel index.html&#34;,&#xA;  },&#xA;...&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;But in order for this script to pick up the changes we make to our PureScript files, we should have something that hot-recompiles our code.&lt;/p&gt; &#xA;&lt;p&gt;If you&#39;re using an editor integration then &lt;code&gt;purs ide&lt;/code&gt; will take care of this recompilation transparently as you save the files. If not, you can run &lt;code&gt;spago build --watch&lt;/code&gt; in another terminal to achieve the same result.&lt;/p&gt; &#xA;&lt;p&gt;NPM scripts allow project dependencies to be treated as if they are on your &lt;code&gt;$PATH&lt;/code&gt;. When you run it with &lt;code&gt;npm run dev&lt;/code&gt;, Parcel will tell you which port your application is being served on, by default this will be &lt;code&gt;localhost:1234&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;If you&#39;ve followed this guide you can navigate there in a browser and open the JavaScript console, you will see the output of both &lt;code&gt;index.js&lt;/code&gt; and the compiled &lt;code&gt;Main.purs&lt;/code&gt; file. When you modify any purescript file in &lt;code&gt;./src&lt;/code&gt;, you should see Spago and Parcel rebuild your application, and the browser should execute the new code. For some applications you may adjust the JavaScript function that handles hot modules to fully reload the page with &lt;code&gt;window.location.reload();&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;ol start=&#34;7&#34;&gt; &#xA; &lt;li&gt; &lt;p&gt;At this point we should be able to test our program by running &lt;code&gt;npm run dev&lt;/code&gt;. When you navigate a browser to &lt;code&gt;localhost:1234&lt;/code&gt;, you should see &#39;üçù&#39; as output in the JavaScript console if this was performed successfully!&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;When you are ready to build and deploy your application as static html/js/css, you may add a &lt;code&gt;build&lt;/code&gt; script to &lt;code&gt;package.json&lt;/code&gt; in order to produce a final bundle. This script is usually something like &lt;code&gt;spago build &amp;amp;&amp;amp; parcel build index.html&lt;/code&gt;.&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h4&gt;Get started from scratch with Webpack (frontend projects)&lt;/h4&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Follow &lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#super-quick-tutorial&#34;&gt;Spago&#39;s &#34;Super quick tutorial&#34;&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Initialise a JavaScript/npm project with &lt;code&gt;npm init&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;Add Webpack and purescript-psa as development-time dependencies: &lt;code&gt;npm install --save-dev webpack webpack-cli webpack-dev-server purescript-psa&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;strong&gt;&amp;gt;= v0.15.0&lt;/strong&gt;&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;Install the HTML plugin for WebPack &lt;code&gt;npm install --save-dev html-webpack-plugin&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;&amp;lt;= v0.14.0&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;Install the PureScript loader and HTML plugin for WebPack &lt;code&gt;npm install --save-dev purs-loader html-webpack-plugin&lt;/code&gt;. Note that you may require additional loaders for css/scss, image files, etc. Please refer to the &lt;a href=&#34;https://webpack.js.org/&#34;&gt;Webpack documentation&lt;/a&gt; for more information.&lt;/p&gt; &#xA;&lt;ol start=&#34;5&#34;&gt; &#xA; &lt;li&gt;Create an HTML file that will serve as the entry point for your application. Typically this is &lt;code&gt;index.html&lt;/code&gt;. In your HTML file, be sure to pull in the &lt;code&gt;bundle.js&lt;/code&gt; file, which will be Webpack&#39;s output. Here is an example HTML file:&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;!doctype html&amp;gt;&#xA;&amp;lt;html lang=&#34;en&#34; data-framework=&#34;purescript&#34;&amp;gt;&#xA;&amp;lt;head&amp;gt;&#xA;  &amp;lt;meta http-equiv=&#34;Content-Type&#34; content=&#34;text/html; charset=utf-8&#34;&amp;gt;&#xA;&amp;lt;/head&amp;gt;&#xA;&#xA;&amp;lt;body&amp;gt;&#xA;  &amp;lt;div id=&#34;app&#34;&amp;gt;&amp;lt;/div&amp;gt;&#xA;  &amp;lt;script src=&#34;./bundle.js&#34;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&amp;lt;/body&amp;gt;&#xA;&amp;lt;/html&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ol start=&#34;6&#34;&gt; &#xA; &lt;li&gt;Create a &lt;code&gt;webpack.config.js&lt;/code&gt; file in the root of your project. Here is an example webpack configuration:&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;&lt;strong&gt;&amp;gt;= v0.15.0&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;import path from &#39;path&#39;&#xA;import HtmlWebpackPlugin from &#39;html-webpack-plugin&#39;&#xA;import webpack from &#39;webpack&#39;&#xA;import { dirname } from &#39;path&#39;;&#xA;import { fileURLToPath } from &#39;url&#39;;&#xA;&#xA;const __dirname = dirname(fileURLToPath(import.meta.url));&#xA;const isWebpackDevServer = process.argv.some(a =&amp;gt; path.basename(a) === &#39;webpack-dev-server&#39;)&#xA;const isWatch = process.argv.some(a =&amp;gt; a === &#39;--watch&#39;)&#xA;&#xA;const plugins =&#xA;  isWebpackDevServer || !isWatch ? [] : [&#xA;    function () {&#xA;      this.plugin(&#39;done&#39;, function (stats) {&#xA;        process.stderr.write(stats.toString(&#39;errors-only&#39;))&#xA;      })&#xA;    }&#xA;  ]&#xA;&#xA;&#xA;export default {&#xA;  devtool: &#39;eval-source-map&#39;,&#xA;  mode: &#39;development&#39;,&#xA;  devServer: {&#xA;    port: 4008,&#xA;    static: {&#xA;      directory: path.resolve(__dirname,&#39;dist&#39;),&#xA;    },&#xA;  },&#xA;&#xA;  entry: &#39;./index.js&#39;,&#xA;&#xA;  output: {&#xA;    path: path.resolve(__dirname,&#39;dist&#39;),&#xA;    filename: &#39;bundle.js&#39;&#xA;  },&#xA;&#xA;  module: {&#xA;    rules: [&#xA;      {&#xA;        test: /\.(png|jpg|gif)$/i,&#xA;        use: [&#xA;          {&#xA;            loader: &#39;url-loader&#39;,&#xA;            options: {&#xA;              limit: 8192,&#xA;            },&#xA;          },&#xA;        ],&#xA;      },&#xA;    ]&#xA;  },&#xA;&#xA;  resolve: {&#xA;    modules: [&#39;node_modules&#39;],&#xA;    extensions: [&#39;.js&#39;]&#xA;  },&#xA;&#xA;  plugins: [&#xA;    new webpack.LoaderOptionsPlugin({&#xA;      debug: true&#xA;    }),&#xA;    new HtmlWebpackPlugin({&#xA;      title: &#39;purescript-webpack-example&#39;,&#xA;      template: &#39;index.html&#39;,&#xA;      inject: false  // See stackoverflow.com/a/38292765/3067181&#xA;    })&#xA;  ].concat(plugins)&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;strong&gt;&amp;lt;= v0.14.0&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;&#xA;&#39;use strict&#39;;&#xA;&#xA;const path = require(&#39;path&#39;);&#xA;const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;);&#xA;const webpack = require(&#39;webpack&#39;);&#xA;const isWebpackDevServer = process.argv.some(a =&amp;gt; path.basename(a) === &#39;webpack-dev-server&#39;);&#xA;const isWatch = process.argv.some(a =&amp;gt; a === &#39;--watch&#39;);&#xA;&#xA;const plugins =&#xA;  isWebpackDevServer || !isWatch ? [] : [&#xA;    function(){&#xA;      this.plugin(&#39;done&#39;, function(stats){&#xA;        process.stderr.write(stats.toString(&#39;errors-only&#39;));&#xA;      });&#xA;    }&#xA;  ]&#xA;;&#xA;&#xA;module.exports = {&#xA;  devtool: &#39;eval-source-map&#39;,&#xA;&#xA;  devServer: {&#xA;    contentBase: path.resolve(__dirname, &#39;dist&#39;),&#xA;    port: 4008,&#xA;    stats: &#39;errors-only&#39;&#xA;  },&#xA;&#xA;  entry: &#39;./src/index.js&#39;,&#xA;&#xA;  output: {&#xA;    path: path.resolve(__dirname, &#39;dist&#39;),&#xA;    filename: &#39;bundle.js&#39;&#xA;  },&#xA;&#xA;  module: {&#xA;    rules: [&#xA;      {&#xA;        test: /\.purs$/,&#xA;        use: [&#xA;          {&#xA;            loader: &#39;purs-loader&#39;,&#xA;            options: {&#xA;              src: [&#xA;                &#39;src/**/*.purs&#39;&#xA;              ],&#xA;              spago: true,&#xA;              watch: isWebpackDevServer || isWatch,&#xA;              pscIde: true&#xA;            }&#xA;          }&#xA;        ]&#xA;      },&#xA;      {&#xA;        test: /\.(png|jpg|gif)$/i,&#xA;        use: [&#xA;          {&#xA;            loader: &#39;url-loader&#39;,&#xA;            options: {&#xA;              limit: 8192,&#xA;            },&#xA;          },&#xA;        ],&#xA;      },&#xA;    ]&#xA;  },&#xA;&#xA;  resolve: {&#xA;    modules: [ &#39;node_modules&#39; ],&#xA;    extensions: [ &#39;.purs&#39;, &#39;.js&#39;]&#xA;  },&#xA;&#xA;  plugins: [&#xA;    new webpack.LoaderOptionsPlugin({&#xA;      debug: true&#xA;    }),&#xA;    new HtmlWebpackPlugin({&#xA;      title: &#39;purescript-webpack-example&#39;,&#xA;      template: &#39;index.html&#39;,&#xA;      inject: false  // See stackoverflow.com/a/38292765/3067181&#xA;    })&#xA;  ].concat(plugins)&#xA;};&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ol start=&#34;7&#34;&gt; &#xA; &lt;li&gt;Add a &lt;code&gt;src/index.js&lt;/code&gt;: this file will import and execute the PureScript &lt;code&gt;Main&lt;/code&gt; module, and serves as the entry point for the Webpack bundler.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;You can also use this file to refer to environment variables which can then be passed to PureScript code. Please refer to the Webpack documentation on environment variable replacement during bundling. Here is an example &lt;code&gt;index.js&lt;/code&gt; file:&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;&amp;gt;= v0.15.0&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;import { main } from &#39;../output/Main/index&#39;&#xA;&#xA;main()&#xA;console.log(&#39;app starting&#39;);&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;strong&gt;&amp;lt;= v0.14.0&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;&#xA;&#39;use strict&#39;;&#xA;&#xA;require(&#39;./Main.purs&#39;).main();&#xA;&#xA;if (module.hot) {&#xA;  module.hot.accept();&#xA;}&#xA;&#xA;console.log(&#39;app starting&#39;);&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Also, make sure you are calling &lt;code&gt;main&lt;/code&gt; properly if you are passing arguments (due to PureScript specifics of &lt;a href=&#34;https://stackoverflow.com/a/55750945/3067181&#34;&gt;modelling effectful computations&lt;/a&gt;):&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;&amp;gt;= v0.15.0&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;&#xA;var arg1 = &#39;arg1&#39;;&#xA;main(arg1)();&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;strong&gt;&amp;lt;= v0.14.0&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;&#xA;var arg1 = &#39;arg1&#39;;&#xA;require(&#39;./Main.purs&#39;).main(arg1)();&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ol start=&#34;8&#34;&gt; &#xA; &lt;li&gt;Add the following development script to &lt;code&gt;package.json&lt;/code&gt;:&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;&lt;strong&gt;&amp;gt;= v0.15.0&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;...&#xA;  &#34;scripts&#34;: {&#xA;    ...,&#xA;    &#34;webpack:server&#34;: &#34;spago build -w &amp;amp; webpack-dev-server --progress --hot&#34;&#xA;  },&#xA;...&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;strong&gt;&amp;lt;= v0.14.0&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;...&#xA;  &#34;scripts&#34;: {&#xA;    ...,&#xA;    &#34;webpack:server&#34;: &#34;webpack-dev-server --progress --hot&#34;&#xA;  },&#xA;...&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ol start=&#34;9&#34;&gt; &#xA; &lt;li&gt; &lt;p&gt;At this point we should be able to run our program by calling &lt;code&gt;npm run webpack:server&lt;/code&gt;. If you point your browser to &lt;code&gt;localhost:4008&lt;/code&gt; you should see &lt;code&gt;üçù&lt;/code&gt; in the JavaScript development console. This means everything went alright!&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;For production builds, it is recommended to have separate scripts to build and serve. Please refer to the &lt;a href=&#34;https://webpack.js.org/&#34;&gt;Webpack documentation&lt;/a&gt; for more information.&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h4&gt;Get started from scratch with Nodemon (backend and/or CLI projects)&lt;/h4&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Follow &lt;a href=&#34;https://raw.githubusercontent.com/purescript/spago/master/#super-quick-tutorial&#34;&gt;Spago&#39;s &#34;Super quick tutorial&#34;&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Initialise a JavaScript/npm project with &lt;code&gt;npm init&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;Add Nodemon as a development-time dependency: &lt;code&gt;npm install --save-dev nodemon&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;Add a JavaScript file which imports and calls the &lt;code&gt;main&lt;/code&gt; function from the output of &lt;code&gt;src/Main.purs&lt;/code&gt;.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;This can be placed in the root directory of your project, and traditionally this file is named &lt;code&gt;index.js&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;The &lt;code&gt;main&lt;/code&gt; function from &lt;code&gt;Main.purs&lt;/code&gt; can accept arguments, and this is useful since the Node runtime will replace environment variables inside of JavaScript. It is recommended to read any environment variables in the JavaScript file and pass them as arguments to &lt;code&gt;main&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;Here is an example JavaScript file:&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;&amp;gt;= v0.15.0&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;import * as Main from &#39;./output/Main&#39;;&#xA;&#xA;function main () {&#xA;    /*&#xA;    Here we could add variables such as&#xA;&#xA;    var baseUrl = process.env.BASE_URL;&#xA;&#xA;    Node will replace `process.env.BASE_URL`&#xA;    with the string contents of the BASE_URL environment&#xA;    variable at bundle/build time.&#xA;&#xA;    These variables can be supplied to the Main.main function,&#xA;    however, you will need to change the type to accept variables, by default it is an Effect.&#xA;    You will probably want to make it a function from String -&amp;gt; Effect ()&#xA;  */&#xA;&#xA;  Main.main();&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;strong&gt;&amp;lt;= v0.14.0&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;&#39;use strict&#39;&#xA;&#xA;var Main = require(&#39;./output/Main&#39;);&#xA;&#xA;function main () {&#xA;    /*&#xA;    Here we could add variables such as&#xA;&#xA;    var baseUrl = process.env.BASE_URL;&#xA;&#xA;    Node will replace `process.env.BASE_URL`&#xA;    with the string contents of the BASE_URL environment&#xA;    variable at bundle/build time.&#xA;&#xA;    These variables can be supplied to the Main.main function,&#xA;    however, you will need to change the type to accept variables, by default it is an Effect.&#xA;    You will probably want to make it a function from String -&amp;gt; Effect ()&#xA;  */&#xA;&#xA;  Main.main();&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ol start=&#34;5&#34;&gt; &#xA; &lt;li&gt;At this point we should be able to run our program by calling &lt;code&gt;spago build&lt;/code&gt; followed by &lt;code&gt;node index.js&lt;/code&gt;. If you see &lt;code&gt;üçù&lt;/code&gt; as output then this was successful!&lt;/li&gt; &#xA; &lt;li&gt;Now we want to enable Nodemon, which will watch for file changes in the dependency tree and reload our Node program every time there is a new change. We&#39;ll also tell Spago to watch our PureScript source files so that they are compiled, which in turn will trigger a Nodemon reload.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;To configure this, add the following script to your &lt;code&gt;package.json&lt;/code&gt; file:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;..&#xA;  &#34;scripts&#34;: {&#xA;    &#34;dev&#34;: &#34;spago build --watch &amp;amp; nodemon \&#34;node index.js\&#34;&#34;,&#xA;  },&#xA;...&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ol start=&#34;7&#34;&gt; &#xA; &lt;li&gt; &lt;p&gt;You can now run your development environment by calling &lt;code&gt;npm run dev&lt;/code&gt;&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;For a production build, add the following scripts to your &lt;code&gt;package.json&lt;/code&gt;:&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;...&#xA;  &#34;scripts&#34;: {&#xA;    &#34;build&#34;: &#34;spago build &amp;amp;&amp;amp; node index.js&#34;&#xA;  },&#xA;...&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ol start=&#34;9&#34;&gt; &#xA; &lt;li&gt;To run a production build, you can now run &lt;code&gt;npm run build&lt;/code&gt;!&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;For publishing CLI programs or NPM modules, please refer to the &lt;a href=&#34;https://docs.npmjs.com/cli/publish&#34;&gt;relevant npm documentation&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;Please note that if you are publishing a Node module for consumption by JavaScript users, it is recommended that you pre-compile your PureScript project before distributing it.&lt;/p&gt; &#xA;&lt;h3&gt;Generate documentation for my project&lt;/h3&gt; &#xA;&lt;p&gt;To build documentation for your project and its dependencies (i.e. a &#34;project-local &lt;a href=&#34;https://pursuit.purescript.org/&#34;&gt;Pursuit&lt;/a&gt;&#34;), you can use the &lt;code&gt;docs&lt;/code&gt; command:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;$ spago docs&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;This will generate all the documentation in the &lt;code&gt;./generated-docs&lt;/code&gt; folder of your project. You might then want to open the &lt;code&gt;index.html&lt;/code&gt; file in there.&lt;/p&gt; &#xA;&lt;p&gt;If you wish for the documentation to be opened in browser when generated, you can pass an &lt;code&gt;open&lt;/code&gt; flag:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;$ spago docs --open&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To build the documentation as Markdown instead of HTML, or to generate tags for your project, you can pass a &lt;code&gt;format&lt;/code&gt; flag:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;$ spago docs --format ctags&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Get source maps for my project&lt;/h3&gt; &#xA;&lt;p&gt;Quoting from &lt;a href=&#34;https://twitter.com/jusrin00/status/1092071407356387328&#34;&gt;this tweet&lt;/a&gt;:&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;build with &lt;code&gt;--purs-args &#34;-g sourcemaps&#34;&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;source output (like &lt;code&gt;var someModule = require(&#39;./output/Whatever/index.js&#39;);&lt;/code&gt;) and use something like &lt;code&gt;parcel&lt;/code&gt;, to avoid mangling/destroying the sourcemaps&lt;/li&gt; &#xA; &lt;li&gt;now you can see your breakpoints in action&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: In &amp;gt;= v0.15.0 this needs to be &lt;code&gt;import * as someModule from &#39;./output/Whatever/index.js&#39;&lt;/code&gt;&lt;/p&gt; &#xA;&lt;h3&gt;Use alternate backends to compile to Go, C++, Kotlin, etc&lt;/h3&gt; &#xA;&lt;p&gt;Spago supports compiling with alternate purescript backends like &lt;a href=&#34;https://github.com/andyarvanitis/purescript-native&#34;&gt;psgo&lt;/a&gt; or &lt;a href=&#34;https://github.com/csicar/pskt&#34;&gt;pskt&lt;/a&gt;. To use an alternate backend, add the &lt;code&gt;backend&lt;/code&gt; option to your &lt;code&gt;spago.dhall&lt;/code&gt; file:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-dhall&#34;&gt;{ name = &#34;aaa&#34;&#xA;, backend = &#34;psgo&#34;&#xA;...&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The value of the &lt;code&gt;backend&lt;/code&gt; entry should be the name of the backend executable.&lt;/p&gt; &#xA;&lt;h3&gt;Publish my library&lt;/h3&gt; &#xA;&lt;p&gt;If you wish to develop a library with &lt;code&gt;spago&lt;/code&gt; you can definitely do so, and use it to manage and build your project, until you need to &#34;publish&#34; your library, where you&#39;ll need to use &lt;code&gt;pulp&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;Before you start you need to have instaled pulp and bower, both of these can be installed using npm&lt;/p&gt; &#xA;&lt;p&gt;You also need to add some keys to your &lt;code&gt;spago.dhall&lt;/code&gt; file:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;The first one is &lt;code&gt;license&lt;/code&gt; it need to be a valid &lt;a href=&#34;https://spdx.org/licenses/&#34;&gt;SPDX license&lt;/a&gt;.&lt;/li&gt; &#xA; &lt;li&gt;You also need to add a &lt;code&gt;repository&lt;/code&gt; key that references the location of the project repository here is a example&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-dhall&#34;&gt;{ name = &#34;my-first-package&#34;&#xA;, dependencies =&#xA;  [ &#34;console&#34;, &#34;prelude&#34;, &#34;psci-support&#34; ]&#xA;, packages = ./packages.dhall&#xA;, sources = [ &#34;src/**/*.purs&#34;, &#34;test/**/*.purs&#34; ]&#xA;, license = &#34;MIT&#34;&#xA;, repository = &#34;https://github.com/me/purescript-my-first-project&#34;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;This will generate a correct &lt;code&gt;bower.json&lt;/code&gt; file which will be used by &lt;code&gt;pulp&lt;/code&gt; later.&lt;/p&gt; &#xA;&lt;p&gt;When you decide you want to publish your library for others to use, you should:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;run &lt;code&gt;spago bump-version --no-dry-run &amp;lt;BUMP&amp;gt;&lt;/code&gt;. This will generate a &lt;code&gt;bower.json&lt;/code&gt; in a new commit in Git that is tagged with the version.&lt;/li&gt; &#xA; &lt;li&gt;run &lt;code&gt;pulp login&lt;/code&gt;. This will ensure that you are logged in befor you try to publish a package&lt;/li&gt; &#xA; &lt;li&gt;run &lt;code&gt;pulp publish&lt;/code&gt;. This will ensure the package is registered in Bower, push the version tag to Git and upload documentation to Pursuit.&lt;/li&gt; &#xA; &lt;li&gt;create a PR to add your package to &lt;a href=&#34;https://github.com/purescript/registry/raw/master/new-packages.json&#34;&gt;https://github.com/purescript/registry/blob/master/new-packages.json&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;The PureScript ecosystem uses the Bower registry as a &#34;unique names registry&#34;. So in order to &#34;publish&#34; a package one needs to add it there, and eventually to &lt;a href=&#34;https://github.com/purescript/package-sets&#34;&gt;&lt;code&gt;package-sets&lt;/code&gt;&lt;/a&gt;. Consequentially, package-sets requires (full instructions &lt;a href=&#34;https://github.com/purescript/package-sets/raw/master/CONTRIBUTING.md&#34;&gt;here&lt;/a&gt;) that packages in it:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;are in the Bower registry&lt;/li&gt; &#xA; &lt;li&gt;use &lt;code&gt;spago bump-version&lt;/code&gt; or &lt;code&gt;pulp version&lt;/code&gt; (because this gives versions with &lt;code&gt;vX.Y.Z&lt;/code&gt;)&lt;/li&gt; &#xA; &lt;li&gt;use &lt;code&gt;pulp publish&lt;/code&gt; (so it&#39;s available on the Bower registry and on &lt;a href=&#34;https://pursuit.purescript.org/&#34;&gt;Pursuit&lt;/a&gt;)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;All of this will be automated in future versions, removing the need for Pulp.&lt;/p&gt; &#xA;&lt;p&gt;A library published in this way is &lt;a href=&#34;https://github.com/reactormonk/purescript-rave&#34;&gt;purescript-rave&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h3&gt;Get all the licenses of my dependencies&lt;/h3&gt; &#xA;&lt;p&gt;For compliance reasons, you might need to fetch all the &lt;code&gt;LICENSE&lt;/code&gt; files of your dependencies.&lt;/p&gt; &#xA;&lt;p&gt;To do this you can exploit the &lt;code&gt;ls deps&lt;/code&gt; command.&lt;/p&gt; &#xA;&lt;p&gt;E.g. if you want to print out all the &lt;code&gt;LICENSE&lt;/code&gt; files of your direct dependencies:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;#!/usr/bin/env bash&#xA;&#xA;# Note: the `awk` part is to cut out only the package name&#xA;for dep in $(spago ls deps | awk &#39;{print $1}&#39;)&#xA;do&#xA;  cat $(find &#34;.spago/${dep}&#34; -iname &#39;LICENSE&#39;)&#xA;done&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Know which &lt;code&gt;purs&lt;/code&gt; commands are run under the hood&lt;/h3&gt; &#xA;&lt;p&gt;The &lt;code&gt;-v&lt;/code&gt; flag will print out all the &lt;code&gt;purs&lt;/code&gt; commands that &lt;code&gt;spago&lt;/code&gt; invokes during its operations, plus a lot of diagnostic info, so you might want to use it to troubleshoot weird behaviours and/or crashes.&lt;/p&gt; &#xA;&lt;h3&gt;Install autocompletions for &lt;code&gt;bash&lt;/code&gt;&lt;/h3&gt; &#xA;&lt;p&gt;You can just add this to your &lt;code&gt;.bashrc&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;source &amp;lt;(spago --bash-completion-script `which spago`)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;or alternatively if you don&#39;t want to edit your &lt;code&gt;~/.bashrc&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;spago --bash-completion-script $(which spago) &amp;gt;&amp;gt; ~/.bash_completion&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Install autocompletions for &lt;code&gt;zsh&lt;/code&gt;&lt;/h3&gt; &#xA;&lt;p&gt;Autocompletions for &lt;code&gt;zsh&lt;/code&gt; need to be somewhere in the &lt;code&gt;fpath&lt;/code&gt; - you can see the folders included in your by running &lt;code&gt;echo $fpath&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;You can also make a new folder - e.g. &lt;code&gt;~/.my-completions&lt;/code&gt; - and add it to the &lt;code&gt;fpath&lt;/code&gt; by just adding this to your &lt;code&gt;~/.zshrc&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;fpath=(~/.my-completions $fpath)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Then you can obtain the completion definition for zsh and put it in a file called &lt;code&gt;_spago&lt;/code&gt; &lt;a href=&#34;https://github.com/zsh-users/zsh-completions/raw/master/zsh-completions-howto.org#telling-zsh-which-function-to-use-for-completing-a-command&#34;&gt;(yes it needs to be called like that)&lt;/a&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;spago --zsh-completion-script $(which spago) &amp;gt; ~/.my-completions/_spago&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Then, reload completions with:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;compinit&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;em&gt;Note&lt;/em&gt;: you might need to call this multiple times for it to work.&lt;/p&gt; &#xA;&lt;h3&gt;Ignore or update the global cache&lt;/h3&gt; &#xA;&lt;p&gt;There is a global cache that &lt;code&gt;spago&lt;/code&gt; uses to avoid re-downloading things - its location will be printed if you call e.g. &lt;code&gt;spago install -v&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;It&#39;s possible to change the behaviour of the global cache with the &lt;code&gt;--global-cache&lt;/code&gt; flag that is accepted by many commands. You can either:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;skip the cache with &lt;code&gt;--global-cache=skip&lt;/code&gt;: in this case the global cache will be ignored and the local project will re-download everything&lt;/li&gt; &#xA; &lt;li&gt;update the cache to the latest version with &lt;code&gt;--global-cache=update&lt;/code&gt;: this might be useful if you want to globally cache a tag or commit that is newer than 24h - the time &lt;code&gt;spago&lt;/code&gt; will wait before updating its metadata file about &#34;which things are globally cacheable&#34;.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Know the output path for my compiled code&lt;/h3&gt; &#xA;&lt;p&gt;As there are now various factors that can affect the output path of compiled code, run &lt;code&gt;spago path output&lt;/code&gt; along with any flags you would pass to &lt;code&gt;spago build&lt;/code&gt; (like &lt;code&gt;--purs-args&lt;/code&gt;) to return the output path Spago is using. This can be useful for sharing an output folder with &lt;code&gt;webpack&lt;/code&gt;, for instance.&lt;/p&gt; &#xA;&lt;h2&gt;Explanations&lt;/h2&gt; &#xA;&lt;h3&gt;Visual Overview: What happens when you do &#39;spago build&#39;?&lt;/h3&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/purescript/spago/master/diagrams/spago-flowchart.svg?sanitize=true&#34; alt=&#34;spago-flowchart.svg&#34;&gt;&lt;/p&gt; &#xA;&lt;h3&gt;Configuration file format&lt;/h3&gt; &#xA;&lt;p&gt;It&#39;s indeed useful to know what&#39;s the format (or more precisely, the &lt;a href=&#34;https://github.com/dhall-lang/dhall-lang&#34;&gt;Dhall&lt;/a&gt; type) of the files that &lt;code&gt;spago&lt;/code&gt; expects. Let&#39;s define them in Dhall:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-haskell&#34;&gt;-- The basic building block is a Package:&#xA;let Package =&#xA;  { dependencies : List Text  -- the list of dependencies of the Package&#xA;  , repo = Text               -- the address of the git repo the Package is at&#xA;  , version = Text            -- git tag, branch, or commit hash&#xA;  }&#xA;&#xA;-- The type of `packages.dhall` is a Record from a PackageName to a Package&#xA;-- We&#39;re kind of stretching Dhall syntax here when defining this, but let&#39;s&#xA;-- say that its type is something like this:&#xA;let PackageSet =&#xA;  { console : Package&#xA;  , effect : Package&#xA;  ...                  -- and so on, for all the packages in the package-set&#xA;  }&#xA;&#xA;-- The type of the `spago.dhall` configuration is then the following:&#xA;let Config =&#xA;  { name : Text                   -- the name of our project&#xA;  , dependencies : List Text      -- the list of dependencies of our app&#xA;  , backend : Maybe Text          -- Nothing by default, meaning use purs. If specified, spago will use the executable as the backend&#xA;  , sources : List Text           -- the list of globs for the paths to always include in the build&#xA;  , packages : PackageSet         -- this is the type we just defined above&#xA;  }&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Why can&#39;t &lt;code&gt;spago&lt;/code&gt; also install my npm dependencies?&lt;/h3&gt; &#xA;&lt;p&gt;A common scenario is that you&#39;d like to use things like &lt;code&gt;react-basic&lt;/code&gt;, or want to depend on JS libraries like ThreeJS. In any case, you end up depending on some NPM package.&lt;/p&gt; &#xA;&lt;p&gt;And it would be really nice if &lt;code&gt;spago&lt;/code&gt; would take care of installing all of these dependencies, so we don&#39;t have to worry about running npm besides it, right?&lt;/p&gt; &#xA;&lt;p&gt;While these scenarios are common, they are also really hard to support. In fact, it might be that a certain NPM package in your transitive dependencies would only support the browser, or only node. Should &lt;code&gt;spago&lt;/code&gt; warn about that? And if yes, where should we get all of this info?&lt;/p&gt; &#xA;&lt;p&gt;Another big problem is that the JS backend is not the only backend around. For example, PureScript has a &lt;a href=&#34;https://github.com/pure-c/purec&#34;&gt;C backend&lt;/a&gt; and an &lt;a href=&#34;https://github.com/purerl/purescript&#34;&gt;Erlang backend&lt;/a&gt; among the others.&lt;/p&gt; &#xA;&lt;p&gt;These backends are going to use different package managers for their native dependencies, and while it&#39;s feasible for &lt;code&gt;spago&lt;/code&gt; to support the backends themselves, also supporting all the possible native package managers (and doing things like building package-sets for their dependencies&#39; versions) is not a scalable approach (though we might do this in the future if there&#39;s enough demand).&lt;/p&gt; &#xA;&lt;p&gt;So this is the reason why if you or one of your dependencies need to depend on some &#34;native&#34; packages, you should run the appropriate package-manager for that (e.g. npm).&lt;/p&gt; &#xA;&lt;p&gt;For examples on how to do it, see next section.&lt;/p&gt; &#xA;&lt;h3&gt;Why we don&#39;t resolve JS dependencies when bundling, and how to do it&lt;/h3&gt; &#xA;&lt;p&gt;&lt;code&gt;spago&lt;/code&gt; only takes care of PureScript land. In particular, &lt;code&gt;bundle-module&lt;/code&gt; will do the most we can do on the PureScript side of things (dead code elimination), but will leave the &lt;code&gt;require&lt;/code&gt;s still in.&lt;/p&gt; &#xA;&lt;p&gt;To fill them in you should use the proper js tool of the day, at the time of writing &lt;a href=&#34;https://parceljs.org&#34;&gt;ParcelJS&lt;/a&gt; looks like a good option.&lt;/p&gt; &#xA;&lt;p&gt;If you wish to see an example of a project building with &lt;code&gt;spago&lt;/code&gt; + &lt;code&gt;parcel&lt;/code&gt;, a simple starting point is the &lt;a href=&#34;https://github.com/f-f/purescript-react-basic-todomvc&#34;&gt;TodoMVC app with &lt;code&gt;react-basic&lt;/code&gt;&lt;/a&gt;. You can see in its &lt;code&gt;package.json&lt;/code&gt; that a &#34;production build&#34; is just &lt;code&gt;spago build &amp;amp;&amp;amp; parcel build index.html&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;If you open its &lt;code&gt;index.js&lt;/code&gt; you&#39;ll see that it does a &lt;code&gt;require(&#39;./output/Todo.App&#39;)&lt;/code&gt;: the files in &lt;code&gt;output&lt;/code&gt; are generated by &lt;code&gt;spago build&lt;/code&gt;, and then the &lt;code&gt;parcel&lt;/code&gt; build resolves all the &lt;code&gt;require&lt;/code&gt;s and bundles all these js files in.&lt;/p&gt; &#xA;&lt;p&gt;Though this is not the only way to include the built js - for a slimmer build or for importing some PureScript component in another js build we might want to use the output of &lt;code&gt;bundle-module&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;For an example of this in a &#34;production setting&#34; you can take a look at &lt;a href=&#34;https://github.com/KSF-Media/affresco/tree/4b430b48059701a544dfb65b2ade07ef9f36328a&#34;&gt;affresco&lt;/a&gt;. It is a PureScript monorepo of React-based components and apps.&lt;/p&gt; &#xA;&lt;p&gt;The gist of it is that the PureScript apps in the repo are built with &lt;code&gt;spago build&lt;/code&gt; (look in the &lt;code&gt;package.json&lt;/code&gt; for it), but all the React components can be imported from JS apps as well, given that proper modules are built out of the PS sources.&lt;/p&gt; &#xA;&lt;p&gt;This is where &lt;code&gt;spago bundle-module&lt;/code&gt; is used: the &lt;code&gt;build-purs.rb&lt;/code&gt; builds a bundle out of every single React component in each component&#39;s folder - e.g. let&#39;s say we &lt;code&gt;bundle-module&lt;/code&gt; from the &lt;code&gt;ksf-login&lt;/code&gt; component and output it in the &lt;code&gt;index.js&lt;/code&gt; of the component&#39;s folder; we can then &lt;code&gt;yarn install&lt;/code&gt; the single component (note it contains a &lt;code&gt;package.json&lt;/code&gt;), and require it as a separate npm package with &lt;code&gt;require(&#39;@affresco/ksf-login&#39;)&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h3&gt;How does the &#34;global cache&#34; work?&lt;/h3&gt; &#xA;&lt;p&gt;Every time &lt;code&gt;spago&lt;/code&gt; will need to &#34;install dependencies&#34; it will:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;check if the package is local to the filesystem: if it is then it will skip it as we can just point to the files&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;check if the ref is already in the global cache. If it is, it will just copy it to the project-local cache&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;download &lt;a href=&#34;https://github.com/spacchetti/package-sets-metadata/raw/master/metadataV1.json&#34;&gt;a metadata file from the &lt;code&gt;package-sets-metadata&lt;/code&gt;&lt;/a&gt; repo if missing from the global cache or older than 24 hours.&lt;/p&gt; &lt;p&gt;This file contains the list of &lt;em&gt;tags&lt;/em&gt; and &lt;em&gt;commits&lt;/em&gt; for every package currently in the package set, updated hourly.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;check if the tag or commit of the package we need to download is in this cached index, and if it is then this means we can &#34;globally cache&#34; that version - this is because commit hashes are immutable, and tags are &#34;immutable enough&#34;&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;if a version is deemed to be &#34;globally cacheable&#34; then a tarball of that ref is downloaded from GitHub and copied to both the global and the local cache&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;otherwise, the repo is just cloned to the local cache&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Note: a question that might come up while reading the above might be &#34;why not just hit GitHub to check commits and tags for every repo while installing?&#34;&lt;/p&gt; &#xA;&lt;p&gt;The problem is that GitHub limits token-less API requests to 50 per hour, so any decently-sized installation will fail to get all the &#34;cacheable&#34; items, making the global cache kind of useless. So we are just caching all of that info for everyone here.&lt;/p&gt; &#xA;&lt;h2&gt;Troubleshooting&lt;/h2&gt; &#xA;&lt;h4&gt;Spago is failing with some errors about &#34;too many open files&#34;&lt;/h4&gt; &#xA;&lt;p&gt;This might happen because the limit of &#34;open files per process&#34; is too low in your OS - as &lt;code&gt;spago&lt;/code&gt; will try to fetch all dependencies in parallel, and this requires lots of file operations.&lt;/p&gt; &#xA;&lt;p&gt;You can limit the number of concurrent operations with the &lt;code&gt;-j&lt;/code&gt; flag, e.g.:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ spago -j 10 install&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To get a ballpark value for the &lt;code&gt;j&lt;/code&gt; flag you can take the result of the &lt;code&gt;ulimit -n&lt;/code&gt; command (which gives you the current limit), and divide it by four.&lt;/p&gt; &#xA;&lt;h4&gt;Package set caching problems&lt;/h4&gt; &#xA;&lt;p&gt;If you encounter any issues with the hashes for the package-set (e.g. the hash is not deemed correct by &lt;code&gt;spago&lt;/code&gt;), then you can have the hashes recomputed by running the &lt;code&gt;freeze&lt;/code&gt; command:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;$ spago freeze&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;However, this is a pretty rare situation and in principle it should not happen, and when it happens it might not be secure to run the above command.&lt;/p&gt; &#xA;&lt;p&gt;To understand all the implications of this I&#39;d invite you to read about &lt;a href=&#34;https://github.com/dhall-lang/dhall-lang/wiki/Safety-guarantees#code-injection&#34;&gt;the safety guarantees&lt;/a&gt; that Dhall offers.&lt;/p&gt; &#xA;&lt;h4&gt;I added a new package to the &lt;code&gt;packages.dhall&lt;/code&gt;, but &lt;code&gt;spago&lt;/code&gt; is not installing it. Why?&lt;/h4&gt; &#xA;&lt;p&gt;Adding a package to the package-set just includes it in the set of possible packages you can depend on. However, if you wish &lt;code&gt;spago&lt;/code&gt; to install it you should then add it to the &lt;code&gt;dependencies&lt;/code&gt; list in your &lt;code&gt;spago.dhall&lt;/code&gt;.&lt;/p&gt;</summary>
  </entry>
  <entry>
    <title>MercuryTechnologies/slack-web</title>
    <updated>2023-01-17T01:37:35Z</updated>
    <id>tag:github.com,2023-01-17:/MercuryTechnologies/slack-web</id>
    <link href="https://github.com/MercuryTechnologies/slack-web" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Haskell bindings for the Slack web API&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;Haskell bindings for the Slack web API&lt;/h1&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;Hackage: &lt;a href=&#34;https://hackage.haskell.org/package/slack-web&#34;&gt;https://hackage.haskell.org/package/slack-web&lt;/a&gt;&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Slack web API: &lt;a href=&#34;https://api.slack.com/web&#34;&gt;https://api.slack.com/web&lt;/a&gt;&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Example&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code&gt;&amp;gt; import qualified Web.Slack as Slack&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;pre&gt;&lt;code&gt;&amp;gt; import qualified Web.Slack.Api as Api&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;pre&gt;&lt;code&gt;&amp;gt; :set -XOverloadedStrings&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;pre&gt;&lt;code&gt;&amp;gt; slackConfig &amp;lt;- Slack.mkSlackConfig token&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;pre&gt;&lt;code&gt;&amp;gt; Slack.apiTest (Slack.slackConfigManager slackConfig) Api.mkTestReq&#xA;Right ...&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;pre&gt;&lt;code&gt;&amp;gt; Slack.apiTest (Slack.slackConfigManager slackConfig) Api.mkTestReq { Api.testReqFoo = Just &#34;bar&#34; }&#xA;Right ...&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Contributing&lt;/h2&gt; &#xA;&lt;p&gt;This repository provides a &lt;code&gt;flake.nix&lt;/code&gt; file which offers pre-commit hooks and haskell-language-server. We use &lt;code&gt;fourmolu&lt;/code&gt; for formatting, which is verified in CI.&lt;/p&gt; &#xA;&lt;p&gt;To use the flake, run &lt;code&gt;nix develop&lt;/code&gt;, which will get you &lt;code&gt;cabal&lt;/code&gt; and everything else you need to work on &lt;code&gt;slack-web&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;Pull requests are welcome!&lt;/p&gt; &#xA;&lt;h2&gt;License&lt;/h2&gt; &#xA;&lt;p&gt;Licensed under the MIT license. See &lt;a href=&#34;https://raw.githubusercontent.com/MercuryTechnologies/slack-web/master/LICENSE.md&#34;&gt;LICENSE.md&lt;/a&gt;.&lt;/p&gt;</summary>
  </entry>
</feed>