<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Haskell Monthly Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2024-10-01T01:48:57Z</updated>
  <subtitle>Monthly Trending of Haskell in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>simplex-chat/simplexmq</title>
    <updated>2024-10-01T01:48:57Z</updated>
    <id>tag:github.com,2024-10-01:/simplex-chat/simplexmq</id>
    <link href="https://github.com/simplex-chat/simplexmq" rel="alternate"></link>
    <summary type="html">&lt;p&gt;‚öôÔ∏è SimpleXMQ - A reference implementation of the SimpleX Messaging Protocol for simplex queues over public networks.&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;SimpleXMQ&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/simplex-chat/simplexmq/actions?query=workflow%3Abuild&#34;&gt;&lt;img src=&#34;https://github.com/simplex-chat/simplexmq/workflows/build/badge.svg?sanitize=true&#34; alt=&#34;GitHub build&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/simplex-chat/simplexmq/releases&#34;&gt;&lt;img src=&#34;https://img.shields.io/github/v/release/simplex-chat/simplexmq&#34; alt=&#34;GitHub release&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;üì¢ SimpleXMQ v1 is released - with many security, privacy and efficiency improvements, new functionality - see &lt;a href=&#34;https://github.com/simplex-chat/simplexmq/releases/tag/v1.0.0&#34;&gt;release notes&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Please note&lt;/strong&gt;: v1 is not backwards compatible, but it has the version negotiation built into all protocol layers for forwards compatibility of this version and backwards compatibility of the future versions, that will be backwards compatible for at least two versions back.&lt;/p&gt; &#xA;&lt;p&gt;If you have a server deployed please deploy a new server to a new host and retire the previous version once it is no longer used.&lt;/p&gt; &#xA;&lt;h2&gt;Message broker for unidirectional (simplex) queues&lt;/h2&gt; &#xA;&lt;p&gt;SimpleXMQ is a message broker for managing message queues and sending messages over public network. It consists of SMP server, SMP client library and SMP agent that implement &lt;a href=&#34;https://raw.githubusercontent.com/simplex-chat/simplexmq/stable/protocol/simplex-messaging.md&#34;&gt;SMP protocol&lt;/a&gt; for client-server communication and &lt;a href=&#34;https://raw.githubusercontent.com/simplex-chat/simplexmq/stable/protocol/agent-protocol.md&#34;&gt;SMP agent protocol&lt;/a&gt; to manage duplex connections via simplex queues on multiple SMP servers.&lt;/p&gt; &#xA;&lt;p&gt;SMP protocol is inspired by &lt;a href=&#34;https://redis.io/topics/protocol&#34;&gt;Redis serialization protocol&lt;/a&gt;, but it is much simpler - it currently has only 10 client commands and 8 server responses.&lt;/p&gt; &#xA;&lt;p&gt;SimpleXMQ is implemented in Haskell - it benefits from robust software transactional memory (STM) and concurrency primitives that Haskell provides.&lt;/p&gt; &#xA;&lt;h2&gt;SimpleXMQ roadmap&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;SimpleX service protocol and application template - to enable users building services and chat bots that work over SimpleX protocol stack. The first such service will be a notification service for a mobile app.&lt;/li&gt; &#xA; &lt;li&gt;SMP queue redundancy and rotation in SMP agent connections.&lt;/li&gt; &#xA; &lt;li&gt;SMP agents synchronization to share connections and messages between multiple agents (it would allow using multiple devices for &lt;a href=&#34;https://github.com/simplex-chat/simplex-chat&#34;&gt;simplex-chat&lt;/a&gt;).&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Components&lt;/h2&gt; &#xA;&lt;h3&gt;SMP server&lt;/h3&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://raw.githubusercontent.com/simplex-chat/simplexmq/stable/apps/smp-server/Main.hs&#34;&gt;SMP server&lt;/a&gt; can be run on any Linux distribution, including low power/low memory devices. OpenSSL library is required for initialization.&lt;/p&gt; &#xA;&lt;p&gt;To initialize the server use &lt;code&gt;smp-server init -n &amp;lt;fqdn&amp;gt;&lt;/code&gt; (or &lt;code&gt;smp-server init --ip &amp;lt;ip&amp;gt;&lt;/code&gt; for IP based address) command - it will generate keys and certificates for TLS transport. The fingerprint of offline certificate is used as part of the server address to protect client/server connection against man-in-the-middle attacks: &lt;code&gt;smp://&amp;lt;fingerprint&amp;gt;@&amp;lt;hostname&amp;gt;[:5223]&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;SMP server uses in-memory persistence with an optional append-only log of created queues that allows to re-start the server without losing the connections. This log is compacted on every server restart, permanently removing suspended and removed queues.&lt;/p&gt; &#xA;&lt;p&gt;To enable store log, initialize server using &lt;code&gt;smp-server -l&lt;/code&gt; command, or modify &lt;code&gt;smp-server.ini&lt;/code&gt; created during initialization (uncomment &lt;code&gt;enable: on&lt;/code&gt; option in the store log section). Use &lt;code&gt;smp-server --help&lt;/code&gt; for other usage tips.&lt;/p&gt; &#xA;&lt;p&gt;Starting from version 2.3.0, when store log is enabled, the server would also enable saving undelivered messages on exit and restoring them on start. This can be disabled via a separate setting &lt;code&gt;restore_messages&lt;/code&gt; in &lt;code&gt;smp-server.ini&lt;/code&gt; file. Saving messages would only work if the server is stopped with SIGINT signal (keyboard interrupt), if it is stopped with SIGTERM signal the messages would not be saved.&lt;/p&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;&lt;strong&gt;Please note:&lt;/strong&gt; On initialization SMP server creates a chain of two certificates: a self-signed CA certificate (&#34;offline&#34;) and a server certificate used for TLS handshake (&#34;online&#34;). &lt;strong&gt;You should store CA certificate private key securely and delete it from the server. If server TLS credential is compromised this key can be used to sign a new one, keeping the same server identity and established connections.&lt;/strong&gt; CA private key location by default is &lt;code&gt;/etc/opt/simplex/ca.key&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;p&gt;SMP server implements &lt;a href=&#34;https://raw.githubusercontent.com/simplex-chat/simplexmq/stable/protocol/simplex-messaging.md&#34;&gt;SMP protocol&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h4&gt;Running SMP server on MacOS&lt;/h4&gt; &#xA;&lt;p&gt;SMP server requires OpenSSL library for initialization. On MacOS OpenSSL library may be replaced with LibreSSL, which doesn&#39;t support required algorithms. Before initializing SMP server verify you have OpenSSL installed:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;openssl version&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If it says &#34;LibreSSL&#34;, please install original OpenSSL:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;brew update&#xA;brew install openssl&#xA;echo &#39;PATH=&#34;/opt/homebrew/opt/openssl@3/bin:$PATH&#34;&#39; &amp;gt;&amp;gt; ~/.zprofile # or follow whatever instructions brew suggests&#xA;. ~/.zprofile # or restart your terminal to start a new session&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Now &lt;code&gt;openssl version&lt;/code&gt; should be saying &#34;OpenSSL&#34;. You can now run &lt;code&gt;smp-server init&lt;/code&gt; to initialize your SMP server.&lt;/p&gt; &#xA;&lt;h3&gt;SMP client library&lt;/h3&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://raw.githubusercontent.com/simplex-chat/simplexmq/stable/src/Simplex/Messaging/Client.hs&#34;&gt;SMP client&lt;/a&gt; is a Haskell library to connect to SMP servers that allows to:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;execute commands with a functional API.&lt;/li&gt; &#xA; &lt;li&gt;receive messages and other notifications via STM queue.&lt;/li&gt; &#xA; &lt;li&gt;automatically send keep-alive commands.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;SMP agent&lt;/h3&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://raw.githubusercontent.com/simplex-chat/simplexmq/stable/src/Simplex/Messaging/Agent.hs&#34;&gt;SMP agent library&lt;/a&gt; can be used to run SMP agent as part of another application and to communicate with the agent via STM queues, without serializing and parsing commands and responses.&lt;/p&gt; &#xA;&lt;p&gt;Haskell type &lt;a href=&#34;https://raw.githubusercontent.com/simplex-chat/simplexmq/stable/src/Simplex/Messaging/Agent/Protocol.hs&#34;&gt;ACommand&lt;/a&gt; represents SMP agent protocol to communicate via STM queues.&lt;/p&gt; &#xA;&lt;p&gt;See &lt;a href=&#34;https://github.com/simplex-chat/simplex-chat&#34;&gt;simplex-chat&lt;/a&gt; terminal UI for the example of integrating SMP agent into another application.&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://raw.githubusercontent.com/simplex-chat/simplexmq/stable/apps/smp-agent/Main.hs&#34;&gt;SMP agent executable&lt;/a&gt; can be used to run a standalone SMP agent process that implements plaintext &lt;a href=&#34;https://raw.githubusercontent.com/simplex-chat/simplexmq/stable/protocol/agent-protocol.md&#34;&gt;SMP agent protocol&lt;/a&gt; via TCP port 5224, so it can be used via telnet. It can be deployed in private networks to share access to the connections between multiple applications and services.&lt;/p&gt; &#xA;&lt;h2&gt;Using SMP server and SMP agent&lt;/h2&gt; &#xA;&lt;p&gt;You can either run your own SMP server locally or deploy using &lt;a href=&#34;https://cloud.linode.com/stackscripts/748014&#34;&gt;Linode StackScript&lt;/a&gt;, or try local SMP agent with the deployed servers:&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;smp://u2dS9sG8nMNURyZwqASV4yROM28Er0luVTx5X1CsMrU=@smp4.simplex.im&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;smp://hpq7_4gGJiilmz5Rf-CswuU5kZGkm_zOIooSw6yALRg=@smp5.simplex.im&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;smp://PQUV2eL0t7OStZOoAsPEV2QYWt4-xilbakvGUGOItUo=@smp6.simplex.im&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;It&#39;s the easiest to try SMP agent via a prototype &lt;a href=&#34;https://github.com/simplex-chat/simplex-chat&#34;&gt;simplex-chat&lt;/a&gt; terminal UI.&lt;/p&gt; &#xA;&lt;h2&gt;Deploy SMP/XFTP servers on Linux&lt;/h2&gt; &#xA;&lt;p&gt;You can run your SMP/XFTP server as a Linux process, optionally using a service manager for booting and restarts.&lt;/p&gt; &#xA;&lt;p&gt;Notice that &lt;code&gt;smp-server&lt;/code&gt; and &lt;code&gt;xftp-server&lt;/code&gt; requires &lt;code&gt;openssl&lt;/code&gt; as run-time dependency (it is used to generate server certificates during initialization). Install it with your packet manager:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;# For Ubuntu&#xA;apt update &amp;amp;&amp;amp; apt install openssl&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Install binaries&lt;/h3&gt; &#xA;&lt;h4&gt;Using Docker&lt;/h4&gt; &#xA;&lt;p&gt;On Linux, you can deploy smp and xftp server using Docker. This will download image from &lt;a href=&#34;https://hub.docker.com/r/simplexchat&#34;&gt;Docker Hub&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt; &lt;p&gt;Create directories for persistent Docker configuration:&lt;/p&gt; &lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;mkdir -p $HOME/simplex/{xftp,smp}/{config,logs} &amp;amp;&amp;amp; mkdir -p $HOME/simplex/xftp/files&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Run your Docker container.&lt;/p&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt; &lt;p&gt;&lt;code&gt;smp-server&lt;/code&gt;&lt;/p&gt; &lt;p&gt;You must change &lt;strong&gt;your_ip_or_domain&lt;/strong&gt;. &lt;code&gt;-e &#34;pass=password&#34;&lt;/code&gt; is optional variable to password-protect your &lt;code&gt;smp&lt;/code&gt; server:&lt;/p&gt; &lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;docker run -d \&#xA;    -e &#34;ADDR=your_ip_or_domain&#34; \&#xA;    -e &#34;PASS=password&#34; \&#xA;    -p 5223:5223 \&#xA;    -v $HOME/simplex/smp/config:/etc/opt/simplex:z \&#xA;    -v $HOME/simplex/smp/logs:/var/opt/simplex:z \&#xA;    simplexchat/smp-server:latest&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA;   &lt;li&gt; &lt;p&gt;&lt;code&gt;xftp-server&lt;/code&gt;&lt;/p&gt; &lt;p&gt;You must change &lt;strong&gt;your_ip_or_domain&lt;/strong&gt; and &lt;strong&gt;maximum_storage&lt;/strong&gt;.&lt;/p&gt; &lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;docker run -d \&#xA;    -e &#34;ADDR=your_ip_or_domain&#34; \&#xA;    -e &#34;QUOTA=maximum_storage&#34; \&#xA;    -p 443:443 \&#xA;    -v $HOME/simplex/xftp/config:/etc/opt/simplex-xftp:z \&#xA;    -v $HOME/simplex/xftp/logs:/var/opt/simplex-xftp:z \&#xA;    -v $HOME/simplex/xftp/files:/srv/xftp:z \&#xA;    simplexchat/xftp-server:latest&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h4&gt;Using installation script&lt;/h4&gt; &#xA;&lt;p&gt;&lt;strong&gt;Please note&lt;/strong&gt; that currently, only Ubuntu distribution is supported.&lt;/p&gt; &#xA;&lt;p&gt;You can install and setup servers automatically using our script:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;curl --proto &#39;=https&#39; --tlsv1.2 -sSf https://raw.githubusercontent.com/simplex-chat/simplexmq/stable/install.sh -o simplex-server-install.sh \&#xA;&amp;amp;&amp;amp; if echo &#39;c90886104cd640b2ed64921dba80e90691db36788e8d6dcc13d8f33f92f0ea54 simplex-server-install.sh&#39; | sha256sum -c; then chmod +x ./simplex-server-install.sh &amp;amp;&amp;amp; ./simplex-server-install.sh; rm ./simplex-server-install.sh; else echo &#34;SHA-256 checksum is incorrect!&#34; &amp;amp;&amp;amp; rm ./simplex-server-install.sh; fi&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Build from source&lt;/h3&gt; &#xA;&lt;h4&gt;Using Docker&lt;/h4&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;&lt;strong&gt;Please note:&lt;/strong&gt; to build the app use source code from &lt;a href=&#34;https://github.com/simplex-chat/simplexmq/tree/stable&#34;&gt;stable branch&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;p&gt;On Linux, you can build smp server using Docker.&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt; &lt;p&gt;Build your images:&lt;/p&gt; &lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;git clone https://github.com/simplex-chat/simplexmq&#xA;cd simplexmq&#xA;git checkout stable&#xA;DOCKER_BUILDKIT=1 docker build -t local/smp-server --build-arg APP=&#34;smp-server&#34; --build-arg APP_PORT=&#34;5223&#34; . # For xmp-server&#xA;DOCKER_BUILDKIT=1 docker build -t local/xftp-server --build-arg APP=&#34;xftp-server&#34; --build-arg APP_PORT=&#34;443&#34; . # For xftp-server&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Create directories for persistent Docker configuration:&lt;/p&gt; &lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;mkdir -p $HOME/simplex/{xftp,smp}/{config,logs} &amp;amp;&amp;amp; mkdir -p $HOME/simplex/xftp/files&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Run your Docker container.&lt;/p&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt; &lt;p&gt;&lt;code&gt;smp-server&lt;/code&gt;&lt;/p&gt; &lt;p&gt;You must change &lt;strong&gt;your_ip_or_domain&lt;/strong&gt;. &lt;code&gt;-e &#34;pass=password&#34;&lt;/code&gt; is optional variable to password-protect your &lt;code&gt;smp&lt;/code&gt; server:&lt;/p&gt; &lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;docker run -d \&#xA;    -e &#34;ADDR=your_ip_or_domain&#34; \&#xA;    -e &#34;PASS=password&#34; \&#xA;    -p 5223:5223 \&#xA;    -v $HOME/simplex/smp/config:/etc/opt/simplex:z \&#xA;    -v $HOME/simplex/smp/logs:/var/opt/simplex:z \&#xA;    simplexchat/smp-server:latest&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA;   &lt;li&gt; &lt;p&gt;&lt;code&gt;xftp-server&lt;/code&gt;&lt;/p&gt; &lt;p&gt;You must change &lt;strong&gt;your_ip_or_domain&lt;/strong&gt; and &lt;strong&gt;maximum_storage&lt;/strong&gt;.&lt;/p&gt; &lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;docker run -d \&#xA;    -e &#34;ADDR=your_ip_or_domain&#34; \&#xA;    -e &#34;QUOTA=maximum_storage&#34; \&#xA;    -p 443:443 \&#xA;    -v $HOME/simplex/xftp/config:/etc/opt/simplex-xftp:z \&#xA;    -v $HOME/simplex/xftp/logs:/var/opt/simplex-xftp:z \&#xA;    -v $HOME/simplex/xftp/files:/srv/xftp:z \&#xA;    simplexchat/xftp-server:latest&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h4&gt;Using your distribution&lt;/h4&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt; &lt;p&gt;Install dependencies and build tools (&lt;code&gt;GHC&lt;/code&gt;, &lt;code&gt;cabal&lt;/code&gt; and dev libs):&lt;/p&gt; &lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;# On Ubuntu. Depending on your distribution, use your package manager to determine package names.&#xA;sudo apt-get update &amp;amp;&amp;amp; apt-get install -y build-essential curl libffi-dev libffi7 libgmp3-dev libgmp10 libncurses-dev libncurses5 libtinfo5 pkg-config zlib1g-dev libnuma-dev libssl-dev&#xA;export BOOTSTRAP_HASKELL_GHC_VERSION=9.6.3&#xA;export BOOTSTRAP_HASKELL_CABAL_VERSION=3.10.3.0&#xA;curl --proto &#39;=https&#39; --tlsv1.2 -sSf https://get-ghcup.haskell.org | BOOTSTRAP_HASKELL_NONINTERACTIVE=1 sh&#xA;ghcup set ghc &#34;${BOOTSTRAP_HASKELL_GHC_VERSION}&#34;&#xA;ghcup set cabal &#34;${BOOTSTRAP_HASKELL_CABAL_VERSION}&#34;&#xA;source ~/.ghcup/env&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Build the project:&lt;/p&gt; &lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;git clone https://github.com/simplex-chat/simplexmq&#xA;cd simplexmq&#xA;git checkout stable&#xA;cabal update&#xA;cabal build exe:smp-server exe:xftp-server&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;List compiled binaries:&lt;/p&gt; &lt;p&gt;&lt;code&gt;smp-server&lt;/code&gt;&lt;/p&gt; &lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;cabal list-bin exe:smp-server&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;p&gt;&lt;code&gt;xftp-server&lt;/code&gt;&lt;/p&gt; &lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;cabal list-bin exe:xftp-server &#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;Initialize SMP server with &lt;code&gt;smp-server init [-l] -n &amp;lt;fqdn&amp;gt;&lt;/code&gt; or &lt;code&gt;smp-server init [-l] --ip &amp;lt;ip&amp;gt;&lt;/code&gt; - depending on how you initialize it, either FQDN or IP will be used for server&#39;s address.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Run &lt;code&gt;smp-server start&lt;/code&gt; to start SMP server, or you can configure a service manager to run it as a service.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Optionally, &lt;code&gt;smp-server&lt;/code&gt; can be setup for having an onion address in &lt;code&gt;tor&lt;/code&gt; network. See: &lt;a href=&#34;https://raw.githubusercontent.com/simplex-chat/simplexmq/stable/scripts/tor/&#34;&gt;&lt;code&gt;scripts/tor&lt;/code&gt;&lt;/a&gt;. In this case, the server address can have both public and onion hostname pointing to the same server, to allow two people connect when only one of them is using Tor. The server address would be: &lt;code&gt;smp://&amp;lt;fingerprint&amp;gt;@&amp;lt;public_hostname&amp;gt;,&amp;lt;onion_hostname&amp;gt;&lt;/code&gt;&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;See &lt;a href=&#34;https://raw.githubusercontent.com/simplex-chat/simplexmq/stable/#smp-server&#34;&gt;this section&lt;/a&gt; for more information. Run &lt;code&gt;smp-server -h&lt;/code&gt; and &lt;code&gt;smp-server init -h&lt;/code&gt; for explanation of commands and options.&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://cloud.linode.com/stackscripts/748014&#34;&gt;&lt;img alt=&#34;Linode&#34; src=&#34;https://raw.githubusercontent.com/simplex-chat/simplexmq/stable/img/linode.svg?sanitize=true&#34; align=&#34;right&#34; width=&#34;200&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Deploy SMP server on Linode&lt;/h2&gt; &#xA;&lt;p&gt;* You can use free credit Linode offers when &lt;a href=&#34;https://www.linode.com/&#34;&gt;creating a new account&lt;/a&gt; to deploy an SMP server.&lt;/p&gt; &#xA;&lt;p&gt;Deployment on Linode is performed via StackScripts, which serve as recipes for Linode instances, also called Linodes. To deploy SMP server on Linode:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Create a Linode account or login with an already existing one.&lt;/li&gt; &#xA; &lt;li&gt;Open &lt;a href=&#34;https://cloud.linode.com/stackscripts/748014&#34;&gt;SMP server StackScript&lt;/a&gt; and click &#34;Deploy New Linode&#34;.&lt;/li&gt; &#xA; &lt;li&gt;You can optionally configure the following parameters: &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;SMP Server store log flag for queue persistence on server restart, recommended.&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://www.linode.com/docs/guides/getting-started-with-the-linode-api#get-an-access-token&#34;&gt;Linode API token&lt;/a&gt; to attach server address etc. as tags to Linode and to add A record to your 2nd level domain (e.g. &lt;code&gt;example.com&lt;/code&gt; &lt;a href=&#34;https://cloud.linode.com/domains/create&#34;&gt;domain should be created&lt;/a&gt; in your account prior to deployment). The API token access scopes: &#xA;    &lt;ul&gt; &#xA;     &lt;li&gt;read/write for &#34;linodes&#34;&lt;/li&gt; &#xA;     &lt;li&gt;read/write for &#34;domains&#34;&lt;/li&gt; &#xA;    &lt;/ul&gt; &lt;/li&gt; &#xA;   &lt;li&gt;Domain name to use instead of Linode IP address, e.g. &lt;code&gt;smp1.example.com&lt;/code&gt;.&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;Choose the region and plan, Shared CPU Nanode with 1Gb is sufficient.&lt;/li&gt; &#xA; &lt;li&gt;Provide ssh key to be able to connect to your Linode via ssh. If you haven&#39;t provided a Linode API token this step is required to login to your Linode and get the server&#39;s fingerprint either from the welcome message or from the file &lt;code&gt;/etc/opt/simplex/fingerprint&lt;/code&gt; after server starts. See &lt;a href=&#34;https://www.linode.com/docs/guides/use-public-key-authentication-with-ssh/&#34;&gt;Linode&#39;s guide on ssh&lt;/a&gt; .&lt;/li&gt; &#xA; &lt;li&gt;Deploy your Linode. After it starts wait for SMP server to start and for tags to appear (if a Linode API token was provided). It may take up to 5 minutes depending on the connection speed on the Linode. Connecting Linode IP address to provided domain name may take some additional time.&lt;/li&gt; &#xA; &lt;li&gt;Get &lt;code&gt;address&lt;/code&gt; and &lt;code&gt;fingerprint&lt;/code&gt; either from Linode tags (click on a tag and copy it&#39;s value from the browser search panel) or via ssh.&lt;/li&gt; &#xA; &lt;li&gt;Great, your own SMP server is ready! If you provided FQDN use &lt;code&gt;smp://&amp;lt;fingerprint&amp;gt;@&amp;lt;fqdn&amp;gt;&lt;/code&gt; as SMP server address in the client, otherwise use &lt;code&gt;smp://&amp;lt;fingerprint&amp;gt;@&amp;lt;ip_address&amp;gt;&lt;/code&gt;.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Please submit an &lt;a href=&#34;https://github.com/simplex-chat/simplexmq/issues&#34;&gt;issue&lt;/a&gt; if any problems occur.&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://marketplace.digitalocean.com/apps/simplex-server&#34;&gt;&lt;img alt=&#34;DigitalOcean&#34; src=&#34;https://raw.githubusercontent.com/simplex-chat/simplexmq/stable/img/digitalocean.png&#34; align=&#34;right&#34; width=&#34;300&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Deploy SMP server on DigitalOcean&lt;/h2&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;üöß DigitalOcean snapshot is currently not up to date, it will soon be updated üèóÔ∏è&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;p&gt;* When creating a DigitalOcean account you can use &lt;a href=&#34;https://try.digitalocean.com/freetrialoffer/&#34;&gt;this link&lt;/a&gt; to get free credit. (You would still be required either to provide your credit card details or make a confirmation pre-payment with PayPal)&lt;/p&gt; &#xA;&lt;p&gt;To deploy SMP server use &lt;a href=&#34;https://marketplace.digitalocean.com/apps/simplex-server&#34;&gt;SimpleX Server 1-click app&lt;/a&gt; from DigitalOcean marketplace:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Create a DigitalOcean account or login with an already existing one.&lt;/li&gt; &#xA; &lt;li&gt;Click &#39;Create SimpleX server Droplet&#39; button.&lt;/li&gt; &#xA; &lt;li&gt;Choose the region and plan according to your requirements (Basic plan should be sufficient).&lt;/li&gt; &#xA; &lt;li&gt;Finalize Droplet creation.&lt;/li&gt; &#xA; &lt;li&gt;Open &#34;Console&#34; on your Droplet management page to get SMP server fingerprint - either from the welcome message or from &lt;code&gt;/etc/opt/simplex/fingerprint&lt;/code&gt;. Alternatively you can manually SSH to created Droplet, see &lt;a href=&#34;https://docs.digitalocean.com/products/droplets/how-to/connect-with-ssh/&#34;&gt;DigitalOcean instruction&lt;/a&gt;.&lt;/li&gt; &#xA; &lt;li&gt;Great, your own SMP server is ready! Use &lt;code&gt;smp://&amp;lt;fingerprint&amp;gt;@&amp;lt;ip_address&amp;gt;&lt;/code&gt; as SMP server address in the client.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Please submit an &lt;a href=&#34;https://github.com/simplex-chat/simplexmq/issues&#34;&gt;issue&lt;/a&gt; if any problems occur.&lt;/p&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;&lt;strong&gt;Please note:&lt;/strong&gt; SMP server uses server address as a Common Name for server certificate generated during initialization. If you would like your server address to be FQDN instead of IP address, you can log in to your Droplet and run the commands below to re-initialize the server. Alternatively you can use &lt;a href=&#34;https://cloud.linode.com/stackscripts/748014&#34;&gt;Linode StackScript&lt;/a&gt; which allows this parameterization.&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;smp-server delete&#xA;smp-server init [-l] -n &amp;lt;fqdn&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;SMP server design&lt;/h2&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/simplex-chat/simplexmq/stable/design/server.svg?sanitize=true&#34; alt=&#34;SMP server design&#34;&gt;&lt;/p&gt; &#xA;&lt;h2&gt;SMP agent design&lt;/h2&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/simplex-chat/simplexmq/stable/design/agent2.svg?sanitize=true&#34; alt=&#34;SMP agent design&#34;&gt;&lt;/p&gt; &#xA;&lt;h2&gt;License&lt;/h2&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://raw.githubusercontent.com/simplex-chat/simplexmq/stable/LICENSE&#34;&gt;AGPL v3&lt;/a&gt;&lt;/p&gt;</summary>
  </entry>
</feed>