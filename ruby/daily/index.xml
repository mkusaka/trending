<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Ruby Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2023-12-01T01:50:31Z</updated>
  <subtitle>Daily Trending of Ruby in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>seuros/capistrano-puma</title>
    <updated>2023-12-01T01:50:31Z</updated>
    <id>tag:github.com,2023-12-01:/seuros/capistrano-puma</id>
    <link href="https://github.com/seuros/capistrano-puma" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Puma integration for Capistrano&lt;/p&gt;&lt;hr&gt;&lt;p&gt;&lt;a href=&#34;http://badge.fury.io/rb/capistrano3-puma&#34;&gt;&lt;img src=&#34;https://badge.fury.io/rb/capistrano3-puma.svg?sanitize=true&#34; alt=&#34;Gem Version&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h1&gt;Capistrano::Puma&lt;/h1&gt; &#xA;&lt;h2&gt;Installation&lt;/h2&gt; &#xA;&lt;p&gt;Add this line to your application&#39;s Gemfile:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;gem &#39;capistrano3-puma&#39;, github: &#34;seuros/capistrano-puma&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;or:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;gem &#39;capistrano3-puma&#39; , group: :development&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;And then execute:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ bundle&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Usage&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;    # Capfile&#xA;&#xA;    require &#39;capistrano/puma&#39;&#xA;    install_plugin Capistrano::Puma  # Default puma tasks&#xA;    install_plugin Capistrano::Puma::Systemd&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To prevent loading the hooks of the plugin, add false to the load_hooks param.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;    # Capfile&#xA;&#xA;    install_plugin Capistrano::Puma, load_hooks: false  # Default puma tasks without hooks&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To make it work with rvm, rbenv and chruby, install the plugin after corresponding library inclusion.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;    # Capfile&#xA;&#xA;    require &#39;capistrano/rbenv&#39;&#xA;    require &#39;capistrano/puma&#39;&#xA;    install_plugin Capistrano::Puma&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Config&lt;/h3&gt; &#xA;&lt;p&gt;Puma configuration is expected to be in &lt;code&gt;config/puma.rb&lt;/code&gt; or &lt;code&gt;config/puma/#{fetch(:puma_env)}.rb&lt;/code&gt; and checked in your repository. Uploading the configuration via capistrano was removed as it was causing problems with custom configurations.&lt;/p&gt; &#xA;&lt;h2&gt;Example&lt;/h2&gt; &#xA;&lt;p&gt;A sample application is provided to show how to use this gem at &lt;a href=&#34;https://github.com/seuros/capistrano-example-app&#34;&gt;https://github.com/seuros/capistrano-example-app&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h3&gt;Systemd Socket Activation&lt;/h3&gt; &#xA;&lt;p&gt;Systemd socket activation starts your app upon first request if it is not already running&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;    set :puma_enable_socket_service, true&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;For more information on socket activation have a look at the &lt;code&gt;systemd.socket&lt;/code&gt; &lt;a href=&#34;https://man7.org/linux/man-pages/man5/systemd.socket.5.html&#34;&gt;man page&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;To restart the listening socket using Systemd run&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;cap puma:systemd:restart_socket&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;This would also restart the puma instance as the puma service depends on the socket service being active&lt;/p&gt; &#xA;&lt;h3&gt;Other configs&lt;/h3&gt; &#xA;&lt;p&gt;Configurable options, shown here with defaults: Please note the configuration options below are not required unless you are trying to override a default setting, for instance if you are deploying on a host on which you do not have sudo or root privileges and you need to restrict the path. These settings go in the deploy.rb file.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;    set :puma_user, fetch(:user)&#xA;    set :puma_role, :web&#xA;    set :puma_service_unit_env_files, []&#xA;    set :puma_service_unit_env_vars, []&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;strong&gt;Notes:&lt;/strong&gt; If you are setting values for variables that might be used by other plugins, use &lt;code&gt;append&lt;/code&gt; instead of &lt;code&gt;set&lt;/code&gt;. For example:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;append :rbenv_map_bins, &#39;puma&#39;, &#39;pumactl&#39;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h1&gt;Nginx documentation&lt;/h1&gt; &#xA;&lt;p&gt;Nginx documentation was moved to &lt;a href=&#34;https://raw.githubusercontent.com/seuros/capistrano-puma/master/docs/nginx.md&#34;&gt;nginx.md&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Contributing&lt;/h2&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Fork it&lt;/li&gt; &#xA; &lt;li&gt;Create your feature branch (&lt;code&gt;git checkout -b my-new-feature&lt;/code&gt;)&lt;/li&gt; &#xA; &lt;li&gt;Commit your changes (&lt;code&gt;git commit -am &#39;Add some feature&#39;&lt;/code&gt;)&lt;/li&gt; &#xA; &lt;li&gt;Push to the branch (&lt;code&gt;git push origin my-new-feature&lt;/code&gt;)&lt;/li&gt; &#xA; &lt;li&gt;Create new Pull Request&lt;/li&gt; &#xA;&lt;/ol&gt;</summary>
  </entry>
</feed>