<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Ruby Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2023-11-22T01:40:19Z</updated>
  <subtitle>Daily Trending of Ruby in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>thoughtbot/factory_bot_rails</title>
    <updated>2023-11-22T01:40:19Z</updated>
    <id>tag:github.com,2023-11-22:/thoughtbot/factory_bot_rails</id>
    <link href="https://github.com/thoughtbot/factory_bot_rails" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Factory Bot ♥ Rails&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;factory_bot_rails &lt;a href=&#34;https://codeclimate.com/github/thoughtbot/factory_bot_rails&#34;&gt;&lt;img src=&#34;https://codeclimate.com/github/thoughtbot/factory_bot_rails.svg?sanitize=true&#34; alt=&#34;Code Climate&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://badge.fury.io/rb/factory_bot_rails&#34;&gt;&lt;img src=&#34;https://badge.fury.io/rb/factory_bot_rails.svg?sanitize=true&#34; alt=&#34;Gem Version&#34;&gt;&lt;/a&gt;&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/thoughtbot/factory_bot&#34;&gt;factory_bot&lt;/a&gt; is a fixtures replacement with a straightforward definition syntax, support for multiple build strategies (saved instances, unsaved instances, attribute hashes, and stubbed objects), and support for multiple factories for the same class (&lt;code&gt;user&lt;/code&gt;, &lt;code&gt;admin_user&lt;/code&gt;, and so on), including factory inheritance.&lt;/p&gt; &#xA;&lt;h3&gt;Transitioning from factory_girl_rails?&lt;/h3&gt; &#xA;&lt;p&gt;Check out the &lt;a href=&#34;https://github.com/thoughtbot/factory_bot/raw/4-9-0-stable/UPGRADE_FROM_FACTORY_GIRL.md&#34;&gt;guide&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Rails&lt;/h2&gt; &#xA;&lt;p&gt;factory_bot_rails provides Rails integration for &lt;a href=&#34;https://github.com/thoughtbot/factory_bot&#34;&gt;factory_bot&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;Supported Rails versions are listed in &lt;a href=&#34;https://raw.githubusercontent.com/thoughtbot/factory_bot_rails/main/Appraisals&#34;&gt;&lt;code&gt;Appraisals&lt;/code&gt;&lt;/a&gt;. Supported Ruby versions are listed in &lt;a href=&#34;https://raw.githubusercontent.com/thoughtbot/factory_bot_rails/main/.github/workflows/build.yml&#34;&gt;&lt;code&gt;.github/workflows/build.yml&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Download&lt;/h2&gt; &#xA;&lt;p&gt;Github: &lt;a href=&#34;http://github.com/thoughtbot/factory_bot_rails&#34;&gt;http://github.com/thoughtbot/factory_bot_rails&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;Gem:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ gem install factory_bot_rails&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Configuration&lt;/h2&gt; &#xA;&lt;p&gt;Add &lt;code&gt;factory_bot_rails&lt;/code&gt; to your Gemfile in both the test and development groups:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;group :development, :test do&#xA;  gem &#39;factory_bot_rails&#39;&#xA;end&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;You may want to configure your test suite to include factory_bot methods; see &lt;a href=&#34;https://github.com/thoughtbot/factory_bot/raw/master/GETTING_STARTED.md#configure-your-test-suite&#34;&gt;configuration&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h3&gt;Automatic Factory Definition Loading&lt;/h3&gt; &#xA;&lt;p&gt;By default, factory_bot_rails will automatically load factories defined in the following locations, relative to the root of the Rails project:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;factories.rb&#xA;test/factories.rb&#xA;spec/factories.rb&#xA;factories/*.rb&#xA;test/factories/*.rb&#xA;spec/factories/*.rb&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;You can configure by adding the following to &lt;code&gt;config/application.rb&lt;/code&gt; or the appropriate environment configuration in &lt;code&gt;config/environments&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;config.factory_bot.definition_file_paths = [&#34;custom/factories&#34;]&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;This will cause factory_bot_rails to automatically load factories in &lt;code&gt;custom/factories.rb&lt;/code&gt; and &lt;code&gt;custom/factories/*.rb&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;It is possible to use this setting to share factories from a gem:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-rb&#34;&gt;begin&#xA;  require &#39;factory_bot_rails&#39;&#xA;rescue LoadError&#xA;end&#xA;&#xA;class MyEngine &amp;lt; ::Rails::Engine&#xA;  config.factory_bot.definition_file_paths +=&#xA;    [File.expand_path(&#39;../factories&#39;, __FILE__)] if defined?(FactoryBotRails)&#xA;end&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;You can also disable automatic factory definition loading entirely by using an empty array:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-rb&#34;&gt;config.factory_bot.definition_file_paths = []&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Generators&lt;/h3&gt; &#xA;&lt;p&gt;Including factory_bot_rails in the development group of your Gemfile will cause Rails to generate factories instead of fixtures. If you want to disable this feature, you can either move factory_bot_rails out of the development group of your Gemfile, or add the following configuration:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;config.generators do |g|&#xA;  g.factory_bot false&#xA;end&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If fixture replacement is enabled and you already have a &lt;code&gt;test/factories.rb&lt;/code&gt; file (or &lt;code&gt;spec/factories.rb&lt;/code&gt; if using rspec_rails), generated factories will be inserted at the top of the existing file. Otherwise, factories will be generated in the &lt;code&gt;test/factories&lt;/code&gt; directory (&lt;code&gt;spec/factories&lt;/code&gt; if using rspec_rails), in a file matching the name of the table (e.g. &lt;code&gt;test/factories/users.rb&lt;/code&gt;).&lt;/p&gt; &#xA;&lt;p&gt;To generate factories in a different directory, you can use the following configuration:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;config.generators do |g|&#xA;  g.factory_bot dir: &#39;custom/dir/for/factories&#39;&#xA;end&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Note that factory_bot_rails will not automatically load files in custom locations unless you add them to &lt;code&gt;config.factory_bot.definition_file_paths&lt;/code&gt; as well.&lt;/p&gt; &#xA;&lt;p&gt;The suffix option allows you to customize the name of the generated file with a suffix:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;config.generators do |g|&#xA;  g.factory_bot suffix: &#34;factory&#34;&#xA;end&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;This will generate &lt;code&gt;test/factories/users_factory.rb&lt;/code&gt; instead of &lt;code&gt;test/factories/users.rb&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;For even more customization, use the &lt;code&gt;filename_proc&lt;/code&gt; option:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;config.generators do |g|&#xA;  g.factory_bot filename_proc: -&amp;gt;(table_name) { &#34;prefix_#{table_name}_suffix&#34; }&#xA;end&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To override the &lt;a href=&#34;https://github.com/thoughtbot/factory_bot_rails/tree/master/lib/generators/factory_bot/model/templates/factories.erb&#34;&gt;default factory template&lt;/a&gt;, define your own template in &lt;code&gt;lib/templates/factory_bot/model/factories.erb&lt;/code&gt;. This template will have access to any methods available in &lt;code&gt;FactoryBot::Generators::ModelGenerator&lt;/code&gt;. Note that factory_bot_rails will only use this custom template if you are generating each factory in a separate file; it will have no effect if you are generating all of your factories in &lt;code&gt;test/factories.rb&lt;/code&gt; or &lt;code&gt;spec/factories.rb&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;Factory_bot_rails will add a custom generator:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;rails generate factory_bot:model NAME [field:type field:type] [options]&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Active Record Configuration&lt;/h3&gt; &#xA;&lt;p&gt;By default, FactoryBot will refuse to generate Active Record primary key columns. Without additional configuration, an Active Record model treats a column named &lt;code&gt;id&lt;/code&gt; as its primary key.&lt;/p&gt; &#xA;&lt;p&gt;For example, defining an &lt;code&gt;id&lt;/code&gt; attribute with &lt;code&gt;add_attribute(:id)&lt;/code&gt;, &lt;code&gt;id { ... }&lt;/code&gt;, or &lt;code&gt;sequence(:id)&lt;/code&gt; will raise a &lt;code&gt;FactoryBot::AttributeDefinitionError&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;You can disable this behavior by adding the following to &lt;code&gt;config/application.rb&lt;/code&gt; or the appropriate environment configuration in &lt;code&gt;config/environments&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;config.factory_bot.reject_primary_key_attributes = false&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Contributing&lt;/h2&gt; &#xA;&lt;p&gt;Please see &lt;a href=&#34;https://raw.githubusercontent.com/thoughtbot/factory_bot_rails/main/CONTRIBUTING.md&#34;&gt;CONTRIBUTING.md&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;factory_bot_rails was originally written by Joe Ferris and is maintained by thoughtbot. Many improvements and bugfixes were contributed by the &lt;a href=&#34;https://github.com/thoughtbot/factory_bot_rails/graphs/contributors&#34;&gt;open source community&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;License&lt;/h2&gt; &#xA;&lt;p&gt;factory_bot_rails is Copyright © 2008-2020 Joe Ferris and thoughtbot. It is free software, and may be redistributed under the terms specified in the &lt;a href=&#34;https://raw.githubusercontent.com/thoughtbot/factory_bot_rails/main/LICENSE&#34;&gt;LICENSE&lt;/a&gt; file.&lt;/p&gt; &#xA;&lt;h2&gt;About thoughtbot&lt;/h2&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://thoughtbot.com/brand_assets/93:44.svg?sanitize=true&#34; alt=&#34;thoughtbot&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;factory_bot_rails is maintained and funded by thoughtbot, inc. The names and logos for thoughtbot are trademarks of thoughtbot, inc.&lt;/p&gt; &#xA;&lt;p&gt;We are passionate about open source software. See &lt;a href=&#34;https://thoughtbot.com/community?utm_source=github&#34;&gt;our other projects&lt;/a&gt;. We are &lt;a href=&#34;https://thoughtbot.com/hire-us?utm_source=github&#34;&gt;available for hire&lt;/a&gt;.&lt;/p&gt;</summary>
  </entry>
</feed>