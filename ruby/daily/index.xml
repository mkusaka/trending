<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Ruby Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2024-12-12T01:35:06Z</updated>
  <subtitle>Daily Trending of Ruby in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>adambard/learnxinyminutes-docs</title>
    <updated>2024-12-12T01:35:06Z</updated>
    <id>tag:github.com,2024-12-12:/adambard/learnxinyminutes-docs</id>
    <link href="https://github.com/adambard/learnxinyminutes-docs" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Code documentation written as code! How novel and totally my idea!&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;&lt;a href=&#34;https://learnxinyminutes.com&#34;&gt;Learn X in Y minutes&lt;/a&gt;&lt;/h1&gt; &#xA;&lt;p&gt;Whirlwind tours of (several, hopefully many someday) popular and ought-to-be-more-popular programming languages, presented as valid, commented code and explained as they go.&lt;/p&gt; &#xA;&lt;h2&gt;We need YOU!...&lt;/h2&gt; &#xA;&lt;p&gt;... to write more inline code tutorials. Just grab an existing file from this repo and copy the formatting (don&#39;t worry, it&#39;s all very simple). Make a new file, send a pull request, and if it passes muster I&#39;ll get it up pronto. Remember to fill in the &#34;contributors&#34; fields so you get credited properly!&lt;/p&gt; &#xA;&lt;h2&gt;Contributing&lt;/h2&gt; &#xA;&lt;p&gt;All contributions are welcome, from the tiniest typo to a brand new article. Translations in all languages are welcome (or, for that matter, original articles in any language). Send a pull request or open an issue any time of day or night.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Please prepend the tag &lt;code&gt;[language/lang-code]&lt;/code&gt; to your issues and pull requests.&lt;/strong&gt; For example, &lt;code&gt;[python/en]&lt;/code&gt; for English Python. This will help everyone pick out things they care about.&lt;/p&gt; &#xA;&lt;p&gt;We&#39;re happy for any contribution in any form, but if you&#39;re making more than one major change (i.e. translations for two different languages) it would be super cool of you to make a separate pull request for each one so that someone can review them more effectively and/or individually.&lt;/p&gt; &#xA;&lt;p&gt;For a detailed style guide, please review the full &lt;a href=&#34;https://raw.githubusercontent.com/adambard/learnxinyminutes-docs/master/CONTRIBUTING.md&#34;&gt;CONTRIBUTING&lt;/a&gt; guidelines.&lt;/p&gt; &#xA;&lt;h2&gt;License&lt;/h2&gt; &#xA;&lt;p&gt;Contributors retain copyright to their work, and can request removal at any time. By uploading a doc here, you agree to publish your work under the default &lt;a href=&#34;http://creativecommons.org/licenses/by-sa/3.0/deed.en_US&#34;&gt;Creative Commons Attribution-ShareAlike 3.0 Unported&lt;/a&gt; licensing included on each doc page.&lt;/p&gt; &#xA;&lt;p&gt;Anything not covered by the above -- basically, this README -- you can use as you wish, I guess.&lt;/p&gt;</summary>
  </entry>
  <entry>
    <title>puppetlabs/puppetlabs-firewall</title>
    <updated>2024-12-12T01:35:06Z</updated>
    <id>tag:github.com,2024-12-12:/puppetlabs/puppetlabs-firewall</id>
    <link href="https://github.com/puppetlabs/puppetlabs-firewall" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Puppet Firewall Module&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;firewall&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/puppetlabs/puppetlabs-firewall/actions/workflows/pr_test.yml&#34;&gt;&lt;img src=&#34;https://github.com/puppetlabs/puppetlabs-firewall/actions/workflows/pr_test.yml/badge.svg?sanitize=true&#34; alt=&#34;PR Testing&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h4&gt;Table of Contents&lt;/h4&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/puppetlabs/puppetlabs-firewall/main/#overview&#34;&gt;Overview - What is the firewall module?&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/puppetlabs/puppetlabs-firewall/main/#module-description&#34;&gt;Module description - What does the module do?&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/puppetlabs/puppetlabs-firewall/main/#setup&#34;&gt;Setup - The basics of getting started with firewall&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/puppetlabs/puppetlabs-firewall/main/#what-firewall-affects&#34;&gt;What firewall affects&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/puppetlabs/puppetlabs-firewall/main/#setup-requirements&#34;&gt;Setup requirements&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/puppetlabs/puppetlabs-firewall/main/#beginning-with-firewall&#34;&gt;Beginning with firewall&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/puppetlabs/puppetlabs-firewall/main/#upgrading&#34;&gt;Upgrading&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/puppetlabs/puppetlabs-firewall/main/#usage&#34;&gt;Usage - Configuration and customization options&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/puppetlabs/puppetlabs-firewall/main/#default-rules&#34;&gt;Default rules - Setting up general configurations for all firewalls&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/puppetlabs/puppetlabs-firewall/main/#application-specific-rules&#34;&gt;Application-specific rules - Options for configuring and managing firewalls across applications&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/puppetlabs/puppetlabs-firewall/main/#rule-inversion&#34;&gt;Rule inversion&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/puppetlabs/puppetlabs-firewall/main/#additional-uses-for-the-firewal-module&#34;&gt;Additional uses for the firewall module&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/puppetlabs/puppetlabs-firewall/main/#duplicate-rule-behaviour&#34;&gt;Duplicate rule behaviour&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/puppetlabs/puppetlabs-firewall/main/#additional-information&#34;&gt;Additional information&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/puppetlabs/puppetlabs-firewall/main/#reference&#34;&gt;Reference - An under-the-hood peek at what the module is doing&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/puppetlabs/puppetlabs-firewall/main/#limitations&#34;&gt;Limitations - OS compatibility, etc.&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/puppetlabs/puppetlabs-firewall/main/#license&#34;&gt;License&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/puppetlabs/puppetlabs-firewall/main/#firewall_multi&#34;&gt;Firewall_multi - Arrays for certain parameters&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/puppetlabs/puppetlabs-firewall/main/#development&#34;&gt;Development - Guide for contributing to the module&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/puppetlabs/puppetlabs-firewall/main/#tests&#34;&gt;Tests - Testing your configuration&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h2&gt;Overview&lt;/h2&gt; &#xA;&lt;p&gt;The firewall module lets you manage firewall rules with Puppet.&lt;/p&gt; &#xA;&lt;h2&gt;Module description&lt;/h2&gt; &#xA;&lt;p&gt;PuppetLabs&#39; firewall module introduces the &lt;code&gt;firewall&lt;/code&gt; resource, which is used to manage and configure firewall rules from within the Puppet DSL. This module offers support for iptables and ip6tables. The module also introduces the &lt;code&gt;firewallchain&lt;/code&gt; resource, which allows you to manage chains or firewall lists and ebtables for bridging support. At the moment, only iptables and ip6tables chains are supported.&lt;/p&gt; &#xA;&lt;p&gt;The firewall module acts on your running firewall, making immediate changes as the catalog executes. Defining default pre and post rules allows you to provide global defaults for your hosts before and after any custom rules. Defining &lt;code&gt;pre&lt;/code&gt; and &lt;code&gt;post&lt;/code&gt; rules is also necessary to help you avoid locking yourself out of your own boxes when Puppet runs.&lt;/p&gt; &#xA;&lt;h2&gt;Setup&lt;/h2&gt; &#xA;&lt;h3&gt;What firewall affects&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Every node running a firewall&lt;/li&gt; &#xA; &lt;li&gt;Firewall settings in your system&lt;/li&gt; &#xA; &lt;li&gt;Connection settings for managed nodes&lt;/li&gt; &#xA; &lt;li&gt;Unmanaged resources (get purged)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Setup requirements&lt;/h3&gt; &#xA;&lt;p&gt;Firewall uses Ruby-based providers, so you must enable &lt;a href=&#34;http://docs.puppetlabs.com/guides/plugins_in_modules.html#enabling-pluginsync&#34;&gt;pluginsync&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h3&gt;Beginning with firewall&lt;/h3&gt; &#xA;&lt;p&gt;In the following two sections, you create new classes and then create firewall rules related to those classes. These steps are optional but provide a framework for firewall rules, which is helpful if you’re just starting to create them.&lt;/p&gt; &#xA;&lt;p&gt;If you already have rules in place, then you don’t need to do these two sections. However, be aware of the ordering of your firewall rules. The module will dynamically apply rules in the order they appear in the catalog, meaning a deny rule could be applied before the allow rules. This might mean the module hasn’t established some of the important connections, such as the connection to the Puppet server.&lt;/p&gt; &#xA;&lt;p&gt;The following steps are designed to ensure that you keep your SSH and other connections, primarily your connection to your Puppet server. If you create the &lt;code&gt;pre&lt;/code&gt; and &lt;code&gt;post&lt;/code&gt; classes described in the first section, then you also need to create the rules described in the second section.&lt;/p&gt; &#xA;&lt;h4&gt;Create the &lt;code&gt;my_fw::pre&lt;/code&gt; and &lt;code&gt;my_fw::post&lt;/code&gt; Classes&lt;/h4&gt; &#xA;&lt;p&gt;This approach employs a whitelist setup, so you can define what rules you want and everything else is ignored rather than removed.&lt;/p&gt; &#xA;&lt;p&gt;The code in this section does the following:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;The &#39;require&#39; parameter in &lt;code&gt;firewall {}&lt;/code&gt; ensures &lt;code&gt;my_fw::pre&lt;/code&gt; is run before any other rules.&lt;/li&gt; &#xA; &lt;li&gt;In the &lt;code&gt;my_fw::post&lt;/code&gt; class declaration, the &#39;before&#39; parameter ensures &lt;code&gt;my_fw::post&lt;/code&gt; is run after any other rules.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;The rules in the &lt;code&gt;pre&lt;/code&gt; and &lt;code&gt;post&lt;/code&gt; classes are fairly general. These two classes ensure that you retain connectivity and that you drop unmatched packets appropriately. The rules you define in your manifests are likely to be specific to the applications you run.&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Add the &lt;code&gt;pre&lt;/code&gt; class to &lt;code&gt;my_fw/manifests/pre.pp&lt;/code&gt;, and any default rules to your pre.pp file first — in the order you want them to run.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-puppet&#34;&gt;class my_fw::pre {&#xA;  Firewall {&#xA;    require =&amp;gt; undef,&#xA;  }&#xA;&#xA;  # Default firewall rules&#xA;  firewall { &#39;000 accept all icmp&#39;:&#xA;    proto =&amp;gt; &#39;icmp&#39;,&#xA;    jump  =&amp;gt; &#39;accept&#39;,&#xA;  }&#xA;  -&amp;gt; firewall { &#39;001 accept all to lo interface&#39;:&#xA;    proto   =&amp;gt; &#39;all&#39;,&#xA;    iniface =&amp;gt; &#39;lo&#39;,&#xA;    jump    =&amp;gt; &#39;accept&#39;,&#xA;  }&#xA;  -&amp;gt; firewall { &#39;002 reject local traffic not on loopback interface&#39;:&#xA;    iniface     =&amp;gt; &#39;! lo&#39;,&#xA;    proto       =&amp;gt; &#39;all&#39;,&#xA;    destination =&amp;gt; &#39;127.0.0.1/8&#39;,&#xA;    jump        =&amp;gt; &#39;reject&#39;,&#xA;  }&#xA;  -&amp;gt; firewall { &#39;003 accept related established rules&#39;:&#xA;    proto  =&amp;gt; &#39;all&#39;,&#xA;    state  =&amp;gt; [&#39;RELATED&#39;, &#39;ESTABLISHED&#39;],&#xA;    jump   =&amp;gt; &#39;accept&#39;,&#xA;  }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The rules in &lt;code&gt;pre&lt;/code&gt; allow basic networking (such as ICMP and TCP) and ensure that existing connections are not closed.&lt;/p&gt; &#xA;&lt;ol start=&#34;2&#34;&gt; &#xA; &lt;li&gt;Add the &lt;code&gt;post&lt;/code&gt; class to &lt;code&gt;my_fw/manifests/post.pp&lt;/code&gt; and include any default rules — apply these last.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-puppet&#34;&gt;class my_fw::post {&#xA;  firewall { &#39;999 drop all&#39;:&#xA;    proto  =&amp;gt; &#39;all&#39;,&#xA;    jump   =&amp;gt; &#39;drop&#39;,&#xA;    before =&amp;gt; undef,&#xA;  }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Alternatively, the &lt;a href=&#34;https://raw.githubusercontent.com/puppetlabs/puppetlabs-firewall/main/#type-firewallchain&#34;&gt;firewallchain&lt;/a&gt; type can be used to set the default policy:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-puppet&#34;&gt;firewallchain { &#39;INPUT:filter:IPv4&#39;:&#xA;  ensure =&amp;gt; present,&#xA;  policy =&amp;gt; drop,&#xA;  before =&amp;gt; undef,&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Create firewall rules&lt;/h4&gt; &#xA;&lt;p&gt;The rules you create here are helpful if you don’t have any existing rules; they help you order your firewall configurations so you don’t lock yourself out of your box.&lt;/p&gt; &#xA;&lt;p&gt;Rules are persisted automatically between reboots, although there are known issues with ip6tables on older Debian/Ubuntu distributions. There are also known issues with ebtables.&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Use the following code to set up the default parameters for all of the firewall rules that you will establish later. These defaults will ensure that the &lt;code&gt;pre&lt;/code&gt; and &lt;code&gt;post&lt;/code&gt; classes are run in the correct order and avoid locking you out of your box during the first Puppet run.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-puppet&#34;&gt;Firewall {&#xA;  before  =&amp;gt; Class[&#39;my_fw::post&#39;],&#xA;  require =&amp;gt; Class[&#39;my_fw::pre&#39;],&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ol start=&#34;2&#34;&gt; &#xA; &lt;li&gt;Declare the &lt;code&gt;my_fw::pre&lt;/code&gt; and &lt;code&gt;my_fw::post&lt;/code&gt; classes to satisfy dependencies. You can declare these classes using an external node classifier or the following code:&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-puppet&#34;&gt;class { [&#39;my_fw::pre&#39;, &#39;my_fw::post&#39;]: }&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ol start=&#34;3&#34;&gt; &#xA; &lt;li&gt;Include the &lt;code&gt;firewall&lt;/code&gt; class to ensure the correct packages are installed:&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-puppet&#34;&gt;class { &#39;firewall&#39;: }&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ol start=&#34;4&#34;&gt; &#xA; &lt;li&gt;If you want to remove unmanaged firewall rules, add the following code to set up a metatype to purge unmanaged firewall resources in your site.pp or another top-scope file. This will clear any existing rules and make sure that only rules defined in Puppet exist on the machine.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-puppet&#34;&gt;resources { &#39;firewall&#39;:&#xA;  purge =&amp;gt; true,&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To purge unmanaged firewall chains, add:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-puppet&#34;&gt;resources { &#39;firewallchain&#39;:&#xA;  purge =&amp;gt; true,&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Internal chains can not be deleted. In order to avoid all the confusing Warning/Notice messages when using &lt;code&gt;purge =&amp;gt; true&lt;/code&gt;, like these ones:&lt;/p&gt; &#xA;&lt;p&gt;Warning: Inbuilt Chains may not be deleted. Chain &lt;code&gt;POSTROUTING:mangle:IPv6&lt;/code&gt; will be flushed and have it&#39;s policy reverted to default.&lt;/p&gt; &#xA;&lt;p&gt;Please create firewallchains for every internal chain. Here is an example:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-puppet&#34;&gt;firewallchain { &#39;POSTROUTING:mangle:IPv6&#39;:&#xA;  ensure  =&amp;gt; present,&#xA;}&#xA;&#xA;resources { &#39;firewallchain&#39;:&#xA;  purge =&amp;gt; true,&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; If you need more fine-grained control about which unmananged rules get removed, investigate the &lt;code&gt;purge&lt;/code&gt; and &lt;code&gt;ignore_foreign&lt;/code&gt; parameters available in &lt;code&gt;firewallchain&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; &lt;code&gt;ignore_foreign&lt;/code&gt; of &lt;code&gt;firewallchain&lt;/code&gt; does not work as expected with a resources purge of &lt;code&gt;firewall&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;h3&gt;Upgrading&lt;/h3&gt; &#xA;&lt;p&gt;Use these steps if you already have a version of the firewall module installed.&lt;/p&gt; &#xA;&lt;h4&gt;From version 0.2.0 and more recent&lt;/h4&gt; &#xA;&lt;p&gt;Upgrade the module with the puppet module tool as normal:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;puppet module upgrade puppetlabs/firewall&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Usage&lt;/h2&gt; &#xA;&lt;p&gt;There are two kinds of firewall rules you can use with firewall: default rules and application-specific rules. Default rules apply to general firewall settings, whereas application-specific rules manage firewall settings for a specific application, node, etc.&lt;/p&gt; &#xA;&lt;p&gt;All rules employ a numbering system in the resource&#39;s title that is used for ordering. When titling your rules, make sure you prefix the rule with a number, for example, &#39;000 accept all icmp requests&#39;. &lt;em&gt;000&lt;/em&gt; runs first, &lt;em&gt;999&lt;/em&gt; runs last.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; The ordering range 9000-9999 is reserved for unmanaged rules. Do not specify any firewall rules in this range.&lt;/p&gt; &#xA;&lt;h3&gt;Default rules&lt;/h3&gt; &#xA;&lt;p&gt;You can place default rules in either &lt;code&gt;my_fw::pre&lt;/code&gt; or &lt;code&gt;my_fw::post&lt;/code&gt;, depending on when you would like them to run. Rules placed in the &lt;code&gt;pre&lt;/code&gt; class will run first, and rules in the &lt;code&gt;post&lt;/code&gt; class, last.&lt;/p&gt; &#xA;&lt;p&gt;In iptables, the title of the rule is stored using the comment feature of the underlying firewall subsystem. Values must match &#39;/^\d+[[:graph:][:space:]]+$/&#39;.&lt;/p&gt; &#xA;&lt;h4&gt;Examples of default rules&lt;/h4&gt; &#xA;&lt;p&gt;Basic accept ICMP request example:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-puppet&#34;&gt;firewall { &#39;000 accept all icmp requests&#39;:&#xA;  proto =&amp;gt; &#39;icmp&#39;,&#xA;  jump  =&amp;gt; &#39;accept&#39;,&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Drop all:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-puppet&#34;&gt;firewall { &#39;999 drop all other requests&#39;:&#xA;  jump =&amp;gt; &#39;drop&#39;,&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Example of an IPv6 rule&lt;/h4&gt; &#xA;&lt;p&gt;IPv6 rules can be specified using the &lt;em&gt;ip6tables&lt;/em&gt; provider:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-puppet&#34;&gt;firewall { &#39;006 Allow inbound SSH (v6)&#39;:&#xA;  dport    =&amp;gt; 22,&#xA;  proto    =&amp;gt; &#39;tcp&#39;,&#xA;  jump     =&amp;gt; &#39;accept&#39;,&#xA;  protocol =&amp;gt; &#39;ip6tables&#39;,&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Application-specific rules&lt;/h3&gt; &#xA;&lt;p&gt;Puppet doesn&#39;t care where you define rules, and this means that you can place your firewall resources as close to the applications and services that you manage as you wish. If you use the &lt;a href=&#34;https://puppetlabs.com/learn/roles-profiles-introduction&#34;&gt;roles and profiles pattern&lt;/a&gt; then it makes sense to create your firewall rules in the profiles, so they remain close to the services managed by the profile.&lt;/p&gt; &#xA;&lt;p&gt;This is an example of firewall rules in a profile:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-puppet&#34;&gt;class profile::apache {&#xA;  include apache&#xA;  apache::vhost { &#39;mysite&#39;:&#xA;    ensure =&amp;gt; present,&#xA;  }&#xA;&#xA;  firewall { &#39;100 allow http and https access&#39;:&#xA;    dport  =&amp;gt; [80, 443],&#xA;    proto  =&amp;gt; &#39;tcp&#39;,&#xA;    jump   =&amp;gt; &#39;accept&#39;,&#xA;  }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Rule inversion&lt;/h3&gt; &#xA;&lt;p&gt;Firewall rules may be inverted by prefixing the value of a parameter by &#34;! &#34;.&lt;/p&gt; &#xA;&lt;p&gt;Parameters that understand inversion are: connmark, ctstate, destination, dport, dst_range, dst_type, iniface, outiface, port, proto, source, sport, src_range and src_type.&lt;/p&gt; &#xA;&lt;p&gt;If the value is an array, then either the first value of the array, or all of its values must be prefixed in order to invert them all. For most array attributes it is not possible to invert only one passed value.&lt;/p&gt; &#xA;&lt;p&gt;Examples:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-puppet&#34;&gt;firewall { &#39;001 disallow esp protocol&#39;:&#xA;  jump   =&amp;gt; &#39;accept&#39;,&#xA;  proto  =&amp;gt; &#39;! esp&#39;,&#xA;}&#xA;&#xA;firewall { &#39;002 drop NEW external website packets with FIN/RST/ACK set and SYN unset&#39;:&#xA;  chain     =&amp;gt; &#39;INPUT&#39;,&#xA;  state     =&amp;gt; &#39;NEW&#39;,&#xA;  jump      =&amp;gt; &#39;drop&#39;,&#xA;  proto     =&amp;gt; &#39;tcp&#39;,&#xA;  sport     =&amp;gt; [&#39;! http&#39;, &#39;443&#39;],&#xA;  source    =&amp;gt; &#39;! 10.0.0.0/8&#39;,&#xA;  tcp_flags =&amp;gt; &#39;! FIN,SYN,RST,ACK SYN&#39;,&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;There are exceptions to this however, with attributes such as src_type, dst_type and ipset allowing the user to negate each passed values seperately.&lt;/p&gt; &#xA;&lt;p&gt;Examples:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-puppet&#34;&gt;firewall { &#39;001 allow local disallow anycast&#39;:&#xA;  jump     =&amp;gt; &#39;accept&#39;,&#xA;  src_type =&amp;gt; [&#39;LOCAL&#39;, &#39;! ANYCAST&#39;],&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Additional uses for the firewall module&lt;/h3&gt; &#xA;&lt;p&gt;You can apply firewall rules to specific nodes. Usually, you should put the firewall rule in another class and apply that class to a node. Apply a rule to a node as follows:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-puppet&#34;&gt;node &#39;some.node.com&#39; {&#xA;  firewall { &#39;111 open port 111&#39;:&#xA;    dport =&amp;gt; 111,&#xA;  }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;You can also do more complex things with the &lt;code&gt;firewall&lt;/code&gt; resource. This example sets up static NAT for the source network 10.1.2.0/24:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-puppet&#34;&gt;firewall { &#39;100 snat for network foo2&#39;:&#xA;  chain    =&amp;gt; &#39;POSTROUTING&#39;,&#xA;  jump     =&amp;gt; &#39;MASQUERADE&#39;,&#xA;  proto    =&amp;gt; &#39;all&#39;,&#xA;  outiface =&amp;gt; &#39;eth0&#39;,&#xA;  source   =&amp;gt; &#39;10.1.2.0/24&#39;,&#xA;  table    =&amp;gt; &#39;nat&#39;,&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;You can also change the TCP MSS value for VPN client traffic:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-puppet&#34;&gt;firewall { &#39;110 TCPMSS for VPN clients&#39;:&#xA;  chain     =&amp;gt; &#39;FORWARD&#39;,&#xA;  table     =&amp;gt; &#39;mangle&#39;,&#xA;  source    =&amp;gt; &#39;10.0.2.0/24&#39;,&#xA;  proto     =&amp;gt; &#39;tcp&#39;,&#xA;  tcp_flags =&amp;gt; &#39;SYN,RST SYN&#39;,&#xA;  mss       =&amp;gt; &#39;1361:1541&#39;,&#xA;  set_mss   =&amp;gt; &#39;1360&#39;,&#xA;  jump      =&amp;gt; &#39;TCPMSS&#39;,&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The following will mirror all traffic sent to the server to a secondary host on the LAN with the TEE target:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-puppet&#34;&gt;firewall { &#39;503 Mirror traffic to IDS&#39;:&#xA;  proto   =&amp;gt; &#39;all&#39;,&#xA;  jump    =&amp;gt; &#39;TEE&#39;,&#xA;  gateway =&amp;gt; &#39;10.0.0.2&#39;,&#xA;  chain   =&amp;gt; &#39;PREROUTING&#39;,&#xA;  table   =&amp;gt; &#39;mangle&#39;,&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The following example creates a new chain and forwards any port 5000 access to it.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-puppet&#34;&gt;firewall { &#39;100 forward to MY_CHAIN&#39;:&#xA;  chain   =&amp;gt; &#39;INPUT&#39;,&#xA;  jump    =&amp;gt; &#39;MY_CHAIN&#39;,&#xA;}&#xA;&#xA;# The namevar here is in the format chain_name:table:protocol&#xA;firewallchain { &#39;MY_CHAIN:filter:IPv4&#39;:&#xA;  ensure  =&amp;gt; present,&#xA;}&#xA;&#xA;firewall { &#39;100 my rule&#39;:&#xA;  chain   =&amp;gt; &#39;MY_CHAIN&#39;,&#xA;  jump    =&amp;gt; &#39;accept&#39;,&#xA;  proto   =&amp;gt; &#39;tcp&#39;,&#xA;  dport   =&amp;gt; 5000,&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Setup NFLOG for a rule.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-puppet&#34;&gt;firewall {&#39;666 for NFLOG&#39;:&#xA;  proto           =&amp;gt; &#39;all&#39;,&#xA;  jump            =&amp;gt; &#39;NFLOG&#39;,&#xA;  nflog_group     =&amp;gt; 3,&#xA;  nflog_prefix    =&amp;gt; &#39;nflog-test&#39;,&#xA;  nflog_size      =&amp;gt; 256,&#xA;  nflog_threshold =&amp;gt; 1,&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Duplicate rule behaviour&lt;/h3&gt; &#xA;&lt;p&gt;It is possible for an unmanaged rule to exist on the target system that has the same comment as the rule specified in the manifest. This configuration is not supported by the firewall module.&lt;/p&gt; &#xA;&lt;p&gt;In the event of a duplicate rule, the module will throw an error message notifying the user that it has found a duplicate and halt in it&#39;s update.&lt;/p&gt; &#xA;&lt;p&gt;This behaviour was previously configurable via the &lt;code&gt;onduplicaterulebehaviour&lt;/code&gt; parameter. However the implementation of this resulted in a massive slowdown of the module and so this has been removed in favour of a simple error being thrown whenever a duplicate is detected.&lt;/p&gt; &#xA;&lt;h3&gt;Additional information&lt;/h3&gt; &#xA;&lt;p&gt;Access the inline documentation:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;puppet describe firewall&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Or&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;puppet doc -r type&#xA;(and search for firewall)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Reference&lt;/h2&gt; &#xA;&lt;p&gt;For information on the classes and types, see the &lt;a href=&#34;https://github.com/puppetlabs/puppetlabs-firewall/raw/main/REFERENCE.md&#34;&gt;REFERENCE.md&lt;/a&gt;. For information on the facts, see below.&lt;/p&gt; &#xA;&lt;p&gt;Facts:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/puppetlabs/puppetlabs-firewall/main/#fact-ip6tablesversion&#34;&gt;ip6tables_version&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/puppetlabs/puppetlabs-firewall/main/#fact-iptablesversion&#34;&gt;iptables_version&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/puppetlabs/puppetlabs-firewall/main/#fact-iptablespersistentversion&#34;&gt;iptables_persistent_version&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Fact: ip6tables_version&lt;/h3&gt; &#xA;&lt;p&gt;A Facter fact that can be used to determine what the default version of ip6tables is for your operating system/distribution.&lt;/p&gt; &#xA;&lt;h3&gt;Fact: iptables_version&lt;/h3&gt; &#xA;&lt;p&gt;A Facter fact that can be used to determine what the default version of iptables is for your operating system/distribution.&lt;/p&gt; &#xA;&lt;h3&gt;Fact: iptables_persistent_version&lt;/h3&gt; &#xA;&lt;p&gt;Retrieves the version of iptables-persistent from your OS. This is a Debian/Ubuntu specific fact.&lt;/p&gt; &#xA;&lt;h2&gt;Limitations&lt;/h2&gt; &#xA;&lt;p&gt;For an extensive list of supported operating systems, see &lt;a href=&#34;https://github.com/puppetlabs/puppetlabs-firewall/raw/main/metadata.json&#34;&gt;metadata.json&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h3&gt;SLES&lt;/h3&gt; &#xA;&lt;p&gt;The &lt;code&gt;socket&lt;/code&gt; parameter is not supported on SLES. In this release it will cause the catalog to fail with iptables failures, rather than correctly warn you that the features are unusable.&lt;/p&gt; &#xA;&lt;h3&gt;Oracle Enterprise Linux&lt;/h3&gt; &#xA;&lt;p&gt;The &lt;code&gt;socket&lt;/code&gt; and &lt;code&gt;owner&lt;/code&gt; parameters are unsupported on Oracle Enterprise Linux when the &#34;Unbreakable&#34; kernel is used. These may function correctly when using the stock RedHat kernel instead. Declaring either of these parameters on an unsupported system will result in iptable rules failing to apply.&lt;/p&gt; &#xA;&lt;h2&gt;Passing firewall parameter values as arrays with &lt;code&gt;firewall_multi&lt;/code&gt; module&lt;/h2&gt; &#xA;&lt;p&gt;You might sometimes need to pass arrays, such as arrays of source or destination addresses, to some parameters in contexts where iptables itself does not allow arrays.&lt;/p&gt; &#xA;&lt;p&gt;A community module, &lt;a href=&#34;https://forge.puppet.com/alexharvey/firewall_multi&#34;&gt;alexharvey-firewall_multi&lt;/a&gt;, provides a defined type wrapper to spawn firewall resources for arrays of certain inputs.&lt;/p&gt; &#xA;&lt;p&gt;For example:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-puppet&#34;&gt;firewall_multi { &#39;100 allow http and https access&#39;:&#xA;  source =&amp;gt; [&#xA;    &#39;10.0.10.0/24&#39;,&#xA;    &#39;10.0.12.0/24&#39;,&#xA;    &#39;10.1.1.128&#39;,&#xA;  ],&#xA;  dport  =&amp;gt; [80, 443],&#xA;  proto  =&amp;gt; &#39;tcp&#39;,&#xA;  jump   =&amp;gt; &#39;accept&#39;,&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;For more information see the documentation at &lt;a href=&#34;https://forge.puppet.com/alexharvey/firewall_multi&#34;&gt;alexharvey-firewall_multi&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h3&gt;Known issues&lt;/h3&gt; &#xA;&lt;h4&gt;MCollective causes PE to reverse firewall rule order&lt;/h4&gt; &#xA;&lt;p&gt;Firewall rules appear in reverse order if you use MCollective to run Puppet in Puppet Enterprise 2016.1, 2015.3, 2015.2, or 3.8.x.&lt;/p&gt; &#xA;&lt;p&gt;If you use MCollective to kick off Puppet runs (&lt;code&gt;mco puppet runonce -I agent.example.com&lt;/code&gt;) while also using the &lt;a href=&#34;https://forge.puppet.com/puppetlabs/firewall&#34;&gt;&lt;code&gt;puppetlabs/firewall&lt;/code&gt;&lt;/a&gt; module, your firewall rules might be listed in reverse order.&lt;/p&gt; &#xA;&lt;p&gt;In many firewall configurations, the last rule drops all packets. If the rule order is reversed, this rule is listed first and network connectivity fails.&lt;/p&gt; &#xA;&lt;p&gt;To prevent this issue, do not use MCollective to kick off Puppet runs. Use any of the following instead:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Run &lt;code&gt;puppet agent -t&lt;/code&gt; on the command line.&lt;/li&gt; &#xA; &lt;li&gt;Use a cron job.&lt;/li&gt; &#xA; &lt;li&gt;Click &lt;a href=&#34;https://docs.puppet.com/pe/2016.1/console_classes_groups_running_puppet.html#run-puppet-on-an-individual-node&#34;&gt;Run Puppet&lt;/a&gt; in the console.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;condition parameter&lt;/h3&gt; &#xA;&lt;p&gt;The &lt;code&gt;condition&lt;/code&gt; parameter requires &lt;code&gt;xtables-addons&lt;/code&gt; to be installed locally. For ubuntu distributions &lt;code&gt;xtables-addons-common&lt;/code&gt; package can be installed by running command: &lt;code&gt;apt-get install xtables-addons-common&lt;/code&gt; or running a manifest:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-puppet&#34;&gt;package { &#39;xtables-addons-common&#39;:&#xA;  ensure =&amp;gt; &#39;latest&#39;,&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;For other distributions (RedHat, Debian, Centos etc) manual installation of the &lt;code&gt;xtables-addons&lt;/code&gt; package is required.&lt;/p&gt; &#xA;&lt;h4&gt;Reporting Issues&lt;/h4&gt; &#xA;&lt;p&gt;Please report any bugs in the Puppetlabs GitHub issue tracker:&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/puppetlabs/puppetlabs-firewall/issues&#34;&gt;https://github.com/puppetlabs/puppetlabs-firewall/issues&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;License&lt;/h2&gt; &#xA;&lt;p&gt;This codebase is licensed under the Apache2.0 licensing, however due to the nature of the codebase the open source dependencies may also use a combination of &lt;a href=&#34;https://opensource.org/license/agpl-v3/&#34;&gt;AGPL&lt;/a&gt;, &lt;a href=&#34;https://opensource.org/license/bsd-2-clause/&#34;&gt;BSD-2&lt;/a&gt;, &lt;a href=&#34;https://opensource.org/license/bsd-3-clause/&#34;&gt;BSD-3&lt;/a&gt;, &lt;a href=&#34;https://opensource.org/license/gpl-2-0/&#34;&gt;GPL2.0&lt;/a&gt;, &lt;a href=&#34;https://opensource.org/license/lgpl-3-0/&#34;&gt;LGPL&lt;/a&gt;, &lt;a href=&#34;https://opensource.org/license/mit/&#34;&gt;MIT&lt;/a&gt; and &lt;a href=&#34;https://opensource.org/license/mpl-2-0/&#34;&gt;MPL&lt;/a&gt; Licensing.&lt;/p&gt; &#xA;&lt;h2&gt;Development&lt;/h2&gt; &#xA;&lt;p&gt;Acceptance tests for this module leverage &lt;a href=&#34;https://github.com/puppetlabs/puppet_litmus&#34;&gt;puppet_litmus&lt;/a&gt;. To run the acceptance tests follow the instructions &lt;a href=&#34;https://github.com/puppetlabs/puppet_litmus/wiki/Tutorial:-use-Litmus-to-execute-acceptance-tests-with-a-sample-module-(MoTD)#install-the-necessary-gems-for-the-module&#34;&gt;here&lt;/a&gt;. You can also find a tutorial and walkthrough of using Litmus and the PDK on &lt;a href=&#34;https://www.youtube.com/watch?v=FYfR7ZEGHoE&#34;&gt;YouTube&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;If you run into an issue with this module, or if you would like to request a feature, please &lt;a href=&#34;https://github.com/puppetlabs/puppetlabs-firewall/issues&#34;&gt;file a ticket&lt;/a&gt;. Every Monday the Puppet IA Content Team has &lt;a href=&#34;https://puppet.com/community/office-hours&#34;&gt;office hours&lt;/a&gt; in the &lt;a href=&#34;http://slack.puppet.com/&#34;&gt;Puppet Community Slack&lt;/a&gt;, alternating between an EMEA friendly time (1300 UTC) and an Americas friendly time (0900 Pacific, 1700 UTC).&lt;/p&gt; &#xA;&lt;p&gt;If you have problems getting this module up and running, please &lt;a href=&#34;http://puppetlabs.com/services/customer-support&#34;&gt;contact Support&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;If you submit a change to this module, be sure to regenerate the reference documentation as follows:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;puppet strings generate --format markdown --out REFERENCE.md&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Testing&lt;/h3&gt; &#xA;&lt;p&gt;Make sure you have:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;rake&lt;/li&gt; &#xA; &lt;li&gt;bundler&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Install the necessary gems:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;bundle install&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;And run the tests from the root of the source code:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;bundle exec rake parallel_spec&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;See the Github Action runs for information on running the acceptance and other tests.&lt;/p&gt; &#xA;&lt;h3&gt;Migration path to v7.0.0&lt;/h3&gt; &#xA;&lt;p&gt;As of &lt;code&gt;v7.0.0&lt;/code&gt; of this module a major rework has been done to adopt the &lt;a href=&#34;https://github.com/puppetlabs/puppet-resource_api&#34;&gt;puppet-resource_api&lt;/a&gt; into the module and use it style of code in place of the original form of Puppet Type and Providers. This was done in the most part to increase the ease with with the module could be maintained and updated in the future, the changes helping to structure the module in such a way as to be more easily understood and altered going forward.&lt;/p&gt; &#xA;&lt;p&gt;As part of this process several breaking changes where made to the code that will need to be accounted for whenever you update to this new version of the module, with these changes including:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;The &lt;code&gt;provider&lt;/code&gt; attibute within the &lt;code&gt;firewall&lt;/code&gt; type has been renamed to &lt;code&gt;protocol&lt;/code&gt;, both to bring it in line with the matching attribute within the &lt;code&gt;firewallchain&lt;/code&gt; type and due to the resource_api forbidding the use of &lt;code&gt;provider&lt;/code&gt; as a attribute name. As part of this the attribute has also been updated to accept &lt;code&gt;IPv4&lt;/code&gt; and &lt;code&gt;IPv6&lt;/code&gt; in place of &lt;code&gt;iptables&lt;/code&gt; or &lt;code&gt;ip6tables&lt;/code&gt;, though they are still valid as input.&lt;/li&gt; &#xA; &lt;li&gt;The &lt;code&gt;action&lt;/code&gt; attribute within the &lt;code&gt;firewall&lt;/code&gt; type has been removed as it was merely a restricted version of the &lt;code&gt;jump&lt;/code&gt; attribute, both of them managing the same function, this being reasoned as a way to enforce the use of generic parameters. From this point the parameters formerly unique to &lt;code&gt;action&lt;/code&gt; should now be passed to &lt;code&gt;jump&lt;/code&gt;.&lt;/li&gt; &#xA; &lt;li&gt;Strict types have now been implemented for all attributes, while this should not require changes on the user end in most cases, there may be some instances where manifests will require updated to match the new expected form of input.&lt;/li&gt; &#xA; &lt;li&gt;Attributes that allow both arrays and negated values have now been updated. &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;For attributes that require that all passed values be negated as one, you now merely have to negate the first value within the array, rather than all of them, though negating all is still accepted.&lt;/li&gt; &#xA;   &lt;li&gt;For attributes that allow passed values to be negated seperately this is not the case. All attributes in this situation are noted within their description.&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;The &lt;code&gt;sport&lt;/code&gt; and &lt;code&gt;dport&lt;/code&gt; attributes have been updated so that they will now accept with &lt;code&gt;:&lt;/code&gt; or &lt;code&gt;-&lt;/code&gt; as a separator when passing ranges, with &lt;code&gt;:&lt;/code&gt; being preferred as it matches what is passed to iptables.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Two pairs of manifest taken from the tests can be seen below, illustrating the changes that may be required, the first applying a hoplimit on &lt;code&gt;ip6tables&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-Puppet&#34;&gt;firewall { &#39;571 - hop_limit&#39;:&#xA;  ensure    =&amp;gt; present,&#xA;  proto     =&amp;gt; &#39;tcp&#39;,&#xA;  dport     =&amp;gt; &#39;571&#39;,&#xA;  action    =&amp;gt; &#39;ACCEPT&#39;,&#xA;  hop_limit =&amp;gt; &#39;5&#39;,&#xA;  provider  =&amp;gt; &#39;ip6tables&#39;,&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-Puppet&#34;&gt;firewall { &#39;571 - hop_limit&#39;:&#xA;  ensure    =&amp;gt; present,&#xA;  proto     =&amp;gt; &#39;tcp&#39;,&#xA;  dport     =&amp;gt; &#39;571&#39;,&#xA;  jump      =&amp;gt; &#39;accept&#39;,&#xA;  hop_limit =&amp;gt; &#39;5&#39;,&#xA;  protocol  =&amp;gt; &#39;IPv6&#39;,&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;And the second negating access to a range of ports on &lt;code&gt;iptables&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-puppet&#34;&gt;firewall { &#39;560 - negated ports&#39;:&#xA;  proto  =&amp;gt; `tcp`,&#xA;  sport  =&amp;gt; [&#39;! 560-570&#39;,&#39;! 580&#39;],&#xA;  action =&amp;gt; `accept`,&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-puppet&#34;&gt;firewall { &#39;560 - negated ports&#39;:&#xA;  proto  =&amp;gt; `tcp`,&#xA;  sport  =&amp;gt; &#39;! 560:570&#39;,&#39;580&#39;,&#xA;  jump   =&amp;gt; `accept`,&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;</summary>
  </entry>
</feed>