<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Shell Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2022-09-24T01:38:39Z</updated>
  <subtitle>Daily Trending of Shell in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>MiaPepsi/DeckCleaner</title>
    <updated>2022-09-24T01:38:39Z</updated>
    <id>tag:github.com,2022-09-24:/MiaPepsi/DeckCleaner</id>
    <link href="https://github.com/MiaPepsi/DeckCleaner" rel="alternate"></link>
    <summary type="html">&lt;p&gt;This script allows you to manually delete the shadercache folder from your steamdeck, freeing up space on your boot drive.&lt;/p&gt;&lt;hr&gt;</summary>
  </entry>
  <entry>
    <title>billw2/rpi-clone</title>
    <updated>2022-09-24T01:38:39Z</updated>
    <id>tag:github.com,2022-09-24:/billw2/rpi-clone</id>
    <link href="https://github.com/billw2/rpi-clone" rel="alternate"></link>
    <summary type="html">&lt;p&gt;A shell script to clone a booted disk.&lt;/p&gt;&lt;hr&gt;&lt;h2&gt;rpi-clone&lt;/h2&gt; &#xA;&lt;p&gt;Latest version: 2.0.22&lt;/p&gt; &#xA;&lt;p&gt;Version 2 is a complete rewrite with improved capability over the original. See the examples below.&lt;/p&gt; &#xA;&lt;p&gt;rpi-clone is a shell script that is for cloning a running Raspberry Pi booted source disk (SD card or USB disk) to a destination disk which will be bootable. Destination disks are SD cards in the SD card slot or a USB card reader, USB flash disks, or USB hard drives.&lt;/p&gt; &#xA;&lt;p&gt;I also use rpi-clone on my Debian desktop, but there are too many variables in how an /etc/fstab can be set up and a desktop bootloader like grub can be configured for this to be an officially supported way of using rpi-clone. See On other OS below.&lt;/p&gt; &#xA;&lt;h4&gt;Clone by initialization&lt;/h4&gt; &#xA;&lt;p&gt;An initialization clone starts by imaging the source disk partition table to the destination disk This is is a convenience that gets the destination disk partitioned so you can avoid manual partitioning. Partitions are then cloned by making destination file systems matching the source file system types followed by file system syncs to the destinations. Initialization clones are used when the source file system types or number of partitions do not match the destination. An initialization clone can also be forced by command line option. An alternative to imaging the source partition table is to manually create partitions on a destination disk with file systems made to match the types in the source partitions. See example 7 below.&lt;/p&gt; &#xA;&lt;h4&gt;Clone by syncing&lt;/h4&gt; &#xA;&lt;p&gt;If the source and destination disk partition file system types match, the clone does not start over with a partition table image and making of filesytems, but instead mounts destination partitions corresponding to the source and syncs the file systems. After a first clone of a disk, this operation is an incremental sync which copies only the files that have changed in the source disk and is much faster than an initilization clone.&lt;/p&gt; &#xA;&lt;h2&gt;Install&lt;/h2&gt; &#xA;&lt;p&gt;rpi-clone is on github and is downloaded by cloning the repository. It is a standalone script and the install is a simple copy to a bin directory. When run it checks its program dependencies and offers to install needed packages. But currently rpi-clone knows how to install only Debian packages with apt-get.&lt;/p&gt; &#xA;&lt;h4&gt;On a Raspberry Pi:&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code&gt;&#x9;$ git clone https://github.com/billw2/rpi-clone.git &#xA;&#x9;$ cd rpi-clone&#xA;&#x9;$ sudo cp rpi-clone rpi-clone-setup /usr/local/sbin&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Make sure /usr/local/sbin is in your $PATH and then run rpi-clone or rpi-clone-setup with no args to print usage.&lt;/p&gt; &#xA;&lt;p&gt;rpi-clone-setup is for setting the hostname in /etc/hostname and /etc/hosts files. It is run automatically by rpi-clone if -s args are given, but before your first clone using a -s option, test run rpi-clone-setup with:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;      $ sudo rpi-clone-setup -t testhostname&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;And check the files under /tmp/clone-test to be sure the files have been edited correctly. If you need additional customizations to a clone, add them to the rpi-clone-setup script.&lt;/p&gt; &#xA;&lt;h4&gt;On other OS:&lt;/h4&gt; &#xA;&lt;p&gt;To install on another OS, rpi-clone may be renamed to suit. For example, on my Debian desktop I rename:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;&#x9;$ git clone https://github.com/billw2/rpi-clone.git &#xA;&#x9;$ cd rpi-clone&#xA;&#x9;$ sudo cp rpi-clone /usr/local/sbin/sys-clone&#xA;&#x9;$ sudo cp rpi-clone-setup /usr/local/sbin/sys-clone-setup&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;On SD card systems other than Raspberry Pi, rpi-clone may work because an initialize clone images the sectors through the start of partition 1 to capture the partition table and possible boot loader blocks. However, unlike the Pi, a bootloader install may need to be run in the setup script. As of version 2.0.21 this may be a new requirement for some systems because rpi-clone no longer images past the end of the first partition.&lt;/p&gt; &#xA;&lt;p&gt;rpi-clone does not directly support a traditional desktop OS because there are different possible bootloaders and while device names or PARTUUID are handled for /etc/fstab, file system UUIDs are not handled. However, it works for me and I use rpi-clone renamed as sys-clone on my Debian desktop because I use PARTUUID in my fstab and I use the grub bootloader (rpi-clone will run grub-install if it detects it installed and there is a /boot/grub directory). Using PARTUUID makes fstab editing simple because only a single number identifies the entire disk. I do have possible ambiguity in my grub menu setup because I only use device names in my menu entries while the fstab uses PARTUUID. But what actually happens is that with a root=/dev/sda2 in my grub menu default boot line, a USB disk will boot as sda if I have the disk plugged in when booting, which is what I want. Device names in fstab are a bad idea when doing this because the USB disk root partition could boot and then mount my internal drive partitions instead of the USB partitions. But I use PARTUUID so there will not be cross mounting. And I have a couple of extra grub menu entries with other root variations just in case.&lt;/p&gt; &#xA;&lt;h2&gt;Usage&lt;/h2&gt; &#xA;&lt;p&gt;To get a usage screen showing available options, run rpi-clone without any arguments:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;pi@rpi0: $ sudo rpi-clone&#xA;No destination disk given.&#xA;&#xA;usage: sys-clone sdN {-v|--verbose} {-f|--force-initialize} {-f2}&#xA;         {-u|--unattended} {-U|--Unattended} {-q|--quiet}&#xA;         {-s|--setup host} {-e|--edit-fstab sdX } {-m|--mountdir dir }&#xA;         {-L|--label-partitions label} {-l|--leave-sd-usb-boot}&#xA;         {-a|--all-sync} {-F|--Force-sync} {-x} {-V|--version}&#xA;         {--convert-fstab-to-partuuid}&#xA;         {--exclude=PATTERN} {--exclude-from=FILE}&#xA;&#xA;    -v&#x9;    - verbose rsync, list all files as they are copied.&#xA;    -f&#x9;    - force initialize the destination disk by imaging the booted disk&#xA;                partition structure.  File systems are then synced or imaged.&#xA;    -f2&#x9;    - force initialize only the first 2 partitions to the destination.&#xA;                So a multi partition USB boot can initialize clone back to&#xA;                a 2 partition SD card.&#xA;    -p size - resize destination partition 1 to &#39;size&#39; bytes. For two partition&#xA;                initialize (when first clone to blank disk or using -f2 or -f).&#xA;                Use &#39;sizeM&#39; for MiB size units. eg -p 256M equals -p 268435456&#xA;    -u&#x9;    - unattended clone if not initializing.  No confirmations asked,&#xA;                but abort if disk needs initializing or on error.&#xA;    -U      - unattended even if initializing. No confirmations asked,&#xA;                but abort only on errors.&#xA;    -q      - quiet mode, no output unless errors or initializing. Implies -u.&#xA;    -s host - add &#39;host&#39; to args passed to script rpi-clone-setup and run it&#xA;                after cloning but before unmounting partitions. For setting&#xA;                clone disk hostname, but args can be what the script expects.&#xA;                You can give multiple -s arg options.&#xA;    -e sdX  - edit destination fstab to change booted device names to new&#xA;      &#x9;        device &#39;sdX&#39;.  This is Only for fstabs that use device names.&#xA;                Used for setting up a USB bootable disk.&#xA;    -m dir  - Add dir to a custom list of mounted directories to sync.  Then&#xA;                the custom list will be synced instead of the default of all&#xA;                mounted directories.  The root directory is always synced.&#xA;                Not for when initializing.&#xA;    -L lbl  - label for ext type partitions.  If &#39;lbl&#39; ends with &#39;#&#39;, replace&#xA;&#x9;&#x9;&#x9;&#x9;the &#39;#&#39; with a partition number and label all ext partitions.&#xA;                Otherwise apply label to root partition only.&#xA;    -l      - leave SD card to USB boot alone when cloning to SD card mmcblk0&#xA;                from a USB boot.  This preserves a SD card to USB boot setup&#xA;                by leaving the SD card cmdline.txt using the USB root.&#x9;When&#xA;                cloning to USB from SD card this option sets up the SD card&#xA;                cmdline.txt to boot to the USB disk.&#xA;    -a      - Sync all partitions if types compatible, not just mounted ones.&#xA;    -F      - force file system sync or image for some errors. eg:&#xA;                If source used &amp;gt; destination space error, do the sync anyway.&#xA;                If a source partition mount error, skip it and do other syncs.&#xA;    -x      - use set -x for very verbose bash shell script debugging&#xA;    -V      - print rpi-clone version.&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;See examples below for usage of these command line options.&lt;/li&gt; &#xA; &lt;li&gt;rpi-clone version 1 briefly had a -s option that is replaced with a -s option that has different meaning.&lt;/li&gt; &#xA; &lt;li&gt;&lt;strong&gt;--convert-fstab-to-partuuid&lt;/strong&gt; converts the booted fstab from using device names to PARTUUID. This is a helper if you wish to convert to PARTUUID as is standard in recent Raspbian distributions. After running, PARTUUID usage will propagate to subsequent clones. This changes the booted fstab and cmdline.txt, so have a backup first.&lt;/li&gt; &#xA; &lt;li&gt;FUSE mounts (ssh mounts) should be unmounted before cloning or else the directory mounted on will not stat and the directory will not be made on the clone. You will get a readlink stat error from rsync because root can&#39;t access a users FUSE mount - only the user can.&lt;/li&gt; &#xA; &lt;li&gt;The examples below show a /boot partition smaller than recommended for the recent Rasbian Buster release. rpi-clone version 2.0.21 adds the -p option so the /boot partition can be resized at the same time the root partition is resized to the end of the disk. If you upgraded Stretch to Buster and are running with a small /boot, then for the clone to have a resized /boot, run:&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;&#x9;$ rpi-clone -f -p 256M sda&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;rpi-clone Example Runs&lt;/h2&gt; &#xA;&lt;h4&gt;0) Examples review - a quick guide to what the examples cover in detail.&lt;/h4&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Typical two partition clones - SD card or USB disk to USB disk:&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code&gt;&#x9;$ rpi-clone sda&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ol start=&#34;2&#34;&gt; &#xA; &lt;li&gt;USB boot - clone back to SD card slot:&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code&gt;&#x9;$ rpi-clone mmcblk0&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ol start=&#34;3&#34;&gt; &#xA; &lt;li&gt;Clone to USB disk intended for use as a standalone Pi3 bootable disk. No special rpi-clone args are required.&lt;/li&gt; &#xA; &lt;li&gt;SD card to USB disk clone to create a SD card to USB boot setup:&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code&gt;If fstab uses PARTUUID:&#xA;&#x9;$ rpi-clone -l sda&#xA;If fstab uses device names:&#xA;&#x9;$ rpi-clone -l sda -e sda&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ol start=&#34;5&#34;&gt; &#xA; &lt;li&gt;USB boot clone back to SD card slot that preserves SD card to USB boot setup:&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code&gt;&#x9;$ rpi-clone -l mmcblk0&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ol start=&#34;6&#34;&gt; &#xA; &lt;li&gt;Attempted clone to a disk that is too small.&lt;/li&gt; &#xA; &lt;li&gt;Manually partition a disk with three partitions so it can be cloned to from a two partition boot.&lt;/li&gt; &#xA; &lt;li&gt;Clone from three partition disk to smaller disk large enough to hold the source three partitions.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code&gt;&#x9;$ rpi-clone sdb&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ol start=&#34;9&#34;&gt; &#xA; &lt;li&gt;Clone from three partition disk to smaller disk (sdN or mmcblk0) not large enough to hold the source three partitions. A first initialize clone forces a clone of only the first two partitions:&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code&gt;&#x9;$ rpi-clone sdb -f2&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ol start=&#34;10&#34;&gt; &#xA; &lt;li&gt;Subsequent sync clones from three partition disk to two partition disk (sdN or mmcblk0):&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code&gt;If the source third partition is not mounted:&#xA;&#x9;$ rpi-clone sdb&#xA;If the source third partition is mounted, select partitions to clone:&#xA;&#x9;$ rpi-clone sdb -m /boot&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt; - if a larger USB disk is manually partitioned to create more than three partitions as in example 7, a smaller disk can be initialize cloned to only if it is large enough to hold at least part of the last source partition. If it is not, then the clone will have to be to a two partition -f2 clone or a clone to a manually partitioned destination. So, for a multi partition disk, select partition number and sizes with a eye towards how you will be cloning back to smaller disks. 11. Desktop demo&lt;/p&gt; &#xA;&lt;h4&gt;1) First clone to a new SD card in USB card reader&lt;/h4&gt; &#xA;&lt;p&gt;In this example a new SD card in a USB card reader has been plugged in that I want to clone to, but it could also be to a USB disk or from a USB disk back to the SD card slot. In this case, the disk showed up as sdb because I have another USB disk sda plugged in. Look in /proc/partitions to see where yours is. The destination disk does not have partition types matching the booted disk.&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;The clone will be an initialize because of partition types mismatch.&lt;/li&gt; &#xA; &lt;li&gt;The destination last partition will be resized down in this case because the destination disk is smaller than the booted disk.&lt;/li&gt; &#xA; &lt;li&gt;rpi-clone will ask for a destination root label which I will give so I can keep track of my clones.&lt;/li&gt; &#xA; &lt;li&gt;If PARTUUID is used in fstab and cmdline.txt, those files will be edited to use the PARTUUID of the destination SD card. The SD card will bootable when plugged in to the SD card slot.&lt;/li&gt; &#xA; &lt;li&gt;If fstab and cmdline.txt use device names (mmcblk0), then rpi-clone does need to edit the fstab and the card will be bootable when plugged into a SD card slot.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;pi@rpi0: $ sudo rpi-clone sdb&#xA;&#xA;Booted disk: mmcblk0 16.0GB                Destination disk: sdb 8.0GB&#xA;---------------------------------------------------------------------------&#xA;Part      Size    FS     Label           Part   Size    FS     Label&#xA;1 /boot   58.4MB  fat16  --              1       8.0GB  fat32  --&#xA;2 root    16.0GB  ext4   SD-RPI-s1                               &#xA;---------------------------------------------------------------------------&#xA;== Initialize: IMAGE mmcblk0 partition table to sdb - FS types mismatch ==&#xA;1 /boot     (22.5MB used)    : IMAGE     to sdb1  FSCK&#xA;2 root      (6.0GB used)     : RESIZE(8.0GB) MKFS SYNC to sdb2&#xA;---------------------------------------------------------------------------&#xA;Run setup script       : no&#xA;Verbose mode           : no&#xA;-----------------------:&#xA;** WARNING **          : All destination disk sdb data will be overwritten!&#xA;                       : The partition structure will be imaged from mmcblk0.&#xA;-----------------------:&#xA;&#xA;Initialize and clone to the destination disk sdb?  (yes/no): yes&#xA;Optional destination rootfs /dev/sdb2 label (16 chars max): SD-RPI-8a&#xA;... &#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;2) Subsequent clone to the same SD card in USB card reader as example 1&lt;/h4&gt; &#xA;&lt;p&gt;This time the destination partition type will match the source booted types, and I&#39;ll add a rpi-clone-setup script -s arg to set a different destination disk hostname.&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;The clone will be a pure sync where only modified files will be copied.&lt;/li&gt; &#xA; &lt;li&gt;The setup script will set the hostnames in the destination disk files /etc/hostname and /etc/hosts to what I give with -s, in this case rpi2.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;pi@rpi0: $ sudo rpi-clone sdb -s rpi2&#xA;&#xA;Booted disk: mmcblk0 16.0GB                Destination disk: sdb 8.0GB&#xA;---------------------------------------------------------------------------&#xA;Part      Size    FS     Label           Part   Size    FS     Label&#xA;1 /boot   58.4MB  fat16  --              1      58.4MB  fat16  --&#xA;2 root    16.0GB  ext4   SD-RPI-s1       2       8.0GB  ext4   SD-RPI-8a&#xA;---------------------------------------------------------------------------&#xA;== SYNC mmcblk0 file systems to sdb ==&#xA;/boot       (22.5MB used)    : SYNC to sdb1 (58.4MB size)&#xA;/           (6.0GB used)     : SYNC to sdb2 (8.0GB size)&#xA;---------------------------------------------------------------------------&#xA;Run setup script       : rpi-clone-setup  rpi2&#xA;Verbose mode           : no&#xA;-----------------------:&#xA;&#xA;Ok to proceed with the clone?  (yes/no): &#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;3) Cloning a Pi3 when fstab uses PARTUUID&lt;/h4&gt; &#xA;&lt;p&gt;If fstab and cmdline.txt use PARTUUID as is the case in recent Raspbian distributions, rpi-clone always edits** the destination fstab and cmdline.txt to use the PARTUUID of the destination disk. So the destination is always bootable. If it is a USB flash or hard drive it is automatically bootable on a Pi3 as a USB disk so long as the Pi3 has been USB boot enabled with a program_usb_boot_mode=1 line in /boot/config.txt.&lt;/p&gt; &#xA;&lt;p&gt;** There is one exception. When using the -l option, which is used for creating or preserving a special SD card to USB boot, the cmdline.txt on the SD card is not edited after a clone to the SD card, see examples 4 and 5.&lt;/p&gt; &#xA;&lt;h4&gt;4) Creating a USB bootable disk for other than a USB enabled Pi3&lt;/h4&gt; &#xA;&lt;p&gt;rpi-clone can be used to create a SD card to USB boot setup and preserve that setup when cloning from a USB boot back to the SD card slot. With the SD card booted and a target USB disk plugged in and assuming the USB disk shows up as sda, the initial clone command depends on fstab usage of device names or PARTUUID.&lt;/p&gt; &#xA;&lt;p&gt;=&amp;gt; Before you do this, have a backup of your booted SD card made as in example 2 without the -l option because these steps will change the booted SD card cmdline.txt to a USB boot.&lt;/p&gt; &#xA;&lt;p&gt;If fstab is using PARTUUID, run:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ rpi-clone -l sda&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Or if fstab is using device names, run:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ rpi-clone -l -e sda sda&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;Destination disk &#34;sda&#34; will be synced or initialized if required (or add the -f option to force initialize).&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;After files are synced the destination sda fstab and cmdline.txt will be edited to reference either device names or PARTUUID for the USB disk. For the fstab uses device names case, the &#34;-e sda&#34; means to edit the destination /etc/fstab to use &#34;sda&#34; for the root (will be sda1) and /boot (will be sda2) lines. Also, the destination disk /boot/cmdline.txt will be edited to use root=/dev/sda2. It is expected that when the USB disk is plugged in for booting to, it will be sda and this will be a cause of boot failure if it is not. So using PARTUUID is better because that will reliably boot.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;The -l option causes the SD card cmdline.txt to be backed up to cmdline.boot and the destination USB disk cmdline.txt to be copied to the SD card. Since the USB cmdline.txt was edited to reference the USB disk, the next Pi boot will start with the SD card /boot partition, but will redirect to using the USB root partition. Since the USB fstab was edited to reference the USB disk, the Pi will boot with the USB partition 1 mounted on /boot. The SD card /boot partition that initiated the boot process is no longer in use but can remain in place for subsequent SD card to USB boots. To make the SD card standalone bootable again, its cmdline.boot can be moved back to cmdline.txt.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;If -l is not used, rpi-clone will not replace the currently booted SD card cmdline.txt and it will need to be edited by hand for the USB boot to work.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Also a caution note if fstab uses device names: check your /boot to be sure it is mounted with /dev/sda1 after booting to USB. I have a Pi where this fails even though syslog says it mounted. Just be sure to check when you first do this and before you try example 5.&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Now when the Pi is booted from SD card to USB and the SD card is no longer in use, the SD card slot is available for cloning to.&lt;/p&gt; &#xA;&lt;h4&gt;5) Cloning back to SD cards in the SD card slot from USB boots&lt;/h4&gt; &#xA;&lt;p&gt;Whether the boot was a Pi3 straight to USB or a SD card to USB, the SD card is not in use so it is free to clone back to. This creates a standalone bootable SD card:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ rpi-clone mmcblk0&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;However, for the case where the boot was SD card to USB, this destroys the ability of the SD card to boot to USB. To preserve that SD to USB boot setup, run:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ rpi-clone -l mmcblk0&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;The SD card is cloned to as before. It now has the USB /boot/cmdline.txt.&lt;/li&gt; &#xA; &lt;li&gt;But the -l option prevents editing that cmdline.txt to reference the SD card. It is left alone so that it still references the USB root partition. So the clone has created USB disk to SD card backup while preserving the SD card to USB boot setup. On the SD card a backup cmdline.boot is created and edited to reference the SD card. That backup can be moved to be cmdline.txt to make the SD card standalone bootable should you ever want to do that. Or you could just clone to the SD card without using -l.&lt;/li&gt; &#xA; &lt;li&gt;Both above mmcblk0 clone commands apply whether using PARTUUID or device names. When using device names and cloning to SD cards, rpi-clone knows fstab device names need editing so &#34;-e mmcblk0p&#34; is assumed. Now the SD card can be left in permanently and periodically cloned to for backups and reboots to USB will work as you want. Or other SD cards can be inserted to create a set of backups. If making a clone for another Pi that will be SD card bootable, don&#39;t use -l.&lt;/li&gt; &#xA; &lt;li&gt;Warning: this works if the original SD card to USB boot setup has edited the USB /etc/fstab to reference USB partitions as is done by rpi-clone when creating a USB bootable disk with -l. If you have an existing SD card to USB boot setup where this was not done, then your USB boot likely has the SD card /boot partition mounted, the SD card is in use and using rpi-clone for a clone back to the SD card slot will not work.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h4&gt;6) Clone to smaller 4GB SD card&lt;/h4&gt; &#xA;&lt;p&gt;I happen to have an old 4GB SD card and here&#39;s a try to clone to it:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;root@rpi2: ~$ rpi-clone sda&#xA;&#xA;Booted disk: mmcblk0 15.8GB                Destination disk: sda 4.0GB&#xA;---------------------------------------------------------------------------&#xA;Part      Size    FS     Label           Part   Size    FS     Label&#xA;1 /boot   58.4MB  fat16  --              1      58.4MB  fat16  --&#xA;2 root    15.8GB  ext4   SD-RPI-16N      2       3.9GB  ext4   --&#xA;---------------------------------------------------------------------------&#xA;== SYNC mmcblk0 file systems to sda ==&#xA;/boot       (22.5MB used)    : SYNC to sda1 (58.4MB size)&#xA;/           (5.9GB used)     : SYNC to sda2 (3.9GB size)&#xA;---------------------------------------------------------------------------&#xA;Run setup script       : no&#xA;Verbose mode           : no&#xA;-----------------------:&#xA;** FATAL **            : Partition 2: source used &amp;gt; destination space.&#xA;-----------------------:&#xA;&#xA;Aborting!&#xA;  Use -F to override used &amp;gt; space fail.&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;So even if rpi-clone thinks that the sync won&#39;t work because of lack of space, there is a -F option which will allow the clone to proceed anyway. The interesting thing about this case is that while this might seem a bad idea, the sync will actually come close to succeeding. That&#39;s because the root used space includes a 1.8GB file system based swap file (/var/swap) that will be excluded from the sync. If this clone is forced with -F, the card may boot, but there could be some missing files if the rsync runs out of space and fails to complete and some things would not work. This is just a FYI.&lt;/p&gt; &#xA;&lt;h4&gt;7) Clone SD card to USB disk with extra partitions&lt;/h4&gt; &#xA;&lt;p&gt;If you have space with a larger USB disk, you can manually partition it with extra partitions and clone to it. If partition types and file systems are made to match the booted SD card, then rpi-clone will sync files and not try to initialize so the extra destination partitions will not be touched.&lt;/p&gt; &#xA;&lt;p&gt;The requirement to make this work is getting the first two partition types and file systems right, but the sizes may be different. gparted will make filesystems automatically but cfdisk or fdisk will not and if file systems aren&#39;t made, rpi-clone will fail to mount the partitions.&lt;/p&gt; &#xA;&lt;p&gt;For this example I wanted to partition a 64GB flash disk into 3 partitions so I could have a large third partition for data. I made the second root partition 16GB so I could clone this to a 32GB disk and still have a data partition.&lt;/p&gt; &#xA;&lt;p&gt;If using cfdisk or fdisk to make the partitions and then making the file systems, the work would be:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;  Partition Type               Size          Make File System&#xA;  1: type c  W95 FAT32 (LBA)   100MiB        mkfs -t vfat -F 32 /dev/sda1&#xA;  2: type 83 Linux              16GiB        mkfs.ext4 /dev/sda2&#xA;  3: type 83 Linux             rest of disk  mkfs.ext4 /dev/sda3&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;But what I did was use gparted so the file systems were made for me. Also, in anticipation of initialize cloning back to SD cards, I set the first partition start to be 8192 (by setting &#34;Free space preceding&#34; to 4MiB) to match Raspbian distribution SD card images. Also I made partition sizes in multiples of 4MiB for SD card compatibility.&lt;/p&gt; &#xA;&lt;p&gt;Now I cloned to the 64GB disk. It synced only my two booted partitions instead of initializing, and it left the third partition alone:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;pi@rpi2: ~$ sudo rpi-clone sda&#xA;&#xA;Booted disk: mmcblk0 15.8GB                Destination disk: sda 64.2GB&#xA;---------------------------------------------------------------------------&#xA;Part      Size    FS     Label           Part   Size    FS     Label&#xA;1 /boot   58.4MB  fat16  --              1     104.4MB  fat32  --&#xA;2 root    15.8GB  ext4   SD-RPI-16N      2      16.8GB  ext4   Samsung 64GB A&#xA;                                         3      47.3GB  ext4   --&#xA;---------------------------------------------------------------------------&#xA;== SYNC mmcblk0 file systems to sda ==&#xA;/boot       (22.5MB used)    : SYNC to sda1 (104.4MB size)&#xA;/           (5.9GB used)     : SYNC to sda2 (16.8GB size)&#xA;---------------------------------------------------------------------------&#xA;Run setup script       : no&#xA;Verbose mode           : no&#xA;-----------------------:&#xA;&#xA;Ok to proceed with the clone?  (yes/no):&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;This was a boot enabled Pi3, so I simply powered down, pulled the SD card, and rebooted into the three partition USB disk.&lt;/p&gt; &#xA;&lt;h4&gt;8) Clone 64GB USB disk with extra partitions to smaller 32GB USB disk&lt;/h4&gt; &#xA;&lt;p&gt;With the USB disk made in example 7 booted and the third partition mounted, this is a clone to a smaller 32GB USB disk that is still large enough to hold three partitions. The disk is not manually formatted so it will be an initialize clone. The space used in the 64GB source third partition fits into the size of the destination 32GB disk third partition, so there is no problem:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;pi@rpi2: ~$ sudo rpi-clone sdb&#xA;&#xA;Booted disk: sda 64.2GB                    Destination disk: sdb 31.5GB&#xA;---------------------------------------------------------------------------&#xA;Part               Size    FS     Label           Part   Size    FS     Label&#xA;1 /boot           104.4MB  fat32  --              1      31.5GB  fat32  --&#xA;2 root             16.8GB  ext4   Samsung 64GB A                          &#xA;3 /home/pi/media   47.3GB  ext4   --                                      &#xA;---------------------------------------------------------------------------&#xA;== Initialize: IMAGE sda partition table to sdb - FS types mismatch ==&#xA;1 /boot               (21.5MB used)  : IMAGE     to sdb1  FSCK&#xA;2 root                (5.9GB used)   : MKFS SYNC to sdb2&#xA;3 /home/pi/media      (54.3MB used)  : RESIZE(14.6GB) MKFS SYNC to sdb3&#xA;---------------------------------------------------------------------------&#xA;Run setup script       : no&#xA;Verbose mode           : no&#xA;-----------------------:&#xA;** WARNING **          : All destination disk sdb data will be overwritten!&#xA;                       :   The partition structure will be imaged from sda.&#xA;-----------------------:&#xA;&#xA;Initialize and clone to the destination disk sdb?  (yes/no): &#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Note that if I had partitioned the 64GB disk with more than three partitions it would have been more difficult to clone down to the 32GB card. If there had been 4 partitions, then a smaller disk has to be large enough to image the sizes of the first three source partitions. If the disk is too small for that, then an initialize clone would be limited to a two partition clone as the next example shows. The other alternative would be a manual partition. The take away is that you need to consider how you would be cloning to smaller disks when you partition a larger disk for a Pi.&lt;/p&gt; &#xA;&lt;h4&gt;9) Clone 64GB USB disk with extra partitions to new 16GB SD card&lt;/h4&gt; &#xA;&lt;p&gt;With a USB boot, the SD card slot is available for use, so I plugged in a 16GB SD card to clone to:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;pi@rpi2: ~$ sudo rpi-clone mmcblk0&#xA;&#xA;Booted disk: sda 64.2GB                    Destination disk: mmcblk0 15.8GB&#xA;---------------------------------------------------------------------------&#xA;Part               Size    FS     Label           Part   Size    FS     Label&#xA;1 /boot           104.4MB  fat32  --              1      15.8GB  fat32  --&#xA;2 root             16.8GB  ext4   Samsung 64GB A                       &#xA;3 /home/pi/media   47.3GB  ext4   --                                   &#xA;---------------------------------------------------------------------------&#xA;Initialize required    : partition - types mismatch.&#xA;                       :   The minimum destination disk size is 16.9GB&#xA;                       :   The destination disk is too small.&#xA;                       :   You could try a two partition -f2 clone.&#xA;-----------------------:&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;This failed because there is a type mismatch that requires an initialize and additionally the SD card does not have the space for three partitions given the size of the source disk second partition. The solution is to tell rpi-clone to clone only the first two partitions and accept that this backup cannot back up the data partition. The -f2 option is just for going back to a two partition disk from a multi partitioned disk:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;pi@rpi2: ~$ sudo rpi-clone mmcblk0 -f2&#xA;&#xA;Booted disk: sda 64.2GB                    Destination disk: mmcblk0 15.8GB&#xA;---------------------------------------------------------------------------&#xA;Part               Size    FS     Label           Part   Size    FS     Label&#xA;1 /boot           104.4MB  fat32  --              1      15.8GB  fat32  --&#xA;2 root             16.8GB  ext4   Samsung 64GB A                          &#xA;3 /home/pi/media   47.3GB  ext4   --                                      &#xA;---------------------------------------------------------------------------&#xA;== Initialize: IMAGE sda partition table to mmcblk0 - forced by option ==&#xA;1 /boot               (21.5MB used)  : IMAGE     to mmcblk0p1  FSCK&#xA;2 root                (5.9GB used)   : RESIZE(15.7GB) MKFS SYNC to mmcblk0p2&#xA;---------------------------------------------------------------------------&#xA;-f2                    : force initialize to first two partitions only&#xA;Run setup script       : no&#xA;Verbose mode           : no&#xA;-----------------------:&#xA;** WARNING **          : All destination disk mmcblk0 data will be overwritten!&#xA;                       :   The partition structure will be imaged from sda.&#xA;-----------------------:&#xA;&#xA;Initialize and clone to the destination disk mmcblk0?  (yes/no): &#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;I&#39;m using PARTUUID in /etc/fstab, but if I weren&#39;t, this clone would also automatically edit mmcblk0p names into the destination disk fstab.&lt;/p&gt; &#xA;&lt;h4&gt;10) Sync Clone 64GB USB disk with extra partitions to 16GB SD card&lt;/h4&gt; &#xA;&lt;p&gt;With an initialize clone to the SD card done in example 8, I expect subsequent clones to be sync clones. But I run the rpi-clone command and I get an error requiring another initialize. This time the error is because rpi-clone wants to clone the mounted third partition and there is no destination third partition:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;pi@rpi2: ~$ sudo rpi-clone mmcblk0 &#xA;&#xA;Booted disk: sda 64.2GB                    Destination disk: mmcblk0 15.8GB&#xA;---------------------------------------------------------------------------&#xA;Part               Size    FS     Label           Part   Size    FS     Label&#xA;1 /boot           104.4MB  fat32  --              1     104.4MB  fat32  --&#xA;2 root             16.8GB  ext4   Samsung 64GB A  2      15.7GB  ext4   SD-16c&#xA;3 /home/pi/media   47.3GB  ext4   --                                      &#xA;---------------------------------------------------------------------------&#xA;Initialize required    : partition 3 /home/pi/media - destination missing.&#xA;                       :   Unmount source partitions or use -m&#xA;-----------------------:&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;But I want to sync and not do another long -f2 initialize, so there are two choices. If I unmount the third partition, the clone will sync. If I don&#39;t want to do that, I can tell rpi-clone to sync clone only the /boot partition (the root partition is included by default):&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;pi@rpi2: ~$ sudo rpi-clone mmcblk0 -m /boot&#xA;&#xA;Booted disk: sda 64.2GB                    Destination disk: mmcblk0 15.8GB&#xA;---------------------------------------------------------------------------&#xA;Part               Size    FS     Label           Part   Size    FS     Label&#xA;1 /boot           104.4MB  fat32  --              1     104.4MB  fat32  --&#xA;2 root             16.8GB  ext4   Samsung 64GB A  2      15.7GB  ext4   SD-16c&#xA;3 /home/pi/media   47.3GB  ext4   --                                      &#xA;---------------------------------------------------------------------------&#xA;== SYNC sda file systems to mmcblk0 ==&#xA;/boot                 (21.5MB used)  : SYNC to mmcblk0p1 (104.4MB size)&#xA;/                     (5.9GB used)   : SYNC to mmcblk0p2 (15.7GB size)&#xA;---------------------------------------------------------------------------&#xA;Run setup script       : no&#xA;Verbose mode           : no&#xA;-----------------------:&#xA;&#xA;Ok to proceed with the clone?  (yes/no): &#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;11) Clones from my Debian desktop&lt;/h4&gt; &#xA;&lt;p&gt;Here are a couple of runs to show how rpi-clone looks handling more complex partitioning on my desktop. I have three primary partitions and extra extended partitions. I don&#39;t have a separate /boot partition but have a small first partition in case I want to change that. It probably won&#39;t work if there is a primary partition after an extended partition.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;~$ sudo sys-clone sdb&#xA;/usr/sbin/grub-install&#xA;&#xA;Booted disk: sda 275.1GB                   Destination disk: sdb 320.1GB&#xA;---------------------------------------------------------------------------&#xA;Part         Size    FS    Label           Part   Size    FS  Label&#xA;1             1.0GB  ext4  SSD-275-G6-p1   1     320.1GB  --  --&#xA;2 root       52.4GB  ext4  SSD-275-G6-p2                        &#xA;3            12.6GB  swap  --                                   &#xA;4           209.0GB  EXT   --                                   &#xA;5 /home      62.9GB  ext4  SSD-275-G6-p5                        &#xA;6 /mnt/sda  146.1GB  ext4  SSD-275-G6-p6                        &#xA;---------------------------------------------------------------------------&#xA;== Initialize: IMAGE sda partition table to sdb - FS types mismatch ==&#xA;1                                    : IMAGE     to sdb1&#xA;2 root                (15.3GB used)  : MKFS SYNC to sdb2&#xA;3                                    : MKSWAP&#xA;5 /home               (12.9GB used)  : MKFS SYNC to sdb5&#xA;6 /mnt/sda            (73.1GB used)  : RESIZE(191.1GB) MKFS SYNC to sdb6&#xA;---------------------------------------------------------------------------&#xA;Run setup script       : no&#xA;Run grub               : grub-install --root-directory=/mnt/clone /dev/sdb&#xA;Verbose mode           : no&#xA;-----------------------:&#xA;** WARNING **          : All destination disk sdb data will be overwritten!&#xA;                       :   The partition structure will be imaged from sda.&#xA;-----------------------:&#xA;&#xA;Initialize and clone to the destination disk sdb?  (yes/no): &#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;And a subsequent sync to the same disk after I have manually labeled all the partitions:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;~$ sudo sys-clone sdb&#xA;/usr/sbin/grub-install&#xA;&#xA;Booted disk: sda 275.1GB                   Destination disk: sdb 320.1GB&#xA;---------------------------------------------------------------------------&#xA;Part         Size    FS    Label           Part   Size    FS    Label&#xA;1             1.0GB  ext4  SSD-275-G6-p1   1       1.0GB  ext4  Maxone-320A-p1&#xA;2 root       52.4GB  ext4  SSD-275-G6-p2   2      52.4GB  ext4  Maxone-320A-p2&#xA;3            12.6GB  swap  --              3      12.6GB  swap  --&#xA;4           209.0GB  EXT   --              4     254.0GB  EXT   --&#xA;5 /home      62.9GB  ext4  SSD-275-G6-p5   5      62.9GB  ext4  Maxone-320A-p5&#xA;6 /mnt/sda  146.1GB  ext4  SSD-275-G6-p6   6     191.1GB  ext4  Maxone-320A-p6&#xA;---------------------------------------------------------------------------&#xA;== SYNC sda file systems to sdb ==&#xA;/                     (15.3GB used)  : SYNC to sdb2 (52.4GB size)&#xA;/home                 (12.9GB used)  : SYNC to sdb5 (62.9GB size)&#xA;/mnt/sda              (73.1GB used)  : SYNC to sdb6 (191.1GB size)&#xA;---------------------------------------------------------------------------&#xA;Run setup script       : no&#xA;Run grub               : grub-install --root-directory=/mnt/clone /dev/sdb&#xA;Verbose mode           : no&#xA;-----------------------:&#xA;&#xA;Ok to proceed with the clone?  (yes/no): &#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Author&lt;/h2&gt; &#xA;&lt;p&gt;Bill Wilson billw--at--gkrellm.net&lt;/p&gt;</summary>
  </entry>
  <entry>
    <title>fpv-wtf/wtfos</title>
    <updated>2022-09-24T01:38:39Z</updated>
    <id>tag:github.com,2022-09-24:/fpv-wtf/wtfos</id>
    <link href="https://github.com/fpv-wtf/wtfos" rel="alternate"></link>
    <summary type="html">&lt;p&gt;A framework for modifying the firmware of DJI FPV Goggles and Air Units&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;About&lt;/h1&gt; &#xA;&lt;p&gt;&lt;strong&gt;wtfos&lt;/strong&gt; is a community framework for modifying the firmware of DJI FPV Goggles and Air Units enabled by &lt;a href=&#34;https://github.com/fpv-wtf/margerine&#34;&gt;margerine&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;It includes anti-bricking measures, a &lt;a href=&#34;https://github.com/fpv-wtf/wtfos-configurator&#34;&gt;configurator&lt;/a&gt;, a &lt;a href=&#34;https://git.yoctoproject.org/opkg/&#34;&gt;package manager&lt;/a&gt;, a &lt;a href=&#34;https://github.com/davmac314/dinit&#34;&gt;service manager&lt;/a&gt; and a &lt;a href=&#34;https://github.com/fpv-wtf/wtfos-modloader&#34;&gt;vendor service modification framework&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;You can support the project on &lt;a href=&#34;https://opencollective.com/fpv-wtf/donate?amount=10&#34;&gt;Open Collective&lt;/a&gt; and join us on our &lt;a href=&#34;https://discord.gg/3rpnBBJKtU&#34;&gt;Discord&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Video Guide&lt;/h2&gt; &#xA;&lt;p&gt;See Mad&#39;s Tech&#39;s &lt;a href=&#34;https://www.youtube.com/watch?v=hNOA0kUjKhY&#34;&gt;getting started guide&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=hNOA0kUjKhY&#34;&gt;&lt;img src=&#34;https://img.youtube.com/vi/hNOA0kUjKhY/0.jpg&#34; alt=&#34;Mad&#39;s Tech wtfos getting started guide&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Compatability&lt;/h2&gt; &#xA;&lt;p&gt;wtfos-configurator officially only supports rooting on &lt;strong&gt;V01.00.0606&lt;/strong&gt; firmware. It is compatible with:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;DJI Air Unit&lt;/li&gt; &#xA; &lt;li&gt;DJI Air Unit Lite a.k.a. Caddx Vista a.k.a. Runcam Link&lt;/li&gt; &#xA; &lt;li&gt;DJI FPV Goggles V1&lt;/li&gt; &#xA; &lt;li&gt;DJI FPV Goggles V2&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h4&gt;V2 Goggles&lt;/h4&gt; &#xA;&lt;p&gt;On V2 Goggles you must flash &lt;strong&gt;V01.00.0606&lt;/strong&gt; from DIY mode a.k.a. DJI HD FPV System mode using assistant in order to be able to root. If you have anything other than V01.00.0606 shown when checked in DJI FPV Drone mode, the root will not work. Both modes must have V01.00.0606.&lt;/p&gt; &#xA;&lt;p&gt;Following that, if you own and use the DJI FPV Drone, you may wish to use the free &lt;a href=&#34;https://drone-hacks.com/download&#34;&gt;Dronehacks&lt;/a&gt; firmware flasher to upgrade to V01.02.0001 obtained from &lt;a href=&#34;http://dankdronedownloader.com/DDD2/app/index.php?model=gl170&amp;amp;ver=01.02.0001&amp;amp;type=Other&amp;amp;Brand=DJI&#34;&gt;Dank Drone Downloader&lt;/a&gt; for best compatibility prior to installing wtfos. If you upgrade at a later time, simply re-install wtfos.&lt;/p&gt; &#xA;&lt;h1&gt;Setup and usage&lt;/h1&gt; &#xA;&lt;p&gt;Use the &lt;a href=&#34;https://testing.fpv.wtf/&#34;&gt;configurator&lt;/a&gt; to root your device, install wtfos and manage &lt;a href=&#34;https://repo.fpv.wtf/pigeon/&#34;&gt;community provided packages&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;Some of the available packages include:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/bri3d/msp-osd&#34;&gt;msp-osd&lt;/a&gt; for full OSD&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/funneld/djifpv_enable_live_audio/&#34;&gt;enable_live_audio&lt;/a&gt; to enable live audio playback from an Air Unit&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://repo.fpv.wtf/pigeon/auto-start-recording_0.1.1_armv7-3.2.ipk&#34;&gt;auto-start-recording&lt;/a&gt; to start recording automatically as soon as an air unit is connected&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://repo.fpv.wtf/pigeon/tweak-prevent-force-upgrade_0.9.0_armv7-3.2.ipk&#34;&gt;tweak-prevent-force-upgrade&lt;/a&gt; resets any forced upgrade statues (caused by connecting to the Fly app in FPV Drone mode) on startup&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;See the configurator for a full and up to date listing.&lt;/p&gt; &#xA;&lt;h1&gt;Built In Features&lt;/h1&gt; &#xA;&lt;h3&gt;Brick prevention&lt;/h3&gt; &#xA;&lt;p&gt;To offer some degree of protection against messing things up, &lt;strong&gt;wtfos-system&lt;/strong&gt; makes a copy of your system partition and mounts it over the real one early during startup.&lt;/p&gt; &#xA;&lt;p&gt;You can skip this and other wtfos loading procedures by holding down the bind button on your device during bootups and waiting to hear &lt;strong&gt;3 short beeps&lt;/strong&gt; from the buzzer for confirmation.&lt;/p&gt; &#xA;&lt;p&gt;Then your device should be booted with any modifications skipped at startup to the original system partition and you should once again have access to the device via ADB.&lt;/p&gt; &#xA;&lt;h3&gt;OPKG package management&lt;/h3&gt; &#xA;&lt;p&gt;The opkg package manager is available with &lt;a href=&#34;https://repo.fpv.wtf/pigeon/&#34;&gt;fpv-wtf/opkg-repo&lt;/a&gt; and &lt;a href=&#34;https://bin.entware.net/armv7sf-k3.2/Packages.html&#34;&gt;Entware&lt;/a&gt; added as sources.&lt;/p&gt; &#xA;&lt;p&gt;Everything is installed in &lt;code&gt;/opt/&lt;/code&gt; (which is a symlink to &lt;code&gt;/blackbox/wtfos/opt/&lt;/code&gt;) which is added your your path automatically by the scripts in &lt;code&gt;/blackbox/wtfos/mkshrc.d/&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;The easiest way to browse and manage packages is via the the &lt;a href=&#34;https://testing.fpv.wtf/&#34;&gt;configurator&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h4&gt;Advanced usage&lt;/h4&gt; &#xA;&lt;p&gt;For command line usage instructions see the &lt;a href=&#34;https://openwrt.org/docs/guide-user/additional-software/opkg&#34;&gt;opkg wiki page&lt;/a&gt; for using the &lt;code&gt;opkg&lt;/code&gt; command in the cli.&lt;/p&gt; &#xA;&lt;h3&gt;Service management&lt;/h3&gt; &#xA;&lt;p&gt;Use &lt;a href=&#34;https://github.com/stylesuxx/dji-hd-fpv-dinit&#34;&gt;dinit&lt;/a&gt; which is available in the repository for advanced service management with dependencies, enabling/disabling of units and more.&lt;/p&gt; &#xA;&lt;p&gt;Users can manage services with the &lt;a href=&#34;https://testing.fpv.wtf/&#34;&gt;configurator&lt;/a&gt; or the &lt;code&gt;dinitctl &lt;/code&gt; command in the cli.&lt;/p&gt; &#xA;&lt;p&gt;Packages wishing to use dinit should depend on it and install their unit in /opt/etc/dinit.d/.&lt;/p&gt; &#xA;&lt;h2&gt;Uninstalling&lt;/h2&gt; &#xA;&lt;p&gt;Should you wish to return to the plain adb root hack, use the configurator to uninstall wtfos.&lt;/p&gt; &#xA;&lt;p&gt;To also remove adb access and restore compatibility with the Assistant on all the V1 gear run the following in the shell:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;wtfos-remove-adb&#xA;reboot&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;V2 Goggles do not require removal of adb to work with Assistant.&lt;/p&gt; &#xA;&lt;h2&gt;I need help&lt;/h2&gt; &#xA;&lt;p&gt;Hop on our &lt;a href=&#34;https://discord.gg/3rpnBBJKtU&#34;&gt;Discord&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Developers&lt;/h2&gt; &#xA;&lt;p&gt;Use the Android &lt;a href=&#34;https://developer.android.com/ndk/downloads&#34;&gt;NDK&lt;/a&gt; to build binaries with a target of &lt;strong&gt;android-23&lt;/strong&gt; and platform of &lt;strong&gt;armeabi-v7a&lt;/strong&gt;. Check out the &lt;a href=&#34;https://github.com/fpv-wtf/margerine/wiki&#34;&gt;margerine wiki&lt;/a&gt; and the following repos:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/stylesuxx/ipk-example&#34;&gt;https://github.com/stylesuxx/ipk-example&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/fpv-wtf/opkg-repo&#34;&gt;https://github.com/fpv-wtf/opkg-repo&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/bri3d/msp-osd&#34;&gt;https://github.com/bri3d/msp-osd&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/fpv-wtf/dfbdoom&#34;&gt;https://github.com/fpv-wtf/dfbdoom&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/fpv-wtf/wtfos-modloader&#34;&gt;https://github.com/fpv-wtf/wtfos-modloader&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/funneld/djifpv_enable_live_audio&#34;&gt;https://github.com/funneld/djifpv_enable_live_audio&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Support the effort&lt;/h2&gt; &#xA;&lt;p&gt;If you&#39;d like, you can support the project on &lt;a href=&#34;https://opencollective.com/fpv-wtf/donate?amount=10&#34;&gt;Open Collective&lt;/a&gt;, send some ETH to &lt;code&gt;0xbAB1fec80922328F27De6E2F1CDBC2F322397637&lt;/code&gt; or BTC to &lt;code&gt;3L7dE5EHtyd2b1tXBwdnWC2MADkV2VTbrq&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Credits&lt;/h2&gt; &#xA;&lt;p&gt;Based on the &lt;a href=&#34;https://github.com/fpv-wtf/margerine&#34;&gt;margerine&lt;/a&gt; root method. Please blame:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/j005u&#34;&gt;j005u&lt;/a&gt; for wtfos-system and wtfos-modloader&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/stylesuxx&#34;&gt;stylesuxx&lt;/a&gt; for wtfos-configurator&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/bri3d&#34;&gt;bri3d&lt;/a&gt; for msp-osd&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/funneld&#34;&gt;funnel&lt;/a&gt; for a bunch of the tweaks&lt;/li&gt; &#xA;&lt;/ul&gt;</summary>
  </entry>
</feed>