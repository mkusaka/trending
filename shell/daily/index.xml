<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Shell Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2023-01-02T01:39:57Z</updated>
  <subtitle>Daily Trending of Shell in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>powerline/fonts</title>
    <updated>2023-01-02T01:39:57Z</updated>
    <id>tag:github.com,2023-01-02:/powerline/fonts</id>
    <link href="https://github.com/powerline/fonts" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Patched fonts for Powerline users.&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;Powerline fonts&lt;/h1&gt; &#xA;&lt;p&gt;This repository contains pre-patched and adjusted fonts for usage with the &lt;code&gt;Powerline &amp;lt;https://github.com/powerline/powerline&amp;gt;&lt;/code&gt;_ statusline plugin.&lt;/p&gt; &#xA;&lt;h2&gt;Installation&lt;/h2&gt; &#xA;&lt;p&gt;Run &lt;code&gt;./install.sh&lt;/code&gt; to install all Powerline Fonts or see the documentation_ for details.&lt;/p&gt; &#xA;&lt;p&gt;.. _documentation: &lt;a href=&#34;https://powerline.readthedocs.org/en/latest/installation/linux.html#fonts-installation&#34;&gt;https://powerline.readthedocs.org/en/latest/installation/linux.html#fonts-installation&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Quick installation&lt;/h2&gt; &#xA;&lt;p&gt;If you are running a Debian or Ubuntu based Linux distribution, there should be a package available to install the Powerline Fonts with the following command: :: sudo apt-get install fonts-powerline&lt;/p&gt; &#xA;&lt;p&gt;For fedora (tested on 28) or redhat based Linux distribution, there should also be a package available to install with the following command: :: sudo dnf install powerline-fonts&lt;/p&gt; &#xA;&lt;p&gt;On other environments, you can copy and paste these commands to your terminal. Comments are fine too. :: # clone git clone &lt;a href=&#34;https://github.com/powerline/fonts.git&#34;&gt;https://github.com/powerline/fonts.git&lt;/a&gt; --depth=1 # install cd fonts ./install.sh # clean-up a bit cd .. rm -rf fonts&lt;/p&gt; &#xA;&lt;h2&gt;Uninstall&lt;/h2&gt; &#xA;&lt;p&gt;Run &lt;code&gt;./uninstall.sh&lt;/code&gt; to uninstall all Powerline Fonts. You can also copy the quick installation commands changing only the line &lt;code&gt;./install.sh&lt;/code&gt; to &lt;code&gt;./uninstall.sh&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;In both cases, please make sure you are working with the exact same version of Powerline fonts you had checked out while installing.&lt;/p&gt; &#xA;&lt;h2&gt;Font Families&lt;/h2&gt; &#xA;&lt;p&gt;======================================= ========================= ==================================== Powerline Font Family Formerly Known As License ======================================= ========================= ==================================== 3270 3270 BSD/CCAS 3.0 Anonymice Powerline Anonymous Pro SIL Open Font License, Version 1.1 Arimo Powerline Arimo Apache License, Version 2.0 Cousine Powerline Cousine Apache License, Version 2.0 D2Coding for Powerline D2Coding SIL Open Font License, Version 1.1 DejaVu Sans Mono for Powerline DejaVu Sans Mono DejaVu Fonts License, Version 1.0 Droid Sans Mono for Powerline Droid Sans Mono Apache License, Version 2.0 Droid Sans Mono Dotted for Powerline Droid Sans Mono Dotted Apache License, Version 2.0 Droid Sans Mono Slashed for Powerline Droid Sans Mono Slashed Apache License, Version 2.0 Fira Mono for Powerline Fira Mono SIL OPEN FONT LICENSE Version 1.1 Go Mono for Powerline Go Mono Go&#39;s License Hack Hack SIL OFL, v1.1 + Bitstream License Inconsolata for Powerline Inconsolata SIL Open Font License, Version 1.0 Inconsolata-dz for Powerline Inconsolata-dz SIL Open Font License, Version 1.0 Inconsolata-g for Powerline Inconsolata-g SIL Open Font License, Version 1.0 Input Mono Input Mono &lt;code&gt;Input’s license &amp;lt;http://input.fontbureau.com/license/&amp;gt;&lt;/code&gt;_ Liberation Mono Powerline Liberation Mono SIL Open Font License, Version 1.1 ProFontWindows ProFont for Powerline MIT License Meslo for Powerline Meslo Apache License, Version 2.0 Source Code Pro for Powerline Source Code Pro SIL Open Font License, Version 1.1 Meslo Dotted for Powerline Meslo Dotted Apache License, Version 2.0 Meslo Slashed for Powerline Meslo Dotted Apache License, Version 2.0 Monofur for Powerline Monofur Freeware Noto Mono for Powerline Noto Mono SIL Open Font License, Version 1.1 Roboto Mono for Powerline Roboto Mono Apache License, Version 2.0 Symbol Neu Powerline Symbol Neu Apache License, Version 2.0 Terminess Powerline Terminus SIL Open Font License, Version 1.1 Tinos Powerline Tinos Apache License, Version 2.0 Ubuntu Mono derivative Powerline Ubuntu Mono Ubuntu Font License, Version 1.0 Space Mono for Powerline Space Mono SIL Open Font License, Version 1.1 ======================================= ========================= ====================================&lt;/p&gt; &#xA;&lt;p&gt;iTerm2 users need to set both the Regular font and the Non-ASCII Font in &#34;iTerm &amp;gt; Preferences &amp;gt; Profiles &amp;gt; Text&#34; to use a patched font (per &lt;code&gt;this issue&lt;/code&gt;__).&lt;/p&gt; &#xA;&lt;p&gt;__ &lt;a href=&#34;https://github.com/Lokaltog/powerline-fonts/issues/44&#34;&gt;https://github.com/Lokaltog/powerline-fonts/issues/44&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Fontconfig&lt;/h2&gt; &#xA;&lt;p&gt;In some distributions, Terminess Powerline is ignored by default and must be explicitly allowed. A fontconfig file is provided which enables it. Copy &lt;code&gt;this file &amp;lt;https://github.com/powerline/fonts/blob/master/fontconfig/50-enable-terminess-powerline.conf&amp;gt;&lt;/code&gt;_ from the fontconfig directory to your home folder under &lt;code&gt;~/.config/fontconfig/conf.d&lt;/code&gt; (create it if it doesn&#39;t exist) and re-run &lt;code&gt;fc-cache -vf&lt;/code&gt;.&lt;/p&gt;</summary>
  </entry>
  <entry>
    <title>x676f64/secureum-mind_map</title>
    <updated>2023-01-02T01:39:57Z</updated>
    <id>tag:github.com,2023-01-02:/x676f64/secureum-mind_map</id>
    <link href="https://github.com/x676f64/secureum-mind_map" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Please report any errors or rendering issues. Happy to accept PR&#39;s that improve upon the content.&lt;/p&gt;&lt;hr&gt;&lt;p&gt;&lt;strong&gt;All information was original created by&lt;/strong&gt; &lt;a href=&#34;https://twitter.com/0xRajeev&#34;&gt;0xRajeev&lt;/a&gt; that he has developed from other public sources. This content is for the Secureum Epoch0 Bootcamp for Smart Contract auditing. The plan is to grow this over time. Pull requests accepted.&lt;/p&gt; &#xA;&lt;hr&gt; &#xA;&lt;p&gt;Information I would like to add (my wish list):&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; Links to the relevant topic on youtube at that specific point in the video. -- This is now complete in all sections except for Ethereum 101&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; disabled&gt; &#34;Speech to text&#34; of what is said for each topic by Rajeev in the videos&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; disabled&gt; Solidity example where applicable&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; disabled&gt; Add dapptool examples for relevant topics&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; disabled&gt; Add Forge examples for relevant topics&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;hr&gt; &#xA;&lt;p&gt;The impetus for this project was self-edification as well as providing better accessibility to the content &lt;a href=&#34;https://twitter.com/0xRajeev&#34;&gt;0xRajeev&lt;/a&gt; has produced. Plus, I really wanted to make some cool graphs and play with Obsidian. :)&lt;/p&gt; &#xA;&lt;p&gt;If you open this in &lt;a href=&#34;https://obsidian.md&#34;&gt;Obsidian&lt;/a&gt; you can graph the notes.&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/x676f64/secureum-mind_map/master/images/example.jpg&#34; alt=&#34;example.jpg&#34;&gt;&lt;/p&gt; &#xA;&lt;hr&gt; &#xA;&lt;p&gt;Here is an awesome resource from &lt;a href=&#34;https://twitter.com/patrickd_de&#34;&gt;patrickd&lt;/a&gt; who is in Epoch0: &lt;a href=&#34;https://gist.github.com/patrickd-/5000fc1eb3e9d92f555a9ea2af94de54&#34;&gt;Link&lt;/a&gt; (Place in the &lt;code&gt;contracts&lt;/code&gt; folder on Remix)&lt;/p&gt; &#xA;&lt;hr&gt; &#xA;&lt;hr&gt; &#xA;&lt;h1&gt;&lt;strong&gt;&lt;em&gt;Slot 1&lt;/em&gt;&lt;/strong&gt; - &lt;a href=&#34;https://raw.githubusercontent.com/x676f64/secureum-mind_map/master/inlined_content/1.%20Ethereum%20101.md&#34;&gt;Ethereum101&lt;/a&gt;&lt;/h1&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Topics&lt;/h3&gt; &#xA;&lt;h3&gt;Blog Article&lt;/h3&gt; &#xA;&lt;h4&gt;&lt;a href=&#34;https://secureum.substack.com/p/ethereum-101&#34;&gt;Article on &#34;Ethereum 101&#34;&lt;/a&gt;&lt;/h4&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Course Videos&lt;/h3&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/44qhIBMGMoM&#34;&gt;Block 1&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/zIeBfuXxuWs&#34;&gt;Block 2&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/ltvTIr4K63s&#34;&gt;Block 3&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/MFoxW07ICKs&#34;&gt;Block 4&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/I-TjCtjDs1M&#34;&gt;Block 5&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Participant Created Content&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/admYLxNPROo&#34;&gt;Ethereum 101 - D-Squared&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Assignment&lt;/h3&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Read the Ethereum whitepaper: &lt;a href=&#34;https://ethereum.org/en/whitepaper/&#34;&gt;https://ethereum.org/en/whitepaper/&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Read the Ethereum yellow paper: &lt;a href=&#34;https://ethereum.github.io/yellowpaper/paper.pdf&#34;&gt;https://ethereum.github.io/yellowpaper/paper.pdf&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Read Chapters 1, 2, 3, 4, 6, 13 and 14 from “Mastering Ethereum”: &lt;a href=&#34;https://github.com/ethereumbook/ethereumbook&#34;&gt;https://github.com/ethereumbook/ethereumbook&lt;/a&gt; and other references in Secureum’s “Ethereum 101” article&lt;/li&gt; &#xA; &lt;li&gt;Browse through topics at &lt;a href=&#34;https://ethereum.org/en/developers/docs/&#34;&gt;https://ethereum.org/en/developers/docs/&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Explore blocks, transactions and other protocol internals at &lt;a href=&#34;https://etherscan.io/&#34;&gt;https://etherscan.io/&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Quiz&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/x676f64/secureum-mind_map/master/quizzes/1.%20Ethereum%20101.md&#34;&gt;Slot 1 quiz&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Quiz Writeups&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://ventral.digital/posts/2021/10/17/secureum-bootcamp-ethereum-101-quiz&#34;&gt;https://ventral.digital/posts/2021/10/17/secureum-bootcamp-ethereum-101-quiz&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;hr&gt; &#xA;&lt;hr&gt; &#xA;&lt;h1&gt;&lt;strong&gt;&lt;em&gt;Slot 2&lt;/em&gt;&lt;/strong&gt; - &lt;a href=&#34;https://raw.githubusercontent.com/x676f64/secureum-mind_map/master/2.%20Solidity%20101.md&#34;&gt;Solidity101&lt;/a&gt;&lt;/h1&gt; &#xA;&lt;h3&gt;Blog Article&lt;/h3&gt; &#xA;&lt;h4&gt;&lt;a href=&#34;https://secureum.substack.com/p/solidity-101&#34;&gt;Article on &#34;Solidity 101&#34;&lt;/a&gt;&lt;/h4&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Course Videos&lt;/h3&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=5eLqFac5Tkg&#34;&gt;Block 1&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=TCl1IcGl_3I&#34;&gt;Block 2&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=6VIJpze1jbU&#34;&gt;Block 3&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=WgU7KKKomMk&#34;&gt;Block 4&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=_oN7XuyhoZA&#34;&gt;Block 5&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Participant Created Content&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/65XiLy5Cxxk&#34;&gt;Solidity 101 and 201 - D-Squared&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Assignment&lt;/h3&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Read Chapter 7 from “Mastering Ethereum”: &lt;a href=&#34;https://github.com/ethereumbook/ethereumbook/raw/develop/07smart-contracts-solidity.asciidoc&#34;&gt;https://github.com/ethereumbook/ethereumbook/blob/develop/07smart-contracts-solidity.asciidoc&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Understand Solidity syntax and semantics implemented in OpenZeppelin’s ERC20 contract: &lt;a href=&#34;https://github.com/OpenZeppelin/openzeppelin-contracts/raw/master/contracts/token/ERC20/ERC20.sol&#34;&gt;https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/token/ERC20/ERC20.sol&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Understand Solidity syntax and semantics implemented in OpenZeppelin’s ERC721 (NFT) contract: &lt;a href=&#34;https://github.com/OpenZeppelin/openzeppelin-contracts/raw/master/contracts/token/ERC721/ERC721.sol&#34;&gt;https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/token/ERC721/ERC721.sol&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Understand Solidity syntax and semantics implemented in OpenZeppelin’s security-related contracts Ownable, Pausable and ReentrancyGuard: &lt;a href=&#34;https://github.com/OpenZeppelin/openzeppelin-contracts/tree/master/contracts/access&#34;&gt;https://github.com/OpenZeppelin/openzeppelin-contracts/tree/master/contracts/access&lt;/a&gt; and &lt;a href=&#34;https://github.com/OpenZeppelin/openzeppelin-contracts/tree/master/contracts/security&#34;&gt;https://github.com/OpenZeppelin/openzeppelin-contracts/tree/master/contracts/security&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Experiment with the various Solidity concepts using &lt;a href=&#34;https://remix.ethereum.org/&#34;&gt;https://remix.ethereum.org/&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h3&gt;Quiz&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/x676f64/secureum-mind_map/master/quizzes/2.%20Solidity%20101.md&#34;&gt;Slot 2 Quiz&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Quiz Writeups&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://ventral.digital/posts/2021/10/24/secureum-bootcamp-solidity-101-quiz&#34;&gt;https://ventral.digital/posts/2021/10/24/secureum-bootcamp-solidity-101-quiz&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;hr&gt; &#xA;&lt;hr&gt; &#xA;&lt;h1&gt;Slot 3 - &lt;a href=&#34;https://raw.githubusercontent.com/x676f64/secureum-mind_map/master/3.%20Solidity%20201.md&#34;&gt;Solidity201&lt;/a&gt;&lt;/h1&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Blog&lt;/h3&gt; &#xA;&lt;h4&gt;&lt;a href=&#34;https://secureum.substack.com/p/solidity-201&#34;&gt;Article on &#34;Solidity 201&#34;&lt;/a&gt;&lt;/h4&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Youtube Videos&lt;/h3&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/3bFgsmsQXrE&#34;&gt;Block 1&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/TqMIbouwePE&#34;&gt;Block 2&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/C0zBhTgppLQ&#34;&gt;Block 3&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/L_9Fk6HRwpU&#34;&gt;Block 4&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/0kx8M4u5980&#34;&gt;Block 5&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Participant Created Content&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/65XiLy5Cxxk&#34;&gt;Solidity 101 and 201 - D-Squared&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Assignment&lt;/h3&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Understand all the OpenZeppelin Library contracts (many of which are widely-used): &lt;a href=&#34;https://github.com/OpenZeppelin/openzeppelin-contracts/tree/master/contracts&#34; title=&#34;https://github.com/OpenZeppelin/openzeppelin-contracts/tree/master/contracts&#34;&gt;https://github.com/OpenZeppelin/openzeppelin-contracts/tree/master/contracts&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Understand Solidity syntax and semantics implemented in Uniswap V3 contracts and related dependencies: &lt;a href=&#34;https://github.com/Uniswap/uniswap-v3-core/tree/main/contracts&#34; title=&#34;https://github.com/Uniswap/uniswap-v3-core/tree/main/contracts&#34;&gt;https://github.com/Uniswap/uniswap-v3-core/tree/main/contracts&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Understand Solidity syntax and semantics implemented in Fei Protocol contracts and related dependencies: &lt;a href=&#34;https://github.com/fei-protocol/fei-protocol-core/tree/master/contracts&#34; title=&#34;https://github.com/fei-protocol/fei-protocol-core/tree/master/contracts&#34;&gt;https://github.com/fei-protocol/fei-protocol-core/tree/master/contracts&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Understand Solidity syntax and semantics implemented in Chainlink contracts and related dependencies: &lt;a href=&#34;https://github.com/smartcontractkit/chainlink/tree/develop/contracts/src/v0.4&#34; title=&#34;https://github.com/smartcontractkit/chainlink/tree/develop/contracts/src/v0.4&#34;&gt;https://github.com/smartcontractkit/chainlink/tree/develop/contracts/src/v0.4&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Understand Solidity syntax and semantics implemented in Opyn Gamma Protocol contracts and related dependencies: &lt;a href=&#34;https://github.com/opynfinance/GammaProtocol/tree/master/contracts/core&#34; title=&#34;https://github.com/opynfinance/GammaProtocol/tree/master/contracts/core&#34;&gt;https://github.com/opynfinance/GammaProtocol/tree/master/contracts/core&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h3&gt;Quiz&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/x676f64/secureum-mind_map/master/quizzes/3.%20Solidity%20201.md&#34;&gt;Slot 3 Quiz&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Quiz Writeups&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://ventral.digital/posts/2021/10/30/secureum-bootcamp-solidity-201-quiz&#34;&gt;https://ventral.digital/posts/2021/10/30/secureum-bootcamp-solidity-201-quiz&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;hr&gt; &#xA;&lt;hr&gt; &#xA;&lt;h1&gt;Slot 4 - &lt;a href=&#34;https://raw.githubusercontent.com/x676f64/secureum-mind_map/master/4.%20Pitfalls%20and%20Best%20Practices%20101.md&#34;&gt;Pitfalls and Best Practices 101&lt;/a&gt;&lt;/h1&gt; &#xA;&lt;h3&gt;Blog&lt;/h3&gt; &#xA;&lt;h4&gt;&lt;a href=&#34;https://secureum.substack.com/p/security-pitfalls-and-best-practices-101&#34;&gt;Article on &#34;Security Pitfalls &amp;amp; Best Practices 101&#34;&lt;/a&gt;&lt;/h4&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Youtube Videos&lt;/h3&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/OOzyoaYIw2k&#34;&gt;Block 1&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/fgXuHaZDenU&#34;&gt;Block 2&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/YVewx1xVROE&#34;&gt;Block 3&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/byA3MLLiKMM&#34;&gt;Block 4&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/vyWLO5Dlg50&#34;&gt;Block 5&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Participant Created Content&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/77iL0syhEso&#34;&gt;Security Pitfalls &amp;amp; Best Practices 101 and 201 - D-Squared&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Assignment&lt;/h3&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Explore the SWC Registry list and test cases: &lt;a href=&#34;https://swcregistry.io/&#34; title=&#34;https://swcregistry.io/&#34;&gt;https://swcregistry.io/&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Watch “Intro to Security First Development” by Gonçalo Sá @GNSPS, ConsenSys Diligence: &lt;a href=&#34;https://www.youtube.com/watch?v=72K57I9yvyI&#34; title=&#34;https://www.youtube.com/watch?v=72K57I9yvyI&#34;&gt;https://www.youtube.com/watch?v=72K57I9yvyI&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Watch “Protect your Crypto and Avoid Getting Hacked” by Mehdi Zerouali @ethzed, Sigma Prime: &lt;a href=&#34;https://www.youtube.com/watch?v=L2DRC6PjTgk&#34; title=&#34;https://www.youtube.com/watch?v=L2DRC6PjTgk&#34;&gt;https://www.youtube.com/watch?v=L2DRC6PjTgk&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Watch “DeFi Security: With So Many Hacks, Will It Ever Be Safe?” on Unchained Podcast with Dan Guido @dguido (Trail of Bits) and Taylor Monahan (MyCrypto): &lt;a href=&#34;https://www.youtube.com/watch?v=Sc5fZ-Wprx8&#34; title=&#34;https://www.youtube.com/watch?v=Sc5fZ-Wprx8&#34;&gt;https://www.youtube.com/watch?v=Sc5fZ-Wprx8&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Attempt CTF: &lt;a href=&#34;https://capturetheether.com/&#34; title=&#34;https://capturetheether.com/&#34;&gt;https://capturetheether.com/&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Quiz&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/x676f64/secureum-mind_map/master/quizzes/4.%20Pitfalls%20and%20Best%20Practices%20101.md&#34;&gt;Slot 4 quiz&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Quiz Writeups&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://ventral.digital/posts/2021/11/7/secureum-bootcamp-security-pitfalls-amp-best-practices-101-quiz&#34;&gt;https://ventral.digital/posts/2021/11/7/secureum-bootcamp-security-pitfalls-amp-best-practices-101-quiz&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;hr&gt; &#xA;&lt;hr&gt; &#xA;&lt;h1&gt;Slot 5 - &lt;a href=&#34;https://raw.githubusercontent.com/x676f64/secureum-mind_map/master/5.%20Pitfalls%20and%20Best%20Practices%20201.md&#34;&gt;Pitfalls and Best Practices 201&lt;/a&gt;&lt;/h1&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Blog&lt;/h3&gt; &#xA;&lt;h4&gt;&lt;a href=&#34;https://secureum.substack.com/p/security-pitfalls-and-best-practices-201&#34;&gt;Article on &#34;Security Pitfalls &amp;amp; Best Practices 201&#34;&lt;/a&gt;&lt;/h4&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Youtube Videos&lt;/h3&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/WGM1SF8twmw&#34;&gt;Block 1&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/HqHo1jKUnmU&#34;&gt;Block 2&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/pXoEIjHupXk&#34;&gt;Block 3&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/IVbEIbIpWUY&#34;&gt;Block 4&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/QSsfkmcdbPw&#34;&gt;Block 5&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Participant Created Content&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/77iL0syhEso&#34;&gt;Security Pitfalls &amp;amp; Best Practices 101 and 201 - D-Squared&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Assignment&lt;/h3&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Read &lt;a href=&#34;https://samczsun.com/so-you-want-to-use-a-price-oracle/&#34; title=&#34;https://samczsun.com/so-you-want-to-use-a-price-oracle/&#34;&gt;https://samczsun.com/so-you-want-to-use-a-price-oracle/&lt;/a&gt; and &lt;a href=&#34;https://samczsun.com/the-dangers-of-surprising-code/&#34; title=&#34;https://samczsun.com/the-dangers-of-surprising-code/&#34;&gt;https://samczsun.com/the-dangers-of-surprising-code/&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Watch “Security By Design &amp;amp; Smart Contract Audits” by Shayan Eskandari, Ex-ConsenSys Diligence: &lt;a href=&#34;https://www.youtube.com/watch?v=gfD1KBtLWZI&#34; title=&#34;https://www.youtube.com/watch?v=gfD1KBtLWZI&#34;&gt;https://www.youtube.com/watch?v=gfD1KBtLWZI&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Watch “How to Build Secure Smart Contracts” by Josselin Feist (@Josselin Feist - Trail of Bits), Trail of Bits: &lt;a href=&#34;https://www.youtube.com/watch?v=yP01yH4plT8&#34; title=&#34;https://www.youtube.com/watch?v=yP01yH4plT8&#34;&gt;https://www.youtube.com/watch?v=yP01yH4plT8&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Watch “White Hat Panel: DeFi Exploits”: &lt;a href=&#34;https://www.youtube.com/watch?v=Df2zzfoTfMc&#34; title=&#34;https://www.youtube.com/watch?v=Df2zzfoTfMc&#34;&gt;https://www.youtube.com/watch?v=Df2zzfoTfMc&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Attempt CTF: &lt;a href=&#34;https://www.damnvulnerabledefi.xyz/&#34; title=&#34;https://www.damnvulnerabledefi.xyz/&#34;&gt;https://www.damnvulnerabledefi.xyz/&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Quiz&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/x676f64/secureum-mind_map/master/quizzes/5.%20Pitfalls%20and%20Best%20Practices%20201.md&#34;&gt;Slot 5 quiz&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Quiz Writeups&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://ventral.digital/posts/2021/11/14/secureum-bootcamp-security-pitfalls-amp-best-practices-201-quiz&#34;&gt;https://ventral.digital/posts/2021/11/14/secureum-bootcamp-security-pitfalls-amp-best-practices-201-quiz&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;hr&gt; &#xA;&lt;hr&gt; &#xA;&lt;h1&gt;Slot 6 - &lt;a href=&#34;https://raw.githubusercontent.com/x676f64/secureum-mind_map/master/6.%20Audit%20Techniques%20and%20Tools%20101.md&#34;&gt;Audit Techniques &amp;amp; Tools 101&lt;/a&gt;&lt;/h1&gt; &#xA;&lt;h3&gt;Blog&lt;/h3&gt; &#xA;&lt;h4&gt;&lt;a href=&#34;https://secureum.substack.com/p/audit-techniques-and-tools-101&#34;&gt;Article on &#34;Audit Techniques &amp;amp; Tools 101&#34;&lt;/a&gt;&lt;/h4&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Youtube Videos&lt;/h3&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/M0C7z3TE5Go&#34;&gt;Block 1&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/QstpNY1IuqM&#34;&gt;Block 2&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/QmD2bJUe140&#34;&gt;Block 3&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/jZ81ebDJVe0&#34;&gt;Block 4&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/dgITqd3mkDk&#34;&gt;Block 5&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Participant Created Content&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/8IbkWnTLueU&#34;&gt;Audit Techniques &amp;amp; Tools 101 - D-Squared&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Assignment&lt;/h3&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Read the following: &#xA;  &lt;ol&gt; &#xA;   &lt;li&gt;How to Prepare for a Smart Contract Audit: &lt;a href=&#34;https://consensys.net/diligence/blog/2019/09/how-to-prepare-for-a-smart-contract-audit/&#34;&gt;https://consensys.net/diligence/blog/2019/09/how-to-prepare-for-a-smart-contract-audit/&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;What is a Security Audit, When You Should Get One, and How to Prepare (by @petty) : &lt;a href=&#34;https://our.status.im/what-is-a-security-audit-when-you-should-get-one-and-how-to-prepare/&#34;&gt;https://our.status.im/what-is-a-security-audit-when-you-should-get-one-and-how-to-prepare/&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;246 Findings From our Smart Contract Audits: An Executive Summary: &lt;a href=&#34;https://blog.trailofbits.com/2019/08/08/246-findings-from-our-smart-contract-audits-an-executive-summary/&#34;&gt;https://blog.trailofbits.com/2019/08/08/246-findings-from-our-smart-contract-audits-an-executive-summary/&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ol&gt; &lt;/li&gt; &#xA; &lt;li&gt;Run MythX on Fei Protocol contracts and analyze the reported findings: &lt;a href=&#34;https://github.com/fei-protocol/fei-protocol-core/tree/master/contracts&#34;&gt;https://github.com/fei-protocol/fei-protocol-core/tree/master/contracts&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Run Slither on Uniswap V3 contracts and analyze the reported findings: &lt;a href=&#34;https://github.com/Uniswap/uniswap-v3-core/tree/main/contracts&#34;&gt;https://github.com/Uniswap/uniswap-v3-core/tree/main/contracts&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Watch “The Evolution of Smart Contract Security” by Dan Guido, Trail of Bits: &lt;a href=&#34;https://www.youtube.com/watch?v=fOkQuNzVn_Q&#34;&gt;https://www.youtube.com/watch?v=fOkQuNzVn_Q&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Attempt Paradigm CTF: &lt;a href=&#34;https://github.com/paradigm-operations/paradigm-ctf-2021&#34;&gt;https://github.com/paradigm-operations/paradigm-ctf-2021&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Quiz&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/x676f64/secureum-mind_map/master/quizzes/6.%20Audit%20Techniques%20and%20Tools%20101.md&#34;&gt;Slot 6 quiz&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Quiz Writeups&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://ventral.digital/posts/2021/11/21/secureum-bootcamp-audit-techniques-tools-101-quiz&#34;&gt;https://ventral.digital/posts/2021/11/21/secureum-bootcamp-audit-techniques-tools-101-quiz&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;hr&gt; &#xA;&lt;hr&gt; &#xA;&lt;h1&gt;Slot 7 - &lt;a href=&#34;https://raw.githubusercontent.com/x676f64/secureum-mind_map/master/7.%20Audit%20Findings%20101.md&#34;&gt;Audit Findings 101&lt;/a&gt;&lt;/h1&gt; &#xA;&lt;h3&gt;Blog&lt;/h3&gt; &#xA;&lt;h4&gt;&lt;a href=&#34;https://secureum.substack.com/p/audit-findings-101&#34;&gt;Article on &#34;Audit Findings 101&#34;&lt;/a&gt;&lt;/h4&gt; &#xA;&lt;h3&gt;Youtube Videos&lt;/h3&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/SromSImIpHE&#34;&gt;Block 1&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/KLBi3Uyg0dY&#34;&gt;Block 2&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/RUyED_6mkqg&#34;&gt;Block 3&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/D1Uz0NvrqeU&#34;&gt;Block 4&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/GX8Z0kRRi_I&#34;&gt;Block 5&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h3&gt;Participant Created Content&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/b6zEWJwMcGc&#34;&gt;Audit Findings 101 and 201 - D-Squared&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Assignment&lt;/h3&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Read the audit report along with the smart contracts to understand all the reported findings for Fei Protocol: &lt;a href=&#34;https://consensys.net/diligence/audits/2021/01/fei-protocol&#34;&gt;https://consensys.net/diligence/audits/2021/01/fei-protocol&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Read the audit report along with the smart contracts to understand all the reported findings for Uniswap V3: &lt;a href=&#34;https://github.com/Uniswap/uniswap-v3-core/raw/main/audits/tob/audit.pdf&#34;&gt;https://github.com/Uniswap/uniswap-v3-core/blob/main/audits/tob/audit.pdf&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Read the audit report along with the smart contracts to understand all the reported findings for Chainlink: &lt;a href=&#34;https://github.com/sigp/public-audits/raw/master/chainlink-1/review.pdf&#34;&gt;https://github.com/sigp/public-audits/blob/master/chainlink-1/review.pdf&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Read the audit report along with the smart contracts to understand all the reported findings for Opyn Gamma protocol: &lt;a href=&#34;https://blog.openzeppelin.com/opyn-gamma-protocol-audit/&#34;&gt;https://blog.openzeppelin.com/opyn-gamma-protocol-audit/&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Watch: OpenZeppelin &lt;a href=&#34;https://twitter.com/tinchoabbate&#34; title=&#34;https://twitter.com/tinchoabbate&#34;&gt;@tinchoabbate&#39;s&lt;/a&gt; “Secure Development Series”: &lt;a href=&#34;https://www.youtube.com/playlist?list=PLdJRkA9gCKOONBSlcifqLig_ZTyG_YLqz&#34;&gt;https://www.youtube.com/playlist?list=PLdJRkA9gCKOONBSlcifqLig_ZTyG_YLqz&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Quiz&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/x676f64/secureum-mind_map/master/quizzes/7.%20Audit%20Fndings%20101.md&#34;&gt;Slot 7 Quiz&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Quiz Writeups&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://ventral.digital/posts/2021/11/28/secureum-bootcamp-audit-findings-101-quiz&#34;&gt;https://ventral.digital/posts/2021/11/28/secureum-bootcamp-audit-findings-101-quiz&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;hr&gt; &#xA;&lt;hr&gt; &#xA;&lt;h1&gt;Slot 8 &lt;a href=&#34;https://raw.githubusercontent.com/x676f64/secureum-mind_map/master/8.%20Audit%20Findings%20201.md&#34;&gt;Audit Findings 201&lt;/a&gt;&lt;/h1&gt; &#xA;&lt;h3&gt;Blog&lt;/h3&gt; &#xA;&lt;h4&gt;&lt;a href=&#34;https://secureum.substack.com/p/audit-findings-201&#34;&gt;Article on &#34;Audit Findings 201&#34;&lt;/a&gt;&lt;/h4&gt; &#xA;&lt;h3&gt;Youtube Videos&lt;/h3&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/IXm6JAprhuw&#34;&gt;Block 1&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/yphqu2N35X4&#34;&gt;Block 2&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/zAzNDwu23UI&#34;&gt;Block 3&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/poxzr4-srn0&#34;&gt;Block 4&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/0J7KI4WGd0Q&#34;&gt;Block 5&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h3&gt;Participant Created Content&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://youtu.be/b6zEWJwMcGc&#34;&gt;Audit Findings 101 and 201 - D-Squared&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Assignment&lt;/h3&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Read the audit report along with the smart contracts to understand all the reported findings for 1inch Liquidity Protocol: &lt;a href=&#34;https://consensys.net/diligence/audits/2020/12/1inch-liquidity-protocol/&#34; title=&#34;https://consensys.net/diligence/audits/2020/12/1inch-liquidity-protocol/&#34;&gt;https://consensys.net/diligence/audits/2020/12/1inch-liquidity-protocol/&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Read the audit report along with the smart contracts to understand all the reported findings for Origin Dollar: &lt;a href=&#34;https://github.com/trailofbits/publications/raw/master/reviews/OriginDollar.pdf&#34; title=&#34;https://github.com/trailofbits/publications/blob/master/reviews/OriginDollar.pdf&#34;&gt;https://github.com/trailofbits/publications/blob/master/reviews/OriginDollar.pdf&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Read the audit report along with the smart contracts to understand all the reported findings for Synthetix EtherCollateral: &lt;a href=&#34;https://github.com/sigp/public-audits/raw/master/synthetix/ethercollateral/review.pdf&#34; title=&#34;https://github.com/sigp/public-audits/blob/master/synthetix/ethercollateral/review.pdf&#34;&gt;https://github.com/sigp/public-audits/blob/master/synthetix/ethercollateral/review.pdf&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Read the audit report along with the smart contracts to understand all the reported findings for Holdefi: &lt;a href=&#34;https://blog.openzeppelin.com/holdefi-audit&#34; title=&#34;https://blog.openzeppelin.com/holdefi-audit&#34;&gt;https://blog.openzeppelin.com/holdefi-audit&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Stay updated with Ethereum security articles/news: &#xA;  &lt;ol&gt; &#xA;   &lt;li&gt;WeekInEthereumNews (security section): &lt;a href=&#34;https://weekinethereumnews.com/&#34; title=&#34;https://weekinethereumnews.com/&#34;&gt;https://weekinethereumnews.com/&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;BlockThreat Newsletter: &lt;a href=&#34;https://www.blockthreat.io/&#34; title=&#34;https://www.blockthreat.io/&#34;&gt;https://www.blockthreat.io/&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;Rekt: &lt;a href=&#34;https://rekt.news/&#34; title=&#34;https://rekt.news/&#34;&gt;https://rekt.news/&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;Secureum Newsletter: &lt;a href=&#34;https://secureum.substack.com/&#34; title=&#34;https://secureum.substack.com/&#34;&gt;https://secureum.substack.com/&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ol&gt; &lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Quiz&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/x676f64/secureum-mind_map/master/quizzes/8.%20Audit%20Findings%20201.md&#34;&gt;Slot 8 Quiz&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Quiz Writeups&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://ventral.digital/posts/2021/11/28/secureum-bootcamp-audit-findings-201-quiz&#34;&gt;https://ventral.digital/posts/2021/11/28/secureum-bootcamp-audit-findings-201-quiz&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;hr&gt; &#xA;&lt;hr&gt; &#xA;&lt;h1&gt;Extras&lt;/h1&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://ventral.digital/posts/2022/2/10/secureum-bootcamp-care-audit-sushi-bentobox-strategies&#34;&gt;patrickd&#39;s CARE Report for Sushi&#39;s BentoBox Strategies&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://ventral.digital/posts/2022/2/9/secureum-bootcamp-february-race-4&#34;&gt;Epoch∞ - February RACE #4 Quiz Writeup&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt;</summary>
  </entry>
  <entry>
    <title>chaifeng/ufw-docker</title>
    <updated>2023-01-02T01:39:57Z</updated>
    <id>tag:github.com,2023-01-02:/chaifeng/ufw-docker</id>
    <link href="https://github.com/chaifeng/ufw-docker" rel="alternate"></link>
    <summary type="html">&lt;p&gt;To fix the Docker and UFW security flaw without disabling iptables&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;To Fix The Docker and UFW Security Flaw Without Disabling Iptables&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://travis-ci.org/chaifeng/ufw-docker&#34;&gt;&lt;img src=&#34;https://travis-ci.org/chaifeng/ufw-docker.svg?sanitize=true&#34; alt=&#34;Build Status&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://hub.docker.com/r/chaifeng/ufw-docker-agent&#34;&gt;&lt;img src=&#34;https://img.shields.io/docker/pulls/chaifeng/ufw-docker-agent&#34; alt=&#34;chaifeng/ufw-docker-agent&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/chaifeng/ufw-docker/master/#tldr&#34;&gt;English&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/chaifeng/ufw-docker/master/#%E5%A4%AA%E9%95%BF%E4%B8%8D%E6%83%B3%E8%AF%BB&#34;&gt;中文&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;TL;DR&lt;/h2&gt; &#xA;&lt;p&gt;Please take a look at &lt;a href=&#34;https://raw.githubusercontent.com/chaifeng/ufw-docker/master/#solving-ufw-and-docker-issues&#34;&gt;Solving UFW and Docker issues&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Problem&lt;/h2&gt; &#xA;&lt;p&gt;UFW is a popular iptables front end on Ubuntu that makes it easy to manage firewall rules. But when Docker is installed, Docker bypass the UFW rules and the published ports can be accessed from outside.&lt;/p&gt; &#xA;&lt;p&gt;The issue is:&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;UFW is enabled on a server that provides external services, and all incoming connections that are not allowed are blocked by default.&lt;/li&gt; &#xA; &lt;li&gt;Run a Docker container on the server and use the &lt;code&gt;-p&lt;/code&gt; option to publish ports for that container on all IP addresses. For example: &lt;code&gt;docker run -d --name httpd -p 0.0.0.0:8080:80 httpd:alpine&lt;/code&gt;, this command will run an httpd service and publish port 80 of the container to port 8080 of the server.&lt;/li&gt; &#xA; &lt;li&gt;UFW will not block all external requests to visit port 8080. Even the command &lt;code&gt;ufw deny 8080&lt;/code&gt; will not prevent external access to this port.&lt;/li&gt; &#xA; &lt;li&gt;This problem is actually quite serious, which means that a port that was originally intended to provide services internally is exposed to the public network.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;Searching for &#34;ufw docker&#34; on the web can find a lot of discussion:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/moby/moby/issues/4737&#34;&gt;https://github.com/moby/moby/issues/4737&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://forums.docker.com/t/running-multiple-docker-containers-with-ufw-and-iptables-false/8953&#34;&gt;https://forums.docker.com/t/running-multiple-docker-containers-with-ufw-and-iptables-false/8953&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://www.techrepublic.com/article/how-to-fix-the-docker-and-ufw-security-flaw/&#34;&gt;https://www.techrepublic.com/article/how-to-fix-the-docker-and-ufw-security-flaw/&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://blog.viktorpetersson.com/2014/11/03/the-dangers-of-ufw-docker.html&#34;&gt;https://blog.viktorpetersson.com/2014/11/03/the-dangers-of-ufw-docker.html&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://askubuntu.com/questions/652556/uncomplicated-firewall-ufw-is-not-blocking-anything-when-using-docker&#34;&gt;https://askubuntu.com/questions/652556/uncomplicated-firewall-ufw-is-not-blocking-anything-when-using-docker&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://chjdev.com/2016/06/08/docker-ufw/&#34;&gt;https://chjdev.com/2016/06/08/docker-ufw/&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://askubuntu.com/questions/652556/uncomplicated-firewall-ufw-is-not-blocking-anything-when-using-docker&#34;&gt;https://askubuntu.com/questions/652556/uncomplicated-firewall-ufw-is-not-blocking-anything-when-using-docker&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://my.oschina.net/abcfy2/blog/539485&#34;&gt;https://my.oschina.net/abcfy2/blog/539485&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://www.v2ex.com/amp/t/466666&#34;&gt;https://www.v2ex.com/amp/t/466666&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://blog.36web.rocks/2016/07/08/docker-behind-ufw.html&#34;&gt;https://blog.36web.rocks/2016/07/08/docker-behind-ufw.html&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;...&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Almost all of these solutions are similar. It requires to disable docker&#39;s iptables function first, but this also means that we give up docker&#39;s network management function. This causes containers will not be able to access the external network. It is also mentioned in some articles that you can manually add some rules in the UFW configuration file, such as &lt;code&gt;-A POSTROUTING ! -o docker0 -s 172.17.0.0/16 -j MASQUERADE&lt;/code&gt;. But this only allows containers that belong to network &lt;code&gt;172.17.0.0/16&lt;/code&gt; can access outside. If we create a new docker network, we must manually add such similar iptables rules for the new network.&lt;/p&gt; &#xA;&lt;h2&gt;Expected goal&lt;/h2&gt; &#xA;&lt;p&gt;The solutions that we can find on internet are very similar and not elegant, I hope a new solution can:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Don&#39;t need to disable Docker&#39;s iptables and let Docker to manage it&#39;s network. We don&#39;t need to manually maintain iptables rules for any new Docker networks, and avoid potential side effects after disabling iptables in Docker.&lt;/li&gt; &#xA; &lt;li&gt;The public network cannot access ports that published by Docker. Even if the port is published on all IP addresses using an option like &lt;code&gt;-p 8080:80&lt;/code&gt;. Containers and internal networks can visit each other normally. Although it is possible to have Docker publish a container&#39;s port to the server&#39;s private IP address, the port will not be accessed on the public network. But, this server may have multiple private IP addresses, and these private IP addresses may also change.&lt;/li&gt; &#xA; &lt;li&gt;In a very convenient way to allow/deny public networks to access container ports without additional software and extra configurations. Just like using command &lt;code&gt;ufw allow 8080&lt;/code&gt; to allow external access port 8080, then using command &lt;code&gt;ufw delete allow 8080&lt;/code&gt; to deny public networks visit port 8080.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;How to do?&lt;/h2&gt; &#xA;&lt;h3&gt;Revoke the original modification&lt;/h3&gt; &#xA;&lt;p&gt;If you have modified your server according to the current solution that we find on the internet, please rollback these changes first, including:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Enable Docker&#39;s iptables feature. Remove all changes like &lt;code&gt;--iptables=false&lt;/code&gt; , including configuration file &lt;code&gt;/etc/docker/daemon.json&lt;/code&gt;.&lt;/li&gt; &#xA; &lt;li&gt;UFW&#39;s default FORWARD rule changes back to the default DROP instead of ACCEPT.&lt;/li&gt; &#xA; &lt;li&gt;Remove the rules related to the Docker network in the UFW configuration file &lt;code&gt;/etc/ufw/after.rules&lt;/code&gt;.&lt;/li&gt; &#xA; &lt;li&gt;If you have modified Docker configuration files, restart Docker first. We will modify the UFW configuration later and we can restart it then.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Solving UFW and Docker issues&lt;/h3&gt; &#xA;&lt;p&gt;This solution needs to modify only one UFW configuration file, all Docker configurations and options remain the default.&lt;/p&gt; &#xA;&lt;p&gt;Modify the UFW configuration file &lt;code&gt;/etc/ufw/after.rules&lt;/code&gt; and add the following rules at the end of the file:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;# BEGIN UFW AND DOCKER&#xA;*filter&#xA;:ufw-user-forward - [0:0]&#xA;:ufw-docker-logging-deny - [0:0]&#xA;:DOCKER-USER - [0:0]&#xA;-A DOCKER-USER -j ufw-user-forward&#xA;&#xA;-A DOCKER-USER -j RETURN -s 10.0.0.0/8&#xA;-A DOCKER-USER -j RETURN -s 172.16.0.0/12&#xA;-A DOCKER-USER -j RETURN -s 192.168.0.0/16&#xA;&#xA;-A DOCKER-USER -p udp -m udp --sport 53 --dport 1024:65535 -j RETURN&#xA;&#xA;-A DOCKER-USER -j ufw-docker-logging-deny -p tcp -m tcp --tcp-flags FIN,SYN,RST,ACK SYN -d 192.168.0.0/16&#xA;-A DOCKER-USER -j ufw-docker-logging-deny -p tcp -m tcp --tcp-flags FIN,SYN,RST,ACK SYN -d 10.0.0.0/8&#xA;-A DOCKER-USER -j ufw-docker-logging-deny -p tcp -m tcp --tcp-flags FIN,SYN,RST,ACK SYN -d 172.16.0.0/12&#xA;-A DOCKER-USER -j ufw-docker-logging-deny -p udp -m udp --dport 0:32767 -d 192.168.0.0/16&#xA;-A DOCKER-USER -j ufw-docker-logging-deny -p udp -m udp --dport 0:32767 -d 10.0.0.0/8&#xA;-A DOCKER-USER -j ufw-docker-logging-deny -p udp -m udp --dport 0:32767 -d 172.16.0.0/12&#xA;&#xA;-A DOCKER-USER -j RETURN&#xA;&#xA;-A ufw-docker-logging-deny -m limit --limit 3/min --limit-burst 10 -j LOG --log-prefix &#34;[UFW DOCKER BLOCK] &#34;&#xA;-A ufw-docker-logging-deny -j DROP&#xA;&#xA;COMMIT&#xA;# END UFW AND DOCKER&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Using command &lt;code&gt;sudo systemctl restart ufw&lt;/code&gt; or &lt;code&gt;sudo ufw reload&lt;/code&gt; to restart UFW after changing the file. Now the public network can&#39;t access any published docker ports, the container and the private network can visit each other normally, and the containers can also access the external network from inside. &lt;strong&gt;There may be some unknown reasons cause the UFW rules will not take effect after restart UFW, please reboot servers.&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;If you want to allow public networks to access the services provided by the Docker container, for example, the service port of a container is &lt;code&gt;80&lt;/code&gt;. Run the following command to allow the public networks to access this service:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw route allow proto tcp from any to any port 80&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;This allows the public network to access all published ports whose container port is &lt;code&gt;80&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;Note: If we publish a port by using option &lt;code&gt;-p 8080:80&lt;/code&gt;, we should use the container port &lt;code&gt;80&lt;/code&gt;, not the host port &lt;code&gt;8080&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;If there are multiple containers with a service port of &lt;code&gt;80&lt;/code&gt;, but we only want the external network to access a certain container. For example, if the private address of the container is &lt;code&gt;172.17.0.2&lt;/code&gt;, use the following command:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw route allow proto tcp from any to 172.17.0.2 port 80&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If the network protocol of a service is UDP, for example a DNS service, you can use the following command to allow the external network to access all published DNS services:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw route allow proto udp from any to any port 53&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Similarly, if only for a specific container, such as IP address &lt;code&gt;172.17.0.2&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw route allow proto udp from any to 172.17.0.2 port 53&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;How it works?&lt;/h2&gt; &#xA;&lt;p&gt;The following rules allow the private networks to be able to visit each other. Normally, private networks are more trusted than public networks.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;-A DOCKER-USER -j RETURN -s 10.0.0.0/8&#xA;-A DOCKER-USER -j RETURN -s 172.16.0.0/12&#xA;-A DOCKER-USER -j RETURN -s 192.168.0.0/16&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The following rules allow UFW to manage whether the public networks are allowed to visit the services provided by the Docker container. So that we can manage all firewall rules in one place.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;-A DOCKER-USER -j ufw-user-forward&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;For example, we want to block all outgoing connections from inside a container whose IP address is 172.17.0.9 which means to block this container to access internet or external networks. Using the following command:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw route deny from 172.17.0.9 to any&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The following rules block connection requests initiated by all public networks, but allow internal networks to access external networks. For TCP protocol, it prevents from actively establishing a TCP connection from public networks. For UDP protocol, all accesses to ports which is less then 32767 are blocked. Why is this port? Since the UDP protocol is stateless, it is not possible to block the handshake signal that initiates the connection request as TCP does. For GNU/Linux we can find the local port range in the file &lt;code&gt;/proc/sys/net/ipv4/ip_local_port_range&lt;/code&gt;. The default range is &lt;code&gt;32768 60999&lt;/code&gt;. When accessing a UDP protocol service from a running container, the local port will be randomly selected one from the port range, and the server will return the data to this random port. Therefore, we can assume that the listening port of the UDP protocol inside all containers are less then &lt;code&gt;32768&lt;/code&gt;. This is the reason that we don&#39;t want public networks to access the UDP ports that less then &lt;code&gt;32768&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;-A DOCKER-USER -j DROP -p tcp -m tcp --tcp-flags FIN,SYN,RST,ACK SYN -d 192.168.0.0/16&#xA;-A DOCKER-USER -j DROP -p tcp -m tcp --tcp-flags FIN,SYN,RST,ACK SYN -d 10.0.0.0/8&#xA;-A DOCKER-USER -j DROP -p tcp -m tcp --tcp-flags FIN,SYN,RST,ACK SYN -d 172.16.0.0/12&#xA;-A DOCKER-USER -j DROP -p udp -m udp --dport 0:32767 -d 192.168.0.0/16&#xA;-A DOCKER-USER -j DROP -p udp -m udp --dport 0:32767 -d 10.0.0.0/8&#xA;-A DOCKER-USER -j DROP -p udp -m udp --dport 0:32767 -d 172.16.0.0/12&#xA;&#xA;-A DOCKER-USER -j RETURN&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If a docker container doesn&#39;t follow the OS&#39;s settings when receiving data, that is to say, the minimal port number less than &lt;code&gt;32768&lt;/code&gt;. For example, we have a Dnsmasq container. The minimal port number that Dnsmasq uses for receiving data is &lt;code&gt;1024&lt;/code&gt;. We can use the following command to allow a bigger port range used for receiving DNS packages.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw route allow proto udp from any port 53 to any port 1024:65535&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Because DNS is a very common service, so there is already a firewall rule to allow a bigger port range to receive DNS packages.&lt;/p&gt; &#xA;&lt;h2&gt;The reason for choosing &lt;code&gt;ufw-user-forward&lt;/code&gt;, not &lt;code&gt;ufw-user-input&lt;/code&gt;&lt;/h2&gt; &#xA;&lt;h3&gt;using &lt;code&gt;ufw-user-input&lt;/code&gt;&lt;/h3&gt; &#xA;&lt;p&gt;Pro:&lt;/p&gt; &#xA;&lt;p&gt;Easy to use and understand, supports older versions of Ubuntu.&lt;/p&gt; &#xA;&lt;p&gt;For example, to allow the public to visit a published port whose container port is &lt;code&gt;8080&lt;/code&gt;, use the command:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw allow 8080&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Con:&lt;/p&gt; &#xA;&lt;p&gt;It not only exposes ports of containers but also exposes ports of the host.&lt;/p&gt; &#xA;&lt;p&gt;For example, if a service is running on the host, and the port is &lt;code&gt;8080&lt;/code&gt;. The command &lt;code&gt;ufw allow 8080&lt;/code&gt; allows the public network to visit the service and all published ports whose containers&#39; port is &lt;code&gt;8080&lt;/code&gt;. But we just want to expose the service running on the host, or just the service running inside containers, not the both.&lt;/p&gt; &#xA;&lt;p&gt;To avoid this problem, we may need to use a command similar to the following for all containers:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw allow proto tcp from any to 172.16.0.3 port 8080&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;using &lt;code&gt;ufw-user-forward&lt;/code&gt;&lt;/h3&gt; &#xA;&lt;p&gt;Pro:&lt;/p&gt; &#xA;&lt;p&gt;Cannot expose services running on hosts and containers at the same time by the same command.&lt;/p&gt; &#xA;&lt;p&gt;For example, if we want to publish the port &lt;code&gt;8080&lt;/code&gt; of containers, use the following command:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw route allow 8080&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The public network can access all published ports whose container ports are &lt;code&gt;8080&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;But the port &lt;code&gt;8080&lt;/code&gt; of the host is still not be accessed by the public network. If we want to do so, execute the following command to allow the public access the port on the host separately:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw allow 8080&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Con:&lt;/p&gt; &#xA;&lt;p&gt;Doesn&#39;t support older versions of Ubuntu, and the command is a bit more complicated. But you can use my script.&lt;/p&gt; &#xA;&lt;h3&gt;Conclusion&lt;/h3&gt; &#xA;&lt;p&gt;If we are using an older version of Ubuntu, we can use &lt;code&gt;ufw-user-input&lt;/code&gt; chain. But be careful to avoid exposing services that should not be exposed&lt;/p&gt; &#xA;&lt;p&gt;If we are using a newer version of Ubuntu which is support &lt;code&gt;ufw route&lt;/code&gt; sub-command, we&#39;d better use &lt;code&gt;ufw-user-forward&lt;/code&gt; chain, and use &lt;code&gt;ufw route&lt;/code&gt; command to manage firewall rules for containers.&lt;/p&gt; &#xA;&lt;h2&gt;&lt;code&gt;ufw-docker&lt;/code&gt; util&lt;/h2&gt; &#xA;&lt;p&gt;This script also supports Docker Swarm mode.&lt;/p&gt; &#xA;&lt;h3&gt;Install&lt;/h3&gt; &#xA;&lt;p&gt;Download &lt;code&gt;ufw-docker&lt;/code&gt; script&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;sudo wget -O /usr/local/bin/ufw-docker \&#xA;  https://github.com/chaifeng/ufw-docker/raw/master/ufw-docker&#xA;sudo chmod +x /usr/local/bin/ufw-docker&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Then using the following command to modify the &lt;code&gt;after.rules&lt;/code&gt; file of &lt;code&gt;ufw&lt;/code&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw-docker install&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;This command does the following things:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Back up the file &lt;code&gt;/etc/ufw/after.rules&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;Append the rules of UFW and Docker at the end of the file&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h4&gt;Install for Docker Swarm mode&lt;/h4&gt; &#xA;&lt;p&gt;We can only use this script on manager nodes to manage firewall rules when using in Swarm mode.&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Modifying all &lt;code&gt;after.rules&lt;/code&gt; files on all nodes, including managers and workers&lt;/li&gt; &#xA; &lt;li&gt;Deploying this script on manager nodes&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Running in Docker Swarm mode, this script will add a global service &lt;code&gt;ufw-docker-agent&lt;/code&gt;. The image &lt;a href=&#34;https://hub.docker.com/r/chaifeng/ufw-docker-agent/&#34;&gt;chaifeng/ufw-docker-agent&lt;/a&gt; is also automatically built from this project.&lt;/p&gt; &#xA;&lt;h3&gt;Usage&lt;/h3&gt; &#xA;&lt;p&gt;Show help&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw-docker help&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Check the installation of firewall rules in UFW configurations&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw-docker check&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Update UFW configurations, add the necessary firewall rules&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw-docker install&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Show the current firewall allowed forward rules&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw-docker status&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;List all firewall rules related to container &lt;code&gt;httpd&lt;/code&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw-docker list httpd&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Expose the port &lt;code&gt;80&lt;/code&gt; of the container &lt;code&gt;httpd&lt;/code&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw-docker allow httpd 80&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Expose the &lt;code&gt;443&lt;/code&gt; port of the container &lt;code&gt;httpd&lt;/code&gt; and the protocol is &lt;code&gt;tcp&lt;/code&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw-docker allow httpd 443/tcp&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Expose the &lt;code&gt;443&lt;/code&gt; port of the container &lt;code&gt;httpd&lt;/code&gt; and the protocol is &lt;code&gt;tcp&lt;/code&gt; and the network is &lt;code&gt;foobar-external-network&lt;/code&gt; when the container &lt;code&gt;httpd&lt;/code&gt; is attached to multiple networks&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw-docker allow httpd 443/tcp foobar-external-network&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Expose all published ports of the container &lt;code&gt;httpd&lt;/code&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw-docker allow httpd&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Remove all rules related to the container &lt;code&gt;httpd&lt;/code&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw-docker delete allow httpd&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Remove the rule which port is &lt;code&gt;443&lt;/code&gt; and protocol is &lt;code&gt;tcp&lt;/code&gt; for the container &lt;code&gt;httpd&lt;/code&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw-docker delete allow httpd 443/tcp&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Expose the port &lt;code&gt;80&lt;/code&gt; of the service &lt;code&gt;web&lt;/code&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;docker service create --name web --publish 8080:80 httpd:alpine&#xA;&#xA;ufw-docker service allow web 80&#xA;# or&#xA;ufw-docker service allow web 80/tcp&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Remove rules from all nodes related to the service &lt;code&gt;web&lt;/code&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw-docker service delete allow web&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Try it out&lt;/h3&gt; &#xA;&lt;p&gt;We use &lt;a href=&#34;https://www.vagrantup.com/&#34;&gt;Vagrant&lt;/a&gt; to set up a local testing environment.&lt;/p&gt; &#xA;&lt;p&gt;Run the following command to create 1 master node and 2 worker nodes&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;vagrant up&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Log into the master node&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;vagrant ssh master&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;After logging in, create a &lt;code&gt;web&lt;/code&gt; service&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;docker service create --name web --publish 8080:80 httpd:alpine&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;We shouldn&#39;t visit this &lt;code&gt;web&lt;/code&gt; service from our host&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;curl -v http://192.168.56.131:8080&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;On the master node, run the command to allow the public access port &lt;code&gt;80&lt;/code&gt; of the &lt;code&gt;web&lt;/code&gt; service.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;sudo ufw-docker service allow web 80&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;We can access the &lt;code&gt;web&lt;/code&gt; service from our host now&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;curl &#34;http://192.168.56.13{0,1,2}:8080&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Discussions&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://stackoverflow.com/questions/30383845/what-is-the-best-practice-of-docker-ufw-under-ubuntu/51741599#comment91451547_51741599&#34;&gt;What is the best practice of docker + ufw under Ubuntu - Stack Overflow&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/moby/moby/issues/4737#issuecomment-420112149&#34;&gt;docker and ufw serious problems · Issue #4737 · moby/moby&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;太长不想读&lt;/h2&gt; &#xA;&lt;p&gt;请直接看&lt;a href=&#34;https://raw.githubusercontent.com/chaifeng/ufw-docker/master/#%E8%A7%A3%E5%86%B3-ufw-%E5%92%8C-docker-%E7%9A%84%E9%97%AE%E9%A2%98&#34;&gt;解决 UFW 和 Docker 的问题&lt;/a&gt;。&lt;/p&gt; &#xA;&lt;h2&gt;问题&lt;/h2&gt; &#xA;&lt;p&gt;UFW 是 Ubuntu 上很流行的一个 iptables 前端，可以非常方便的管理防火墙的规则。但是当安装了 Docker，UFW 无法管理 Docker 发布出来的端口了。&lt;/p&gt; &#xA;&lt;p&gt;具体现象是：&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;在一个对外提供服务的服务器上启用了 UFW，并且默认阻止所有未被允许的传入连接。&lt;/li&gt; &#xA; &lt;li&gt;运行了一个 Docker 容器，并且使用 &lt;code&gt;-p&lt;/code&gt; 选项来把该容器的某个端口发布到服务器的所有 IP 地址上。比如：&lt;code&gt;docker run -d --name httpd -p 0.0.0.0:8080:80 httpd:alpine&lt;/code&gt; 将会运行一个 httpd 服务，并且将容器的 &lt;code&gt;80&lt;/code&gt; 端口发布到服务器的 &lt;code&gt;8080&lt;/code&gt; 端口上。&lt;/li&gt; &#xA; &lt;li&gt;UFW 将不会阻止所有对 &lt;code&gt;8080&lt;/code&gt; 端口访问的请求，用命令 &lt;code&gt;ufw deny 8080&lt;/code&gt; 也无法阻止外部访问这个端口。&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;这个问题其实挺严重的，这意味着本来只是为了在内部提供服务的一个端口被暴露在公共网络上。&lt;/p&gt; &#xA;&lt;p&gt;在网络上搜索 &#34;ufw docker&#34; 可以发现很多的讨论：&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/moby/moby/issues/4737&#34;&gt;https://github.com/moby/moby/issues/4737&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://forums.docker.com/t/running-multiple-docker-containers-with-ufw-and-iptables-false/8953&#34;&gt;https://forums.docker.com/t/running-multiple-docker-containers-with-ufw-and-iptables-false/8953&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://www.techrepublic.com/article/how-to-fix-the-docker-and-ufw-security-flaw/&#34;&gt;https://www.techrepublic.com/article/how-to-fix-the-docker-and-ufw-security-flaw/&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://blog.viktorpetersson.com/2014/11/03/the-dangers-of-ufw-docker.html&#34;&gt;https://blog.viktorpetersson.com/2014/11/03/the-dangers-of-ufw-docker.html&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://askubuntu.com/questions/652556/uncomplicated-firewall-ufw-is-not-blocking-anything-when-using-docker&#34;&gt;https://askubuntu.com/questions/652556/uncomplicated-firewall-ufw-is-not-blocking-anything-when-using-docker&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://chjdev.com/2016/06/08/docker-ufw/&#34;&gt;https://chjdev.com/2016/06/08/docker-ufw/&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://askubuntu.com/questions/652556/uncomplicated-firewall-ufw-is-not-blocking-anything-when-using-docker&#34;&gt;https://askubuntu.com/questions/652556/uncomplicated-firewall-ufw-is-not-blocking-anything-when-using-docker&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://my.oschina.net/abcfy2/blog/539485&#34;&gt;https://my.oschina.net/abcfy2/blog/539485&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://www.v2ex.com/amp/t/466666&#34;&gt;https://www.v2ex.com/amp/t/466666&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://blog.36web.rocks/2016/07/08/docker-behind-ufw.html&#34;&gt;https://blog.36web.rocks/2016/07/08/docker-behind-ufw.html&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;...&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;基本上可以找到的解决办法就是首先禁用 docker 的 iptables 功能，但这也意味着放弃了 docker 的网络管理功能，很典型的现象就是容器将无法访问外部网络。在有的文章中也提到了可以在 UFW 的配置文件中手工添加一条规则，比如 &lt;code&gt;-A POSTROUTING ! -o docker0 -s 172.17.0.0/16 -j MASQUERADE&lt;/code&gt;。但这也只是允许了 &lt;code&gt;172.17.0.0/16&lt;/code&gt; 这个网络。如果有了新增的网络，我们也必须手工再为新增的网络添加这样类似的 iptables 规则。&lt;/p&gt; &#xA;&lt;h2&gt;期望的目标&lt;/h2&gt; &#xA;&lt;p&gt;目前网络上的解决方案都非常类似，而且也不优雅，我希望一个新的解决方案可以：&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;不要禁用 Docker 的 iptables，像往常一样由 Docker 来管理自己的网络。这样有任何新增的 Docker 网络时都无需手工维护 iptables 规则，也避免了在 Docker 中禁用 iptables 之后可能带来的副作用。&lt;/li&gt; &#xA; &lt;li&gt;公共网络不可以访问 Docker 发布出来的端口，即使是使用类似 &lt;code&gt;-p 0.0.0.0:8080:80&lt;/code&gt; 的选项把端口发布在所有的 IP 地址上。容器之间、内部网络之间都可以正常互相访问，只有公共网络不可以访问。 虽然可以让 Docker 把容器的某一个端口映射到服务器的私有 IP 地址上，这样公共网络上将不会访问到这个端口。但是这个服务器可能有多个私有 IP 地址，这些私有 IP 地址可能也会发生变化。&lt;/li&gt; &#xA; &lt;li&gt;可以很方便的允许公共网络直接访问某个容器的端口，而无需额外的软件和配置。就像是用 &lt;code&gt;ufw allow 8080&lt;/code&gt; 这样允许外部访问 8080 端口，然后用 &lt;code&gt;ufw delete allow 8080&lt;/code&gt; 就不再允许外部访问。&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h2&gt;如何做？&lt;/h2&gt; &#xA;&lt;h3&gt;撤销原先的修改&lt;/h3&gt; &#xA;&lt;p&gt;如果已经按照目前网络上搜索到解决方案修改过了，请先修改回来，包括：&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;启用 Docker 的 iptables 功能，删除所有类似 &lt;code&gt;--iptables=false&lt;/code&gt; 的修改，包括 &lt;code&gt;/etc/docker/daemon.json&lt;/code&gt; 配置文件。&lt;/li&gt; &#xA; &lt;li&gt;UFW 的默认 &lt;code&gt;FORWARD&lt;/code&gt; 规则改回默认的 &lt;code&gt;DROP&lt;/code&gt;，而非 &lt;code&gt;ACCEPT&lt;/code&gt;。&lt;/li&gt; &#xA; &lt;li&gt;删除 UFW 配置文件 &lt;code&gt;/etc/ufw/after.rules&lt;/code&gt; 中与 Docker 网络相关的规则。&lt;/li&gt; &#xA; &lt;li&gt;如果修改了 Docker 相关的配置文件，重启 Docker。稍后还要修改 UFW 的配置，可以一并重启。&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h3&gt;解决 UFW 和 Docker 的问题&lt;/h3&gt; &#xA;&lt;p&gt;目前新的解决方案只需要修改一个 UFW 配置文件即可，Docker 的所有配置和选项都保持默认。&lt;/p&gt; &#xA;&lt;p&gt;修改 UFW 的配置文件 &lt;code&gt;/etc/ufw/after.rules&lt;/code&gt;，在最后添加上如下规则：&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;# BEGIN UFW AND DOCKER&#xA;*filter&#xA;:ufw-user-forward - [0:0]&#xA;:ufw-docker-logging-deny - [0:0]&#xA;:DOCKER-USER - [0:0]&#xA;-A DOCKER-USER -j ufw-user-forward&#xA;&#xA;-A DOCKER-USER -j RETURN -s 10.0.0.0/8&#xA;-A DOCKER-USER -j RETURN -s 172.16.0.0/12&#xA;-A DOCKER-USER -j RETURN -s 192.168.0.0/16&#xA;&#xA;-A DOCKER-USER -p udp -m udp --sport 53 --dport 1024:65535 -j RETURN&#xA;&#xA;-A DOCKER-USER -j ufw-docker-logging-deny -p tcp -m tcp --tcp-flags FIN,SYN,RST,ACK SYN -d 192.168.0.0/16&#xA;-A DOCKER-USER -j ufw-docker-logging-deny -p tcp -m tcp --tcp-flags FIN,SYN,RST,ACK SYN -d 10.0.0.0/8&#xA;-A DOCKER-USER -j ufw-docker-logging-deny -p tcp -m tcp --tcp-flags FIN,SYN,RST,ACK SYN -d 172.16.0.0/12&#xA;-A DOCKER-USER -j ufw-docker-logging-deny -p udp -m udp --dport 0:32767 -d 192.168.0.0/16&#xA;-A DOCKER-USER -j ufw-docker-logging-deny -p udp -m udp --dport 0:32767 -d 10.0.0.0/8&#xA;-A DOCKER-USER -j ufw-docker-logging-deny -p udp -m udp --dport 0:32767 -d 172.16.0.0/12&#xA;&#xA;-A DOCKER-USER -j RETURN&#xA;&#xA;-A ufw-docker-logging-deny -m limit --limit 3/min --limit-burst 10 -j LOG --log-prefix &#34;[UFW DOCKER BLOCK] &#34;&#xA;-A ufw-docker-logging-deny -j DROP&#xA;&#xA;COMMIT&#xA;# END UFW AND DOCKER&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;然后重启 UFW，&lt;code&gt;sudo systemctl restart ufw&lt;/code&gt;。现在外部就已经无法访问 Docker 发布出来的任何端口了，但是容器内部以及私有网络地址上可以正常互相访问，而且容器也可以正常访问外部的网络。&lt;strong&gt;可能由于某些未知原因，重启 UFW 之后规则也无法生效，请重启服务器。&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;如果希望允许外部网络访问 Docker 容器提供的服务，比如有一个容器的服务端口是 &lt;code&gt;80&lt;/code&gt;。那就可以用以下命令来允许外部网络访问这个服务：&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw route allow proto tcp from any to any port 80&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;这个命令会允许外部网络访问所有用 Docker 发布出来的并且内部服务端口为 &lt;code&gt;80&lt;/code&gt; 的所有服务。&lt;/p&gt; &#xA;&lt;p&gt;请注意，这个端口 &lt;code&gt;80&lt;/code&gt; 是容器的端口，而非使用 &lt;code&gt;-p 0.0.0.0:8080:80&lt;/code&gt; 选项发布在服务器上的 &lt;code&gt;8080&lt;/code&gt; 端口。&lt;/p&gt; &#xA;&lt;p&gt;如果有多个容器的服务端口为 80，但只希望外部网络访问某个特定的容器。比如该容器的私有地址为 &lt;code&gt;172.17.0.2&lt;/code&gt;，就用类似下面的命令：&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw route allow proto tcp from any to 172.17.0.2 port 80&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;如果一个容器的服务是 UDP 协议，假如是 DNS 服务，可以用下面的命令来允许外部网络访问所有发布出来的 DNS 服务：&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw route allow proto udp from any to any port 53&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;同样的，如果只针对一个特定的容器，比如 IP 地址为 &lt;code&gt;172.17.0.2&lt;/code&gt;：&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw route allow proto udp from any to 172.17.0.2 port 53&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;解释&lt;/h3&gt; &#xA;&lt;p&gt;在新增的这段规则中，下面这段规则是为了让私有网络地址可以互相访问。通常情况下，私有网络是比公共网络更信任的。&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;-A DOCKER-USER -j RETURN -s 10.0.0.0/8&#xA;-A DOCKER-USER -j RETURN -s 172.16.0.0/12&#xA;-A DOCKER-USER -j RETURN -s 192.168.0.0/16&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;下面的规则是为了可以用 UFW 来管理外部网络是否允许访问 Docker 容器提供的服务，这样我们就可以在一个地方来管理防火墙的规则了。&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;-A DOCKER-USER -j ufw-user-forward&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;例如，我们要阻止一个 IP 地址为 172.17.0.9 的容器内的所有对外连接，也就是阻止该容器访问外部网络，使用下列命令&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw route deny from 172.17.0.9 to any&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;下面的规则阻止了所有外部网络发起的连接请求，但是允许内部网络访问外部网络。对于 TCP 协议，是阻止了从外部网络主动建立 TCP 连接。对于 UDP，是阻止了所有小余端口 &lt;code&gt;32767&lt;/code&gt; 的访问。为什么是这个端口的？由于 UDP 协议是无状态的，无法像 TCP 那样阻止发起建立连接请求的握手信号。在 GNU/Linux 上查看文件 &lt;code&gt;/proc/sys/net/ipv4/ip_local_port_range&lt;/code&gt; 可以看到发出 TCP/UDP 数据后，本地源端口的范围，默认为 &lt;code&gt;32768 60999&lt;/code&gt;。当从一个运行的容器对外访问一个 UDP 协议的服务时，本地端口将会从这个端口范围里面随机选择一个，服务器将会把数据返回到这个随机端口上。所以，我们可以假定所有容器内部的 UDP 协议的监听端口都小余 &lt;code&gt;32768&lt;/code&gt;，不允许外部网络主动连接小余 &lt;code&gt;32768&lt;/code&gt; 的 UDP 端口。&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;-A DOCKER-USER -j DROP -p tcp -m tcp --tcp-flags FIN,SYN,RST,ACK SYN -d 192.168.0.0/16&#xA;-A DOCKER-USER -j DROP -p tcp -m tcp --tcp-flags FIN,SYN,RST,ACK SYN -d 10.0.0.0/8&#xA;-A DOCKER-USER -j DROP -p tcp -m tcp --tcp-flags FIN,SYN,RST,ACK SYN -d 172.16.0.0/12&#xA;-A DOCKER-USER -j DROP -p udp -m udp --dport 0:32767 -d 192.168.0.0/16&#xA;-A DOCKER-USER -j DROP -p udp -m udp --dport 0:32767 -d 10.0.0.0/8&#xA;-A DOCKER-USER -j DROP -p udp -m udp --dport 0:32767 -d 172.16.0.0/12&#xA;&#xA;-A DOCKER-USER -j RETURN&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;如果一个容器在接受数据的时候，端口号没有遵循操作系统的设定，也就是说最小端口号要小余 &lt;code&gt;32768&lt;/code&gt;。比如运行了一个 Dnsmasq 的容器，Dnsmasq 用于接受数据的最小端口号默认是 &lt;code&gt;1024&lt;/code&gt;。那可以用下面的命令来允许 Dnsmasq 这个容器使用一个更大的端口范围来接受数据。&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw route allow proto udp from any port 53 to any port 1024:65535&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;因为 DNS 是一个非常常见的服务，所以已经有一条规则用于允许使用一个更大的端口范围来接受 DNS 数据包&lt;/p&gt; &#xA;&lt;h3&gt;选择 &lt;code&gt;ufw-user-forward&lt;/code&gt; 而不是 &lt;code&gt;ufw-user-input&lt;/code&gt; 的原因&lt;/h3&gt; &#xA;&lt;h4&gt;使用 &lt;code&gt;ufw-user-input&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;优点：&lt;/p&gt; &#xA;&lt;p&gt;使用的 UFW 命令比较简单，也比较容易理解，而且也支持老版本的 Ubuntu&lt;/p&gt; &#xA;&lt;p&gt;比如，允许公众网络访问一个已经发布出来的容器端口 &lt;code&gt;8080&lt;/code&gt;，使用命令：&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw allow 8080&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;缺点：&lt;/p&gt; &#xA;&lt;p&gt;不仅仅是暴露了已经发布的容器端口，也暴露了主机上的端口。&lt;/p&gt; &#xA;&lt;p&gt;比如，如果在主机上运行了一个端口为 &lt;code&gt;8080&lt;/code&gt; 的服务。命令 &lt;code&gt;ufw allow 8080&lt;/code&gt; 允许了公共网络访问这个服务，也允许了访问所有已经发布的容器端口为 &lt;code&gt;8080&lt;/code&gt; 的服务。但是我们可能只是希望保留主机上的这个服务，或者是运行在容器里面的服务，而不是两个同时暴露。&lt;/p&gt; &#xA;&lt;p&gt;为了避免这个问题，我们可能需要使用类似下面的命令来管理已经发布的容器端口：&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw allow proto tcp from any to 172.16.0.3 port 8080&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;使用 &lt;code&gt;ufw-user-forward&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;优点：&lt;/p&gt; &#xA;&lt;p&gt;不会因为同一条命令而同时暴露主机和容器里面的服务。&lt;/p&gt; &#xA;&lt;p&gt;比如，如果我们希望暴露所有容器端口为 &lt;code&gt;8080&lt;/code&gt; 的服务，使用下面的命令：&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw route allow 8080&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;现在公共网络可以访问所有容器端口为 &lt;code&gt;8080&lt;/code&gt; 的已经发布的服务，但是运行在主机上的 &lt;code&gt;8080&lt;/code&gt; 服务仍然不会被公开。如果我们希望公开主机上的 &lt;code&gt;8080&lt;/code&gt; 端口，可以执行下面的命令：&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw allow 8080&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;缺点：&lt;/p&gt; &#xA;&lt;p&gt;不支持老版本的 Ubuntu，而且命令的使用上可能也会比较复杂。&lt;/p&gt; &#xA;&lt;h4&gt;结论&lt;/h4&gt; &#xA;&lt;p&gt;如果我们正在使用老版本的 Ubuntu，我们可以使用 &lt;code&gt;ufw-user-input&lt;/code&gt;。但是要小心避免把不该暴露的服务暴露出去。&lt;/p&gt; &#xA;&lt;p&gt;如果正在使用支持 &lt;code&gt;ufw route&lt;/code&gt; 命令的新版本的 Ubuntu，我们最好使用 &lt;code&gt;ufw-user-forward&lt;/code&gt;，并且使用 &lt;code&gt;ufw route&lt;/code&gt; 来管理与容器相关的防火墙规则。&lt;/p&gt; &#xA;&lt;h2&gt;&lt;code&gt;ufw-docker&lt;/code&gt; 工具&lt;/h2&gt; &#xA;&lt;p&gt;现在这个脚本也支持 Docker Swarm。&lt;/p&gt; &#xA;&lt;h3&gt;安装&lt;/h3&gt; &#xA;&lt;p&gt;下载 &lt;code&gt;ufw-docker&lt;/code&gt; 脚本&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;sudo wget -O /usr/local/bin/ufw-docker \&#xA;  https://github.com/chaifeng/ufw-docker/raw/master/ufw-docker&#xA;chmod +x /usr/local/bin/ufw-docker&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;使用下列命令来修改 ufw 的 &lt;code&gt;after.rules&lt;/code&gt; 文件&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw-docker install&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;这个命令做了以下事情：&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;备份文件 &lt;code&gt;/etc/ufw/after.rules&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;把 UFW 和 Docker 的相关规则添加到文件 &lt;code&gt;after.rules&lt;/code&gt; 的末尾&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h4&gt;为 Docker Swarm 环境安装&lt;/h4&gt; &#xA;&lt;p&gt;仅仅可以在管理节点上使用 &lt;code&gt;ufw-docker&lt;/code&gt; 这个脚本来管理防火墙规则。&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;在所有的节点上修改 &lt;code&gt;after.rules&lt;/code&gt; 这个文件，包括管理节点和工作节点&lt;/li&gt; &#xA; &lt;li&gt;在管理节点上部署这个脚本&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;运行在 Docker Swarm 模式下，这个脚本将会创建一个全局服务 &lt;code&gt;ufw-docker-agent&lt;/code&gt;。这个镜像 &lt;a href=&#34;https://hub.docker.com/r/chaifeng/ufw-docker-agent/&#34;&gt;chaifeng/ufw-docker-agent&lt;/a&gt; 是由本项目自动构建的。&lt;/p&gt; &#xA;&lt;h3&gt;使用方法&lt;/h3&gt; &#xA;&lt;p&gt;显示帮助&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw-docker help&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;检查 UFW 配置文件中防火墙规则的安装&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw-docker check&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;更新 UFW 的配置文件，添加必要的防火墙规则&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw-docker install&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;显示当前防火墙允许的转发规则&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw-docker status&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;列出所有和容器 &lt;code&gt;httpd&lt;/code&gt; 相关的防火墙规则&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw-docker list httpd&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;暴露容器 &lt;code&gt;httpd&lt;/code&gt; 的 &lt;code&gt;80&lt;/code&gt; 端口&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw-docker allow httpd 80&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;暴露容器 &lt;code&gt;httpd&lt;/code&gt; 的 &lt;code&gt;443&lt;/code&gt; 端口，且协议为 &lt;code&gt;tcp&lt;/code&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw-docker allow httpd 443/tcp&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;如果容器 &lt;code&gt;httpd&lt;/code&gt; 绑定到多个网络上，暴露其 &lt;code&gt;443&lt;/code&gt; 端口，协议为 &lt;code&gt;tcp&lt;/code&gt;，网络为 &lt;code&gt;foobar-external-network&lt;/code&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw-docker allow httpd 443/tcp foobar-external-network&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;把容器 &lt;code&gt;httpd&lt;/code&gt; 的所有映射端口都暴露出来&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw-docker allow httpd&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;删除所有和容器 &lt;code&gt;httpd&lt;/code&gt; 相关的防火墙规则&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw-docker delete allow httpd&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;删除容器 &lt;code&gt;httpd&lt;/code&gt; 的 &lt;code&gt;tcp&lt;/code&gt; 端口 &lt;code&gt;443&lt;/code&gt; 的规则&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw-docker delete allow httpd 443/tcp&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;暴露服务 &lt;code&gt;web&lt;/code&gt; 的 &lt;code&gt;80&lt;/code&gt; 端口&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;docker service create --name web --publish 8080:80 httpd:alpine&#xA;&#xA;ufw-docker service allow web 80&#xA;# 或者&#xA;ufw-docker service allow web 80/tcp&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;删除与服务 &lt;code&gt;web&lt;/code&gt; 相关的规则&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;ufw-docker service delete allow web&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;试试&lt;/h3&gt; &#xA;&lt;p&gt;我们使用 &lt;a href=&#34;https://www.vagrantup.com/&#34;&gt;Vagrant&lt;/a&gt; 来创建一个本地的测试环境。&lt;/p&gt; &#xA;&lt;p&gt;运行下面的命令来创建 1 个 master 节点和 2 个 workder 节点&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;vagrant up&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;登录到 master 节点&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;vagrant ssh master&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;登录后，创建 &lt;code&gt;web&lt;/code&gt; 服务&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;docker service create --name web --publish 8080:80 httpd:alpine&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;我们应该无法从我们的主机上访问这个 &lt;code&gt;web&lt;/code&gt; 服务&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;curl -v http://192.168.56.131:8080&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;在 master 节点上，运行下面的命令来允许公共访问 &lt;code&gt;web&lt;/code&gt; 服务端 &lt;code&gt;80&lt;/code&gt; 端口。&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;sudo ufw-docker service allow web 80&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;现在我们可以在我们的主机上访问这个 &lt;code&gt;web&lt;/code&gt; 服务了&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;curl &#34;http://192.168.56.13{0,1,2}:8080&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;讨论&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://stackoverflow.com/questions/30383845/what-is-the-best-practice-of-docker-ufw-under-ubuntu/51741599#comment91451547_51741599&#34;&gt;What is the best practice of docker + ufw under Ubuntu - Stack Overflow&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/moby/moby/issues/4737#issuecomment-420112149&#34;&gt;docker and ufw serious problems · Issue #4737 · moby/moby&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt;</summary>
  </entry>
</feed>