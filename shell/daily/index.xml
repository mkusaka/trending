<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Shell Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2024-11-26T01:37:24Z</updated>
  <subtitle>Daily Trending of Shell in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>tmux-plugins/tmux-yank</title>
    <updated>2024-11-26T01:37:24Z</updated>
    <id>tag:github.com,2024-11-26:/tmux-plugins/tmux-yank</id>
    <link href="https://github.com/tmux-plugins/tmux-yank" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Tmux plugin for copying to system clipboard. Works on OSX, Linux and Cygwin.&lt;/p&gt;&lt;hr&gt;&lt;p&gt;&lt;a href=&#34;https://travis-ci.org/tmux-plugins/tmux-yank&#34;&gt;&lt;img src=&#34;https://travis-ci.org/tmux-plugins/tmux-yank.svg?branch=master&#34; alt=&#34;Build Status&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/tmux-plugins/tmux-yank/releases&#34;&gt;&lt;img src=&#34;https://img.shields.io/github/release/tmux-plugins/tmux-yank.svg?sanitize=true&#34; alt=&#34;GitHub release&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/tmux-plugins/tmux-yank/issues&#34;&gt;&lt;img src=&#34;https://img.shields.io/github/issues/tmux-plugins/tmux-yank.svg?sanitize=true&#34; alt=&#34;GitHub issues&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h1&gt;tmux-yank&lt;/h1&gt; &#xA;&lt;p&gt;Copy to the system clipboard in &lt;a href=&#34;https://tmux.github.io/&#34;&gt;&lt;code&gt;tmux&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;Supports:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Linux&lt;/li&gt; &#xA; &lt;li&gt;macOS&lt;/li&gt; &#xA; &lt;li&gt;Cygwin&lt;/li&gt; &#xA; &lt;li&gt;Windows Subsystem for Linux (WSL)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Installing&lt;/h2&gt; &#xA;&lt;h3&gt;Via TPM (recommended)&lt;/h3&gt; &#xA;&lt;p&gt;The easiest way to install &lt;code&gt;tmux-yank&lt;/code&gt; is via the &lt;a href=&#34;https://github.com/tmux-plugins/tpm&#34;&gt;Tmux Plugin Manager&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt; &lt;p&gt;Add plugin to the list of TPM plugins in &lt;code&gt;.tmux.conf&lt;/code&gt;:&lt;/p&gt; &lt;pre&gt;&lt;code class=&#34;language-tmux&#34;&gt;set -g @plugin &#39;tmux-plugins/tmux-yank&#39;&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Use &lt;kbd&gt;prefix&lt;/kbd&gt;–&lt;kbd&gt;I&lt;/kbd&gt; install &lt;code&gt;tmux-yank&lt;/code&gt;. You should now be able to &lt;code&gt;tmux-yank&lt;/code&gt; immediately.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;When you want to update &lt;code&gt;tmux-yank&lt;/code&gt; use &lt;kbd&gt;prefix&lt;/kbd&gt;–&lt;kbd&gt;U&lt;/kbd&gt;.&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h3&gt;Manual Installation&lt;/h3&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt; &lt;p&gt;Clone the repository&lt;/p&gt; &lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ git clone https://github.com/tmux-plugins/tmux-yank ~/clone/path&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Add this line to the bottom of &lt;code&gt;.tmux.conf&lt;/code&gt;&lt;/p&gt; &lt;pre&gt;&lt;code class=&#34;language-tmux&#34;&gt;run-shell ~/clone/path/yank.tmux&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Reload the &lt;code&gt;tmux&lt;/code&gt; environment&lt;/p&gt; &lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;# type this inside tmux&#xA;$ tmux source-file ~/.tmux.conf&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;You should now be able to use &lt;code&gt;tmux-yank&lt;/code&gt; immediately.&lt;/p&gt; &#xA;&lt;h2&gt;Requirements&lt;/h2&gt; &#xA;&lt;p&gt;In order for &lt;code&gt;tmux-yank&lt;/code&gt; to work, there must be a program that store data in the system clipboard.&lt;/p&gt; &#xA;&lt;h3&gt;macOS&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/ChrisJohnsen/tmux-MacOSX-pasteboard&#34;&gt;&lt;code&gt;reattach-to-user-namespace&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: Some versions of macOS (aka OS X) have been reported to work without &lt;code&gt;reattach-to-user-namespace&lt;/code&gt;. It doesn&#39;t hurt to have it installed.&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;OS X 10.8: Mountain Lion – &lt;em&gt;required&lt;/em&gt;&lt;/li&gt; &#xA; &lt;li&gt;OS X 10.9: Mavericks – &lt;em&gt;required&lt;/em&gt;&lt;/li&gt; &#xA; &lt;li&gt;OS X 10.10: Yosemite – &lt;em&gt;not required&lt;/em&gt;&lt;/li&gt; &#xA; &lt;li&gt;OS X 10.11: El Capitan – &lt;em&gt;not required&lt;/em&gt;&lt;/li&gt; &#xA; &lt;li&gt;macOS 10.12: Sierra – &lt;em&gt;required&lt;/em&gt;&lt;/li&gt; &#xA; &lt;li&gt;macOS 10.14: Mojave - &lt;em&gt;required&lt;/em&gt;&lt;/li&gt; &#xA; &lt;li&gt;macOS 10.15: Catalina - &lt;em&gt;not required&lt;/em&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;The easiest way to use &lt;code&gt;reattach-to-user-namespace&lt;/code&gt; with &lt;code&gt;tmux&lt;/code&gt; is use to use the &lt;a href=&#34;https://github.com/tmux-plugins/tmux-sensible&#34;&gt;&lt;code&gt;tmux-sensible&lt;/code&gt;&lt;/a&gt; plugin.&lt;/p&gt; &#xA;&lt;p&gt;To use it manually, use:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-tmux&#34;&gt;# ~/.tmux.conf&#xA;set-option -g default-command &#34;reattach-to-user-namespace -l $SHELL&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If you have &lt;code&gt;tmux&lt;/code&gt; 1.5 or newer and are using &lt;a href=&#34;https://www.iterm2.com/&#34;&gt;iTerm2&lt;/a&gt; version 3 or newer then the &lt;kbd&gt;y&lt;/kbd&gt; in &lt;code&gt;copy-mode&lt;/code&gt; and mouse selection will work without &lt;code&gt;tmux-yank&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;To enable this:&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt; &lt;p&gt;Go into iTerm2&#39;s preferences.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Go to the &#34;General&#34; tab.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Check &#34;Applications in terminal may access clipboard&#34;&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;In &lt;code&gt;tmux&lt;/code&gt;, ensure &lt;code&gt;set-clipboard&lt;/code&gt; is turned on:&lt;/p&gt; &lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ tmux show-options -g -s set-clipboard&#xA;set-clipboard on&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h4&gt;&lt;a href=&#34;https://brew.sh/&#34;&gt;HomeBrew&lt;/a&gt; (recommended)&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ brew install reattach-to-user-namespace&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;MacPorts&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ sudo port install tmux-pasteboard&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Linux&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;xsel&lt;/code&gt; (recommended) or &lt;code&gt;xclip&lt;/code&gt; (for X).&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;wl-copy&lt;/code&gt; from &lt;a href=&#34;https://github.com/bugaevc/wl-clipboard&#34;&gt;wl-clipboard&lt;/a&gt; (for Wayland)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;If you have &lt;code&gt;tmux&lt;/code&gt; 1.5 or newer and are using &lt;code&gt;xterm&lt;/code&gt;, the &lt;kbd&gt;y&lt;/kbd&gt; in &lt;code&gt;copy-mode&lt;/code&gt; and mouse selection will work without &lt;code&gt;tmux-yank&lt;/code&gt;. See the &lt;code&gt;tmux(1)&lt;/code&gt; man page entry for the &lt;code&gt;set-clipboard&lt;/code&gt; option.&lt;/p&gt; &#xA;&lt;h4&gt;Debian &amp;amp; Ubuntu&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ sudo apt-get install xsel # or xclip&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;RedHat &amp;amp; CentOS&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ sudo yum install xsel # or xclip&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Cygwin&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;(&lt;em&gt;optional&lt;/em&gt;) &lt;code&gt;putclip&lt;/code&gt; which is part of the &lt;code&gt;cygutils-extra&lt;/code&gt; package.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Windows Subsystem for Linux (WSL)&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;clip.exe&lt;/code&gt; is shipped with Windows Subsystem for Linux.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Configuration&lt;/h2&gt; &#xA;&lt;h3&gt;Key bindings&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;Normal Mode&lt;/p&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt; &lt;p&gt;&lt;kbd&gt;prefix&lt;/kbd&gt;–&lt;kbd&gt;y&lt;/kbd&gt; — copies text from the command line to the clipboard.&lt;/p&gt; &lt;p&gt;Works with all popular shells/repls. Tested with:&lt;/p&gt; &#xA;    &lt;ul&gt; &#xA;     &lt;li&gt;shells: &lt;code&gt;bash&lt;/code&gt;, &lt;code&gt;zsh&lt;/code&gt; (with &lt;code&gt;bindkey -e&lt;/code&gt;), &lt;code&gt;tcsh&lt;/code&gt;&lt;/li&gt; &#xA;     &lt;li&gt;repls: &lt;code&gt;irb&lt;/code&gt;, &lt;code&gt;pry&lt;/code&gt;, &lt;code&gt;node&lt;/code&gt;, &lt;code&gt;psql&lt;/code&gt;, &lt;code&gt;python&lt;/code&gt;, &lt;code&gt;php -a&lt;/code&gt;, &lt;code&gt;coffee&lt;/code&gt;&lt;/li&gt; &#xA;     &lt;li&gt;remote shells: &lt;code&gt;ssh&lt;/code&gt;, &lt;a href=&#34;http://mosh.mit.edu/&#34;&gt;mosh&lt;/a&gt;&lt;/li&gt; &#xA;     &lt;li&gt;vim/neovim command line (requires &lt;a href=&#34;https://github.com/bruno-/vim-husk&#34;&gt;vim-husk&lt;/a&gt; or &lt;a href=&#34;https://github.com/tpope/vim-rsi&#34;&gt;vim-rsi&lt;/a&gt; plugin)&lt;/li&gt; &#xA;    &lt;/ul&gt; &lt;/li&gt; &#xA;   &lt;li&gt; &lt;p&gt;&lt;kbd&gt;prefix&lt;/kbd&gt;–&lt;kbd&gt;Y&lt;/kbd&gt; — copy the current pane&#39;s current working directory to the clipboard.&lt;/p&gt; &lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Copy Mode&lt;/p&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;kbd&gt;y&lt;/kbd&gt; — copy selection to system clipboard.&lt;/li&gt; &#xA;   &lt;li&gt;&lt;kbd&gt;Y&lt;/kbd&gt; (shift-y) — &#34;put&#34; selection. Equivalent to copying a selection, and pasting it to the command line.&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Default and Preferred Clipboard Programs&lt;/h3&gt; &#xA;&lt;p&gt;tmux-yank does its best to detect a reasonable choice for a clipboard program on your OS.&lt;/p&gt; &#xA;&lt;p&gt;If tmux-yank can&#39;t detect a known clipboard program then it uses the &lt;code&gt;@custom_copy_command&lt;/code&gt; tmux option as your clipboard program if set.&lt;/p&gt; &#xA;&lt;p&gt;If you need to always override tmux-yank&#39;s choice for a clipboard program, then you can set &lt;code&gt;@override_copy_command&lt;/code&gt; to force tmux-yank to use whatever you want.&lt;/p&gt; &#xA;&lt;p&gt;Note that both programs &lt;em&gt;must&lt;/em&gt; accept &lt;code&gt;STDIN&lt;/code&gt; for the text to be copied.&lt;/p&gt; &#xA;&lt;p&gt;An example of setting &lt;code&gt;@override_copy_command&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-tmux&#34;&gt;# ~/.tmux.conf&#xA;&#xA;set -g @custom_copy_command &#39;my-clipboard-copy --some-arg&#39;&#xA;# or&#xA;set -g @override_copy_command &#39;my-clipboard-copy --some-arg&#39;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Linux Clipboards&lt;/h3&gt; &#xA;&lt;p&gt;Linux has several cut-and-paste clipboards: &lt;code&gt;primary&lt;/code&gt;, &lt;code&gt;secondary&lt;/code&gt;, and &lt;code&gt;clipboard&lt;/code&gt; (default in tmux-yank is &lt;code&gt;clipboard&lt;/code&gt;).&lt;/p&gt; &#xA;&lt;p&gt;You can change this by setting &lt;code&gt;@yank_selection&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-tmux&#34;&gt;# ~/.tmux.conf&#xA;&#xA;set -g @yank_selection &#39;primary&#39; # or &#39;secondary&#39; or &#39;clipboard&#39;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;With mouse support turned on (see below) the default clipboard for mouse selections is &lt;code&gt;primary&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;You can change this by setting &lt;code&gt;@yank_selection_mouse&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-tmux&#34;&gt;# ~/.tmux.conf&#xA;&#xA;set -g @yank_selection_mouse &#39;clipboard&#39; # or &#39;primary&#39; or &#39;secondary&#39;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Controlling Yank Behavior&lt;/h3&gt; &#xA;&lt;p&gt;By default, &lt;code&gt;tmux-yank&lt;/code&gt; will exit copy mode after yanking text. If you wish to remain in copy mode, you can set &lt;code&gt;@yank_action&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-tmux&#34;&gt;# ~/.tmux.conf&#xA;&#xA;set -g @yank_action &#39;copy-pipe&#39; # or &#39;copy-pipe-and-cancel&#39; for the default&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Mouse Support&lt;/h3&gt; &#xA;&lt;p&gt;&lt;code&gt;tmux-yank&lt;/code&gt; has mouse support enabled by default. It will only work if &lt;code&gt;tmux&lt;/code&gt;&#39;s built-in mouse support is also enabled (with &lt;code&gt;mouse on&lt;/code&gt; since &lt;code&gt;tmux&lt;/code&gt; 2.1, or &lt;code&gt;mode-mouse on&lt;/code&gt; in older versions).&lt;/p&gt; &#xA;&lt;p&gt;To yank with the mouse, click and drag with the primary button to begin selection, and release to yank.&lt;/p&gt; &#xA;&lt;p&gt;If you would prefer to disable this behavior, or provide your own bindings for the &lt;code&gt;MouseDragEnd1Pane&lt;/code&gt; event, you can do so with:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-tmux&#34;&gt;# ~/.tmux.conf&#xA;&#xA;set -g @yank_with_mouse off # or &#39;on&#39;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If you want to remain in copy mode after making a mouse selection, set &lt;code&gt;@yank_action&lt;/code&gt; as described above.&lt;/p&gt; &#xA;&lt;h3&gt;vi mode support&lt;/h3&gt; &#xA;&lt;p&gt;If using &lt;code&gt;tmux&lt;/code&gt; 2.3 or older &lt;em&gt;and&lt;/em&gt; using vi keys then you&#39;ll have add the following configuration setting:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-tmux&#34;&gt;# ~/.tmux.conf&#xA;&#xA;set -g @shell_mode &#39;vi&#39;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;This isn&#39;t needed with &lt;code&gt;tmux&lt;/code&gt; 2.4 or newer.&lt;/p&gt; &#xA;&lt;h3&gt;Screen-cast&lt;/h3&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://vimeo.com/102039099&#34;&gt;&lt;img src=&#34;https://raw.githubusercontent.com/tmux-plugins/tmux-yank/master/video/screencast_img.png&#34; alt=&#34;screencast screenshot&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: The screen-cast uses &lt;kbd&gt;Control&lt;/kbd&gt;–&lt;kbd&gt;y&lt;/kbd&gt; for &#34;put&amp;nbsp;selection&#34;. Use &lt;kbd&gt;Y&lt;/kbd&gt; in &lt;code&gt;v2.0.0&lt;/code&gt; and later.&lt;/p&gt; &#xA;&lt;h3&gt;Other tmux plugins&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/tmux-plugins/tmux-copycat&#34;&gt;tmux-copycat&lt;/a&gt; - a plugin for regular expression searches in tmux and fast match selection&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/tmux-plugins/tmux-open&#34;&gt;tmux-open&lt;/a&gt; - a plugin for quickly opening highlighted file or a URL&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/tmux-plugins/tmux-continuum&#34;&gt;tmux-continuum&lt;/a&gt; - automatic restoring and continuous saving of tmux environment.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;License&lt;/h3&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://raw.githubusercontent.com/tmux-plugins/tmux-yank/master/LICENSE.md&#34;&gt;MIT&lt;/a&gt;&lt;/p&gt;</summary>
  </entry>
  <entry>
    <title>myxuchangbin/dnsmasq_sniproxy_install</title>
    <updated>2024-11-26T01:37:24Z</updated>
    <id>tag:github.com,2024-11-26:/myxuchangbin/dnsmasq_sniproxy_install</id>
    <link href="https://github.com/myxuchangbin/dnsmasq_sniproxy_install" rel="alternate"></link>
    <summary type="html">&lt;p&gt;One-click Install and Configure Dnsmasq and Sniproxy for CentOS/Debian/Ubuntu&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;Dnsmasq SNIproxy One-click Install&lt;/h1&gt; &#xA;&lt;h3&gt;脚本概述：&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;原理简述：利用&lt;a href=&#34;http://thekelleys.org.uk/dnsmasq/doc.html&#34;&gt;Dnsmasq&lt;/a&gt;的DNS功能，将特定网站的DNS解析重定向到&lt;a href=&#34;https://github.com/dlundquist/sniproxy&#34;&gt;SNIproxy&lt;/a&gt;反向代理。&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;用途：让访问流媒体受限的VPS突破限制，前提是要有一个能流媒体的VPS。&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;特性：脚本默认解锁&lt;code&gt;Netflix Hulu HBO&lt;/code&gt;&lt;a href=&#34;https://github.com/myxuchangbin/dnsmasq_sniproxy_install/raw/master/proxy-domains.txt&#34;&gt;等&lt;/a&gt;，如需增删流媒体域名请编辑文件&lt;code&gt;/etc/dnsmasq.d/custom_netflix.conf&lt;/code&gt;和&lt;code&gt;/etc/sniproxy.conf&lt;/code&gt;&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;脚本支持系统：CentOS7+, Debian9+, Ubuntu18+&lt;/p&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;如果脚本最后显示的IP和实际公网IP不符，请修改一下文件&lt;code&gt;/etc/sniproxy.conf&lt;/code&gt;中的IP地址&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;脚本用法：&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code&gt;bash dnsmasq_sniproxy.sh [-h] [-i] [-f] [-id] [-fd] [-is] [-fs] [-u] [-ud] [-us]&#xA;  -h , --help                显示帮助信息&#xA;  -i , --install             安装 Dnsmasq + SNI Proxy&#xA;  -f , --fastinstall         快速安装 Dnsmasq + SNI Proxy&#xA;  -id, --installdnsmasq      仅安装 Dnsmasq&#xA;  -fd, --installdnsmasq      快速安装 Dnsmasq&#xA;  -is, --installsniproxy     仅安装 SNI Proxy&#xA;  -fs, --fastinstallsniproxy 快速安装 SNI Proxy&#xA;  -u , --uninstall           卸载 Dnsmasq + SNI Proxy&#xA;  -ud, --undnsmasq           卸载 Dnsmasq&#xA;  -us, --unsniproxy          卸载 SNI Proxy&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;快速安装（推荐）：&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-Bash&#34;&gt;wget --no-check-certificate -O dnsmasq_sniproxy.sh https://raw.githubusercontent.com/myxuchangbin/dnsmasq_sniproxy_install/master/dnsmasq_sniproxy.sh &amp;amp;&amp;amp; bash dnsmasq_sniproxy.sh -f&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;普通安装：&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-Bash&#34;&gt;wget --no-check-certificate -O dnsmasq_sniproxy.sh https://raw.githubusercontent.com/myxuchangbin/dnsmasq_sniproxy_install/master/dnsmasq_sniproxy.sh &amp;amp;&amp;amp; bash dnsmasq_sniproxy.sh -i&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;卸载方法：&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-Bash&#34;&gt;wget --no-check-certificate -O dnsmasq_sniproxy.sh https://raw.githubusercontent.com/myxuchangbin/dnsmasq_sniproxy_install/master/dnsmasq_sniproxy.sh &amp;amp;&amp;amp; bash dnsmasq_sniproxy.sh -u&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;使用方法：&lt;/h3&gt; &#xA;&lt;p&gt;将代理主机的 DNS 地址设置为安装了 dnsmasq 的主机 IP 即可，如果遇到问题，尝试在配置文件中只保留一个 DNS 地址。&lt;/p&gt; &#xA;&lt;p&gt;为了防止滥用，建议不要公开 IP 地址，并使用防火墙进行适当的访问限制。&lt;/p&gt; &#xA;&lt;h3&gt;调试排错：&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;确认 sniproxy 运行状态&lt;/p&gt; &lt;p&gt;查看sniproxy状态：&lt;code&gt;systemctl status sniproxy&lt;/code&gt;&lt;/p&gt; &lt;p&gt;如果 sniproxy 未运行，请检查是否有其他服务占用了 80、443 端口，导致端口冲突。可以使用 &lt;code&gt;netstat -tlunp | grep 443&lt;/code&gt; 命令查看端口监听情况。&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;确认防火墙设置&lt;/p&gt; &lt;p&gt;确保防火墙已放行 53、80、443 端口。在调试时，可以关闭防火墙： &lt;code&gt;systemctl stop firewalld.service&lt;/code&gt;&lt;/p&gt; &lt;p&gt;对于阿里云、腾讯云、AWS 等云服务提供商，安全组的端口设置同样需要放行。&lt;/p&gt; &lt;p&gt;使用其他服务器进行测试： &lt;code&gt;telnet 1.2.3.4 53&lt;/code&gt;&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;域名解析测试&lt;/p&gt; &lt;p&gt;在配置完 DNS 后，进行域名解析测试：&lt;code&gt;nslookup netflix.com&lt;/code&gt; 检查 IP 是否为 Netflix 代理服务器的 IP。 如果系统中没有 nslookup 命令，可以在 CentOS 上安装：&lt;code&gt;yum install -y bind-utils&lt;/code&gt; 在 Ubuntu 和 Debian 上安装：&lt;code&gt;apt-get -y install dnsutils&lt;/code&gt;&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;解决 systemd-resolve 服务占用 53 端口的问题&lt;/p&gt; &lt;p&gt;使用 &lt;code&gt;netstat -tlunp | grep 53&lt;/code&gt; 发现 53 端口被 systemd-resolved 占用 修改&lt;code&gt;/etc/systemd/resolved.conf&lt;/code&gt;文件：&lt;/p&gt; &lt;pre&gt;&lt;code&gt;[Resolve]&#xA;DNS=8.8.8.8 1.1.1.1 #取消注释，增加dns&#xA;#FallbackDNS=&#xA;#Domains=&#xA;#LLMNR=no&#xA;#MulticastDNS=no&#xA;#DNSSEC=no&#xA;#Cache=yes&#xA;DNSStubListener=no  #取消注释，把yes改为no&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;p&gt;然后执行以下命令，并重启 systemd-resolved 服务：&lt;/p&gt; &lt;pre&gt;&lt;code&gt;ln -sf /run/systemd/resolve/resolv.conf /etc/resolv.conf&#xA;systemctl restart systemd-resolved.service&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA;&lt;/ul&gt;</summary>
  </entry>
</feed>