<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Shell Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2022-11-26T01:37:22Z</updated>
  <subtitle>Daily Trending of Shell in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>zegl/extremely-linear</title>
    <updated>2022-11-26T01:37:22Z</updated>
    <id>tag:github.com,2022-11-26:/zegl/extremely-linear</id>
    <link href="https://github.com/zegl/extremely-linear" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Extremely Linear Git History&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;Extremely Linear Git History&lt;/h1&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;Dreaming of a git commit history that looks like this?&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;img width=&#34;1197&#34; alt=&#34;Screenshot 2022-11-22 at 16 16 40&#34; src=&#34;https://user-images.githubusercontent.com/47952/203351228-383cd585-c135-4f63-ac3d-8f10707cc9c7.png&#34;&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Create meaningful checksums: The first commit is &lt;code&gt;0000000&lt;/code&gt;, then &lt;code&gt;0000001&lt;/code&gt;, then &lt;code&gt;0000002&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;Easy overview of your history&lt;/li&gt; &#xA; &lt;li&gt;No need for semver or other external versioning, your commits are your version numbers&lt;/li&gt; &#xA; &lt;li&gt;With the &lt;code&gt;shit&lt;/code&gt; (&#34;short git&#34;) wrapper, you can use commands like &lt;code&gt;shit show 14&lt;/code&gt;, and &lt;code&gt;shit log 100..150&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;100% production ready, 0% recommended&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Installation&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;brew install zegl/tap/git-linearize zegl/tap/git-shit&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;or copy the scripts (from the root of this repo) to somewhere on your PATH.&lt;/p&gt; &#xA;&lt;h2&gt;Usage&lt;/h2&gt; &#xA;&lt;p&gt;Run as &lt;code&gt;git linearize&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;git linearize - Create an extremely linear git history - github.com/zegl/extremely-linear&#xA;&#xA;git linearize [command] [options]&#xA;&#xA;command: (default command is to run the linearization process)&#xA;  -h, --help           show brief help&#xA;  --install-hook       installs git-linearize as a post-commit hook (current repo only)&#xA;  --make-epoch         makes the current commit the linearized epoch (00000000), use to adopt git-linearize in&#xA;                       existing repositories without having to rewrite the full history&#xA;&#xA;general options (for all command):&#xA;  -v, --verbose                   more verbose logging&#xA;  --short                         use shorter 6 digit prefix (quick mode)&#xA;  --format [format]               specify your own prefix format (pritnf style)&#xA;  --if-branch [name]              only run if the current branch is [name]&#xA;&#xA;  All command generally support all general options. For example, specifying --format to --install-hook means&#xA;  that git-linearize will be called with the same format in the future when triggered by the hook.&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;git-linearize requires the history to already be linear (no merge commits).&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Beware:&lt;/strong&gt; git-linearize will rebase your entire project history. Do not run unless you know what you&#39;re doing. Create a backup first!&lt;/p&gt; &#xA;&lt;h2&gt;&lt;code&gt;shit&lt;/code&gt; ‚Äì &#34;short git&#34;&lt;/h2&gt; &#xA;&lt;p&gt;This repository also contains &lt;code&gt;shit&lt;/code&gt;. A git wrapper that converts non-padded prefixes to their padded counterpart.&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;shit show 14&lt;/code&gt; translates to &lt;code&gt;git show 00000140&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;shit log 10..14&lt;/code&gt; --&amp;gt; &lt;code&gt;git log 00000100..00000140&lt;/code&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Install with &lt;code&gt;brew install zegl/tap/git-shit&lt;/code&gt;, or copy the &lt;a href=&#34;https://github.com/zegl/extremely-linear/raw/main/shit&#34;&gt;the script&lt;/a&gt; to somewhere on your PATH.&lt;/p&gt; &#xA;&lt;h1&gt;What&#39;s happening here&lt;/h1&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;Read more in the &lt;a href=&#34;https://westling.dev/b/extremely-linear-git&#34;&gt;&#34;Extremely Linear Git History&#34;&lt;/a&gt; blog post.&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;p&gt;The hash of a git commit is created by combining the tree, commit parent(s), author, and the commit message.&lt;/p&gt; &#xA;&lt;p&gt;git-linearize uses &lt;a href=&#34;https://github.com/not-an-aardvark/lucky-commit&#34;&gt;lucky_commit&lt;/a&gt; which inserts invisible whitespace characters at the end of the commit message until we get a SHA1 hash with the desired prefix.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;git-linearize&lt;/code&gt; will convert/rebase your repository so that the first commit in the history has a prefix that starts with &lt;code&gt;00000000&lt;/code&gt;, the second commit will have the prefix &lt;code&gt;00000010&lt;/code&gt;, the third one will have &lt;code&gt;00000020&lt;/code&gt; and so on.&lt;/p&gt; &#xA;&lt;h2&gt;Prefix format&lt;/h2&gt; &#xA;&lt;p&gt;Many git clients and forges, abbreviate commit hashes to the first 7 characters. git-linearize uses the first 7 characters for the counter (0 to 9 999 999), followed by a fixed 0, making the total prefix length 8 characters long.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;| NNNNNNN | 0 | XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX |&#xA;| counter |    \                 can be anything |&#xA;           \ always zero&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Performance? Is this fast? üèé&lt;/h2&gt; &#xA;&lt;p&gt;Thanks to the GPU powered crashing in lucky_commit, generating a 8 character prefix takes roughly 2 seconds on my computer (2021 Macbook Pro with M1 Pro).&lt;/p&gt; &#xA;&lt;p&gt;Using CPU-only crashing (if your computer does not have a GPU) attached, the same operation takes ~43 seconds on the same computer.&lt;/p&gt; &#xA;&lt;h1&gt;Future ideas and epic hacks&lt;/h1&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;A pre-merge GitHub action that runs git-linearize&lt;/li&gt; &#xA; &lt;li&gt;‚úÖ A post-commit commit hook&lt;/li&gt; &#xA; &lt;li&gt;Make it easier to organize git-linearize on multiple branches (see: --if-branch)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h1&gt;Credits&lt;/h1&gt; &#xA;&lt;p&gt;Thanks to &lt;a href=&#34;https://github.com/not-an-aardvark/lucky-commit&#34;&gt;lucky_commit&lt;/a&gt; and &lt;a href=&#34;https://github.com/Mattias-/githashcrash&#34;&gt;githashcrash&lt;/a&gt; for the hard work of actually crunching the checksums, and for the inspiration to this project.&lt;/p&gt;</summary>
  </entry>
  <entry>
    <title>lloesche/valheim-server-docker</title>
    <updated>2022-11-26T01:37:22Z</updated>
    <id>tag:github.com,2022-11-26:/lloesche/valheim-server-docker</id>
    <link href="https://github.com/lloesche/valheim-server-docker" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Valheim dedicated gameserver with automatic update, World backup, BepInEx and ValheimPlus mod support&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;lloesche/valheim-server Docker image&lt;/h1&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/Logo_valheim.png&#34; alt=&#34;Valheim&#34; title=&#34;Valheim&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;Valheim Server in a Docker Container (with &lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#bepinexpack-valheim&#34;&gt;BepInEx&lt;/a&gt; and &lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#valheimplus&#34;&gt;ValheimPlus&lt;/a&gt; support)&lt;br&gt; This project is hosted at &lt;a href=&#34;https://github.com/lloesche/valheim-server-docker&#34;&gt;https://github.com/lloesche/valheim-server-docker&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h1&gt;Table of contents&lt;/h1&gt; &#xA;&lt;!-- vim-markdown-toc GFM --&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#basic-docker-usage&#34;&gt;Basic Docker Usage&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#environment-variables&#34;&gt;Environment Variables&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#log-filters&#34;&gt;Log filters&lt;/a&gt; &#xA;    &lt;ul&gt; &#xA;     &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#log-filter-event-hooks&#34;&gt;Log filter event hooks&lt;/a&gt; &#xA;      &lt;ul&gt; &#xA;       &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#discord-log-filter-event-hook-example&#34;&gt;Discord log filter event hook example&lt;/a&gt;&lt;/li&gt; &#xA;      &lt;/ul&gt; &lt;/li&gt; &#xA;    &lt;/ul&gt; &lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#event-hooks&#34;&gt;Event hooks&lt;/a&gt; &#xA;    &lt;ul&gt; &#xA;     &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#event-hook-examples&#34;&gt;Event hook examples&lt;/a&gt; &#xA;      &lt;ul&gt; &#xA;       &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#install-extra-packages&#34;&gt;Install extra packages&lt;/a&gt;&lt;/li&gt; &#xA;       &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#copy-backups-to-another-location&#34;&gt;Copy backups to another location&lt;/a&gt;&lt;/li&gt; &#xA;       &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#notify-on-discord&#34;&gt;Notify on Discord&lt;/a&gt;&lt;/li&gt; &#xA;      &lt;/ul&gt; &lt;/li&gt; &#xA;    &lt;/ul&gt; &lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#mod-config-from-environment-variables&#34;&gt;Mod config from Environment Variables&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#system-requirements&#34;&gt;System requirements&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#deployment&#34;&gt;Deployment&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#deploying-with-docker-and-systemd&#34;&gt;Deploying with Docker and systemd&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#deploying-with-docker-compose&#34;&gt;Deploying with docker-compose&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#deploying-to-kubernetes&#34;&gt;Deploying to Kubernetes&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#deploying-to-aws-ecs&#34;&gt;Deploying to AWS ECS&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#deploying-to-nomad&#34;&gt;Deploying to Nomad&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#updates&#34;&gt;Updates&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#backups&#34;&gt;Backups&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#manual-backup&#34;&gt;Manual backup&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#finding-your-server&#34;&gt;Finding Your Server&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#in-game&#34;&gt;In-game&lt;/a&gt; &#xA;    &lt;ul&gt; &#xA;     &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#joining-directly-via-hostnameip&#34;&gt;Joining Directly via Hostname/IP&lt;/a&gt;&lt;/li&gt; &#xA;    &lt;/ul&gt; &lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#steam-server-browser&#34;&gt;Steam Server Browser&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#steam-server-favorites--lan-play&#34;&gt;Steam Server Favorites &amp;amp; LAN Play&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#admin-commands&#34;&gt;Admin Commands&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#enable-admin-console&#34;&gt;Enable Admin Console&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#supervisor&#34;&gt;Supervisor&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#supervisor-api&#34;&gt;Supervisor API&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#status-web-server&#34;&gt;Status web server&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#modding&#34;&gt;Modding&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#bepinexpack-valheim&#34;&gt;BepInExPack Valheim&lt;/a&gt; &#xA;    &lt;ul&gt; &#xA;     &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#configuration&#34;&gt;Configuration&lt;/a&gt;&lt;/li&gt; &#xA;    &lt;/ul&gt; &lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#valheimplus&#34;&gt;ValheimPlus&lt;/a&gt; &#xA;    &lt;ul&gt; &#xA;     &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#updates-1&#34;&gt;Updates&lt;/a&gt;&lt;/li&gt; &#xA;     &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#configuration-1&#34;&gt;Configuration&lt;/a&gt; &#xA;      &lt;ul&gt; &#xA;       &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#disable-server-password&#34;&gt;Disable server password&lt;/a&gt;&lt;/li&gt; &#xA;      &lt;/ul&gt; &lt;/li&gt; &#xA;    &lt;/ul&gt; &lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#changing-startup-cmd-in-portainer&#34;&gt;Changing startup CMD in Portainer&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#synology-help&#34;&gt;Synology Help&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#first-install&#34;&gt;First install&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#updating-the-container-image-to-the-latest-version&#34;&gt;Updating the container image to the latest version&lt;/a&gt; &#xA;    &lt;ul&gt; &#xA;     &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#error-after-download-of-new-container-image&#34;&gt;Error after download of new container image&lt;/a&gt;&lt;/li&gt; &#xA;    &lt;/ul&gt; &lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#qnap-nas-help&#34;&gt;QNAP NAS Help&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#creating-container&#34;&gt;Creating container&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#updating-image&#34;&gt;Updating image&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#qnap-zfs-issue&#34;&gt;QNAP ZFS issue&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#openmediavault-help&#34;&gt;OpenMediaVault Help&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#permission-denied-error&#34;&gt;Permission denied error&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#license&#34;&gt;License&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#legal-disclaimer&#34;&gt;Legal disclaimer&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;!-- vim-markdown-toc --&gt; &#xA;&lt;h1&gt;Basic Docker Usage&lt;/h1&gt; &#xA;&lt;p&gt;The name of the Docker image is &lt;code&gt;ghcr.io/lloesche/valheim-server&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;Volume mount the server config directory to &lt;code&gt;/config&lt;/code&gt; within the Docker container.&lt;/p&gt; &#xA;&lt;p&gt;If you have an existing world on a Windows system you can copy it from e.g.&lt;br&gt; &lt;code&gt;C:\Users\Lukas\AppData\LocalLow\IronGate\Valheim\worlds_local&lt;/code&gt; to e.g.&lt;br&gt; &lt;code&gt;$HOME/valheim-server/config/worlds_local&lt;/code&gt; and run the image with &lt;code&gt;$HOME/valheim-server/config&lt;/code&gt; volume mounted to &lt;code&gt;/config&lt;/code&gt; inside the container. The container directory &lt;code&gt;/opt/valheim&lt;/code&gt; contains the downloaded server. It can optionally be volume mounted to avoid having to download the server on each fresh start.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ mkdir -p $HOME/valheim-server/config/worlds_local $HOME/valheim-server/data&#xA;# copy existing world&#xA;$ docker run -d \&#xA;    --name valheim-server \&#xA;    --cap-add=sys_nice \&#xA;    --stop-timeout 120 \&#xA;    -p 2456-2457:2456-2457/udp \&#xA;    -v $HOME/valheim-server/config:/config \&#xA;    -v $HOME/valheim-server/data:/opt/valheim \&#xA;    -e SERVER_NAME=&#34;My Server&#34; \&#xA;    -e WORLD_NAME=&#34;Neotopia&#34; \&#xA;    -e SERVER_PASS=&#34;secret&#34; \&#xA;    ghcr.io/lloesche/valheim-server&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Warning: &lt;code&gt;SERVER_PASS&lt;/code&gt; must be at least 5 characters long. Otherwise &lt;code&gt;valheim_server.x86_64&lt;/code&gt; will refuse to start!&lt;/p&gt; &#xA;&lt;p&gt;A fresh start will take several minutes depending on your Internet connection speed as the container will download the Valheim dedicated server from Steam (~1 GB).&lt;/p&gt; &#xA;&lt;p&gt;Do not forget to modify &lt;code&gt;WORLD_NAME&lt;/code&gt; to reflect the name of your world! For existing worlds that is the filename in the &lt;code&gt;worlds_local/&lt;/code&gt; folder without the &lt;code&gt;.db/.fwl&lt;/code&gt; extension.&lt;/p&gt; &#xA;&lt;p&gt;If you want to play with friends over the Internet and are behind NAT make sure that UDP ports 2456-2457 are forwarded to the container host. Also ensure they are publicly accessible in any firewall.&lt;/p&gt; &#xA;&lt;p&gt;There is more info in section &lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#finding-your-server&#34;&gt;Finding Your Server&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;For LAN-only play see section &lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#steam-server-favorites--lan-play&#34;&gt;Steam Server Favorites &amp;amp; LAN Play&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;For more deployment options see the &lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#deployment&#34;&gt;Deployment section&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;Granting &lt;code&gt;CAP_SYS_NICE&lt;/code&gt; to the container is optional. It allows the Steam library that Valheim uses to give itself more CPU cycles. Without it you will see a message &lt;code&gt;Warning: failed to set thread priority&lt;/code&gt; in the startup log.&lt;/p&gt; &#xA;&lt;h1&gt;Environment Variables&lt;/h1&gt; &#xA;&lt;p&gt;&lt;strong&gt;All variable names and values are case-sensitive!&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Name&lt;/th&gt; &#xA;   &lt;th&gt;Default&lt;/th&gt; &#xA;   &lt;th&gt;Purpose&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;SERVER_NAME&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;My Server&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Name that will be shown in the server browser&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;SERVER_PORT&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;2456&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;UDP start port that the server will listen on&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;WORLD_NAME&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;Dedicated&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Name of the world without &lt;code&gt;.db/.fwl&lt;/code&gt; file extension&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;SERVER_PASS&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;secret&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Password for logging into the server - min. 5 characters!&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;SERVER_PUBLIC&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;true&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Whether the server should be listed in the server browser (&lt;code&gt;true&lt;/code&gt;) or not (&lt;code&gt;false&lt;/code&gt;)&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;SERVER_ARGS&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Additional Valheim server CLI arguments&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;ADMINLIST_IDS&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Space separated list of admin SteamIDs in SteamID64 format. Overrides any existing adminlist.txt entries!&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;BANNEDLIST_IDS&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Space separated list of banned SteamIDs in SteamID64 format. Overrides any existing bannedlist.txt entries!&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;PERMITTEDLIST_IDS&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Space separated list of whitelisted SteamIDs in SteamID64 format. Overrides any existing permittedlist.txt entries!&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;UPDATE_CRON&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;*/15 * * * *&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;a href=&#34;https://en.wikipedia.org/wiki/Cron#Overview&#34;&gt;Cron schedule&lt;/a&gt; for update checks (disabled if set to an empty string or if the legacy &lt;code&gt;UPDATE_INTERVAL&lt;/code&gt; is set)&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;IDLE_DATAGRAM_WINDOW&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;3&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;The time window, in seconds, to wait for incoming UDP datagrams on non-public servers before determining if the server is idle&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;IDLE_DATAGRAM_MAX_COUNT&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;30&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;The number of incoming UDP datagrams the container should tolerate (including useless datagrams such as mDNS, as well as useful datagrams like queries against the UDP query port and active connections by players) on non-public servers before deciding that the server is not idle&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;UPDATE_IF_IDLE&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;true&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Only run update check if no players are connected to the server (&lt;code&gt;true&lt;/code&gt; or &lt;code&gt;false&lt;/code&gt;)&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;RESTART_CRON&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;0 5 * * *&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;a href=&#34;https://en.wikipedia.org/wiki/Cron#Overview&#34;&gt;Cron schedule&lt;/a&gt; for server restarts (disabled if set to an empty string)&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;RESTART_IF_IDLE&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;true&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Only run daily restart if no players are connected to the server (&lt;code&gt;true&lt;/code&gt; or &lt;code&gt;false&lt;/code&gt;)&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;TZ&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;Etc/UTC&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Container &lt;a href=&#34;https://en.wikipedia.org/wiki/List_of_tz_database_time_zones&#34;&gt;time zone&lt;/a&gt;&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;BACKUPS&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;true&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Whether the server should create periodic backups (&lt;code&gt;true&lt;/code&gt; or &lt;code&gt;false&lt;/code&gt;)&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;BACKUPS_CRON&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;0 * * * *&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;a href=&#34;https://en.wikipedia.org/wiki/Cron#Overview&#34;&gt;Cron schedule&lt;/a&gt; for world backups (disabled if set to an empty string or if the legacy &lt;code&gt;BACKUPS_INTERVAL&lt;/code&gt; is set)&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;BACKUPS_DIRECTORY&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;/config/backups&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Path to the backups directory&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;BACKUPS_MAX_AGE&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;3&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Age in days after which old backups are flushed&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;BACKUPS_MAX_COUNT&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;0&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Maximum number of backups kept, 0 means infinity&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;BACKUPS_IF_IDLE&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;true&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Backup even when no players have been connected for a while&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;BACKUPS_IDLE_GRACE_PERIOD&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;3600&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Grace period in seconds after the last player has disconnected in which we will still create backups when &lt;code&gt;BACKUPS_IF_IDLE=false&lt;/code&gt;&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;BACKUPS_ZIP&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;true&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Compress Backups with &lt;code&gt;zip&lt;/code&gt;. If set to &lt;code&gt;false&lt;/code&gt; Backups will be stored uncompressed.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;PERMISSIONS_UMASK&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;022&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;a href=&#34;https://en.wikipedia.org/wiki/Umask&#34;&gt;Umask&lt;/a&gt; to use for backups, config files and directories&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;STEAMCMD_ARGS&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;validate&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Additional steamcmd CLI arguments&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;VALHEIM_PLUS&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;false&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Whether &lt;a href=&#34;https://github.com/valheimPlus/ValheimPlus&#34;&gt;ValheimPlus&lt;/a&gt; mod should be loaded (config in &lt;code&gt;/config/valheimplus&lt;/code&gt;, additional plugins in &lt;code&gt;/config/valheimplus/plugins&lt;/code&gt;). Can not be used together with &lt;code&gt;BEPINEX&lt;/code&gt;.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;VALHEIM_PLUS_RELEASE&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;latest&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Which version of &lt;a href=&#34;https://github.com/valheimPlus/ValheimPlus&#34;&gt;ValheimPlus&lt;/a&gt; to download. Will default to latest available. To specify a specific tag set to &lt;code&gt;tags/0.9.9.8&lt;/code&gt;&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;BEPINEX&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;false&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Whether &lt;a href=&#34;https://valheim.thunderstore.io/package/denikson/BepInExPack_Valheim/&#34;&gt;BepInExPack Valheim&lt;/a&gt; mod should be loaded (config in &lt;code&gt;/config/bepinex&lt;/code&gt;, plugins in &lt;code&gt;/config/bepinex/plugins&lt;/code&gt;). Can not be used together with &lt;code&gt;VALHEIM_PLUS&lt;/code&gt;.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;SUPERVISOR_HTTP&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;false&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Turn on supervisor&#39;s http server&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;SUPERVISOR_HTTP_PORT&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;9001&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Set supervisor&#39;s http server port&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;SUPERVISOR_HTTP_USER&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;admin&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Supervisor http server username&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;SUPERVISOR_HTTP_PASS&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Supervisor http server password&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;STATUS_HTTP&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;false&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Turn on the status http server. Only useful on public servers (&lt;code&gt;SERVER_PUBLIC=true&lt;/code&gt;).&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;STATUS_HTTP_PORT&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;80&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Status http server tcp port&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;STATUS_HTTP_CONF&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;/config/httpd.conf&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Path to the &lt;a href=&#34;https://git.busybox.net/busybox/tree/networking/httpd.c&#34;&gt;busybox httpd config&lt;/a&gt;&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;STATUS_HTTP_HTDOCS&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;/opt/valheim/htdocs&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Path to the status httpd htdocs where &lt;code&gt;status.json&lt;/code&gt; is written&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;SYSLOG_REMOTE_HOST&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Remote syslog host or IP to send logs to&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;SYSLOG_REMOTE_PORT&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;514&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Remote syslog UDP port to send logs to&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;SYSLOG_REMOTE_AND_LOCAL&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;true&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;When sending logs to a remote syslog server also log local&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;PUID&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;0&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;UID to run valheim-server as&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;PGID&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;0&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;GID to run valheim-server as&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;p&gt;There are a few undocumented environment variables that could break things if configured wrong. They can be found in &lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/defaults&#34;&gt;&lt;code&gt;defaults&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Log filters&lt;/h2&gt; &#xA;&lt;p&gt;Valheim server by default logs a lot of noise. These env variables allow users to remove unwanted lines from the log.&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Prefix&lt;/th&gt; &#xA;   &lt;th&gt;Default&lt;/th&gt; &#xA;   &lt;th&gt;Purpose&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;VALHEIM_LOG_FILTER_EMPTY&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;true&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Filter empty log lines&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;VALHEIM_LOG_FILTER_UTF8&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;true&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Filter invalid UTF-8 characters&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;VALHEIM_LOG_FILTER_MATCH&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt; &lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Filter log lines exactly matching&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;VALHEIM_LOG_FILTER_STARTSWITH&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;(Filename:&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Filter log lines starting with&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;VALHEIM_LOG_FILTER_ENDSWITH&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Filter log lines ending with&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;VALHEIM_LOG_FILTER_CONTAINS&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Filter log lines containing&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;VALHEIM_LOG_FILTER_REGEXP&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Filter log lines matching regexp&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;p&gt;The default filter removes:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Empty log lines&lt;/li&gt; &#xA; &lt;li&gt;Log lines consisting of a single space (wtf?)&lt;/li&gt; &#xA; &lt;li&gt;A repeating line saying &lt;code&gt;(Filename: ./Runtime/Export/Debug/Debug.bindings.h Line: 35)&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;Lines flooding the log with &lt;code&gt;Assertion Failed&lt;/code&gt; warnings on packet processing timeouts (See &lt;a href=&#34;https://github.com/lloesche/valheim-server-docker/discussions/104&#34;&gt;#104&lt;/a&gt;)&lt;/li&gt; &#xA; &lt;li&gt;If ValheimPlus is turned on lines starting with &lt;code&gt;Fallback handler could not load library&lt;/code&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Log filter event hooks&lt;/h3&gt; &#xA;&lt;p&gt;If an environment variable prefixed with &lt;code&gt;ON_&lt;/code&gt; exists for an identically named log filter, instead of removing the log line the contents of the variable will be executed when the filter matches with the log line piped on stdin.&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Prefix&lt;/th&gt; &#xA;   &lt;th&gt;Purpose&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;ON_VALHEIM_LOG_FILTER_MATCH&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Run command hook on log lines exactly matching&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;ON_VALHEIM_LOG_FILTER_STARTSWITH&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Run command hook on log lines starting with&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;ON_VALHEIM_LOG_FILTER_ENDSWITH&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Run command hook on log lines ending with&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;ON_VALHEIM_LOG_FILTER_CONTAINS&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Run command hook on log lines containing&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;ON_VALHEIM_LOG_FILTER_REGEXP&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Run command hook on regexp match&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;p&gt;All environment variables except for &lt;code&gt;VALHEIM_LOG_FILTER_EMPTY&lt;/code&gt; and &lt;code&gt;VALHEIM_LOG_FILTER_UTF8&lt;/code&gt; are prefixes. Meaning you can define multiple matches like so:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;-e VALHEIM_LOG_FILTER_STARTSWITH=foo \&#xA;-e VALHEIM_LOG_FILTER_STARTSWITH_BAR=bar \&#xA;-e VALHEIM_LOG_FILTER_STARTSWITH_SOMETHING_ELSE=&#34;some other filter&#34;&#xA;-e VALHEIM_LOG_FILTER_CONTAINS_Connected=&#34;Got character ZDOID from&#34;&#xA;-e ON_VALHEIM_LOG_FILTER_CONTAINS_Connected=&#34;cat &amp;gt;&amp;gt; /tmp/character_login&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Discord log filter event hook example&lt;/h4&gt; &#xA;&lt;p&gt;Sends a Discord message whenever a player spawns&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;-e DISCORD_WEBHOOK=&#34;https://discord.com/api/webhooks/8171522530...&#34; \&#xA;-e VALHEIM_LOG_FILTER_CONTAINS_Spawned=&#34;Got character ZDOID from&#34; \&#xA;-e ON_VALHEIM_LOG_FILTER_CONTAINS_Spawned=&#39;{ read l; l=${l//*ZDOID from /}; l=${l// :*/}; msg=&#34;Player $l spawned into the world&#34;; curl -sfSL -X POST -H &#34;Content-Type: application/json&#34; -d &#34;{\&#34;username\&#34;:\&#34;Valheim\&#34;,\&#34;content\&#34;:\&#34;$msg\&#34;}&#34; &#34;$DISCORD_WEBHOOK&#34;; }&#39;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;See &lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#notify-on-discord&#34;&gt;Notify on Discord&lt;/a&gt; below for proper quoting in env and compose files.&lt;/p&gt; &#xA;&lt;p&gt;If you are running ValheimPlus and this filter triggers twice, check &lt;a href=&#34;https://github.com/valheimPlus/ValheimPlus/issues/318&#34;&gt;this ValheimPlus issue&lt;/a&gt;. The cause is a misconfigured &lt;code&gt;BepInEx.cfg&lt;/code&gt; that causes all log lines to be duplicated.&lt;/p&gt; &#xA;&lt;h2&gt;Event hooks&lt;/h2&gt; &#xA;&lt;p&gt;The following environment variables can be populated to run commands whenever specific events happen.&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Name&lt;/th&gt; &#xA;   &lt;th&gt;Default&lt;/th&gt; &#xA;   &lt;th&gt;Purpose&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;PRE_SUPERVISOR_HOOK&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Command to be executed before supervisord is run. Startup is blocked until this command returns.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;PRE_BOOTSTRAP_HOOK&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Command to be executed before bootstrapping is done. Startup is blocked until this command returns.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;POST_BOOTSTRAP_HOOK&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Command to be executed after bootstrapping is done and before the server or any services are started. Can be used to install additional packages or perform additional system setup. Startup is blocked until this command returns.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;PRE_BACKUP_HOOK&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Command to be executed before a backup is created. The string &lt;code&gt;@BACKUP_FILE@&lt;/code&gt; will be replaced by the full path of the future backup zip file. Backups are blocked until this command returns.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;POST_BACKUP_HOOK&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Command to be executed after a backup is created. The string &lt;code&gt;@BACKUP_FILE@&lt;/code&gt; will be replaced by the full path of the backup zip file. Backups are blocked until this command returns. See &lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#copy-backups-to-another-location&#34;&gt;Copy backups to another location&lt;/a&gt; for details.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;PRE_UPDATE_CHECK_HOOK&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Command to be executed before an update check is performed. Current update is blocked until this command returns.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;POST_UPDATE_CHECK_HOOK&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Command to be executed after an update check was performed. Future updates are blocked until this command returns.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;PRE_START_HOOK&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Command to be executed before the first server start is performed by the valheim-updater. Current start is blocked until this command returns.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;POST_START_HOOK&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Command to be executed after the first server start was performed by the valheim-updater. Future restarts and update checks are blocked until this command returns.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;PRE_RESTART_HOOK&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Command to be executed before a server restart is performed by the valheim-updater. Current restart is blocked until this command returns.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;PRE_SERVER_LISTENING_HOOK&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Command to be executed after the server runs, but before it&#39;s able to accept connections. The loop that checks connection status will be blocked until this command returns.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;POST_SERVER_LISTENING_HOOK&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Command to be executed once the server is available for players to connect! The hook only fires after status is updated to &lt;code&gt;running&lt;/code&gt;.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;POST_RESTART_HOOK&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Command to be executed after a server restart was performed by the valheim-updater. Future restarts and update checks are blocked until this command returns.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;PRE_SERVER_RUN_HOOK&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Command to be executed before the server is started. Server startup is blocked until this command returns.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;POST_SERVER_RUN_HOOK&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Command to be executed after the server has finished running. Server shutdown is blocked until this command returns or a shutdown timeout is triggered after 29 seconds.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;PRE_SERVER_SHUTDOWN_HOOK&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Command to be executed before the server is shut down. Server shutdown is blocked until this command returns. If &lt;code&gt;PRE_SERVER_SHUTDOWN_HOOK&lt;/code&gt; holds the shutdown process for more than 90 seconds, the entire process will be hard-killed by &lt;code&gt;supervisord&lt;/code&gt;.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;POST_SERVER_SHUTDOWN_HOOK&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Command to be executed after the server has finished shutting down.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;PRE_BEPINEX_CONFIG_HOOK&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Command to be executed before writing BepInEx.cfg.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;POST_BEPINEX_CONFIG_HOOK&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Command to be executed after writing BepInEx.cfg. Can be used to write your own mod config using &lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#mod-config-from-environment-variables&#34;&gt;&lt;code&gt;env2cfg&lt;/code&gt;&lt;/a&gt;.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;h3&gt;Event hook examples&lt;/h3&gt; &#xA;&lt;h4&gt;Install extra packages&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code&gt;-e POST_BOOTSTRAP_HOOK=&#34;apt-get update &amp;amp;&amp;amp; DEBIAN_FRONTEND=noninteractive apt-get -y install awscli&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Copy backups to another location&lt;/h4&gt; &#xA;&lt;p&gt;After a backup ZIP has been created the command specified by &lt;code&gt;$POST_BACKUP_HOOK&lt;/code&gt; will be executed if set to a non-zero string. Within that command the string &lt;code&gt;@BACKUP_FILE@&lt;/code&gt; will be replaced by the full path to the just created ZIP file.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;-v $HOME/.ssh/id_rsa:/root/.ssh/id_rsa \&#xA;-v $HOME/.ssh/known_hosts:/root/.ssh/known_hosts \&#xA;-e POST_BACKUP_HOOK=&#39;timeout 300 scp @BACKUP_FILE@ myself@example.com:~/backups/$(basename @BACKUP_FILE@)&#39;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Notify on Discord&lt;/h4&gt; &#xA;&lt;p&gt;Because proper string quoting on the shell vs. inside a &lt;code&gt;docker-compose.yaml&lt;/code&gt; vs. an &lt;code&gt;env_file&lt;/code&gt; can be challenging, here are examples for each use case.&lt;/p&gt; &#xA;&lt;h5&gt;Using the commandline&lt;/h5&gt; &#xA;&lt;p&gt;Delay restarts by 1 minute and notify on Discord&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;-e DISCORD_WEBHOOK=&#34;https://discord.com/api/webhooks/8171522530...&#34; \&#xA;-e DISCORD_MESSAGE=&#34;Restarting Valheim server in one minute!&#34; \&#xA;-e PRE_RESTART_HOOK=&#39;curl -sfSL -X POST -H &#34;Content-Type: application/json&#34; -d &#34;{\&#34;username\&#34;:\&#34;Valheim\&#34;,\&#34;content\&#34;:\&#34;$DISCORD_MESSAGE\&#34;}&#34; &#34;$DISCORD_WEBHOOK&#34; &amp;amp;&amp;amp; sleep 60&#39;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h5&gt;Inside docker-compose.yaml&lt;/h5&gt; &#xA;&lt;p&gt;Notify on Discord with server&#39;s name in the message&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;    environment:&#xA;      - DISCORD_WEBHOOK=https://discord.com/api/webhooks/8171522530...&#xA;      - DISCORD_MESSAGE=Starting Valheim server $$SERVER_NAME&#xA;      - &#39;PRE_BOOTSTRAP_HOOK=curl -sfSL -X POST -H &#34;Content-Type: application/json&#34; -d &#34;{\&#34;username\&#34;:\&#34;Valheim\&#34;,\&#34;content\&#34;:\&#34;$$(eval echo $$DISCORD_MESSAGE)\&#34;}&#34; &#34;$$DISCORD_WEBHOOK&#34;&#39;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h5&gt;Inside an env_file&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code&gt;DISCORD_WEBHOOK=https://discord.com/api/webhooks/8171522530...&#xA;DISCORD_MESSAGE=Starting Valheim server&#xA;PRE_BOOTSTRAP_HOOK=curl -sfSL -X POST -H &#34;Content-Type: application/json&#34; -d &#34;{\&#34;username\&#34;:\&#34;Valheim\&#34;,\&#34;content\&#34;:\&#34;$DISCORD_MESSAGE\&#34;}&#34; &#34;$DISCORD_WEBHOOK&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Notify on Matrix, inside an env_file&lt;/h4&gt; &#xA;&lt;p&gt;Create an account for your bot, log in and join the room you want to post to. The room ID is noted in the room&#39;s settings.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;MATRIX_BOT_SERVER=https://matrix...&#xA;MATRIX_BOT_ROOM_ID=!...&#xA;MATRIX_BOT_ACCESS_TOKEN=...&#xA;PRE_RESTART_HOOK=curl -sfSL -X PUT -d &#34;{\&#34;msgtype\&#34;:\&#34;m.notice\&#34;,\&#34;body\&#34;:\&#34;Valheim is being updated\&#34;}&#34; &#34;$MATRIX_BOT_SERVER/_matrix/client/r0/rooms/$MATRIX_BOT_ROOM_ID/send/m.room.message/$(date +%s-%N)?access_token=$MATRIX_BOT_ACCESS_TOKEN&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Note the &lt;code&gt;$(date +%s-%N)&lt;/code&gt; is used for the required unique txnId.&lt;/p&gt; &#xA;&lt;h2&gt;Mod config from Environment Variables&lt;/h2&gt; &#xA;&lt;p&gt;Mod config can be specified in environment variables using the syntax &lt;code&gt;&amp;lt;prefix&amp;gt;_&amp;lt;section&amp;gt;_&amp;lt;variable&amp;gt;=&amp;lt;value&amp;gt;&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Predefined prefix list&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Prefix&lt;/th&gt; &#xA;   &lt;th&gt;Mod&lt;/th&gt; &#xA;   &lt;th&gt;File&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;VPCFG&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;ValheimPlus&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;/config/valheimplus/valheim_plus.cfg&lt;/code&gt;&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;BEPINEXCFG&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;BepInEx&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;/config/valheimplus/BepInEx.cfg&lt;/code&gt; or &lt;code&gt;/config/bepinex/BepInEx.cfg&lt;/code&gt; depending on whether &lt;code&gt;VALHEIM_PLUS=true&lt;/code&gt; or &lt;code&gt;BEPINEX=true&lt;/code&gt;&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;p&gt;&lt;strong&gt;Translation table&lt;/strong&gt;&lt;br&gt; Some characters that are allowed as section names in the config files are not allowed as environment variable names. They can be encoded using the following translation table.&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Variable name string&lt;/th&gt; &#xA;   &lt;th&gt;Replacement&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;_DOT_&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;.&lt;/code&gt;&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;_HYPHEN_&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;-&lt;/code&gt;&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;_UNDERSCORE_&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;_&lt;/code&gt;&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;_PLUS_&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;+&lt;/code&gt;&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;p&gt;Example:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;-e VALHEIM_PLUS=true \&#xA;-e VPCFG_Server_enabled=true \&#xA;-e VPCFG_Server_enforceMod=false \&#xA;-e VPCFG_Server_dataRate=500 \&#xA;-e BEPINEXCFG_Logging_DOT_Console_Enabled=true&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;turns into &lt;code&gt;/config/valheimplus/valheim_plus.cfg&lt;/code&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;[Server]&#xA;enabled=true&#xA;enforceMod=false&#xA;dataRate=500&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;and &lt;code&gt;/config/valheimplus/BepInEx.cfg&lt;/code&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;[Logging.Console]&#xA;Enabled=true&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;All existing configuration in those files is retained and a backup of the old config is created as e.g. &lt;code&gt;/config/valheimplus/valheim_plus.cfg.old&lt;/code&gt; before writing the new config file.&lt;/p&gt; &#xA;&lt;p&gt;You could generate your own custom plugin config from environment variables using &lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#event-hooks&#34;&gt;the &lt;code&gt;POST_BEPINEX_CONFIG_HOOK&lt;/code&gt; event hook&lt;/a&gt; and &lt;a href=&#34;https://github.com/lloesche/valheim-server-docker/tree/main/env2cfg&#34;&gt;&lt;code&gt;env2cfg&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h1&gt;System requirements&lt;/h1&gt; &#xA;&lt;p&gt;On our system while idle with no players connected Valheim server consumes around 2.8 GB RSS. All the while using around 30% of one CPU Core on a 2.40 GHz Intel Xeon E5-2620 v3. Valheim server is making use of many threads with two of them seemingly doing the bulk of the work each responsible for around 8-10% of the 30% of idle load.&lt;/p&gt; &#xA;&lt;p&gt;The picture changes when players connect. The first player increased overall load to 42%, the second player to 53%. In the thread view we see that a thread that was previously consuming 10% is now hovering around 38%. Meaning while Valheim server creates 50 threads on our system it looks like there is a single thread doing the bulk of all work (~70%) with no way for the Kernel to distribute the load to many cores.&lt;/p&gt; &#xA;&lt;p&gt;Therefore our minimum requirements would be a dual core system with 4 GB of RAM and our recommended system would be a high clocked 4 core server with 8 GB of RAM. A few very high clocked cores will be more beneficial than having many cores. I.e. two 5 GHz cores will yield better performance than six 2 GHz cores. This holds especially true the more players are connected to the system.&lt;/p&gt; &#xA;&lt;h1&gt;Deployment&lt;/h1&gt; &#xA;&lt;h2&gt;Deploying with Docker and systemd&lt;/h2&gt; &#xA;&lt;p&gt;Create a config file &lt;code&gt;/etc/sysconfig/valheim-server&lt;/code&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;SERVER_NAME=My Server&#xA;SERVER_PORT=2456&#xA;WORLD_NAME=Dedicated&#xA;SERVER_PASS=secret&#xA;SERVER_PUBLIC=true&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Then enable the Docker container on system boot&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ sudo mkdir -p /etc/valheim /opt/valheim&#xA;$ sudo curl -o /etc/systemd/system/valheim.service https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/valheim.service&#xA;$ sudo systemctl daemon-reload&#xA;$ sudo systemctl enable valheim.service&#xA;$ sudo systemctl start valheim.service&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Deploying with docker-compose&lt;/h2&gt; &#xA;&lt;p&gt;Copy&#39;paste the following into your shell&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;mkdir -p $HOME/valheim-server/config $HOME/valheim-server/data&#xA;cd $HOME/valheim-server/&#xA;cat &amp;gt; $HOME/valheim-server/valheim.env &amp;lt;&amp;lt; EOF&#xA;SERVER_NAME=My Server&#xA;WORLD_NAME=Dedicated&#xA;SERVER_PASS=secret&#xA;SERVER_PUBLIC=true&#xA;EOF&#xA;curl -o $HOME/valheim-server/docker-compose.yaml https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/docker-compose.yaml&#xA;docker-compose up&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Deploying to Kubernetes&lt;/h2&gt; &#xA;&lt;p&gt;Kubernetes manifests using this container image, along with a helm chart, are available from the following repository: &lt;a href=&#34;https://github.com/Addyvan/valheim-k8s&#34;&gt;https://github.com/Addyvan/valheim-k8s&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;The chart is also available directly using:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;helm repo add valheim-k8s https://addyvan.github.io/valheim-k8s/&#xA;helm repo update&#xA;helm install valheim-server valheim-k8s/valheim-k8s # see repo for full config&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Deploying to AWS ECS&lt;/h2&gt; &#xA;&lt;p&gt;CDK Project for spinning up a Valheim game server on AWS Using ECS Fargate and Amazon EFS is available here: &lt;a href=&#34;https://github.com/rileydakota/valheim-ecs-fargate-cdk&#34;&gt;https://github.com/rileydakota/valheim-ecs-fargate-cdk&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Deploying to Nomad&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ sudo mkdir -p /var/lib/valheim/{config,data}&#xA;$ sudo curl -o /var/lib/valheim/valheim.nomad https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/valheim.nomad&#xA;$ sudo nomad job run /var/lib/valheim/valheim.nomad&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h1&gt;Updates&lt;/h1&gt; &#xA;&lt;p&gt;By default the container will check for Valheim server updates every 15 minutes if no players are currently connected to the server. If an update is found it is downloaded and the server restarted. This update schedule can be changed using the &lt;code&gt;UPDATE_CRON&lt;/code&gt; environment variable.&lt;/p&gt; &#xA;&lt;h1&gt;Backups&lt;/h1&gt; &#xA;&lt;p&gt;The container will on startup and periodically create a backup of the &lt;code&gt;worlds_local/&lt;/code&gt; directory.&lt;/p&gt; &#xA;&lt;p&gt;The default is once per hour but can be changed using the &lt;code&gt;BACKUPS_CRON&lt;/code&gt; environment variable.&lt;/p&gt; &#xA;&lt;p&gt;Default backup directory is &lt;code&gt;/config/backups/&lt;/code&gt; within the container. A different directory can be set using the &lt;code&gt;BACKUPS_DIRECTORY&lt;/code&gt; environment variable. It makes sense to have this directory be a volume mount from the host. Warning: do not make the backup directory a subfolder of &lt;code&gt;/config/worlds_local/&lt;/code&gt;. Otherwise each backup will backup all previous backups.&lt;/p&gt; &#xA;&lt;p&gt;By default 3 days worth of backups will be kept. A different number can be configured using &lt;code&gt;BACKUPS_MAX_AGE&lt;/code&gt;. The value is in days.&lt;/p&gt; &#xA;&lt;p&gt;It is possible to configure a maximum number of to-be-kept backup files with &lt;code&gt;BACKUPS_MAX_COUNT&lt;/code&gt;. When going over this limit, the oldest file(s) will be deleted. The default is &lt;code&gt;0&lt;/code&gt; which means no limit. Note that &lt;code&gt;BACKUPS_MAX_AGE&lt;/code&gt; will always be respected: if backups get too old, they will be deleted even if &lt;code&gt;BACKUPS_MAX_COUNT&lt;/code&gt; was not yet reached (or is &lt;code&gt;0&lt;/code&gt;).&lt;/p&gt; &#xA;&lt;p&gt;Beware that backups are performed while the server is running. As such files might be in an open state when the backup runs. However the &lt;code&gt;worlds_local/&lt;/code&gt; directory also contains a &lt;code&gt;.db.old&lt;/code&gt; file for each world which should always be closed and in a consistent state.&lt;/p&gt; &#xA;&lt;p&gt;See &lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#copy-backups-to-another-location&#34;&gt;Copy backups to another location&lt;/a&gt; for an example of how to copy backups offsite.&lt;/p&gt; &#xA;&lt;p&gt;If &lt;code&gt;BACKUPS_IF_IDLE=false&lt;/code&gt; then backups are only created if there has been recent player activity. Once the last player disconnects there is a grace period &lt;code&gt;BACKUPS_IDLE_GRACE_PERIOD&lt;/code&gt; in seconds after which backups are still being created. The reason for this is that Valheim dedicated server only saves the world in 20 minute intervals and on shutdown. So to make sure that we have a consistent world file backup of the most recent changes we want to wait out one world save. This grace period also needs to be long enough so that our &lt;code&gt;BACKUPS_CRON&lt;/code&gt; had a chance to run.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;BACKUPS_ZIP=false&lt;/code&gt; can be used to store backups uncompressed in the backup directory. Please note that this will increase the filesize of the backups, due to no compression.&lt;/p&gt; &#xA;&lt;h2&gt;Manual backup&lt;/h2&gt; &#xA;&lt;p&gt;Sending &lt;code&gt;SIGHUP&lt;/code&gt; to the &lt;code&gt;valheim-backup&lt;/code&gt; service or restarting the service will create a backup. If &lt;code&gt;BACKUPS_IF_IDLE=false&lt;/code&gt; sending &lt;code&gt;SIGHUP&lt;/code&gt; only creates a backup if there has been recent player activity. Restarting &lt;code&gt;valheim-backup&lt;/code&gt; will always create a backup.&lt;/p&gt; &#xA;&lt;p&gt;The PID of the running service can be found in &lt;code&gt;/var/run/valheim-backup.pid&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Assuming your container&#39;s name is &lt;code&gt;valheim-server&lt;/code&gt; here&#39;s how both would work:&lt;/p&gt; &#xA;&lt;p&gt;Sending SIGHUP using &lt;code&gt;supervisorctl&lt;/code&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;docker exec -it valheim-server supervisorctl signal HUP valheim-backup&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Sending SIGHUP manually&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;docker exec -it valheim-server bash -c &#39;kill -HUP $(&amp;lt; /var/run/valheim-backup.pid)&#39;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Restarting &lt;code&gt;valheim-backup&lt;/code&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;docker exec -it valheim-server supervisorctl restart valheim-backup&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The restart can also be done from &lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#supervisor&#34;&gt;the Supervisor web UI&lt;/a&gt;. &lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/backup1.png&#34; alt=&#34;Backup Step 1&#34; title=&#34;Backup Step 1&#34;&gt;&lt;/p&gt; &#xA;&lt;h1&gt;Finding Your Server&lt;/h1&gt; &#xA;&lt;p&gt;Once the server is up and running and the log says something like&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;02/09/2021 10:42:24: Game server connected&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;it can still be challenging to actually find the server.&lt;/p&gt; &#xA;&lt;p&gt;There are three ways of getting to your server. Either using the Steam server browser, adding the IP manually or using the in-game &lt;code&gt;Community&lt;/code&gt; server list.&lt;/p&gt; &#xA;&lt;h2&gt;In-game&lt;/h2&gt; &#xA;&lt;p&gt;When in-game, click on &lt;code&gt;Join Game&lt;/code&gt; and select &lt;code&gt;Community&lt;/code&gt;. Wait for the game to load the list of all 4000+ servers. Only 200 servers will be shown at a time so we will have to enter part of our server name to filter the view. &lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/find1.png&#34; alt=&#34;in-game server browser&#34; title=&#34;in-game server browser&#34;&gt;&lt;/p&gt; &#xA;&lt;h3&gt;Joining Directly via Hostname/IP&lt;/h3&gt; &#xA;&lt;p&gt;Valheim has since added the &lt;code&gt;Join IP&lt;/code&gt; button to the &lt;code&gt;Join Game&lt;/code&gt; tab. If you click the &lt;code&gt;Join IP&lt;/code&gt; button, you are prompted to enter your server&#39;s IP address and port number. If you left the &lt;code&gt;SERVER_PORT&lt;/code&gt; at its default value of &lt;code&gt;2456&lt;/code&gt;, you do not have to enter the port. The hostname or IP of your server will suffice. If you changed the port, you have to specify it like this: &lt;code&gt;example.com:3333&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;This method of connecting to your server will work even if your server is not public (i.e., you set &lt;code&gt;SERVER_PUBLIC&lt;/code&gt; to &lt;code&gt;false&lt;/code&gt;).&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/find5.png&#34; alt=&#34;in-game server browser with join ip button&#34; title=&#34;in-game server browser with join ip button&#34;&gt; &lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/find6.png&#34; alt=&#34;join ip dialog&#34; title=&#34;join ip dialog&#34;&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Steam Server Browser&lt;/h2&gt; &#xA;&lt;p&gt;When using the Steam server browser, in Steam go to &lt;code&gt;View -&amp;gt; Servers&lt;/code&gt;. Click on &lt;code&gt;CHANGE FILTERS&lt;/code&gt; and select Game &lt;code&gt;Valheim&lt;/code&gt;. Wait for Steam to load all 4000+ Servers then sort the &lt;code&gt;SERVERS&lt;/code&gt; column by clicking on its title. Scroll down until you find your server. &lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/find2.png&#34; alt=&#34;Steam server browser&#34; title=&#34;Steam server browser&#34;&gt; From there you can right-click it and add as a favourite.&lt;/p&gt; &#xA;&lt;p&gt;Note that in my tests when connecting to the server via the Steam server browser I had to enter the server password twice. Once in Steam and once in-game.&lt;/p&gt; &#xA;&lt;h2&gt;Steam Server Favorites &amp;amp; LAN Play&lt;/h2&gt; &#xA;&lt;p&gt;A third option within Steam is to add the server manually by IP. This also allows for LAN play without the need to open or forward any firewall ports.&lt;/p&gt; &#xA;&lt;p&gt;Steps:&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Within Steam click on &lt;code&gt;View -&amp;gt; Servers&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;FAVORITES&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;ADD SERVER&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;Enter Server IP and port+1. So if the server is running on UDP port &lt;code&gt;2456&lt;/code&gt; enter &lt;code&gt;ip:2457&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;FIND GAMES AT THIS ADDRESS...&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;ADD SELECTED GAME SERVER TO FAV...&lt;/code&gt;&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/find3.png&#34; alt=&#34;Add server manually&#34; title=&#34;Add server manually&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;Do not use the &lt;code&gt;ADD THIS ADDRESS TO FAVORITES&lt;/code&gt; button at this point.&lt;/p&gt; &#xA;&lt;p&gt;NOTE: Sometimes I will get the following error when trying to connect to a LAN server: &lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/find4.png&#34; alt=&#34;Steam Server Browser Error&#34; title=&#34;Steam Server Browser Error&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;In those cases it sometimes helped to add the server again, but this time using port &lt;code&gt;2456&lt;/code&gt; and now pressing the &lt;code&gt;ADD THIS ADDRESS TO FAVORITES&lt;/code&gt; button. It will not generate a new entry in the favourites list but seemingly just update the existing one that was originally discovered on port &lt;code&gt;2457&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;Sometimes it also helps to press the &lt;code&gt;REFRESH&lt;/code&gt; button and then immediately double click on the Server.&lt;/p&gt; &#xA;&lt;p&gt;Overall LAN play via the Steam Server Browser has been a bit hit and miss for me while online play using the in-game search has resulted in the most consistent success.&lt;/p&gt; &#xA;&lt;p&gt;NOTE 2: You will only find your Valheim game server using this method if your server is public (&lt;code&gt;SERVER_PUBLIC&lt;/code&gt; is NOT set to &lt;code&gt;false&lt;/code&gt;). If you started your server with &lt;code&gt;SERVER_PUBLIC&lt;/code&gt; set to &lt;code&gt;false&lt;/code&gt;, you will get the error message: &lt;code&gt;Server is not responding.&lt;/code&gt; in the list where the servers are supposed to appear.&lt;/p&gt; &#xA;&lt;h1&gt;Admin Commands&lt;/h1&gt; &#xA;&lt;p&gt;Upon startup the server will create a file &lt;code&gt;/config/adminlist.txt&lt;/code&gt;. In it you can list the IDs of all administrator users.&lt;/p&gt; &#xA;&lt;p&gt;The ID of a user can be gotten either in-game by pressing &lt;em&gt;&lt;strong&gt;F2&lt;/strong&gt;&lt;/em&gt; &lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/admin2.png&#34; alt=&#34;User ID in-game&#34; title=&#34;User ID in-game&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;or in the server logs when a user connects. &lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/admin1.png&#34; alt=&#34;User ID in logs&#34; title=&#34;User ID in logs&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;Administrators can press &lt;em&gt;&lt;strong&gt;F5&lt;/strong&gt;&lt;/em&gt; to open the in-game console and use commands like &lt;code&gt;ban&lt;/code&gt; and &lt;code&gt;kick&lt;/code&gt;. &lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/admin3.png&#34; alt=&#34;Kick a user&#34; title=&#34;Kick a user&#34;&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Enable Admin Console&lt;/h2&gt; &#xA;&lt;p&gt;In recent versions of Valheim the game client has to be started with the &lt;code&gt;-console&lt;/code&gt; flag for &lt;em&gt;&lt;strong&gt;F5&lt;/strong&gt;&lt;/em&gt; to work. &lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/admin_console1.png&#34; alt=&#34;Enable Admin Console&#34; title=&#34;Enable Admin Console&#34;&gt;&lt;/p&gt; &#xA;&lt;h1&gt;Supervisor&lt;/h1&gt; &#xA;&lt;p&gt;This container uses a process supervisor aptly named &lt;a href=&#34;http://supervisord.org/&#34;&gt;&lt;code&gt;supervisor&lt;/code&gt;&lt;/a&gt;. Within the container processes can be started and restarted using the command &lt;code&gt;supervisorctl&lt;/code&gt;. For instance &lt;code&gt;supervisorctl restart valheim-server&lt;/code&gt; would restart the server.&lt;/p&gt; &#xA;&lt;p&gt;Supervisor provides a very simple http interface which can be optionally turned on by supplying &lt;code&gt;SUPERVISOR_HTTP=true&lt;/code&gt; and a password in &lt;code&gt;SUPERVISOR_HTTP_PASS&lt;/code&gt;. The default &lt;code&gt;SUPERVISOR_HTTP_USER&lt;/code&gt; is &lt;code&gt;admin&lt;/code&gt; but can be changed to anything else. Once activated the http server will listen on tcp port &lt;code&gt;9001&lt;/code&gt; which has to be exposed (&lt;code&gt;-p 9001:9001/tcp&lt;/code&gt;).&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/supervisor.png&#34; alt=&#34;Supervisor&#34; title=&#34;Supervisor&#34;&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Supervisor API&lt;/h2&gt; &#xA;&lt;p&gt;If Supervisor&#39;s http server is enabled it also provides an XML-RPC API at &lt;code&gt;/RPC2&lt;/code&gt;. Details can be found in &lt;a href=&#34;http://supervisord.org/api.html&#34;&gt;the official documentation&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h1&gt;Status web server&lt;/h1&gt; &#xA;&lt;p&gt;If &lt;code&gt;STATUS_HTTP&lt;/code&gt; is set to &lt;code&gt;true&lt;/code&gt; the status web server will be started. By default it runs on container port &lt;code&gt;80&lt;/code&gt; but can be customized using &lt;code&gt;STATUS_HTTP_PORT&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;This only works for public Valheim servers (&lt;code&gt;SERVER_PUBLIC=true&lt;/code&gt;) because private ones do not answer to &lt;a href=&#34;https://developer.valvesoftware.com/wiki/Server_queries&#34;&gt;Steam server queries&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;A &lt;code&gt;/status.json&lt;/code&gt; will be updated every 10 seconds.&lt;/p&gt; &#xA;&lt;p&gt;Whenever Valheim server is not yet running the status will contain an error like&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;{&#xA;  &#34;last_status_update&#34;: &#34;2021-03-07T21:42:46.307232+00:00&#34;,&#xA;  &#34;error&#34;: &#34;timeout(&#39;timed out&#39;)&#34;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The error is just a string representation of whatever Python exception was thrown when trying to connect to the query port (&lt;code&gt;2457/udp&lt;/code&gt; by default).&lt;/p&gt; &#xA;&lt;p&gt;Once the server is running and listening on its UDP ports &lt;code&gt;/status.json&lt;/code&gt; will contain something like this&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;{&#xA;  &#34;last_status_update&#34;: &#34;2021-03-07T21:42:16.076662+00:00&#34;,&#xA;  &#34;error&#34;: null,&#xA;  &#34;server_name&#34;: &#34;My Docker based server&#34;,&#xA;  &#34;server_type&#34;: &#34;d&#34;,&#xA;  &#34;platform&#34;: &#34;l&#34;,&#xA;  &#34;player_count&#34;: 1,&#xA;  &#34;password_protected&#34;: true,&#xA;  &#34;vac_enabled&#34;: false,&#xA;  &#34;port&#34;: 2456,&#xA;  &#34;steam_id&#34;: 90143789459088380,&#xA;  &#34;keywords&#34;: &#34;0.147.3@0.9.4&#34;,&#xA;  &#34;game_id&#34;: 892970,&#xA;  &#34;players&#34;: [&#xA;    {&#xA;      &#34;name&#34;: &#34;&#34;,&#xA;      &#34;score&#34;: 0,&#xA;      &#34;duration&#34;: 7.000421047210693&#xA;    }&#xA;  ]&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;All the information in &lt;code&gt;status.json&lt;/code&gt; is fetched from Valheim servers public query port. You will notice that some of the fields like player name or player score currently contain no information. However for completeness the entire query response is left intact.&lt;/p&gt; &#xA;&lt;p&gt;Within the container &lt;code&gt;status.json&lt;/code&gt; is written to &lt;code&gt;STATUS_HTTP_HTDOCS&lt;/code&gt; which by default is &lt;code&gt;/opt/valheim/htdocs&lt;/code&gt;. It can either be consumed directly or the user can add their own html/css/js to this directory to read the json data and present it in whichever style they prefer. A file named &lt;code&gt;index.html&lt;/code&gt; will be shown on &lt;code&gt;/&lt;/code&gt; if it exists.&lt;/p&gt; &#xA;&lt;p&gt;As mentioned all the information is publicly available on the Valheim server query port. However the option is there to configure a &lt;code&gt;STATUS_HTTP_CONF&lt;/code&gt; (&lt;code&gt;/config/httpd.conf&lt;/code&gt; by default) containing &lt;a href=&#34;https://git.busybox.net/busybox/tree/networking/httpd.c&#34;&gt;busybox httpd config&lt;/a&gt; to limit access to the status web server by IP/subnet or login/password.&lt;/p&gt; &#xA;&lt;h1&gt;Modding&lt;/h1&gt; &#xA;&lt;h2&gt;BepInExPack Valheim&lt;/h2&gt; &#xA;&lt;p&gt;&lt;strong&gt;Enable with&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Variable&lt;/th&gt; &#xA;   &lt;th&gt;Value&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;BEPINEX&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;true&lt;/code&gt;&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://valheim.thunderstore.io/package/denikson/BepInExPack_Valheim/&#34;&gt;BepInExPack Valheim&lt;/a&gt; packages &lt;a href=&#34;https://github.com/BepInEx/BepInEx&#34;&gt;BepInEx&lt;/a&gt; for Valheim. BepInEx is a plugin / modding framework for Unity Mono, IL2CPP and .NET framework games. To enable BepInExPack provide the env variable &lt;code&gt;BEPINEX=true&lt;/code&gt;. This can not be specified together with &lt;code&gt;VALHEIM_PLUS=true&lt;/code&gt;. Just like Valheim Server this mod is automatically updated using the &lt;code&gt;UPDATE_CRON&lt;/code&gt; schedule.&lt;/p&gt; &#xA;&lt;p&gt;Upon first start BepInExPack will create a new directory &lt;code&gt;/config/bepinex&lt;/code&gt; where its config files are located. BepInEx plugins must be copied into the &lt;code&gt;/config/bepinex/plugins/&lt;/code&gt; directory. From there they will be automatically copied into &lt;code&gt;/opt/valheim/bepinex/BepInEx/plugins/&lt;/code&gt; on install/update.&lt;/p&gt; &#xA;&lt;h3&gt;Configuration&lt;/h3&gt; &#xA;&lt;p&gt;See &lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#mod-config-from-environment-variables&#34;&gt;Mod config from Environment Variables&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;ValheimPlus&lt;/h2&gt; &#xA;&lt;p&gt;&lt;strong&gt;Enable with&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Variable&lt;/th&gt; &#xA;   &lt;th&gt;Value&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;VALHEIM_PLUS&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;true&lt;/code&gt;&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/valheimPlus/ValheimPlus&#34;&gt;ValheimPlus&lt;/a&gt; is a popular Valheim mod based on BepInEx. It has been incorporated into this container. To enable V+ provide the env variable &lt;code&gt;VALHEIM_PLUS=true&lt;/code&gt;. This can not be specified together with &lt;code&gt;BEPINEX=true&lt;/code&gt;. Upon first start V+ will create a new directory &lt;code&gt;/config/valheimplus&lt;/code&gt; where its config files are located. As a user you are mainly concerned with the values in &lt;code&gt;/config/valheimplus/valheim_plus.cfg&lt;/code&gt;. For most modifications the mod has to be installed both, on the server as well as all the clients that connect to the server. A few modifications, like for example changing the &lt;code&gt;dataRate&lt;/code&gt; can be done server only.&lt;/p&gt; &#xA;&lt;h3&gt;Updates&lt;/h3&gt; &#xA;&lt;p&gt;ValheimPlus is automatically being updated using the same &lt;code&gt;UPDATE_CRON&lt;/code&gt; schedule the Valheim server uses to check for updates. If an update of either Valheim server or ValheimPlus is found it is being downloaded, configured and the server automatically restarted. This also means your clients always need to run the latest ValheimPlus version or will not be able to connect. If this is undesired the schedule could be changed to only check for updates once per day. Example &lt;code&gt;UPDATE_CRON=&#39;0 6 * * *&#39;&lt;/code&gt; would only check at 6 AM.&lt;/p&gt; &#xA;&lt;h3&gt;Configuration&lt;/h3&gt; &#xA;&lt;p&gt;See &lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#mod-config-from-environment-variables&#34;&gt;Mod config from Environment Variables&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h4&gt;Disable server password&lt;/h4&gt; &#xA;&lt;p&gt;Another popular mod for LAN play that does not require the clients to run ValheimPlus is to turn off password authentication.&lt;/p&gt; &#xA;&lt;p&gt;To do so enable ValheimPlus (&lt;code&gt;VALHEIM_PLUS=true&lt;/code&gt;), set an empty password (&lt;code&gt;SERVER_PASS=&#34;&#34;&lt;/code&gt;), make the server non-public (&lt;code&gt;SERVER_PUBLIC=false&lt;/code&gt;) and configure the following section in &lt;code&gt;/config/valheimplus/valheim_plus.cfg&lt;/code&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;[Server]&#xA;enabled=true&#xA;enforceMod=false&#xA;disableServerPassword=true&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Alternatively start with &lt;code&gt;-e VPCFG_Server_enabled=true -e VPCFG_Server_enforceMod=false -e VPCFG_Server_disableServerPassword=true&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;Ensure that the server can not be accessed from the public Internet. If you like to have the LAN experience but over the Internet I can highly recommend &lt;a href=&#34;https://www.zerotier.com/&#34;&gt;ZeroTier&lt;/a&gt;. It is an open source VPN service where you can create a virtual network switch that you and your friends can join. It is like Hamachi but free and open source. They do have a paid product for Businesses with more than 50 users. So for more than 50 users you could either get their Business product or alternatively would have to host the VPN controller yourself.&lt;/p&gt; &#xA;&lt;h1&gt;Changing startup CMD in Portainer&lt;/h1&gt; &#xA;&lt;p&gt;Portainer retains the startup CMD from the first time the container ist deployed. This is also true if the container is updated using &#34;Recreate&#34; in combination with &#34;Pull latest image&#34;.&lt;/p&gt; &#xA;&lt;p&gt;Recent changes made it so that the startup CMD of the image was changed. To avoid recreating the container from scratch you can use the &#34;Duplicate/Edit&#34; function of Portainer by following the instructions outlined below.&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/portainer_step1.png&#34; alt=&#34;Portainer Step 1&#34; title=&#34;Portainer Step 1&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;Stop the old container (1) and edit the name (2)&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/portainer_step2.png&#34; alt=&#34;Portainer Step 2&#34; title=&#34;Portainer Step 2&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;Append &lt;code&gt;_old&lt;/code&gt; or similar to the name (3) save the change (4) and click &#34;Duplicate/Edit&#34; (5)&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/portainer_step3.png&#34; alt=&#34;Portainer Step 3&#34; title=&#34;Portainer Step 3&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;Change the name back to original name (2) (3) (4).&lt;/p&gt; &#xA;&lt;p&gt;Unter Advanced container settings override (6) the command and enter &lt;code&gt;/usr/local/sbin/bootstrap&lt;/code&gt; (7)&lt;/p&gt; &#xA;&lt;p&gt;Make sure &#34;Always pull the image&#34; is enabled.&lt;/p&gt; &#xA;&lt;p&gt;click &#34;Deploy the container&#34; to finish.&lt;/p&gt; &#xA;&lt;p&gt;If your server starts and is working delete the old unused image and the old container.&lt;/p&gt; &#xA;&lt;h1&gt;Synology Help&lt;/h1&gt; &#xA;&lt;h2&gt;First install&lt;/h2&gt; &#xA;&lt;p&gt;This is not an extensive tutorial, but I hope these screenshots can be helpful. Beware that the server can use multiple GB of RAM and produces a lot of CPU load.&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/step1.png&#34; alt=&#34;Step 1&#34; title=&#34;Step 1&#34;&gt; &lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/step2.png&#34; alt=&#34;Step 2&#34; title=&#34;Step 2&#34;&gt; &lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/step3.png&#34; alt=&#34;Step 3&#34; title=&#34;Step 3&#34;&gt; &lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/step4.png&#34; alt=&#34;Step 4&#34; title=&#34;Step 4&#34;&gt; &lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/step5.png&#34; alt=&#34;Step 5&#34; title=&#34;Step 5&#34;&gt; &lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/step6.png&#34; alt=&#34;Step 6&#34; title=&#34;Step 6&#34;&gt; &lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/step7.png&#34; alt=&#34;Step 7&#34; title=&#34;Step 7&#34;&gt; &lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/step8.png&#34; alt=&#34;Step 8&#34; title=&#34;Step 8&#34;&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Updating the container image to the latest version&lt;/h2&gt; &#xA;&lt;p&gt;The process of updating the image clears all data stored inside the container. So before doing a container image upgrade, make absolutely sure that &lt;code&gt;/config&lt;/code&gt;, which contains your world, is an external volume stored on your NAS (Step 4 of the &lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#first-install&#34;&gt;First install&lt;/a&gt; process). It is also a good idea to copy the latest version of the world backup to another location, like your PC. &lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/update1.png&#34; alt=&#34;Update Step 1&#34; title=&#34;Update Step 1&#34;&gt; &lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/update2.png&#34; alt=&#34;Update Step 2&#34; title=&#34;Update Step 2&#34;&gt; &lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/update3.png&#34; alt=&#34;Update Step 3&#34; title=&#34;Update Step 3&#34;&gt; &lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/update4.png&#34; alt=&#34;Update Step 4&#34; title=&#34;Update Step 4&#34;&gt; &lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/update5.png&#34; alt=&#34;Update Step 5&#34; title=&#34;Update Step 5&#34;&gt; &lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/update6.png&#34; alt=&#34;Update Step 6&#34; title=&#34;Update Step 6&#34;&gt;&lt;/p&gt; &#xA;&lt;h3&gt;Error after download of new container image&lt;/h3&gt; &#xA;&lt;p&gt;If you are getting the following error after an Update: &lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/synology_upgrade_error1.png&#34; alt=&#34;Error Step 1&#34; title=&#34;Error Step 1&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/synology_upgrade_error2.png&#34; alt=&#34;Error Step 2&#34; title=&#34;Error Step 2&#34;&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;&#34;Failure: OCI runtime create failed: container_linux.go:367: [...]&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;You will need to remove the container completely and perform the &lt;a href=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/#first-install&#34;&gt;First install&lt;/a&gt; steps again. &lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/synology_upgrade_error3.png&#34; alt=&#34;Error Step 3&#34; title=&#34;Error Step 3&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;Make sure to use the same folder settings as before so the existing &lt;code&gt;/config&lt;/code&gt; and &lt;code&gt;/opt/valheim&lt;/code&gt; directories are used.&lt;/p&gt; &#xA;&lt;p&gt;The error is caused by Synology using the old image&#39;s &lt;code&gt;CMD&lt;/code&gt; with the newly downloaded image. By removing the container and recreating it we&#39;re forcing Synology to use the new images &lt;code&gt;CMD&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h1&gt;QNAP NAS Help&lt;/h1&gt; &#xA;&lt;h2&gt;Creating container&lt;/h2&gt; &#xA;&lt;p&gt;As a prerequisite you need to create a folder where you will keep your saves, backups and configuration.&lt;/p&gt; &#xA;&lt;p&gt;Here is an example &lt;code&gt;docker-compose.yml&lt;/code&gt; file that we will use in the next steps.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;version: &#34;3&#34;&#xA;&#xA;services: &#xA;  valheim: &#xA;    image: lloesche/valheim-server&#xA;    cap_add:&#xA;      - sys_nice&#xA;    volumes: &#xA;      - /share/CACHEDEV1_DATA/{path_to_folder}/config:/config&#xA;      - /share/CACHEDEV1_DATA/{path_to_folder}/data:/opt/valheim&#xA;    ports: &#xA;      - &#34;2456-2457:2456-2457/udp&#34;&#xA;      - &#34;9001:9001/tcp&#34;&#xA;    env_file:&#xA;      - /share/CACHEDEV1_DATA/{path_to_folder}/valheim.env&#xA;    restart: always&#xA;    stop_grace_period: 2m&#xA;    deploy:&#xA;      resources:&#xA;        limits:&#xA;          cpus: &#39;0.70&#39;&#xA;          memory: 4gb&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The most important part is &lt;code&gt;/share/CACHEDEV1_DATA/{path_to_folder}/config&lt;/code&gt;. You need to replace &lt;strong&gt;{path_to_folder}&lt;/strong&gt; with the folder path where you want to store data and configuration for your Valheim server.&lt;/p&gt; &#xA;&lt;p&gt;Change your memory and cpu limit according to your available resources on QNAP. Current settings are 70% of single CPU and 4gb of RAM.&lt;/p&gt; &#xA;&lt;p&gt;In this folder you need to create a file &lt;code&gt;valheim.env&lt;/code&gt; to store configuration variables.&lt;/p&gt; &#xA;&lt;p&gt;Example &lt;code&gt;valheim.env&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;SERVER_NAME=My Server&#xA;WORLD_NAME=Dedicated&#xA;SERVER_PASS=secret&#xA;SERVER_PUBLIC=true&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/qnap_create_button.png&#34; alt=&#34;Qnap Step 1&#34; title=&#34;Qnap Step 1&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/qnap_create_application.png&#34; alt=&#34;Qnap Step 2&#34; title=&#34;Qnap Step 2&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/qnap_create_yaml.png&#34; alt=&#34;Qnap Step 3&#34; title=&#34;Qnap Step 3&#34;&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Updating image&lt;/h2&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/qnap_update_resources.png&#34; alt=&#34;Qnap update Step 1&#34; title=&#34;Qnap update Step 1&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/qnap_update_button.png&#34; alt=&#34;Qnap update Step 2&#34; title=&#34;Qnap update Step 2&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;In the image name you have to specify the image from the container definition &lt;code&gt;lloesche/valheim-server&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/qnap_update_pull.png&#34; alt=&#34;Qnap update Step 3&#34; title=&#34;Qnap update Step 3&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;After the image is downloaded restart the container. As you can see the old image is now unused and the new one is in use by the container. You can now safely delete the old image.&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/qnap_update_images.png&#34; alt=&#34;Qnap update Step 4&#34; title=&#34;Qnap update Step 4&#34;&gt;&lt;/p&gt; &#xA;&lt;h2&gt;QNAP ZFS issue&lt;/h2&gt; &#xA;&lt;p&gt;We have had &lt;a href=&#34;https://github.com/lloesche/valheim-server-docker/issues/275&#34;&gt;a report from a QNAP user&lt;/a&gt; where Steam failed when using ZFS as the backing filesystem with the following error&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;valheim-updater [ 0%] !!! Fatal Error: Steamcmd needs 250MB of free disk space to update.&#xA;valheim-updater src/tier0/threadtools.cpp (3553) : Assertion Failed: Illegal termination of worker thread &#39;Thread(0x0x58a1d8f0/0x0xf7780b&#39;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;This appears to be due to a bad Steam/ZFS interaction akin to &lt;a href=&#34;https://github.com/ValveSoftware/steam-for-linux/issues/4982&#34;&gt;this Steam bug&lt;/a&gt; where very large ZFS volumes get interpreted as very small due to bad overflow handling. There are two workarounds available. Use a non-ZFS volume, or set a quota on the volume, e.g.:&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Connect to the QNAP SSH console.&lt;/li&gt; &#xA; &lt;li&gt;Get the ZFS volume ID from within the container&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code&gt;df /opt/valheim | tail -n 1 | awk &#39;{ print $1 }&#39;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ol start=&#34;3&#34;&gt; &#xA; &lt;li&gt;Set the quota to 2TB or less from the QNAP SSH console:&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code&gt;zfs set quota=1TB &#34;volume_id_here&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;You could also try this one-liner from the SSH console:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;CONTAINER=&#34;your_valheim_container name/id&#34; \&#xA;  docker exec -t &#34;$CONTAINER&#34; df /opt/valheim | tail -n 1 | awk &#39;{ print $1 }&#39; | \&#xA;  xargs -I zfs_id sudo zfs set quota=1TB zfs_id&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If you have access to a QNAP NAS running ZFS and can reproduce/debug this issue further, please open a new issue with your findings so we can update this section and provide more information here.&lt;/p&gt; &#xA;&lt;h1&gt;OpenMediaVault Help&lt;/h1&gt; &#xA;&lt;h2&gt;Permission denied error&lt;/h2&gt; &#xA;&lt;p&gt;If you are running this container in Portainer on a OpenMediaVault NAS and getting the following error&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;valheim-server /usr/local/bin/valheim-server: line 110: /opt/valheim/server/valheim_server.x86_64: Permission denied&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;the cause is that the container&#39;s filesystem is mounted with the &lt;code&gt;noexec&lt;/code&gt; flag. Meaning no files are allowed to be executed on that filesystem.&lt;/p&gt; &#xA;&lt;p&gt;See &lt;a href=&#34;https://openmediavault.readthedocs.io/en/5.x/various/fs_env_vars.html&#34;&gt;this page&lt;/a&gt; for detailed information on how to disable noexec for newly created and existing filesystems.&lt;/p&gt; &#xA;&lt;p&gt;For existing filesystems edit &lt;code&gt;/etc/openmediavault/config.xml&lt;/code&gt; and remove the &lt;code&gt;noexec&lt;/code&gt; option from the filesystem in question. The file should look something like this&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/lloesche/valheim-server-docker/main/misc/omv1.png&#34; alt=&#34;OMV 1&#34; title=&#34;OMV Step 1&#34;&gt;&lt;/p&gt; &#xA;&lt;h1&gt;License&lt;/h1&gt; &#xA;&lt;p&gt;Copyright 2021 &lt;a href=&#34;mailto:lukas@opensourcery.de&#34;&gt;Lukas L√∂sche&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;Licensed under the Apache License, Version 2.0 (the &#34;License&#34;);&lt;br&gt; you may not use this file except in compliance with the License.&lt;br&gt; You may obtain a copy of the License at&lt;/p&gt; &#xA;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;a href=&#34;http://www.apache.org/licenses/LICENSE-2.0&#34;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;Unless required by applicable law or agreed to in writing, software&lt;br&gt; distributed under the License is distributed on an &#34;AS IS&#34; BASIS,&lt;br&gt; WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br&gt; See the License for the specific language governing permissions and&lt;br&gt; limitations under the License.&lt;/p&gt; &#xA;&lt;h1&gt;Legal disclaimer&lt;/h1&gt; &#xA;&lt;p&gt;This Docker container is not endorsed by, directly affiliated with, maintained, authorized, or sponsored by &lt;a href=&#34;https://irongatestudio.se/&#34;&gt;Iron Gate Studio&lt;/a&gt;.&lt;br&gt; &lt;a href=&#34;https://www.valheimgame.com/&#34;&gt;Valheim&lt;/a&gt;, &lt;a href=&#34;https://steamcommunity.com/app/896660/&#34;&gt;Valheim dedicated server&lt;/a&gt; and &lt;a href=&#34;https://irongatestudio.se/onewebmedia/ValheimPresskit.zip&#34;&gt;the Valheim Logo&lt;/a&gt; are ¬© 2021 Iron Gate Studio.&lt;/p&gt;</summary>
  </entry>
  <entry>
    <title>opencv/opencv-python</title>
    <updated>2022-11-26T01:37:22Z</updated>
    <id>tag:github.com,2022-11-26:/opencv/opencv-python</id>
    <link href="https://github.com/opencv/opencv-python" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Automated CI toolchain to produce precompiled opencv-python, opencv-python-headless, opencv-contrib-python and opencv-contrib-python-headless packages.&lt;/p&gt;&lt;hr&gt;&lt;p&gt;&lt;a href=&#34;http://pepy.tech/project/opencv-python&#34;&gt;&lt;img src=&#34;http://pepy.tech/badge/opencv-python&#34; alt=&#34;Downloads&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;OpenCV on Wheels&lt;/h2&gt; &#xA;&lt;p&gt;Pre-built CPU-only OpenCV packages for Python.&lt;/p&gt; &#xA;&lt;p&gt;Check the manual build section if you wish to compile the bindings from source to enable additional modules such as CUDA.&lt;/p&gt; &#xA;&lt;h3&gt;Installation and Usage&lt;/h3&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt; &lt;p&gt;If you have previous/other manually installed (= not installed via &lt;code&gt;pip&lt;/code&gt;) version of OpenCV installed (e.g. cv2 module in the root of Python&#39;s site-packages), remove it before installation to avoid conflicts.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Make sure that your &lt;code&gt;pip&lt;/code&gt; version is up-to-date (19.3 is the minimum supported version): &lt;code&gt;pip install --upgrade pip&lt;/code&gt;. Check version with &lt;code&gt;pip -V&lt;/code&gt;. For example Linux distributions ship usually with very old &lt;code&gt;pip&lt;/code&gt; versions which cause a lot of unexpected problems especially with the &lt;code&gt;manylinux&lt;/code&gt; format.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Select the correct package for your environment:&lt;/p&gt; &lt;p&gt;There are four different packages (see options 1, 2, 3 and 4 below) and you should &lt;strong&gt;SELECT ONLY ONE OF THEM&lt;/strong&gt;. Do not install multiple different packages in the same environment. There is no plugin architecture: all the packages use the same namespace (&lt;code&gt;cv2&lt;/code&gt;). If you installed multiple different packages in the same environment, uninstall them all with &lt;code&gt;pip uninstall&lt;/code&gt; and reinstall only one package.&lt;/p&gt; &lt;p&gt;&lt;strong&gt;a.&lt;/strong&gt; Packages for standard desktop environments (Windows, macOS, almost any GNU/Linux distribution)&lt;/p&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;Option 1 - Main modules package: &lt;code&gt;pip install opencv-python&lt;/code&gt;&lt;/li&gt; &#xA;   &lt;li&gt;Option 2 - Full package (contains both main modules and contrib/extra modules): &lt;code&gt;pip install opencv-contrib-python&lt;/code&gt; (check contrib/extra modules listing from &lt;a href=&#34;https://docs.opencv.org/master/&#34;&gt;OpenCV documentation&lt;/a&gt;)&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;p&gt;&lt;strong&gt;b.&lt;/strong&gt; Packages for server (headless) environments (such as Docker, cloud environments etc.), no GUI library dependencies&lt;/p&gt; &lt;p&gt;These packages are smaller than the two other packages above because they do not contain any GUI functionality (not compiled with Qt / other GUI components). This means that the packages avoid a heavy dependency chain to X11 libraries and you will have for example smaller Docker images as a result. You should always use these packages if you do not use &lt;code&gt;cv2.imshow&lt;/code&gt; et al. or you are using some other package (such as PyQt) than OpenCV to create your GUI.&lt;/p&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;Option 3 - Headless main modules package: &lt;code&gt;pip install opencv-python-headless&lt;/code&gt;&lt;/li&gt; &#xA;   &lt;li&gt;Option 4 - Headless full package (contains both main modules and contrib/extra modules): &lt;code&gt;pip install opencv-contrib-python-headless&lt;/code&gt; (check contrib/extra modules listing from &lt;a href=&#34;https://docs.opencv.org/master/&#34;&gt;OpenCV documentation&lt;/a&gt;)&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Import the package:&lt;/p&gt; &lt;p&gt;&lt;code&gt;import cv2&lt;/code&gt;&lt;/p&gt; &lt;p&gt;All packages contain Haar cascade files. &lt;code&gt;cv2.data.haarcascades&lt;/code&gt; can be used as a shortcut to the data folder. For example:&lt;/p&gt; &lt;p&gt;&lt;code&gt;cv2.CascadeClassifier(cv2.data.haarcascades + &#34;haarcascade_frontalface_default.xml&#34;)&lt;/code&gt;&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Read &lt;a href=&#34;https://docs.opencv.org/master/&#34;&gt;OpenCV documentation&lt;/a&gt;&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Before opening a new issue, read the FAQ below and have a look at the other issues which are already open.&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h2&gt;Frequently Asked Questions&lt;/h2&gt; &#xA;&lt;p&gt;&lt;strong&gt;Q: Do I need to install also OpenCV separately?&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;A: No, the packages are special wheel binary packages and they already contain statically built OpenCV binaries.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Q: Pip install fails with &lt;code&gt;ModuleNotFoundError: No module named &#39;skbuild&#39;&lt;/code&gt;?&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;Since &lt;code&gt;opencv-python&lt;/code&gt; version 4.3.0.*, &lt;code&gt;manylinux1&lt;/code&gt; wheels were replaced by &lt;code&gt;manylinux2014&lt;/code&gt; wheels. If your pip is too old, it will try to use the new source distribution introduced in 4.3.0.38 to manually build OpenCV because it does not know how to install &lt;code&gt;manylinux2014&lt;/code&gt; wheels. However, source build will also fail because of too old &lt;code&gt;pip&lt;/code&gt; because it does not understand build dependencies in &lt;code&gt;pyproject.toml&lt;/code&gt;. To use the new &lt;code&gt;manylinux2014&lt;/code&gt; pre-built wheels (or to build from source), your &lt;code&gt;pip&lt;/code&gt; version must be &amp;gt;= 19.3. Please upgrade &lt;code&gt;pip&lt;/code&gt; with &lt;code&gt;pip install --upgrade pip&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Q: Import fails on Windows: &lt;code&gt;ImportError: DLL load failed: The specified module could not be found.&lt;/code&gt;?&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;A: If the import fails on Windows, make sure you have &lt;a href=&#34;https://www.microsoft.com/en-us/download/details.aspx?id=48145&#34;&gt;Visual C++ redistributable 2015&lt;/a&gt; installed. If you are using older Windows version than Windows 10 and latest system updates are not installed, &lt;a href=&#34;https://support.microsoft.com/en-us/help/2999226/update-for-universal-c-runtime-in-windows&#34;&gt;Universal C Runtime&lt;/a&gt; might be also required.&lt;/p&gt; &#xA;&lt;p&gt;Windows N and KN editions do not include Media Feature Pack which is required by OpenCV. If you are using Windows N or KN edition, please install also &lt;a href=&#34;https://support.microsoft.com/en-us/help/3145500/media-feature-pack-list-for-windows-n-editions&#34;&gt;Windows Media Feature Pack&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;If you have Windows Server 2012+, media DLLs are probably missing too; please install the Feature called &#34;Media Foundation&#34; in the Server Manager. Beware, some posts advise to install &#34;Windows Server Essentials Media Pack&#34;, but this one requires the &#34;Windows Server Essentials Experience&#34; role, and this role will deeply affect your Windows Server configuration (by enforcing active directory integration etc.); so just installing the &#34;Media Foundation&#34; should be a safer choice.&lt;/p&gt; &#xA;&lt;p&gt;If the above does not help, check if you are using Anaconda. Old Anaconda versions have a bug which causes the error, see &lt;a href=&#34;https://github.com/opencv/opencv-python/issues/36&#34;&gt;this issue&lt;/a&gt; for a manual fix.&lt;/p&gt; &#xA;&lt;p&gt;If you still encounter the error after you have checked all the previous solutions, download &lt;a href=&#34;https://github.com/lucasg/Dependencies&#34;&gt;Dependencies&lt;/a&gt; and open the &lt;code&gt;cv2.pyd&lt;/code&gt; (located usually at &lt;code&gt;C:\Users\username\AppData\Local\Programs\Python\PythonXX\Lib\site-packages\cv2&lt;/code&gt;) file with it to debug missing DLL issues.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Q: I have some other import errors?&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;A: Make sure you have removed old manual installations of OpenCV Python bindings (cv2.so or cv2.pyd in site-packages).&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Q: Function foo() or method bar() returns wrong result, throws exception or crashes interpreter. What should I do?&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;A: The repository contains only OpenCV-Python package build scripts, but not OpenCV itself. Python bindings for OpenCV are developed in official OpenCV repository and it&#39;s the best place to report issues. Also please check {OpenCV wiki](&lt;a href=&#34;https://github.com/opencv/opencv/wiki&#34;&gt;https://github.com/opencv/opencv/wiki&lt;/a&gt;) and &lt;a href=&#34;https://forum.opencv.org/&#34;&gt;the official OpenCV forum&lt;/a&gt; before file new bugs.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Q: Why the packages do not include non-free algorithms?&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;A: Non-free algorithms such as SURF are not included in these packages because they are patented / non-free and therefore cannot be distributed as built binaries. Note that SIFT is included in the builds due to patent expiration since OpenCV versions 4.3.0 and 3.4.10. See this issue for more info: &lt;a href=&#34;https://github.com/skvark/opencv-python/issues/126&#34;&gt;https://github.com/skvark/opencv-python/issues/126&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Q: Why the package and import are different (opencv-python vs. cv2)?&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;A: It&#39;s easier for users to understand &lt;code&gt;opencv-python&lt;/code&gt; than &lt;code&gt;cv2&lt;/code&gt; and it makes it easier to find the package with search engines. &lt;code&gt;cv2&lt;/code&gt; (old interface in old OpenCV versions was named as &lt;code&gt;cv&lt;/code&gt;) is the name that OpenCV developers chose when they created the binding generators. This is kept as the import name to be consistent with different kind of tutorials around the internet. Changing the import name or behaviour would be also confusing to experienced users who are accustomed to the &lt;code&gt;import cv2&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Documentation for opencv-python&lt;/h2&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/opencv/opencv-python/actions/workflows/build_wheels_windows.yml&#34;&gt;&lt;img src=&#34;https://github.com/opencv/opencv-python/actions/workflows/build_wheels_windows.yml/badge.svg?sanitize=true&#34; alt=&#34;Windows Build Status&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/opencv/opencv-python/actions/workflows/build_wheels_linux.yml&#34;&gt;&lt;img src=&#34;https://github.com/opencv/opencv-python/actions/workflows/build_wheels_linux.yml/badge.svg?sanitize=true&#34; alt=&#34;(Linux Build status)&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/opencv/opencv-python/actions/workflows/build_wheels_macos.yml&#34;&gt;&lt;img src=&#34;https://github.com/opencv/opencv-python/actions/workflows/build_wheels_macos.yml/badge.svg?sanitize=true&#34; alt=&#34;(Mac OS Build status)&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;The aim of this repository is to provide means to package each new &lt;a href=&#34;https://github.com/opencv/opencv/releases&#34;&gt;OpenCV release&lt;/a&gt; for the most used Python versions and platforms.&lt;/p&gt; &#xA;&lt;h3&gt;CI build process&lt;/h3&gt; &#xA;&lt;p&gt;The project is structured like a normal Python package with a standard &lt;code&gt;setup.py&lt;/code&gt; file. The build process for a single entry in the build matrices is as follows (see for example &lt;code&gt;.github/workflows/build_wheels_linux.yml&lt;/code&gt; file):&lt;/p&gt; &#xA;&lt;ol start=&#34;0&#34;&gt; &#xA; &lt;li&gt; &lt;p&gt;In Linux and MacOS build: get OpenCV&#39;s optional C dependencies that we compile against&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Checkout repository and submodules&lt;/p&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;OpenCV is included as submodule and the version is updated manually by maintainers when a new OpenCV release has been made&lt;/li&gt; &#xA;   &lt;li&gt;Contrib modules are also included as a submodule&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Find OpenCV version from the sources&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Build OpenCV&lt;/p&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;tests are disabled, otherwise build time increases too much&lt;/li&gt; &#xA;   &lt;li&gt;there are 4 build matrix entries for each build combination: with and without contrib modules, with and without GUI (headless)&lt;/li&gt; &#xA;   &lt;li&gt;Linux builds run in manylinux Docker containers (CentOS 5)&lt;/li&gt; &#xA;   &lt;li&gt;source distributions are separate entries in the build matrix&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Rearrange OpenCV&#39;s build result, add our custom files and generate wheel&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Linux and macOS wheels are transformed with auditwheel and delocate, correspondingly&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Install the generated wheel&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Test that Python can import the library and run some sanity checks&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Use twine to upload the generated wheel to PyPI (only in release builds)&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;Steps 1--4 are handled by &lt;code&gt;pip wheel&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;The build can be customized with environment variables. In addition to any variables that OpenCV&#39;s build accepts, we recognize:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;CI_BUILD&lt;/code&gt;. Set to &lt;code&gt;1&lt;/code&gt; to emulate the CI environment build behaviour. Used only in CI builds to force certain build flags on in &lt;code&gt;setup.py&lt;/code&gt;. Do not use this unless you know what you are doing.&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;ENABLE_CONTRIB&lt;/code&gt; and &lt;code&gt;ENABLE_HEADLESS&lt;/code&gt;. Set to &lt;code&gt;1&lt;/code&gt; to build the contrib and/or headless version&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;ENABLE_JAVA&lt;/code&gt;, Set to &lt;code&gt;1&lt;/code&gt; to enable the Java client build. This is disabled by default.&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;CMAKE_ARGS&lt;/code&gt;. Additional arguments for OpenCV&#39;s CMake invocation. You can use this to make a custom build.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;See the next section for more info about manual builds outside the CI environment.&lt;/p&gt; &#xA;&lt;h3&gt;Manual builds&lt;/h3&gt; &#xA;&lt;p&gt;If some dependency is not enabled in the pre-built wheels, you can also run the build locally to create a custom wheel.&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Clone this repository: &lt;code&gt;git clone --recursive https://github.com/opencv/opencv-python.git&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;cd opencv-python&lt;/code&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;you can use &lt;code&gt;git&lt;/code&gt; to checkout some other version of OpenCV in the &lt;code&gt;opencv&lt;/code&gt; and &lt;code&gt;opencv_contrib&lt;/code&gt; submodules if needed&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;Add custom Cmake flags if needed, for example: &lt;code&gt;export CMAKE_ARGS=&#34;-DSOME_FLAG=ON -DSOME_OTHER_FLAG=OFF&#34;&lt;/code&gt; (in Windows you need to set environment variables differently depending on Command Line or PowerShell)&lt;/li&gt; &#xA; &lt;li&gt;Select the package flavor which you wish to build with &lt;code&gt;ENABLE_CONTRIB&lt;/code&gt; and &lt;code&gt;ENABLE_HEADLESS&lt;/code&gt;: i.e. &lt;code&gt;export ENABLE_CONTRIB=1&lt;/code&gt; if you wish to build &lt;code&gt;opencv-contrib-python&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;Run &lt;code&gt;pip wheel . --verbose&lt;/code&gt;. NOTE: make sure you have the latest &lt;code&gt;pip&lt;/code&gt; version, the &lt;code&gt;pip wheel&lt;/code&gt; command replaces the old &lt;code&gt;python setup.py bdist_wheel&lt;/code&gt; command which does not support &lt;code&gt;pyproject.toml&lt;/code&gt;. &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;this might take anything from 5 minutes to over 2 hours depending on your hardware&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;You&#39;ll have the wheel file in the &lt;code&gt;dist&lt;/code&gt; folder and you can do with that whatever you wish &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;Optional: on Linux use some of the &lt;code&gt;manylinux&lt;/code&gt; images as a build hosts if maximum portability is needed and run &lt;code&gt;auditwheel&lt;/code&gt; for the wheel after build&lt;/li&gt; &#xA;   &lt;li&gt;Optional: on macOS use &lt;code&gt;delocate&lt;/code&gt; (same as &lt;code&gt;auditwheel&lt;/code&gt; but for macOS) for better portability&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h4&gt;Manual debug builds&lt;/h4&gt; &#xA;&lt;p&gt;In order to build &lt;code&gt;opencv-python&lt;/code&gt; in an unoptimized debug build, you need to side-step the normal process a bit.&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Install the packages &lt;code&gt;scikit-build&lt;/code&gt; and &lt;code&gt;numpy&lt;/code&gt; via pip.&lt;/li&gt; &#xA; &lt;li&gt;Run the command &lt;code&gt;python setup.py bdist_wheel --build-type=Debug&lt;/code&gt;.&lt;/li&gt; &#xA; &lt;li&gt;Install the generated wheel file in the &lt;code&gt;dist/&lt;/code&gt; folder with &lt;code&gt;pip install dist/wheelname.whl&lt;/code&gt;.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;If you would like the build produce all compiler commands, then the following combination of flags and environment variables has been tested to work on Linux:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;export CMAKE_ARGS=&#39;-DCMAKE_VERBOSE_MAKEFILE=ON&#39;&#xA;export VERBOSE=1&#xA;&#xA;python3 setup.py bdist_wheel --build-type=Debug&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;See this issue for more discussion: &lt;a href=&#34;https://github.com/opencv/opencv-python/issues/424&#34;&gt;https://github.com/opencv/opencv-python/issues/424&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h4&gt;Source distributions&lt;/h4&gt; &#xA;&lt;p&gt;Since OpenCV version 4.3.0, also source distributions are provided in PyPI. This means that if your system is not compatible with any of the wheels in PyPI, &lt;code&gt;pip&lt;/code&gt; will attempt to build OpenCV from sources. If you need a OpenCV version which is not available in PyPI as a source distribution, please follow the manual build guidance above instead of this one.&lt;/p&gt; &#xA;&lt;p&gt;You can also force &lt;code&gt;pip&lt;/code&gt; to build the wheels from the source distribution. Some examples:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;pip install --no-binary opencv-python opencv-python&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;pip install --no-binary :all: opencv-python&lt;/code&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;If you need contrib modules or headless version, just change the package name (step 4 in the previous section is not needed). However, any additional CMake flags can be provided via environment variables as described in step 3 of the manual build section. If none are provided, OpenCV&#39;s CMake scripts will attempt to find and enable any suitable dependencies. Headless distributions have hard coded CMake flags which disable all possible GUI dependencies.&lt;/p&gt; &#xA;&lt;p&gt;On slow systems such as Raspberry Pi the full build may take several hours. On a 8-core Ryzen 7 3700X the build takes about 6 minutes.&lt;/p&gt; &#xA;&lt;h3&gt;Licensing&lt;/h3&gt; &#xA;&lt;p&gt;Opencv-python package (scripts in this repository) is available under MIT license.&lt;/p&gt; &#xA;&lt;p&gt;OpenCV itself is available under &lt;a href=&#34;https://github.com/opencv/opencv/raw/master/LICENSE&#34;&gt;Apache 2&lt;/a&gt; license.&lt;/p&gt; &#xA;&lt;p&gt;Third party package licenses are at &lt;a href=&#34;https://github.com/opencv/opencv-python/raw/master/LICENSE-3RD-PARTY.txt&#34;&gt;LICENSE-3RD-PARTY.txt&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;All wheels ship with &lt;a href=&#34;http://ffmpeg.org&#34;&gt;FFmpeg&lt;/a&gt; licensed under the &lt;a href=&#34;http://www.gnu.org/licenses/old-licenses/lgpl-2.1.html&#34;&gt;LGPLv2.1&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;Non-headless Linux wheels ship with &lt;a href=&#34;http://doc.qt.io/qt-5/lgpl.html&#34;&gt;Qt 5&lt;/a&gt; licensed under the &lt;a href=&#34;http://www.gnu.org/licenses/lgpl-3.0.html&#34;&gt;LGPLv3&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;The packages include also other binaries. Full list of licenses can be found from &lt;a href=&#34;https://github.com/opencv/opencv-python/raw/master/LICENSE-3RD-PARTY.txt&#34;&gt;LICENSE-3RD-PARTY.txt&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h3&gt;Versioning&lt;/h3&gt; &#xA;&lt;p&gt;&lt;code&gt;find_version.py&lt;/code&gt; script searches for the version information from OpenCV sources and appends also a revision number specific to this repository to the version string. It saves the version information to &lt;code&gt;version.py&lt;/code&gt; file under &lt;code&gt;cv2&lt;/code&gt; in addition to some other flags.&lt;/p&gt; &#xA;&lt;h3&gt;Releases&lt;/h3&gt; &#xA;&lt;p&gt;A release is made and uploaded to PyPI when a new tag is pushed to master branch. These tags differentiate packages (this repo might have modifications but OpenCV version stays same) and should be incremented sequentially. In practice, release version numbers look like this:&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;cv_major.cv_minor.cv_revision.package_revision&lt;/code&gt; e.g. &lt;code&gt;3.1.0.0&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;The master branch follows OpenCV master branch releases. 3.4 branch follows OpenCV 3.4 bugfix releases.&lt;/p&gt; &#xA;&lt;h3&gt;Development builds&lt;/h3&gt; &#xA;&lt;p&gt;Every commit to the master branch of this repo will be built. Possible build artifacts use local version identifiers:&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;cv_major.cv_minor.cv_revision+git_hash_of_this_repo&lt;/code&gt; e.g. &lt;code&gt;3.1.0+14a8d39&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;These artifacts can&#39;t be and will not be uploaded to PyPI.&lt;/p&gt; &#xA;&lt;h3&gt;Manylinux wheels&lt;/h3&gt; &#xA;&lt;p&gt;Linux wheels are built using &lt;a href=&#34;https://github.com/pypa/manylinux&#34;&gt;manylinux2014&lt;/a&gt;. These wheels should work out of the box for most of the distros (which use GNU C standard library) out there since they are built against an old version of glibc.&lt;/p&gt; &#xA;&lt;p&gt;The default &lt;code&gt;manylinux2014&lt;/code&gt; images have been extended with some OpenCV dependencies. See &lt;a href=&#34;https://github.com/skvark/opencv-python/tree/master/docker&#34;&gt;Docker folder&lt;/a&gt; for more info.&lt;/p&gt; &#xA;&lt;h3&gt;Supported Python versions&lt;/h3&gt; &#xA;&lt;p&gt;Python 3.x compatible pre-built wheels are provided for the officially supported Python versions (not in EOL):&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;3.6&lt;/li&gt; &#xA; &lt;li&gt;3.7&lt;/li&gt; &#xA; &lt;li&gt;3.8&lt;/li&gt; &#xA; &lt;li&gt;3.9&lt;/li&gt; &#xA; &lt;li&gt;3.10&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Backward compatibility&lt;/h3&gt; &#xA;&lt;p&gt;Starting from 4.2.0 and 3.4.9 builds the macOS Travis build environment was updated to XCode 9.4. The change effectively dropped support for older than 10.13 macOS versions.&lt;/p&gt; &#xA;&lt;p&gt;Starting from 4.3.0 and 3.4.10 builds the Linux build environment was updated from &lt;code&gt;manylinux1&lt;/code&gt; to &lt;code&gt;manylinux2014&lt;/code&gt;. This dropped support for old Linux distributions.&lt;/p&gt;</summary>
  </entry>
</feed>