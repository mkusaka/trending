<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub CSS Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2024-11-25T01:30:13Z</updated>
  <subtitle>Daily Trending of CSS in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>strues/retinajs</title>
    <updated>2024-11-25T01:30:13Z</updated>
    <id>tag:github.com,2024-11-25:/strues/retinajs</id>
    <link href="https://github.com/strues/retinajs" rel="alternate"></link>
    <summary type="html">&lt;p&gt;JavaScript, SCSS, Sass, Less, and Stylus helpers for rendering high-resolution image variants&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;retina.js&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://badge.fury.io/js/retinajs&#34;&gt;&lt;img src=&#34;https://badge.fury.io/js/retinajs.png&#34; alt=&#34;npm version&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/prettier/prettier&#34;&gt;&lt;img src=&#34;https://img.shields.io/badge/styled_with-prettier-ff69b4.svg?sanitize=true&#34; alt=&#34;styled with prettier&#34;&gt;&lt;/a&gt; &lt;a href=&#34;http://commitizen.github.io/cz-cli/&#34;&gt;&lt;img src=&#34;https://img.shields.io/badge/commitizen-friendly-brightgreen.svg?sanitize=true&#34; alt=&#34;Commitizen friendly&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://raw.githubusercontent.com/strues/retinajs/master/LICENSE&#34;&gt;&lt;img src=&#34;https://img.shields.io/badge/license-MIT-blue.svg?sanitize=true&#34; alt=&#34;GitHub license&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h3&gt;JavaScript, Sass, Less, and Stylus helpers for rendering high-resolution image variants&lt;/h3&gt; &#xA;&lt;p&gt;&lt;code&gt;retina.js&lt;/code&gt; makes it easy to serve high-resolution images to devices with displays that support them. You can prepare images for as many levels of pixel density as you want and let &lt;code&gt;retina.js&lt;/code&gt; dynamically serve the right image to the user.&lt;/p&gt; &#xA;&lt;h2&gt;How it works&lt;/h2&gt; &#xA;&lt;p&gt;There are 4 ways to use &lt;code&gt;retina.js&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Automatically swapping out &lt;code&gt;src&lt;/code&gt; paths on &lt;code&gt;img&lt;/code&gt; tags.&lt;/li&gt; &#xA; &lt;li&gt;Automatically swapping out background image URLs in inline styles.&lt;/li&gt; &#xA; &lt;li&gt;Manually specifying the location of a high-res image variant (works for &lt;code&gt;src&lt;/code&gt; attributes and inline styles).&lt;/li&gt; &#xA; &lt;li&gt;Automatically creating media queries for CSS background images.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h4&gt;Img Tags&lt;/h4&gt; &#xA;&lt;p&gt;&lt;code&gt;retina.js&lt;/code&gt; assumes you are using Apple&#39;s prescribed high-resolution modifiers (@2x, @3x, etc) to denote high-res image variants on your server. It also assumes that if you have prepared a variant for a given high-res environment, that you have also prepared variants for each environment below it. For example, if you have prepared 3x variants, &lt;code&gt;retina.js&lt;/code&gt; will assume that you have also prepared 2x variants.&lt;/p&gt; &#xA;&lt;p&gt;With this in mind, you&#39;ll specify your highest environment level with the &lt;code&gt;data-rjs&lt;/code&gt; attribute and let &lt;code&gt;retina.js&lt;/code&gt; take it from there.&lt;/p&gt; &#xA;&lt;p&gt;Let&#39;s say you have an image on your page that looks like this:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;img src=&#34;/images/my_image.png&#34; data-rjs=&#34;3&#34; /&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;In this case, we&#39;ve set our resolution cap at &#34;3&#34;, denoting that we&#39;ve prepared 3x and 2x image variants. When the page loads, &lt;code&gt;retina.js&lt;/code&gt; will check the actual resolution of the device environment to decide whether it should really serve up a 3x image. If the user happens to be in a 2x environment, &lt;code&gt;retina.js&lt;/code&gt; will serve up the 2x image instead, assuming it will find the image at &lt;code&gt;/images/my_image@2x.png&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;If the environment does have 3x capabilities, &lt;code&gt;retina.js&lt;/code&gt; will serve up the 3x image. It will expect that url to be &lt;code&gt;/images/my_image@3x.png&lt;/code&gt;. If the environment has the ability to display images at higher densities than 3x, &lt;code&gt;retina.js&lt;/code&gt; will serve up the image of the highest resolution that you&#39;ve provided, in this case 3x.&lt;/p&gt; &#xA;&lt;h4&gt;Inline Styles&lt;/h4&gt; &#xA;&lt;p&gt;Previous versions of &lt;code&gt;retina.js&lt;/code&gt; were unable to target background images set via inline styles. Now, if you apply a &lt;code&gt;data-rjs&lt;/code&gt; attribute to any kind of element other than an &lt;code&gt;img&lt;/code&gt;, the script will target inline background images instead of &lt;code&gt;src&lt;/code&gt; attributes.&lt;/p&gt; &#xA;&lt;p&gt;So if you created an element like this:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;div style=&#34;background: url(/images/my_image.png)&#34; data-rjs=&#34;3&#34;&amp;gt;&amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;code&gt;retina.js&lt;/code&gt; would convert it to something like this:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;div style=&#34;background: url(/images/my_image@3x.png)&#34; data-rjs=&#34;3&#34;&amp;gt;&amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The logic behind image swapping is exactly the same when dealing with background images as it is when dealing with &lt;code&gt;src&lt;/code&gt; attributes. If the user&#39;s environment only supports 2x variants, &lt;code&gt;retina.js&lt;/code&gt; will load the 2x variant instead of the 3x.&lt;/p&gt; &#xA;&lt;p&gt;&lt;em&gt;Note that it is up to you in a case like this to correctly apply background sizing and any other necessary background-related styles to the element. retina.js will not affect these.&lt;/em&gt;&lt;/p&gt; &#xA;&lt;h4&gt;Manually Specifying a High-Res URL&lt;/h4&gt; &#xA;&lt;p&gt;In previous versions, you could tell the script where to find your high-res file by using the &lt;code&gt;data-at2x&lt;/code&gt; attribute. Now, if you pass a URL to the &lt;code&gt;data-rjs&lt;/code&gt; attribute, &lt;code&gt;retina.js&lt;/code&gt; will use the image at the path you specify for all high-resolution environments instead of trying to dynamically serve an auto-suffixed image path based on the environment&#39;s capabilities. This will work for both &lt;code&gt;src&lt;/code&gt; attributes on &lt;code&gt;img&lt;/code&gt; tags and inline background images on all other tags.&lt;/p&gt; &#xA;&lt;p&gt;For example, you might write something like this:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;img&#xA;  src=&#34;/images/my_image.png&#34;&#xA;  data-rjs=&#34;/images/2x/my-image.png&#34; /&amp;gt;&#xA;&#xA;&amp;lt;!-- or --&amp;gt;&#xA;&#xA;&amp;lt;div&#xA;  style=&#34;background: url(/images/my_image.png)&#34;&#xA;  data-rjs=&#34;/images/2x/my-image.png&#34;&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If the user then loads the page in any kind of high-resolution environment, they&#39;ll get the following:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;img&#xA;  src=&#34;/images/2x/my-image.png&#34;&#xA;  data-rjs=&#34;/images/2x/my-image.png&#34; /&amp;gt;&#xA;&#xA;&amp;lt;!-- or --&amp;gt;&#xA;&#xA;&amp;lt;div&#xA;  style=&#34;background: url(/images/2x/my-image.png)&#34;&#xA;  data-rjs=&#34;/images/2x/my-image.png&#34;&amp;gt;&#xA;&amp;lt;/div&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Media Queries&lt;/h4&gt; &#xA;&lt;p&gt;&lt;code&gt;retina.js&lt;/code&gt; comes with mixins for SCSS, Sass, Less, and Stylus. These mixins work similarly to the JavaScript version in that they will dynamically serve images for as many high-res environments as you&#39;ve prepared image variants for. Previously, these mixins were named &#34;at2x&#34; but because they now serve images for multiple environments, they have been renamed &#34;retina&#34;.&lt;/p&gt; &#xA;&lt;p&gt;In each language, the retina mixin allows 4 parameters:&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;&lt;code&gt;path&lt;/code&gt; - The path to your standard resolution image.&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;cap&lt;/code&gt; - &lt;em&gt;Optional.&lt;/em&gt; The highest resolution level for which you have prepared images. Defaults to 2.&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;size&lt;/code&gt;- &lt;em&gt;Optional.&lt;/em&gt; A value to be applied to the &lt;code&gt;background-size&lt;/code&gt; property. Defaults to &lt;code&gt;auto auto&lt;/code&gt;.&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;extras&lt;/code&gt;- &lt;em&gt;Optional.&lt;/em&gt; Any other values to be added to the background property. Defaults to nothing.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;Here is an example wherein we are specifying that we have prepared images for both 2x and 3x environments:&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;SCSS&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-scss&#34;&gt;#item {&#xA;  @include retina(&#39;/images/my_image.png&#39;, 3, cover, center center no-repeat);&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;strong&gt;Sass&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sass&#34;&gt;#item&#xA;  +retina(&#39;/images/my_image.png&#39;, 3, cover, center center no-repeat)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;strong&gt;Less&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-less&#34;&gt;#item {&#xA;  .retina(&#39;/images/my_image.png&#39;, 3, cover, center center no-repeat);&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;strong&gt;Stylus&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-stylus&#34;&gt;#item&#xA;  retina(&#39;/images/my_image.png&#39;, 3, cover, center center no-repeat)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Regardless of the dialect, the output is effectively the same:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-css&#34;&gt;#item {&#xA;  background: url(&#34;/images/my_image.png&#34;) center center no-repeat;&#xA;  background-size: cover;&#xA;}&#xA;&#xA;@media all and (-webkit-min-device-pixel-ratio: 1.5),&#xA;       all and (-o-min-device-pixel-ratio: 3 / 2),&#xA;       all and (min--moz-device-pixel-ratio: 1.5),&#xA;       all and (min-device-pixel-ratio: 1.5) {&#xA;  #item {&#xA;    background: url(&#34;/images/my_image@2x.png&#34;) center center no-repeat;&#xA;    background-size: cover;&#xA;  }&#xA;}&#xA;&#xA;@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {&#xA;  #item {&#xA;    background: url(&#34;/images/my_image@2x.png&#34;) center center no-repeat;&#xA;    background-size: cover;&#xA;  }&#xA;}&#xA;&#xA;@media (-webkit-min-device-pixel-ratio: 3), (min-resolution: 288dpi) {&#xA;  #item {&#xA;    background: url(&#34;/images/my_image@3x.png&#34;) center center no-repeat;&#xA;    background-size: cover;&#xA;  }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Compatibility&lt;/h2&gt; &#xA;&lt;p&gt;&lt;code&gt;retina.js&lt;/code&gt; is compatible with all modern browsers and &lt;strong&gt;should&lt;/strong&gt; not throw errors in old browsers all the way back through IE6.&lt;/p&gt; &#xA;&lt;h2&gt;Installing &amp;amp; Launching&lt;/h2&gt; &#xA;&lt;h3&gt;JavaScript&lt;/h3&gt; &#xA;&lt;p&gt;There are 2 ways to use the JavaScript version of &lt;code&gt;retina.js&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;The old-school way (manually dropping the script into an html file).&lt;/li&gt; &#xA; &lt;li&gt;The new-school way (importing it into a larger JavaScript build process).&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h4&gt;Old-School&lt;/h4&gt; &#xA;&lt;p&gt;To use retina.js the old-school way, download &lt;strong&gt;retina.min.js&lt;/strong&gt; and put it on your server. Then, include the script in your html file at the bottom of your template, before your closing &amp;lt;/body&amp;gt; tag.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;script type=&#34;text/javascript&#34; src=&#34;/scripts/retina.min.js&#34;&amp;gt;&amp;lt;/script&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Using this technique, &lt;code&gt;retina.js&lt;/code&gt; will run automatically on page load. It will also create a globally available function called &lt;code&gt;retinajs&lt;/code&gt;. Whenever you&#39;d like to manually re-initialize the script, simply call &lt;code&gt;window.retinajs()&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;If you don&#39;t pass any arguments to the &lt;code&gt;retinajs&lt;/code&gt; function, it will only attempt to process images that have not previously been processed by the script. Optionally, you can pass a collection of HTML elements to the script, in which case it will only attempt to process elements in that collection, specifically the ones that have not been processed before. Your collection may take the form of an Array, NodeList, or jQuery selection.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;retinajs();&#xA;// Finds all images not previously processed and processes them.&#xA;&#xA;retinajs( [img, img, img] );&#xA;// Only attempts to process the images in the collection.&#xA;&#xA;retinajs( $(&#39;img&#39;) );&#xA;// Same.&#xA;&#xA;retinajs( document.querySelectorAll(&#39;img&#39;) );&#xA;// Same.&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;New-School&lt;/h4&gt; &#xA;&lt;p&gt;To use retina.js the new-school way, you&#39;ll want to &lt;code&gt;require&lt;/code&gt; it (or &lt;code&gt;import&lt;/code&gt; it if you&#39;re using ES6) into your Gulp/Webpack/Grunt/CommonJS/etc application. In this case, the script won&#39;t run automatically. Instead, it&#39;ll let you determine when you&#39;d like it to run.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-JavaScript&#34;&gt;import retina from &#39;retina&#39;;&#xA;&#xA;window.addEventListener(&#39;load&#39;, retina);&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Notice that the &lt;code&gt;retina&lt;/code&gt; function can be called as often as you need in order to re-initialize the image swapping.&lt;/p&gt; &#xA;&lt;p&gt;If you don&#39;t pass any arguments to the &lt;code&gt;retina&lt;/code&gt; function, it will only attempt to process images that have not previously been processed by the script. Optionally, you can pass a collection of HTML elements to the script, in which case it will only attempt to process elements in that collection, specifically the ones that have not been processed before. Your collection may take the form of an Array, NodeList, or jQuery selection.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;retina();&#xA;// Finds all images not previously processed and processes them.&#xA;&#xA;retina( [img, img, img] );&#xA;// Only attempts to process the images in the collection.&#xA;&#xA;retina( $(&#39;img&#39;) );&#xA;// Same.&#xA;&#xA;retina( document.querySelectorAll(&#39;img&#39;) );&#xA;// Same.&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;CSS Preprocessors&lt;/h3&gt; &#xA;&lt;p&gt;The process for including the CSS mixins is relatively straightforward. Here is a breakdown for each:&lt;/p&gt; &#xA;&lt;h4&gt;SCSS&lt;/h4&gt; &#xA;&lt;p&gt;Add the &lt;code&gt;@mixin retina( ... )&lt;/code&gt; mixin from _retina.scss to your SCSS stylesheet (or reference it in an &lt;code&gt;@import&lt;/code&gt;). In your stylesheet, call the mixin using &lt;code&gt;@include retina( ... )&lt;/code&gt; anywhere instead of using &lt;code&gt;background&lt;/code&gt; or &lt;code&gt;background-image&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h4&gt;Sass&lt;/h4&gt; &#xA;&lt;p&gt;Add the &lt;code&gt;=retina( ... )&lt;/code&gt; mixin from _retina.sass to your Sass stylesheet (or reference it in an &lt;code&gt;@import&lt;/code&gt;). In your stylesheet, call the mixin using &lt;code&gt;+retina( ... )&lt;/code&gt; anywhere instead of using &lt;code&gt;background&lt;/code&gt; or &lt;code&gt;background-image&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h4&gt;Less&lt;/h4&gt; &#xA;&lt;p&gt;Add the &lt;code&gt;.retina( ... )&lt;/code&gt; mixin from retina.less to your Less stylesheet (or reference it in an &lt;code&gt;@import&lt;/code&gt;). In your stylesheet, call the mixin using &lt;code&gt;.retina( ... )&lt;/code&gt; anywhere instead of using &lt;code&gt;background&lt;/code&gt; or &lt;code&gt;background-image&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h4&gt;Stylus&lt;/h4&gt; &#xA;&lt;p&gt;Add the &lt;code&gt;retina( ... )&lt;/code&gt; mixin from retina.styl to your Stylus stylesheet (or reference it in an &lt;code&gt;@import&lt;/code&gt;). In your stylesheet, call the mixin using &lt;code&gt;retina( ... )&lt;/code&gt; anywhere instead of using &lt;code&gt;background&lt;/code&gt; or &lt;code&gt;background-image&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Considerations for Ruby on Rails 3+&lt;/h2&gt; &#xA;&lt;p&gt;...or any framework that embeds some digest/hash to the asset URLs based on the contents, e.g. &lt;code&gt;/images/image-{hash1}.jpg&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;The problem with this is that the high-resolution version would have a different hash, and would not conform to the usual pattern, i.e. &lt;code&gt;/images/image@2x-{hash2}.jpg&lt;/code&gt;. So automatic detection would fail because retina.js would check the existence of &lt;code&gt;/images/image-{hash1}@2x.jpg&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;There&#39;s no way for retina.js to know beforehand what the high-resolution image&#39;s hash would be without some sort of help from the server side. So in this case, there are a couple of options for handling it:&lt;/p&gt; &#xA;&lt;h4&gt;Bypass Digesting&lt;/h4&gt; &#xA;&lt;p&gt;One potential method is to bypass digesting altogether by implementing a process like &lt;a href=&#34;https://github.com/team-umlaut/umlaut/raw/5edcc609389edf833a79caa6f3ef92982312f0c5/lib/tasks/umlaut_asset_compile.rake&#34;&gt;team-umlaut&#39;s asset compile rake file&lt;/a&gt; which will generate non-digested asset files as necessary.&lt;/p&gt; &#xA;&lt;h4&gt;Use Manual Paths&lt;/h4&gt; &#xA;&lt;p&gt;Although it&#39;s not quite as fancy as dynamically serving up files based on the resolution of the user&#39;s environment, this may be a good time to pass a URL string to the &lt;code&gt;data-rjs&lt;/code&gt; attribute so that you can manually tell retina.js exactly where to look for a high-resolution variant of your image.&lt;/p&gt;</summary>
  </entry>
</feed>