<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Dockerfile Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2023-10-29T01:30:19Z</updated>
  <subtitle>Daily Trending of Dockerfile in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>cross-rs/cross-toolchains</title>
    <updated>2023-10-29T01:30:19Z</updated>
    <id>tag:github.com,2023-10-29:/cross-rs/cross-toolchains</id>
    <link href="https://github.com/cross-rs/cross-toolchains" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Additional Dockerfiles and crosstool-ng config files to build additional toolchains.&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;&lt;code&gt;cross-toolchains&lt;/code&gt;&lt;/h1&gt; &#xA;&lt;p&gt;Additional Dockerfiles and crosstool-ng config files to build images for additional targets. These enable the use of additional targets, and different glibc or GCC versions.&lt;/p&gt; &#xA;&lt;p&gt;First, clone &lt;a href=&#34;https://github.com/cross-rs/cross&#34;&gt;cross&lt;/a&gt; and update the submodules.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;git clone https://github.com/cross-rs/cross&#xA;cd cross&#xA;git submodule update --init --remote&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Then, you can build your images as shown in &lt;a href=&#34;https://raw.githubusercontent.com/cross-rs/cross-toolchains/main/#targets&#34;&gt;Targets&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;ℹ️ These images are not tested with CI, and therefore may break. Issues or pull requests to fix broken images are greatly appreciated. Each image is only confirmed to at least build once.&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;h2&gt;Configure&lt;/h2&gt; &#xA;&lt;p&gt;The config files are configured via &lt;code&gt;cargo xtask configure-crosstool&lt;/code&gt;, which may be customized by the following flags/environment variables:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;--gcc-version&lt;/code&gt;, &lt;code&gt;GCC_VERSION&lt;/code&gt;: The GCC version (default &lt;code&gt;8.3.0&lt;/code&gt;)&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;--glibc-version&lt;/code&gt;, &lt;code&gt;GLIBC_VERSION&lt;/code&gt;: The glibc version (default &lt;code&gt;2.17&lt;/code&gt;)&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;--linux-version&lt;/code&gt;, &lt;code&gt;LINUX_VERSION&lt;/code&gt;: The Linux version (default &lt;code&gt;4.19.21&lt;/code&gt;)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;If no targets are provided, all crosstool images will be configured, otherwise, only the selected targets will be built. For example:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;# only configure the config file for a single target&#xA;$ cargo xtask configure-crosstool arm-unknown-linux-gnueabihf&#xA;# configure all config files for crosstool images&#xA;$ cargo xtask configure-crosstool&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Targets&lt;/h2&gt; &#xA;&lt;p&gt;The image names don&#39;t map identically to the target names, to avoid conflicting with those provided in the &lt;a href=&#34;https://github.com/cross-rs/cross&#34;&gt;cross&lt;/a&gt; repository. This table maps the target names to the image names:&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th align=&#34;center&#34;&gt;Target Name&lt;/th&gt; &#xA;   &lt;th align=&#34;center&#34;&gt;Image Name&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;aarch64-apple-darwin&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;aarch64-apple-darwin-cross&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;aarch64-apple-ios&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;aarch64-apple-ios-cross&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;aarch64-pc-windows-msvc&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;aarch64-pc-windows-msvc-cross&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;aarch64_be-unknown-linux-gnu&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;aarch64_be-unknown-linux-gnu-cross&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;i686-apple-darwin&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;i686-apple-darwin-cross&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;i686-pc-windows-msvc&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;i686-pc-windows-msvc-cross&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;s390x-unknown-linux-gnu&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;s390x-unknown-linux-gnu-cross&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;thumbv7a-pc-windows-msvc&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;thumbv7a-pc-windows-msvc-cross&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;thumbv7neon-unknown-linux-musleabihf&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;thumbv7neon-unknown-linux-musleabihf-cross&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;x86_64-apple-darwin&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;x86_64-apple-darwin-cross&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;x86_64-pc-windows-msvc&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;x86_64-pc-windows-msvc-cross&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;x86_64-unknown-linux-gnu&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;x86_64-unknown-linux-gnu-sde-cross&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;p&gt;For example, to build and run an image, you would configure the image with:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;cargo build-docker-image s390x-unknown-linux-gnu-cross --tag local&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;And then update &lt;code&gt;Cross.toml&lt;/code&gt; in your crate to specify the target:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-toml&#34;&gt;[target.s390x-unknown-linux-gnu]&#xA;image = &#34;ghcr.io/cross-rs/s390x-unknown-linux-gnu-cross:local&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Additional config files for any &lt;a href=&#34;https://doc.rust-lang.org/rustc/platform-support.html&#34;&gt;supported platforms&lt;/a&gt; are appreciated. Please note that many of these images are tier 3 targets, and do not have pre-built versions of the standard library. You must provide the &lt;code&gt;build-std&lt;/code&gt; &lt;a href=&#34;https://github.com/cross-rs/cross/wiki/Configuration&#34;&gt;config&lt;/a&gt; option when building crates requiring &lt;code&gt;std&lt;/code&gt; support.&lt;/p&gt; &#xA;&lt;h1&gt;Apple Targets&lt;/h1&gt; &#xA;&lt;p&gt;Due to licensing &lt;a href=&#34;https://www.apple.com/legal/sla/docs/xcode.pdf&#34;&gt;reasons&lt;/a&gt;, we cannot provide images of &lt;code&gt;*-apple-darwin&lt;/code&gt; targets, nor host the macOS SDK. osxcross has instructions for how to package the &lt;a href=&#34;https://github.com/tpoechtrager/osxcross#packaging-the-sdk&#34;&gt;sdk&lt;/a&gt;, which you can then provide to the Docker image as either a local file or download link. Pre-packaged tarballs can also be found online, however, for legal reasons, we do not provide links here.&lt;/p&gt; &#xA;&lt;h3&gt;Darwin Targets&lt;/h3&gt; &#xA;&lt;p&gt;You can provide either a download URL or a path to a local file when building:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ cargo build-docker-image i686-apple-darwin-cross \&#xA;  --build-arg &#39;MACOS_SDK_URL=$URL&#39;&#xA;$ cargo build-docker-image i686-apple-darwin-cross \&#xA;  --build-arg &#39;MACOS_SDK_DIR=$DIR&#39; \&#xA;  --build-arg &#39;MACOS_SDK_FILE=$FILE&#39;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If not provided, &lt;code&gt;MACOS_SDK_DIR&lt;/code&gt; defaults to the build context of the Dockerfile. &lt;code&gt;MACOS_SDK_FILE&lt;/code&gt; &lt;em&gt;must&lt;/em&gt; be a file within this repository&#39;s &lt;code&gt;docker/&lt;/code&gt; folder. It also &lt;em&gt;must&lt;/em&gt; keep the name given by osxcross, as version checks otherwise fail. For example:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ mv osxcross/MacOSX11.3.sdk.tar.xz cross-toolchains/docker/MacOSX11.3.sdk.tar.xz&#xA;$ cargo build-docker-image aarc64-apple-darwin \&#xA;  --build-arg &#39;MACOS_SDK_FILE=MacOSX11.3.sdk.tar.xz&#39;&#xA;# or&#xA;$ mv osxcross/MacOSX11.3.sdk.tar.xz cross-toolchains/docker/some-dir/MacOSX11.3.sdk.tar.xz&#xA;$ cargo build-docker-image aarc64-apple-darwin \&#xA;  --build-arg &#39;MACOS_SDK_DIR=some-dir&#39; \&#xA;  --build-arg &#39;MACOS_SDK_FILE=MacOSX11.3.sdk.tar.xz&#39;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Supported targets by SDK version (at least 10.7+):&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;i686-apple-darwin&lt;/code&gt;: SDK &amp;lt;= 10.13&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;x86_64-apple-darwin&lt;/code&gt;: SDK &amp;lt;= 13.0 or SDK &amp;lt;= 12.4&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;aarc64-apple-darwin&lt;/code&gt;: SDK &amp;gt;= 10.16 and (SDK &amp;lt;= 13.0 or SDK &amp;lt;= 12.4)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;iOS Targets&lt;/h3&gt; &#xA;&lt;p&gt;You can provide either a download URL or a path to a local file when building:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ cargo build-docker-image aarch64-apple-ios-cross \&#xA;  --build-arg &#39;IOS_SDK_URL=$URL&#39;&#xA;$ cargo build-docker-image aarch64-apple-ios-cross \&#xA;  --build-arg &#39;IOS_SDK_DIR=$DIR&#39; \&#xA;  --build-arg &#39;IOS_SDK_FILE=$FILE&#39;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If not provided, &lt;code&gt;IOS_SDK_DIR&lt;/code&gt; defaults to the build context of the Dockerfile. Note that this file must be a subdirectory of the build context.&lt;/p&gt; &#xA;&lt;p&gt;Supported targets by SDK version (at least 9.3+):&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;aarch64-apple-ios&lt;/code&gt;: any SDK version&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;armv7-apple-ios&lt;/code&gt;: not supported&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;armv7s-apple-ios&lt;/code&gt;: not supported&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;i686-apple-ios&lt;/code&gt;: not supported&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;x86_64-apple-ios&lt;/code&gt;: not supported&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Known Issues&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Older toolchains, such as GCC v4.9.4, do not work with the hardcoded ISL v0.20.&lt;/li&gt; &#xA; &lt;li&gt;s390x toolchains cannot be built with glibc below v2.20, due to missing symbols in &lt;code&gt;nptl/sysdeps/s390/tls.h&lt;/code&gt;.&lt;/li&gt; &#xA; &lt;li&gt;aarch64_be toolchains cannot be built with older glibc versions, due relocations (tested to work in v2.31, failed in v2.20).&lt;/li&gt; &#xA; &lt;li&gt;MSVC and iOS targets may fail with more complex build systems, such as OpenSSL. macOS targets have no issues.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Code of Conduct&lt;/h2&gt; &#xA;&lt;p&gt;Contribution to this crate is organized under the terms of the &lt;a href=&#34;https://raw.githubusercontent.com/cross-rs/cross-toolchains/main/CODE_OF_CONDUCT.md&#34;&gt;Rust Code of Conduct&lt;/a&gt;, the maintainer of this crate, the &lt;a href=&#34;https://github.com/cross-rs&#34;&gt;cross-rs&lt;/a&gt; team, promises to intervene to uphold that code of conduct.&lt;/p&gt;</summary>
  </entry>
</feed>