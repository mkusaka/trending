<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Dockerfile Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2023-08-18T01:25:39Z</updated>
  <subtitle>Daily Trending of Dockerfile in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>jkaninda/laravel-php-fpm</title>
    <updated>2023-08-18T01:25:39Z</updated>
    <id>tag:github.com,2023-08-18:/jkaninda/laravel-php-fpm</id>
    <link href="https://github.com/jkaninda/laravel-php-fpm" rel="alternate"></link>
    <summary type="html">&lt;p&gt;üê≥ Docker image for PHP-FPM container crafted to run Laravel or any php based applications, with extensions for Redis, Memcached, MySQL, Postgres, Events, Redis, Kafka, Laravel Schedule, Cron job and custom default configuration.&lt;/p&gt;&lt;hr&gt;&lt;p&gt;&lt;a href=&#34;https://github.com/jkaninda/laravel-php-fpm/actions/workflows/build.yml&#34;&gt;&lt;img src=&#34;https://github.com/jkaninda/laravel-php-fpm/actions/workflows/build.yml/badge.svg?sanitize=true&#34; alt=&#34;Build&#34;&gt;&lt;/a&gt; &lt;img src=&#34;https://img.shields.io/docker/image-size/jkaninda/laravel-php-fpm?style=flat-square&#34; alt=&#34;Docker Image Size (latest by date)&#34;&gt; &lt;img src=&#34;https://img.shields.io/docker/pulls/jkaninda/laravel-php-fpm?style=flat-square&#34; alt=&#34;Docker Pulls&#34;&gt;&lt;/p&gt; &#xA;&lt;h1&gt;Laravel PHP-FPM Docker image&lt;/h1&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;üê≥ Full Docker image for a PHP-FPM container created to run Laravel or any php based applications.&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;PHP Microservices ready Docker container image.&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://hub.docker.com/r/jkaninda/laravel-php-fpm&#34;&gt;Docker Hub&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/jkaninda/laravel-php-fpm&#34;&gt;Github&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Specifications:&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;PHP 8.2 / 8.1 / 8.0 / 7.4 / 7.2&lt;/li&gt; &#xA; &lt;li&gt;Composer&lt;/li&gt; &#xA; &lt;li&gt;OpenSSL PHP Extension&lt;/li&gt; &#xA; &lt;li&gt;XML PHP Extension&lt;/li&gt; &#xA; &lt;li&gt;PDO PHP Extension&lt;/li&gt; &#xA; &lt;li&gt;PDO Mysql&lt;/li&gt; &#xA; &lt;li&gt;PDO Pgsql&lt;/li&gt; &#xA; &lt;li&gt;Rdkafka PHP Extension&lt;/li&gt; &#xA; &lt;li&gt;Redis PHP Extension&lt;/li&gt; &#xA; &lt;li&gt;Mbstring PHP Extension&lt;/li&gt; &#xA; &lt;li&gt;PCNTL PHP Extension&lt;/li&gt; &#xA; &lt;li&gt;ZIP PHP Extension&lt;/li&gt; &#xA; &lt;li&gt;GD PHP Extension&lt;/li&gt; &#xA; &lt;li&gt;BCMath PHP Extension&lt;/li&gt; &#xA; &lt;li&gt;Memcached&lt;/li&gt; &#xA; &lt;li&gt;Laravel Cron Job&lt;/li&gt; &#xA; &lt;li&gt;Laravel Schedule&lt;/li&gt; &#xA; &lt;li&gt;Laravel Envoy&lt;/li&gt; &#xA; &lt;li&gt;Supervisord&lt;/li&gt; &#xA; &lt;li&gt;Node&lt;/li&gt; &#xA; &lt;li&gt;NPM&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Simple docker-compose usage:&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-yml&#34;&gt;version: &#39;3&#39;&#xA;services:&#xA;    php-fpm:&#xA;        image: jkaninda/laravel-php-fpm:latest&#xA;        container_name: php-fpm&#xA;        restart: unless-stopped      &#xA;        volumes:&#xA;        #Project root&#xA;            - ./:/var/www/html&#xA;        networks:&#xA;            - default #if you&#39;re using networks between containers&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Laravel &lt;code&gt;artisan&lt;/code&gt; command usage:&lt;/h2&gt; &#xA;&lt;h3&gt;Open php-fpm&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;docker-compose exec php-fpm /bin/bash&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Default web root:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;/var/www/html&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Laravel migration&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;php atisan  migrate&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Example Laravel-php-fpm with nginx:&lt;/h2&gt; &#xA;&lt;h3&gt;docker-compose.yml&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-yml&#34;&gt;version: &#39;3&#39;&#xA;services:&#xA;    php-fpm:&#xA;        image: jkaninda/laravel-php-fpm&#xA;        container_name: php-fpm&#xA;        restart: unless-stopped     &#xA;        volumes:&#xA;        #Project root&#xA;            - ./:/var/www/html&#xA;        networks:&#xA;            - default #if you&#39;re using networks between containers&#xA;    #Nginx server&#xA;    nginx-server:&#xA;     image: jkaninda/nginx-fpm:alpine&#xA;     container_name: nginx-server&#xA;     restart: unless-stopped&#xA;     ports:&#xA;      - 80:80&#xA;     volumes:&#xA;      - ./:/var/www/html&#xA;     environment:&#xA;       - DOCUMENT_ROOT=/var/www/html/public&#xA;       - CLIENT_MAX_BODY_SIZE=20M&#xA;       - PHP_FPM_HOST=php-fpm:9000 &#xA;     networks:&#xA;      - default&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Simple Nginx config file content&lt;/h2&gt; &#xA;&lt;h3&gt;default.conf&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-conf&#34;&gt;&#xA;server {&#xA;    listen 80;&#xA;    index index.php index.html;&#xA;    error_log  /var/log/nginx/error.log;&#xA;    access_log /var/log/nginx/access.log;&#xA;    ##Public directory&#xA;    root /var/www/html/public;&#xA;    location ~ \.php$ {&#xA;        try_files $uri =404;&#xA;        fastcgi_split_path_info ^(.+\.php)(/.+)$;&#xA;        ## PHP FPM ( php-fpm:9000 ) or [servicename:9000]&#xA;        fastcgi_pass php-fpm:9000;&#xA;        fastcgi_index index.php;&#xA;        include fastcgi_params;&#xA;        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;&#xA;        fastcgi_param PATH_INFO $fastcgi_path_info;&#xA;        &#xA;    }&#xA;    client_max_body_size 15M;&#xA;    server_tokens off;&#xA;&#xA;     # Hide PHP headers &#xA;    fastcgi_hide_header X-Powered-By; &#xA;    fastcgi_hide_header X-CF-Powered-By;&#xA;    fastcgi_hide_header X-Runtime;&#xA;&#xA;    location / {&#xA;        try_files $uri $uri/ /index.php?$query_string;&#xA;        gzip_static on;&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Advanced Laravel-php-fpm with nginx:&lt;/h2&gt; &#xA;&lt;h3&gt;docker-compose.yml&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-yml&#34;&gt;version: &#39;3&#39;&#xA;services:&#xA;    php-fpm:&#xA;        image: jkaninda/laravel-php-fpm&#xA;        container_name: php-fpm&#xA;        working_dir: /var/www/html #Optional, If you want to use  a custom directory&#xA;        restart: unless-stopped     &#xA;        volumes:&#xA;        #Project root&#xA;            - ./:/var/www/html&#xA;            - ~/.ssh:/root/.ssh # If you use private CVS&#xA;            - ./php.ini:/usr/local/etc/php/conf.d/php.ini # Optional, your custom php init file&#xA;        environment:&#xA;           - APP_ENV=development # Optional, or production&#xA;           #- LARAVEL_PROCS_NUMBER=1 # Optional, Laravel queue:work process number&#xA;    #Nginx server&#xA;    nginx-server:&#xA;    image: nginx:alpine&#xA;    container_name: nginx-server&#xA;    restart: unless-stopped&#xA;    ports:&#xA;      - 80:80&#xA;    volumes:&#xA;      - ./:/var/www/html&#xA;      - ./default.conf:/etc/nginx/conf.d/default.conf&#xA;    networks:&#xA;      - default&#xA;volumes:&#xA; storage-data: &#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Docker run&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt; docker-compose up -d&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Build from base&lt;/h2&gt; &#xA;&lt;p&gt;Dockerfile&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-Dockerfile&#34;&gt;FROM jkaninda/laravel-php-fpm:8.1&#xA;# Copy laravel project files&#xA;COPY . /var/www/html&#xA;# Storage Volume&#xA;VOLUME /var/www/html/storage&#xA;&#xA;WORKDIR /var/www/html&#xA;&#xA;# Custom cache invalidation&#xA;ARG CACHEBUST=1&#xA;RUN composer install&#xA;&#xA;RUN chown -R www-data:www-data /var/www/html/storage&#xA;RUN chown -R www-data:www-data /var/www/html/bootstrap/cache&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Supervisord&lt;/h2&gt; &#xA;&lt;h3&gt;Add supervisor process file in&lt;/h3&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;/var/www/html/conf/worker/supervisor.conf&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;h3&gt;Custom php.ini&lt;/h3&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;/var/www/html/conf/php/php.ini&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;h3&gt;Storage permision issue&lt;/h3&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;docker-compose exec php-fpm /bin/bash&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;chown -R www-data:www-data /var/www/html/storage&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;chmod -R 775 /var/www/html/storage&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;P.S. please give a star if you like it &lt;span&gt;üòâ&lt;/span&gt;&lt;/p&gt; &#xA;&lt;/blockquote&gt;</summary>
  </entry>
</feed>