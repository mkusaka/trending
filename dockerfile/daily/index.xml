<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Dockerfile Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2025-02-17T01:30:12Z</updated>
  <subtitle>Daily Trending of Dockerfile in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>Tecnativa/doodba</title>
    <updated>2025-02-17T01:30:12Z</updated>
    <id>tag:github.com,2025-02-17:/Tecnativa/doodba</id>
    <link href="https://github.com/Tecnativa/doodba" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Base image for making the creation of customized Odoo environments a piece of cake&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;&lt;a href=&#34;https://hub.docker.com/r/tecnativa/doodba&#34;&gt;Doodba&lt;/a&gt;&lt;/h1&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://github.com/Tecnativa/doodba/workflows/ci/badge.svg?sanitize=true&#34; alt=&#34;ci&#34;&gt; &lt;a href=&#34;https://microbadger.com/images/tecnativa/doodba:latest&#34; title=&#34;Get your own version badge on microbadger.com&#34;&gt;&lt;img src=&#34;https://images.microbadger.com/badges/version/tecnativa/doodba:latest.svg?sanitize=true&#34; alt=&#34;&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://microbadger.com/images/tecnativa/doodba:latest&#34; title=&#34;Get your own image badge on microbadger.com&#34;&gt;&lt;img src=&#34;https://images.microbadger.com/badges/image/tecnativa/doodba:latest.svg?sanitize=true&#34; alt=&#34;&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://microbadger.com/images/tecnativa/doodba:latest&#34; title=&#34;Get your own commit badge on microbadger.com&#34;&gt;&lt;img src=&#34;https://images.microbadger.com/badges/commit/tecnativa/doodba:latest.svg?sanitize=true&#34; alt=&#34;&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://microbadger.com/images/tecnativa/doodba&#34; title=&#34;Get your own license badge on microbadger.com&#34;&gt;&lt;img src=&#34;https://images.microbadger.com/badges/license/tecnativa/doodba.svg?sanitize=true&#34; alt=&#34;&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Doodba&lt;/strong&gt; stands for &lt;strong&gt;Do&lt;/strong&gt;cker &lt;strong&gt;Od&lt;/strong&gt;oo &lt;strong&gt;Ba&lt;/strong&gt;se, and it is a highly opinionated image ready to put &lt;a href=&#34;https://www.odoo.com&#34;&gt;Odoo&lt;/a&gt; inside it, but &lt;strong&gt;without Odoo&lt;/strong&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;What?&lt;/h2&gt; &#xA;&lt;p&gt;Yes, the purpose of this is to serve as a base for you to build your own Odoo project, because most of them end up requiring a big amount of custom patches, merges, repositories, etc. With this image, you have a collection of good practices and tools to enable your team to have a standard Odoo project structure.&lt;/p&gt; &#xA;&lt;p&gt;BTW, we use &lt;a href=&#34;https://debian.org/&#34;&gt;Debian&lt;/a&gt;. I hope you like that.&lt;/p&gt; &#xA;&lt;h2&gt;Why?&lt;/h2&gt; &#xA;&lt;p&gt;Because developing Odoo is hard. You need lots of customizations, dependencies, and if you want to move from one version to another, it&#39;s a pain.&lt;/p&gt; &#xA;&lt;p&gt;Also because nobody wants Odoo as it comes from upstream, you most likely will need to add custom patches and addons, at least, so we need a way to put all together and make it work anywhere quickly.&lt;/p&gt; &#xA;&lt;h2&gt;How?&lt;/h2&gt; &#xA;&lt;p&gt;You can start working with this straight away with our &lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#subproject-template&#34;&gt;template&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;!-- prettier-ignore-start --&gt; &#xA;&lt;!-- prettier-ignore --&gt; &#xA;&lt;!-- toc --&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#image-usage&#34;&gt;Image usage&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodoocustom-the-important-one&#34;&gt;&lt;code&gt;/opt/odoo/custom&lt;/code&gt;: The important one&lt;/a&gt; &#xA;    &lt;ul&gt; &#xA;     &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodoocustomentrypointd&#34;&gt;&lt;code&gt;/opt/odoo/custom/entrypoint.d&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA;     &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodoocustombuildd&#34;&gt;&lt;code&gt;/opt/odoo/custom/build.d&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA;     &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodoocustomconfd&#34;&gt;&lt;code&gt;/opt/odoo/custom/conf.d&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA;     &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodoocustomssh&#34;&gt;&lt;code&gt;/opt/odoo/custom/ssh&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA;     &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodoocustomsrc&#34;&gt;&lt;code&gt;/opt/odoo/custom/src&lt;/code&gt;&lt;/a&gt; &#xA;      &lt;ul&gt; &#xA;       &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodoocustomsrcodoo&#34;&gt;&lt;code&gt;/opt/odoo/custom/src/odoo&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA;       &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodoocustomsrcprivate&#34;&gt;&lt;code&gt;/opt/odoo/custom/src/private&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA;       &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodoocustomsrcreposyaml&#34;&gt;&lt;code&gt;/opt/odoo/custom/src/repos.yaml&lt;/code&gt;&lt;/a&gt; &#xA;        &lt;ul&gt; &#xA;         &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#automatic-download-of-repos&#34;&gt;Automatic download of repos&lt;/a&gt;&lt;/li&gt; &#xA;        &lt;/ul&gt; &lt;/li&gt; &#xA;       &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodoocustomsrcaddonsyaml&#34;&gt;&lt;code&gt;/opt/odoo/custom/src/addons.yaml&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA;       &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodoocustomdependenciestxt&#34;&gt;&lt;code&gt;/opt/odoo/custom/dependencies/*.txt&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA;      &lt;/ul&gt; &lt;/li&gt; &#xA;    &lt;/ul&gt; &lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodoocommon-the-useful-one&#34;&gt;&lt;code&gt;/opt/odoo/common&lt;/code&gt;: The useful one&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodooauto-the-automatic-one&#34;&gt;&lt;code&gt;/opt/odoo/auto&lt;/code&gt;: The automatic one&lt;/a&gt; &#xA;    &lt;ul&gt; &#xA;     &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodooautoaddons&#34;&gt;&lt;code&gt;/opt/odoo/auto/addons&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA;     &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodooautoodooconf&#34;&gt;&lt;code&gt;/opt/odoo/auto/odoo.conf&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA;    &lt;/ul&gt; &lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#the-dockerfile&#34;&gt;The &lt;code&gt;Dockerfile&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#bundled-tools&#34;&gt;Bundled tools&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#addons&#34;&gt;&lt;code&gt;addons&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#click-odoo-and-related-scripts&#34;&gt;&lt;code&gt;click-odoo&lt;/code&gt; and related scripts&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#nano&#34;&gt;&lt;code&gt;nano&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#log&#34;&gt;&lt;code&gt;log&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#pot&#34;&gt;&lt;code&gt;pot&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#psql&#34;&gt;&lt;code&gt;psql&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#inotify&#34;&gt;&lt;code&gt;inotify&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#debugpy&#34;&gt;&lt;code&gt;debugpy&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#pudb&#34;&gt;&lt;code&gt;pudb&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#git-aggregator&#34;&gt;&lt;code&gt;git-aggregator&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#autoaggregate&#34;&gt;&lt;code&gt;autoaggregate&lt;/code&gt;&lt;/a&gt; &#xA;    &lt;ul&gt; &#xA;     &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#example-reposyaml-file&#34;&gt;Example &lt;code&gt;repos.yaml&lt;/code&gt; file&lt;/a&gt;&lt;/li&gt; &#xA;    &lt;/ul&gt; &lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#odoo&#34;&gt;&lt;code&gt;odoo&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#subproject-template&#34;&gt;Subproject template&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#faq&#34;&gt;FAQ&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#will-there-be-not-retrocompatible-changes-on-the-image&#34;&gt;Will there be not retrocompatible changes on the image?&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#this-project-is-too-opinionated-but-can-i-question-any-of-those-opinions&#34;&gt;This project is too opinionated, but can I question any of those opinions?&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#whats-this-hooks-folder-here&#34;&gt;What&#39;s this &lt;code&gt;hooks&lt;/code&gt; folder here?&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#how-can-i-pin-an-image-version&#34;&gt;How can I pin an image version?&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#how-can-i-help&#34;&gt;How can I help?&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#related-projects&#34;&gt;Related Projects&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;!-- tocstop --&gt; &#xA;&lt;!-- prettier-ignore-end --&gt; &#xA;&lt;h2&gt;Image usage&lt;/h2&gt; &#xA;&lt;p&gt;Basically, every directory you have to worry about is found inside &lt;code&gt;/opt/odoo&lt;/code&gt;. This is its structure:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;custom/&#xA;    entrypoint.d/&#xA;    build.d/&#xA;    conf.d/&#xA;    ssh/&#xA;        config&#xA;        known_hosts&#xA;        id_rsa&#xA;        id_rsa.pub&#xA;    dependencies/&#xA;        apt_build.txt&#xA;        apt.txt&#xA;        gem.txt&#xA;        npm.txt&#xA;        pip.txt&#xA;    src/&#xA;        private/&#xA;        odoo/&#xA;        addons.yaml&#xA;        repos.yaml&#xA;common/&#xA;    entrypoint.sh&#xA;    build.sh&#xA;    entrypoint.d/&#xA;    build.d/&#xA;    conf.d/&#xA;auto&#xA;    addons/&#xA;    odoo.conf&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Let&#39;s go one by one.&lt;/p&gt; &#xA;&lt;h3&gt;&lt;code&gt;/opt/odoo/custom&lt;/code&gt;: The important one&lt;/h3&gt; &#xA;&lt;p&gt;Here you will put everything related to your project.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;/opt/odoo/custom/entrypoint.d&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Any executables found here will be run when you launch your container, before running the command you ask.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;/opt/odoo/custom/build.d&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Executables here will be aggregated with those in &lt;code&gt;/opt/odoo/common/build.d&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;The resulting set of executables will then be sorted alphabetically (ascending) and then subsequently run.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;/opt/odoo/custom/conf.d&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Files here will be environment-variable-expanded and concatenated in &lt;code&gt;/opt/odoo/auto/odoo.conf&lt;/code&gt; in the entrypoint.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;/opt/odoo/custom/ssh&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;It must follow the same structure as a standard &lt;code&gt;~/.ssh&lt;/code&gt; directory, including &lt;code&gt;config&lt;/code&gt; and &lt;code&gt;known_hosts&lt;/code&gt; files. In fact, it is completely equivalent to &lt;code&gt;~root/.ssh&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;The &lt;code&gt;config&lt;/code&gt; file can contain &lt;code&gt;IdentityFile&lt;/code&gt; keys to represent the private key that should be used for that host. Unless specified otherwise, this defaults to &lt;code&gt;identity[.pub]&lt;/code&gt;, &lt;code&gt;id_rsa[.pub]&lt;/code&gt; or &lt;code&gt;id_dsa[.pub]&lt;/code&gt; files found in this same directory.&lt;/p&gt; &#xA;&lt;p&gt;This is very useful &lt;strong&gt;to use deployment keys&lt;/strong&gt; that grant git access to your private repositories.&lt;/p&gt; &#xA;&lt;p&gt;Example - a private key file in the &lt;code&gt;ssh&lt;/code&gt; folder named &lt;code&gt;my_private_key&lt;/code&gt; for the host &lt;code&gt;repo.example.com&lt;/code&gt; would have a &lt;code&gt;config&lt;/code&gt; entry similar to the below:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;Host repo.example.com&#xA;  IdentityFile ~/.ssh/my_private_key&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Or you could just drop the key in &lt;code&gt;id_rsa&lt;/code&gt; and &lt;code&gt;id_rsa.pub&lt;/code&gt; files and it should work by default without the need of adding a &lt;code&gt;config&lt;/code&gt; file.&lt;/p&gt; &#xA;&lt;p&gt;Host key checking is enabled by default, which means that you also need to provide a &lt;code&gt;known_hosts&lt;/code&gt; file for any repos that you wish to access via SSH.&lt;/p&gt; &#xA;&lt;p&gt;In order to disable host key checks for a repo, your config would look something like this:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;Host repo.example.com&#xA;  StrictHostKeyChecking no&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;For additional information regarding this directory, take a look at this &lt;a href=&#34;https://www.digitalocean.com/community/tutorials/how-to-configure-custom-connection-options-for-your-ssh-client&#34;&gt;Digital Ocean Article&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;/opt/odoo/custom/src&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Here you will put the actual source code for your project.&lt;/p&gt; &#xA;&lt;p&gt;When putting code here, you can either:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Use &lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodoocustomsrcreposyaml&#34;&gt;&lt;code&gt;repos.yaml&lt;/code&gt;&lt;/a&gt;, that will fill anything at build time.&lt;/li&gt; &#xA; &lt;li&gt;Directly copy all there.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Recommendation: use &lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodoocustomsrcreposyaml&#34;&gt;&lt;code&gt;repos.yaml&lt;/code&gt;&lt;/a&gt; for everything except for &lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodoocustomsrcprivate&#34;&gt;&lt;code&gt;private&lt;/code&gt;&lt;/a&gt;, and ignore in your &lt;code&gt;.gitignore&lt;/code&gt; and &lt;code&gt;.dockerignore&lt;/code&gt; files every folder here except &lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodoocustomsrcprivate&#34;&gt;&lt;code&gt;private&lt;/code&gt;&lt;/a&gt;, with rules like these:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;odoo/custom/src/*&#xA;!odoo/custom/src/private&#xA;!odoo/custom/src/*.*&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h5&gt;&lt;code&gt;/opt/odoo/custom/src/odoo&lt;/code&gt;&lt;/h5&gt; &#xA;&lt;p&gt;&lt;strong&gt;REQUIRED.&lt;/strong&gt; The source code for your odoo project.&lt;/p&gt; &#xA;&lt;p&gt;You can choose your Odoo version, and even merge PRs from many of them using &lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodoocustomsrcreposyaml&#34;&gt;&lt;code&gt;repos.yaml&lt;/code&gt;&lt;/a&gt;. Some versions you might consider:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;a href=&#34;https://github.com/odoo/odoo&#34;&gt;Original Odoo&lt;/a&gt;, by &lt;a href=&#34;https://www.odoo.com&#34;&gt;Odoo S.A.&lt;/a&gt;.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;a href=&#34;https://github.com/OCA/OCB&#34;&gt;OCB&lt;/a&gt; (Odoo Community Backports), by &lt;a href=&#34;https://odoo-community.org/&#34;&gt;OCA&lt;/a&gt;. The original + some features - some stability strictness.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;a href=&#34;https://github.com/OCA/OpenUpgrade/&#34;&gt;OpenUpgrade&lt;/a&gt;, by &lt;a href=&#34;https://odoo-community.org/&#34;&gt;OCA&lt;/a&gt;. The original, frozen at new version launch time + migration scripts.&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h5&gt;&lt;code&gt;/opt/odoo/custom/src/private&lt;/code&gt;&lt;/h5&gt; &#xA;&lt;p&gt;&lt;strong&gt;REQUIRED.&lt;/strong&gt; Folder with private addons for the project.&lt;/p&gt; &#xA;&lt;h5&gt;&lt;code&gt;/opt/odoo/custom/src/repos.yaml&lt;/code&gt;&lt;/h5&gt; &#xA;&lt;p&gt;A &lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#git-aggregator&#34;&gt;git-aggregator&lt;/a&gt; configuration file.&lt;/p&gt; &#xA;&lt;p&gt;It should look similar to this:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;# Odoo must be in the `odoo` folder for Doodba to work&#xA;odoo:&#xA;  defaults:&#xA;    # This will use git shallow clones.&#xA;    # $DEPTH_DEFAULT is 1 in test and prod, but 100 in devel.&#xA;    # $DEPTH_MERGE is always 100.&#xA;    # You can use any integer value, OTOH.&#xA;    depth: $DEPTH_MERGE&#xA;  remotes:&#xA;    origin: https://github.com/OCA/OCB.git&#xA;    odoo: https://github.com/odoo/odoo.git&#xA;    openupgrade: https://github.com/OCA/OpenUpgrade.git&#xA;  # $ODOO_VERSION is... the Odoo version! &#34;11.0&#34; or similar&#xA;  target: origin $ODOO_VERSION&#xA;  merges:&#xA;    - origin $ODOO_VERSION&#xA;    - odoo refs/pull/25594/head # Expose `Field` from search_filters.js&#xA;&#xA;web:&#xA;  defaults:&#xA;    depth: $DEPTH_MERGE&#xA;  remotes:&#xA;    origin: https://github.com/OCA/web.git&#xA;    tecnativa: https://github.com/Tecnativa/partner-contact.git&#xA;  target: origin $ODOO_VERSION&#xA;  merges:&#xA;    - origin $ODOO_VERSION&#xA;    - origin refs/pull/1007/head # web_responsive search&#xA;    - tecnativa 11.0-some_addon-custom # Branch for this customer only&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h6&gt;Automatic download of repos&lt;/h6&gt; &#xA;&lt;p&gt;Doodba is smart enough to download automatically git repositories even if they are missing in &lt;code&gt;repos.yaml&lt;/code&gt;. It will happen if it is used in &lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodoocustomsrcaddonsyaml&#34;&gt;&lt;code&gt;addons.yaml&lt;/code&gt;&lt;/a&gt;, except for the special &lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodoocustomsrcprivate&#34;&gt;&lt;code&gt;private&lt;/code&gt;&lt;/a&gt; repo. This will help you keep your deployment definitions DRY.&lt;/p&gt; &#xA;&lt;p&gt;You can configure this behavior with these environment variables (default values shown):&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;DEFAULT_REPO_PATTERN=&#34;https://github.com/OCA/{}.git&#34;&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;DEFAULT_REPO_PATTERN_ODOO=&#34;https://github.com/OCA/OCB.git&#34;&lt;/code&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;As you probably guessed, we use something like &lt;code&gt;str.format(repo_basename)&lt;/code&gt; on top of those variables to compute the default remote origin. If, i.e., you want to use your own repositories as default remotes, just add these build arguments to your &lt;code&gt;docker-compose.yaml&lt;/code&gt; file:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;# [...]&#xA;services:&#xA;  odoo:&#xA;    build:&#xA;      args:&#xA;        DEFAULT_REPO_PATTERN: &amp;amp;origin &#34;https://github.com/Tecnativa/{}.git&#34;&#xA;        DEFAULT_REPO_PATTERN_ODOO: *origin&#xA;# [...]&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;So, for example, if your &lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodoocustomsrcreposyaml&#34;&gt;&lt;code&gt;repos.yaml&lt;/code&gt;&lt;/a&gt; file is empty and your &lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodoocustomsrcaddonsyaml&#34;&gt;&lt;code&gt;addons.yaml&lt;/code&gt;&lt;/a&gt; contains this:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;server-tools:&#xA;  - module_auto_update&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;A &lt;code&gt;/opt/odoo/auto/repos.yaml&lt;/code&gt; file with this will be generated and used to download git code:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;/opt/odoo/custom/src/odoo:&#xA;  defaults:&#xA;    depth: $DEPTH_DEFAULT&#xA;  remotes:&#xA;    origin: https://github.com/OCA/OCB.git&#xA;  target: origin $ODOO_VERSION&#xA;  merges:&#xA;    - origin $ODOO_VERSION&#xA;/opt/odoo/custom/src/server-tools:&#xA;  defaults:&#xA;    depth: $DEPTH_DEFAULT&#xA;  remotes:&#xA;    origin: https://github.com/OCA/server-tools.git&#xA;  target: origin $ODOO_VERSION&#xA;  merges:&#xA;    - origin $ODOO_VERSION&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;All of this means that, you only need to define the git aggregator spec in &lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodoocustomsrcreposyaml&#34;&gt;&lt;code&gt;repos.yaml&lt;/code&gt;&lt;/a&gt; if anything diverges from the standard:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;You need special merges.&lt;/li&gt; &#xA; &lt;li&gt;You need a special origin.&lt;/li&gt; &#xA; &lt;li&gt;The folder name does not match the origin pattern.&lt;/li&gt; &#xA; &lt;li&gt;The branch name does not match &lt;code&gt;$ODOO_VERSION&lt;/code&gt;.&lt;/li&gt; &#xA; &lt;li&gt;Etc.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h5&gt;&lt;code&gt;/opt/odoo/custom/src/addons.yaml&lt;/code&gt;&lt;/h5&gt; &#xA;&lt;p&gt;One entry per repo and addon you want to activate in your project. Like this:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;website:&#xA;  - website_cookie_notice&#xA;  - website_legal_page&#xA;web:&#xA;  - web_responsive&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Advanced features:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;You can bundle &lt;a href=&#34;http://www.yaml.org/spec/1.2/spec.html#id2760395&#34;&gt;several YAML documents&lt;/a&gt; if you want to logically group your addons and some repos are repeated among groups, by separating each document with &lt;code&gt;---&lt;/code&gt;.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Addons under &lt;code&gt;private&lt;/code&gt; and &lt;code&gt;odoo/addons&lt;/code&gt; are linked automatically unless you specify them.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;You can use &lt;code&gt;ONLY&lt;/code&gt; to supply a dictionary of environment variables and a list of possible values to enable that document in the matching environments.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;You can use &lt;code&gt;ENV&lt;/code&gt; to supply a dictionary of environment variables to be used on downloading repositories. Following variables are supported:&lt;/p&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;code&gt;DEFAULT_REPO_PATTERN&lt;/code&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;code&gt;DEFAULT_REPO_PATTERN_ODOO&lt;/code&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;code&gt;DEPTH_DEFAULT&lt;/code&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;code&gt;ODOO_VERSION&lt;/code&gt; - can be used as repository branch&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;If an addon is found in several places at the same time, it will get linked according to this priority table:&lt;/p&gt; &#xA;  &lt;ol&gt; &#xA;   &lt;li&gt;Addons in &lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodoocustomsrcprivate&#34;&gt;&lt;code&gt;private&lt;/code&gt;&lt;/a&gt;.&lt;/li&gt; &#xA;   &lt;li&gt;Addons in other repositories (in case one is matched in several, it will be random, BEWARE!). Better have no duplicated names if possible.&lt;/li&gt; &#xA;   &lt;li&gt;Core Odoo addons from &lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodoocustomsrcodoo&#34;&gt;&lt;code&gt;odoo/addons&lt;/code&gt;&lt;/a&gt;.&lt;/li&gt; &#xA;  &lt;/ol&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;If an addon is specified but not available at runtime, it will fail silently.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;You can use any wildcards supported by &lt;a href=&#34;https://docs.python.org/3/library/glob.html&#34;&gt;Python&#39;s glob module&lt;/a&gt;.&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;The following example shows these advanced features:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;# Spanish Localization&#xA;l10n-spain:&#xA;  - l10n_es # Overrides built-in l10n_es under odoo/addons&#xA;server-tools:&#xA;  - &#34;*date*&#34; # All modules that contain &#34;date&#34; in their name&#xA;  - auditlog&#xA;web:&#xA;  - &#34;*&#34; # All web addons&#xA;---&#xA;# Different YAML document to separate SEO Tools&#xA;website:&#xA;  - website_blog_excertp_img&#xA;server-tools: # Here we repeat server-tools, but no problem because it&#39;s a&#xA;  # different document&#xA;  - html_image_url_extractor&#xA;  - html_text&#xA;---&#xA;# Enable demo ribbon only for devel and test environments&#xA;ONLY:&#xA;  PGDATABASE: # This environment variable must exist and be in the list&#xA;    - devel&#xA;    - test&#xA;web:&#xA;  - web_environment_ribbon&#xA;---&#xA;# Enable special authentication methods only in production environment&#xA;ONLY:&#xA;  PGDATABASE:&#xA;    - prod&#xA;server-tools:&#xA;  - auth_*&#xA;---&#xA;# Custom repositories&#xA;ENV:&#xA;  DEFAULT_REPO_PATTERN: https://github.com/Tecnativa/{}.git&#xA;  ODOO_VERSION: 16.0-new-feature&#xA;some-repo: # Cloned from https://github.com/Tecnativa/some-repo.git branch 15.0-new-feature&#xA;  - some_custom_module&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h5&gt;&lt;code&gt;/opt/odoo/custom/dependencies/*.txt&lt;/code&gt;&lt;/h5&gt; &#xA;&lt;p&gt;Files to indicate dependencies of your subimage, one for each of the supported package managers:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;apt_build.txt&lt;/code&gt;: build-time dependencies, installed before any others and removed after all the others too. Usually these would include Debian packages such as &lt;code&gt;build-essential&lt;/code&gt; or &lt;code&gt;python-dev&lt;/code&gt;. From Doodba 11.0, this is most likely not needed, as build dependencies are shipped with the image, and local python develpment headers should be used instead of those downloaded from apt.&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;apt.txt&lt;/code&gt;: run-time dependencies installed by apt.&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;gem.txt&lt;/code&gt;: run-time dependencies installed by gem.&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;npm.txt&lt;/code&gt;: run-time dependencies installed by npm.&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;pip.txt&lt;/code&gt;: a normal &lt;a href=&#34;https://pip.readthedocs.io/en/latest/user_guide/#requirements-files&#34;&gt;pip &lt;code&gt;requirements.txt&lt;/code&gt;&lt;/a&gt; file, for run-time dependencies too. It will get executed with &lt;code&gt;--update&lt;/code&gt; flag, just in case you want to overwrite any of the pre-bundled dependencies.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;&lt;code&gt;/opt/odoo/common&lt;/code&gt;: The useful one&lt;/h3&gt; &#xA;&lt;p&gt;This folder is full of magic. I&#39;ll document it some day. For now, just look at the code.&lt;/p&gt; &#xA;&lt;p&gt;Only some notes:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;Will compile your code with [&lt;code&gt;PYTHONOPTIMIZE=&#34;&#34;&lt;/code&gt;][] by default.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Will remove all code not used from the image by default (not listed in &lt;code&gt;/opt/odoo/custom/src/addons.yaml&lt;/code&gt;), to keep it thin.&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;&lt;code&gt;/opt/odoo/auto&lt;/code&gt;: The automatic one&lt;/h3&gt; &#xA;&lt;p&gt;This directory will have things that are automatically generated at build time.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;/opt/odoo/auto/addons&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;It will be full of symlinks to the addons you selected in &lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodoocustomsrcaddonsyaml&#34;&gt;&lt;code&gt;addons.yaml&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;/opt/odoo/auto/odoo.conf&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;It will have the result of merging all configurations under &lt;code&gt;/opt/odoo/{common,custom}/conf.d/&lt;/code&gt;, in that order.&lt;/p&gt; &#xA;&lt;h2&gt;The &lt;code&gt;Dockerfile&lt;/code&gt;&lt;/h2&gt; &#xA;&lt;p&gt;I will document all build arguments and environment variables some day, but for now keep this in mind:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;This is just a base image, full of tools. &lt;strong&gt;You need to build your project subimage&lt;/strong&gt; from this one, even if your project&#39;s &lt;code&gt;Dockerfile&lt;/code&gt; only contains these 2 lines:&lt;/p&gt; &lt;pre&gt;&lt;code&gt;FROM tecnativa/doodba&#xA;MAINTAINER Me &amp;lt;me@example.com&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;The above sentence becomes true because we have a lot of &lt;code&gt;ONBUILD&lt;/code&gt; sentences here, so at least &lt;strong&gt;your project must have a &lt;code&gt;./custom&lt;/code&gt; folder&lt;/strong&gt; along with its &lt;code&gt;Dockerfile&lt;/code&gt; for it to work.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;All should be magic if you adhere to our opinions here. Just put the code where it should go, and relax.&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Bundled tools&lt;/h2&gt; &#xA;&lt;p&gt;There is a good collections of tools available in the image that help dealing with Odoo and its peculiarities:&lt;/p&gt; &#xA;&lt;h3&gt;&lt;code&gt;addons&lt;/code&gt;&lt;/h3&gt; &#xA;&lt;p&gt;A handy CLI tool to automate addon management based on the current environment. It allows you to install, update, test and/or list private, extra and/or core addons available to current container, based on current &lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodoocustomsrcaddonsyaml&#34;&gt;&lt;code&gt;addons.yaml&lt;/code&gt;&lt;/a&gt; configuration.&lt;/p&gt; &#xA;&lt;p&gt;Call &lt;code&gt;addons --help&lt;/code&gt; for usage instructions.&lt;/p&gt; &#xA;&lt;h3&gt;&lt;code&gt;click-odoo&lt;/code&gt; and related scripts&lt;/h3&gt; &#xA;&lt;p&gt;The great &lt;a href=&#34;https://github.com/acsone/click-odoo&#34;&gt;&lt;code&gt;click-odoo&lt;/code&gt;&lt;/a&gt; scripting framework and the collection of scripts found in &lt;a href=&#34;https://github.com/acsone/click-odoo-contrib&#34;&gt;&lt;code&gt;click-odoo-contrib&lt;/code&gt;&lt;/a&gt; are included. Refer to their sites to know how to use them.&lt;/p&gt; &#xA;&lt;p&gt;* Note: This replaces the deprecated &lt;code&gt;python-odoo-shell&lt;/code&gt; binary.&lt;/p&gt; &#xA;&lt;h3&gt;&lt;a href=&#34;https://www.nano-editor.org/&#34;&gt;&lt;code&gt;nano&lt;/code&gt;&lt;/a&gt;&lt;/h3&gt; &#xA;&lt;p&gt;The CLI text editor we all know, just in case you need to inspect some bug in hot deployments.&lt;/p&gt; &#xA;&lt;h3&gt;&lt;code&gt;log&lt;/code&gt;&lt;/h3&gt; &#xA;&lt;p&gt;Just a little shell script that you can use to add logs to your build or entrypoint scripts:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;log INFO I&#39;m informing&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;&lt;code&gt;pot&lt;/code&gt;&lt;/h3&gt; &#xA;&lt;p&gt;Little shell shortcut for exporting a translation template from any addon(s). Usage:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;pot my_addon,my_other_addon&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;&lt;a href=&#34;https://www.postgresql.org/docs/current/app-psql.html&#34;&gt;&lt;code&gt;psql&lt;/code&gt;&lt;/a&gt;&lt;/h3&gt; &#xA;&lt;p&gt;Environment variables are there so that if you need to connect with the database, you just need to execute:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;docker-compose run -l traefik.enable=false --rm odoo psql&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The same is true for any other &lt;a href=&#34;https://www.postgresql.org/docs/current/static/reference-client.html&#34;&gt;Postgres client applications&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h3&gt;&lt;a href=&#34;https://github.com/dsoprea/PyInotify&#34;&gt;&lt;code&gt;inotify&lt;/code&gt;&lt;/a&gt;&lt;/h3&gt; &#xA;&lt;p&gt;Enables hot code reloading when odoo is started with &lt;code&gt;--dev&lt;/code&gt; and passed &lt;code&gt;reload&lt;/code&gt; or &lt;code&gt;all&lt;/code&gt; as an argument.&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/Tecnativa/doodba-copier-template&#34;&gt;copier template&lt;/a&gt; enables this by default in the development environment.&lt;/p&gt; &#xA;&lt;p&gt;Doodba supports this feature under versions 11.0 and later. Check &lt;a href=&#34;https://www.odoo.com/documentation/13.0/reference/cmdline.html#developer-features&#34;&gt;CLI docs&lt;/a&gt; for details.&lt;/p&gt; &#xA;&lt;h3&gt;&lt;a href=&#34;https://github.com/microsoft/vscode-python&#34;&gt;&lt;code&gt;debugpy&lt;/code&gt;&lt;/a&gt;&lt;/h3&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://code.visualstudio.com/&#34;&gt;VSCode&lt;/a&gt; debugger. If you use this editor with its python module, you will find it useful.&lt;/p&gt; &#xA;&lt;p&gt;To debug at a certain point of the code, add this Python code somewhere:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import debugpy&#xA;debugpy.listen(6899)&#xA;print(&#34;Waiting for debugger attach&#34;)&#xA;debugpy.wait_for_client()&#xA;debugpy.breakpoint()&#xA;print(&#39;break on this line&#39;)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To start Odoo within a debugpy environment, which will obey the breakpoints established in your IDE (but will work slowly), just add &lt;code&gt;-e DEBUGPY_ENABLE=1&lt;/code&gt; to your odoo container.&lt;/p&gt; &#xA;&lt;p&gt;If you use the official &lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#subproject-template&#34;&gt;template&lt;/a&gt;, you can boot it in debugpy mode with:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;export DOODBA_DEBUGPY_ENABLE=1&#xA;docker-compose -f devel.yaml up -d&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Of course, you need to have properly configured your &lt;a href=&#34;https://code.visualstudio.com/&#34;&gt;VSCode&lt;/a&gt;. To do so, make sure in your project there is a &lt;code&gt;.vscode/launch.json&lt;/code&gt; file with these minimal contents:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{&#xA;  &#34;version&#34;: &#34;0.2.0&#34;,&#xA;  &#34;configurations&#34;: [&#xA;    {&#xA;      &#34;name&#34;: &#34;Attach to debug in devel.yaml&#34;,&#xA;      &#34;type&#34;: &#34;python&#34;,&#xA;      &#34;request&#34;: &#34;attach&#34;,&#xA;      &#34;pathMappings&#34;: [&#xA;        {&#xA;          &#34;localRoot&#34;: &#34;${workspaceRoot}/odoo&#34;,&#xA;          &#34;remoteRoot&#34;: &#34;/opt/odoo&#34;&#xA;        }&#xA;      ],&#xA;      &#34;port&#34;: 6899,&#xA;      &#34;host&#34;: &#34;localhost&#34;&#xA;    }&#xA;  ]&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Then, execute that configuration as usual.&lt;/p&gt; &#xA;&lt;h3&gt;&lt;a href=&#34;https://github.com/inducer/pudb&#34;&gt;&lt;code&gt;pudb&lt;/code&gt;&lt;/a&gt;&lt;/h3&gt; &#xA;&lt;p&gt;This is another great debugger that includes remote debugging via telnet, which can be useful for some cases, or for people that prefer it over &lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#wdb&#34;&gt;wdb&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;To use it, inject this in any Python script:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import pudb.remote&#xA;pudb.remote.set_trace(term_size=(80, 24))&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Then open a telnet connection to it (running in &lt;code&gt;0.0.0.0:6899&lt;/code&gt; by default).&lt;/p&gt; &#xA;&lt;p&gt;It is safe to use in &lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#production&#34;&gt;production&lt;/a&gt; environments &lt;strong&gt;if you know what you are doing and do not expose the debugging port to attackers&lt;/strong&gt;. Usage:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;docker-compose exec odoo telnet localhost 6899&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;&lt;a href=&#34;https://pypi.python.org/pypi/git-aggregator&#34;&gt;&lt;code&gt;git-aggregator&lt;/code&gt;&lt;/a&gt;&lt;/h3&gt; &#xA;&lt;p&gt;We found this one to be the most useful tool for downlading code, merging it and placing it somewhere.&lt;/p&gt; &#xA;&lt;h3&gt;&lt;code&gt;autoaggregate&lt;/code&gt;&lt;/h3&gt; &#xA;&lt;p&gt;This little script wraps &lt;code&gt;git-aggregator&lt;/code&gt; to make it work fine and automatically with this image. Used in the &lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#subproject-template&#34;&gt;template&lt;/a&gt;&#39;s &lt;code&gt;setup-devel.yaml&lt;/code&gt; step.&lt;/p&gt; &#xA;&lt;h4&gt;Example &lt;code&gt;repos.yaml&lt;/code&gt; file&lt;/h4&gt; &#xA;&lt;p&gt;This &lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodoocustomsrcreposyaml&#34;&gt;&lt;code&gt;repos.yaml&lt;/code&gt;&lt;/a&gt; example merges &lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodoocustomsrcodoo&#34;&gt;several sources&lt;/a&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;./odoo:&#xA;  defaults:&#xA;    # Shallow repositores are faster &amp;amp; thinner. You better use&#xA;    # $DEPTH_DEFAULT here when you need no merges.&#xA;    depth: $DEPTH_MERGE&#xA;  remotes:&#xA;    ocb: https://github.com/OCA/OCB.git&#xA;    odoo: https://github.com/odoo/odoo.git&#xA;  target: ocb $ODOO_VERSION&#xA;  merges:&#xA;    - ocb $ODOO_VERSION&#xA;    - odoo refs/pull/13635/head&#xA;  shell_command_after:&#xA;    # Useful to merge a diff when there&#39;s no git history correlation&#xA;    - curl -sSL https://github.com/odoo/odoo/pull/37187.diff | patch -fp1&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;&lt;a href=&#34;https://www.odoo.com/documentation/10.0/reference/cmdline.html&#34;&gt;&lt;code&gt;odoo&lt;/code&gt;&lt;/a&gt;&lt;/h3&gt; &#xA;&lt;p&gt;We set an &lt;code&gt;$OPENERP_SERVER&lt;/code&gt; environment variable pointing to &lt;a href=&#34;https://raw.githubusercontent.com/Tecnativa/doodba/master/#optodooautoodooconf&#34;&gt;the autogenerated configuration file&lt;/a&gt; so you don&#39;t have to worry about it. Just execute &lt;code&gt;odoo&lt;/code&gt; and it will work fine.&lt;/p&gt; &#xA;&lt;p&gt;Note that version 9.0 has an &lt;code&gt;odoo&lt;/code&gt; binary to provide forward compatibility (but it has the &lt;code&gt;odoo.py&lt;/code&gt; one too).&lt;/p&gt; &#xA;&lt;h2&gt;Subproject template&lt;/h2&gt; &#xA;&lt;p&gt;That&#39;s a big structure! Get it up and running quickly using the &lt;a href=&#34;https://github.com/Tecnativa/doodba-copier-template&#34;&gt;copier template&lt;/a&gt; we provide to help you generate your subproject.&lt;/p&gt; &#xA;&lt;p&gt;Check its docs to know how to use it.&lt;/p&gt; &#xA;&lt;h2&gt;FAQ&lt;/h2&gt; &#xA;&lt;h3&gt;Will there be not retrocompatible changes on the image?&lt;/h3&gt; &#xA;&lt;p&gt;This image is production-ready, but it is constantly evolving too, so some new features can break some old ones, or conflict with them, and some old features might get deprecated and removed at some point.&lt;/p&gt; &#xA;&lt;p&gt;The best you can do is to &lt;a href=&#34;https://github.com/Tecnativa/doodba/issues/67&#34;&gt;subscribe to the compatibility breakage announcements issue&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h3&gt;This project is too opinionated, but can I question any of those opinions?&lt;/h3&gt; &#xA;&lt;p&gt;Of course. There&#39;s no guarantee that we will like it, but please do it. &lt;span&gt;ðŸ˜‰&lt;/span&gt;&lt;/p&gt; &#xA;&lt;h3&gt;What&#39;s this &lt;code&gt;hooks&lt;/code&gt; folder here?&lt;/h3&gt; &#xA;&lt;p&gt;It runs triggers when doing the automatic build in the Docker Hub. &lt;a href=&#34;https://hub.docker.com/r/thibaultdelor/testautobuildhooks/&#34;&gt;Check this&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h3&gt;How can I pin an image version?&lt;/h3&gt; &#xA;&lt;p&gt;Version-pinning is a good idea to keep your code from differing among image updates. It&#39;s the best way to ensure no updates got in between the last time you checked the image and the time you deploy it to production.&lt;/p&gt; &#xA;&lt;p&gt;You can do it through &lt;strong&gt;its sha256 code&lt;/strong&gt;.&lt;/p&gt; &#xA;&lt;p&gt;Get any image&#39;s code through inspect, running from a computer where the correct image version is downloaded:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;docker image inspect --format=&#39;{{.RepoDigests}}&#39; tecnativa/doodba:10.0-onbuild&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Alternatively, you can browse &lt;a href=&#34;https://hub.docker.com/r/tecnativa/doodba/builds/&#34;&gt;this image&#39;s builds&lt;/a&gt;, click on the one you know it works fine for you, and search for the &lt;code&gt;digest&lt;/code&gt; word using your browser&#39;s &lt;em&gt;search in page&lt;/em&gt; system (Ctrl+F usually).&lt;/p&gt; &#xA;&lt;p&gt;You will find lines similar to:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;[...]&#xA;10.0: digest: sha256:fba69478f9b0616561aa3aba4d18e4bcc2f728c9568057946c98d5d3817699e1 size: 4508&#xA;[...]&#xA;8.0: digest: sha256:27a3dd3a32ce6c4c259b4a184d8db0c6d94415696bec6c2668caafe755c6445e size: 4508&#xA;[...]&#xA;9.0: digest: sha256:33a540eca6441b950d633d3edc77d2cc46586717410f03d51c054ce348b2e977 size: 4508&#xA;[...]&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Once you find them, you can use that pinned version in your builds, using a Dockerfile similar to this one:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-Dockerfile&#34;&gt;# Hash-pinned version of tecnativa/doodba:10.0-onbuild&#xA;FROM tecnativa/doodba@sha256:fba69478f9b0616561aa3aba4d18e4bcc2f728c9568057946c98d5d3817699e1&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;How can I help?&lt;/h3&gt; &#xA;&lt;p&gt;Just &lt;a href=&#34;https://github.com/Tecnativa/doodba&#34;&gt;head to our project&lt;/a&gt; and open a discussion, issue or pull request.&lt;/p&gt; &#xA;&lt;h2&gt;Related Projects&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Of course, &lt;a href=&#34;https://github.com/Tecnativa/doodba-copier-template&#34;&gt;the Doodba Copier Template&lt;/a&gt;.&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/Tecnativa/doodba-qa&#34;&gt;QA tools for Doodba-based projects&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/remi-filament/ansible_role_odoo_docker&#34;&gt;Ansible role for automated deployment / update from Le Filament&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Find others by searching &lt;a href=&#34;https://github.com/topics/doodba&#34;&gt;GitHub projects tagged with &lt;code&gt;#doodba&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt;</summary>
  </entry>
</feed>