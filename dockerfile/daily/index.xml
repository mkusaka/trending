<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Dockerfile Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2024-03-15T01:26:39Z</updated>
  <subtitle>Daily Trending of Dockerfile in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>strangelove-ventures/heighliner</title>
    <updated>2024-03-15T01:26:39Z</updated>
    <id>tag:github.com,2024-03-15:/strangelove-ventures/heighliner</id>
    <link href="https://github.com/strangelove-ventures/heighliner" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Repository of docker images for the node software of Cosmos chains&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;Heighliner&lt;/h1&gt; &#xA;&lt;p&gt;Heighliner is a utility for building production-grade container images for blockchain node software, Cosmos and beyond.&lt;/p&gt; &#xA;&lt;p&gt;Heighliner images are minimally constructed from scratch images, packaging only the chain binary and a useful reduced set of busybox utilities.&lt;/p&gt; &#xA;&lt;p&gt;These container images can be used for infrastructure deployments (validator + &lt;a href=&#34;https://github.com/strangelove-ventures/horcrux&#34;&gt;horcrux&lt;/a&gt;, full node, archive node, etc.), end-to-end testing (&lt;a href=&#34;https://github.com/strangelove-ventures/interchaintest&#34;&gt;interchaintest&lt;/a&gt;), and more.&lt;/p&gt; &#xA;&lt;p&gt;This repository has a CI/CD pipeline to automatically build images when new git tags are detected on the chain repos in &lt;a href=&#34;https://raw.githubusercontent.com/strangelove-ventures/heighliner/main/chains.yaml&#34;&gt;chains.yaml&lt;/a&gt;. These images are hosted as packages in the Github Container Registry (ghcr) &lt;a href=&#34;https://github.com/orgs/strangelove-ventures/packages?repo_name=heighliner&#34;&gt;here&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://static.wikia.nocookie.net/dune/images/7/72/51mMK0akBOL._AC_SY400_-1.jpg/revision/latest&#34; alt=&#34;Heighliner photo&#34;&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Add a New Chain&lt;/h2&gt; &#xA;&lt;p&gt;To add a chain to the heighliner built-in configuration and have your chain images available on our repository&#39;s &lt;a href=&#34;https://github.com/orgs/strangelove-ventures/packages?repo_name=heighliner&#34;&gt;ghcr&lt;/a&gt;, submit a PR adding it to &lt;a href=&#34;https://raw.githubusercontent.com/strangelove-ventures/heighliner/main/chains.yaml&#34;&gt;chains.yaml&lt;/a&gt; so it will be included in the automatic builds.&lt;/p&gt; &#xA;&lt;p&gt;For further instructions see: &lt;a href=&#34;https://raw.githubusercontent.com/strangelove-ventures/heighliner/main/addChain.md&#34;&gt;addChain.md&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Add Heighliner Images to your Chain Repo&lt;/h2&gt; &#xA;&lt;p&gt;To publish heighliner images on your chain repository and/or incorporate heighliner images into your chain repo&#39;s CI/CD flow, see &lt;a href=&#34;https://github.com/strangelove-ventures/heighliner-build-action&#34;&gt;heighliner-build-action&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Build Your Own&lt;/h2&gt; &#xA;&lt;p&gt;If you would like to build the images yourself, heighliner is a CLI tool to help you do so. Download the latest &lt;a href=&#34;https://github.com/strangelove-ventures/heighliner/releases&#34;&gt;release&lt;/a&gt;, or build it yourself with:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;go build&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Example: build the docker image for gaia v6.0.0:&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;heighliner build --chain gaia --git-ref v6.0.0&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Docker image &lt;code&gt;heighliner/gaia:v6.0.0&lt;/code&gt; will now be available in your local docker images&lt;/p&gt; &#xA;&lt;h4&gt;Example: Cosmos SDK chain development cycle, build a local repository&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;cd ~/gaia-fork&#xA;heighliner build -c gaia --local&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Docker image &lt;code&gt;gaia:local&lt;/code&gt; will be built and stored in your local docker images.&lt;/p&gt; &#xA;&lt;h4&gt;Example: Build from a Github fork&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;cd ~/gaia-fork&#xA;heighliner build -c gaia -o strangelove-ventures -g working_branch -t image_tag&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Heighliner will build the &lt;code&gt;working_branch&lt;/code&gt; branch from the &lt;code&gt;strangelove-ventures/gaia&lt;/code&gt; github organization/repository. Docker image &lt;code&gt;gaia:image_tag&lt;/code&gt; will be stored in your local docker images.&lt;/p&gt; &#xA;&lt;h4&gt;Example: build with all overrides.&lt;/h4&gt; &#xA;&lt;p&gt;Heighliner can build without a chain present in chains.yaml if the necessary flags are provided.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;heighliner build -c somegaia -o somefork --repo gaia --dockerfile cosmos --build-target &#34;make install&#34; --build-env &#34;LEDGER_ENABLED=false BUILD_TAGS=muslc&#34; --binaries &#34;/go/bin/gaiad&#34; -g v8.0.0 -t v8.0.0-somefork&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Docker image &lt;code&gt;somegaia:v8.0.0-somefork&lt;/code&gt; will be built and stored in your local docker images.&lt;/p&gt; &#xA;&lt;h4&gt;Example: build and push the gaia v6.0.0 docker image to ghcr:&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;# docker login ...&#xA;heighliner build -r ghcr.io/strangelove-ventures/heighliner -c gaia -g v6.0.0&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Docker image &lt;code&gt;ghcr.io/strangelove-ventures/heighliner/gaia:v6.0.0&lt;/code&gt; will be built and pushed to ghcr.io&lt;/p&gt; &#xA;&lt;h4&gt;Example: build and push last n releases of osmosis chain&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;# docker login ...&#xA;heighliner build -r ghcr.io/strangelove-ventures/heighliner -c osmosis -n 3&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;heighliner will fetch the last 3 osmosis release tags from github, build docker images, and push them, e.g.:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;ghcr.io/strangelove-ventures/heighliner/osmosis:v6.1.0&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;ghcr.io/strangelove-ventures/heighliner/osmosis:v6.0.0&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;ghcr.io/strangelove-ventures/heighliner/osmosis:v5.0.0&lt;/code&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h4&gt;Example: build and push last n releases of all chains&lt;/h4&gt; &#xA;&lt;p&gt;This will make a request to each chain&#39;s Github repository to fetch all recent releases. Github rate-limits unauthenticated requests to 60 requests per hour. Authenticated requests have either 1000 (personal) or 15000 (enterprise) per hour. To add Github API authentication, set the &lt;code&gt;GH_USER&lt;/code&gt; and &lt;code&gt;GH_PAT&lt;/code&gt; environment variables with your Github username and Github Personal Access Token (PAT), respectively.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;# docker login ...&#xA;export GH_USER=github_username GH_PAT=github_personal_access_token&#xA;heighliner build -r ghcr.io/strangelove-ventures/heighliner -n 3&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;heighliner will fetch the last 3 release tags from github for all chains in &lt;a href=&#34;https://raw.githubusercontent.com/strangelove-ventures/heighliner/main/chains.yaml&#34;&gt;chains.yaml&lt;/a&gt;, build docker images, and push them.&lt;/p&gt; &#xA;&lt;h2&gt;Cross compiling&lt;/h2&gt; &#xA;&lt;p&gt;Depends on docker &lt;a href=&#34;https://github.com/moby/buildkit&#34;&gt;buildkit&lt;/a&gt;. Requires &lt;code&gt;buildkitd&lt;/code&gt; server to be running. Pass &lt;code&gt;-b&lt;/code&gt; flag to use buildkit.&lt;/p&gt; &#xA;&lt;p&gt;The build will look for the local buildkit unix socket by default. Change address with &lt;code&gt;--buildkit-addr&lt;/code&gt; flag.&lt;/p&gt; &#xA;&lt;p&gt;Customize the platform(s) to be built with the &lt;code&gt;--platform&lt;/code&gt; flag.&lt;/p&gt; &#xA;&lt;h4&gt;Example: build x64 and arm64 docker images for gaia v7.0.1:&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;heighliner build -b -c gaia -g v7.0.1&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Docker images for &lt;code&gt;heighliner/gaia:v7.0.1&lt;/code&gt; will now be available in your local docker. The manifest for the tag will contain both amd64 and arm64 images.&lt;/p&gt; &#xA;&lt;h4&gt;Example: Use custom buildkit server, build x64 and arm64 docker images for gaia v7.0.1, and push:&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;heighliner build -b --buildkit-addr tcp://192.168.1.5:8125 -c gaia -g v7.0.1 -r ghcr.io/strangelove-ventures/heighliner&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Docker images for &lt;code&gt;heighliner/gaia:v7.0.1&lt;/code&gt; will be built on the remote buildkit server and then pushed to the container repository. The manifest for the tag will contain both amd64 and arm64 images.&lt;/p&gt;</summary>
  </entry>
</feed>