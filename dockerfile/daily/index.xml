<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Dockerfile Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2024-12-16T01:30:27Z</updated>
  <subtitle>Daily Trending of Dockerfile in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>couchbase/docker</title>
    <updated>2024-12-16T01:30:27Z</updated>
    <id>tag:github.com,2024-12-16:/couchbase/docker</id>
    <link href="https://github.com/couchbase/docker" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Dockerfiles and configuration scripts for the Docker Hub Official Couchbase images&lt;/p&gt;&lt;hr&gt;&lt;p&gt;This repository contains the Dockerfiles and configuration scripts for the Official Couchbase Docker images.&lt;/p&gt; &#xA;&lt;p&gt;If you are a casual user, you probably don&#39;t care about this repo, instead you should head over to one of the Couchbase Dockerhub repositories:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://hub.docker.com/r/couchbase/server/&#34;&gt;Couchbase Server&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://hub.docker.com/r/couchbase/sync-gateway&#34;&gt;Sync Gateway&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h1&gt;Directory layout&lt;/h1&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;code&gt;community/*&lt;/code&gt; and &lt;code&gt;enterprise/*&lt;/code&gt; contain &lt;em&gt;generated&lt;/em&gt; Dockerfiles + assets -- &lt;strong&gt;do not edit&lt;/strong&gt;&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;code&gt;generate/&lt;/code&gt; contains everything needed to generate the Dockerfiles and assets -- &lt;strong&gt;everything you want to edit is here&lt;/strong&gt;&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h1&gt;Regenerating from templates&lt;/h1&gt; &#xA;&lt;p&gt;After you change anything under the &lt;code&gt;generate&lt;/code&gt; directory, you should regenerate from the templates.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Prerequisites&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://golang.org/doc/install&#34;&gt;Install Go&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;&lt;strong&gt;Steps&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ cd &amp;lt;project-dir&amp;gt;/generate/generator&#xA;$ go generate&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Expected output:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;2020/01/20 16:15:23 ../../community/couchbase-server/5.0.1/Dockerfile exists, skipping...&#xA;2020/01/20 16:15:23 ../../community/couchbase-server/5.1.1/Dockerfile exists, skipping...&#xA;2020/01/20 16:15:23 ../../community/couchbase-server/6.0.0/Dockerfile exists, skipping...&#xA;2020/01/20 16:15:23 ../../community/couchbase-server/6.0.2/Dockerfile exists, skipping...&#xA;2020/01/20 16:15:23 generateDockerfile called with: {community couchbase-server 6.5.0 false}&#xA;2020/01/20 16:15:25 https://packages.couchbase.com/releases/6.5.0/couchbase-server-community_6.5.0-ubuntu16.04_amd64.deb.sha256&#xA;2020/01/20 16:15:25 ../../community/sync-gateway/1.0.4/Dockerfile exists, skipping...&#xA;2020/01/20 16:15:25 ../../community/sync-gateway/1.1.0/Dockerfile exists, skipping...&#xA;2020/01/20 16:15:25 Successfully finished!&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;At this point, you should push your changes to github.&lt;/p&gt; &#xA;&lt;h1&gt;Adding a new Couchbase Server version + dockerhub tag&lt;/h1&gt; &#xA;&lt;p&gt;&lt;strong&gt;Create directory&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;Suppose you want to create a docker image for the newly released Couchbase Server version 9.0.0:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ cd &amp;lt;project-dir&amp;gt;/enterprise/couchbase-server&#xA;$ mkdir 9.0.0&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;strong&gt;Regerate from templates&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;See instructions above.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Push to github&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;Commit and push to github&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Kick off dockerhub build&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;Login to dockerhub (you need to be on the couchbase team for this step) and create a new build that corresponds to that directory, and enter a matching tag, eg:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;strong&gt;Branch&lt;/strong&gt;: master&lt;/li&gt; &#xA; &lt;li&gt;&lt;strong&gt;Dockerfile Location&lt;/strong&gt;: /enterprise/couchbase-server/9.0.0&lt;/li&gt; &#xA; &lt;li&gt;&lt;strong&gt;Docker Tag Name&lt;/strong&gt;: enterprise-9.0.0&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h1&gt;Overriding download url for a &#34;devbuild&#34; or &#34;release candidate&#34; version&lt;/h1&gt; &#xA;&lt;p&gt;If the package binaries are not available on packages.couchbase.com, this is an alternative way of generating the dockerfile.&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt; &lt;p&gt;Create the directory you want: eg &lt;code&gt;/enterprise/sync-gateway/2.0.0-devbuild&lt;/code&gt;&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Upload the binary package to a publicly available location. (see existing entries)&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Update the &lt;code&gt;init()&lt;/code&gt; function in &lt;code&gt;generate.go&lt;/code&gt; to add a new version customization to the list, following suit w/ the existing one(s), and pointing to the binary package url from the previous step.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Regenerate as usual&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Verify that the generated dockerfile has the customized package url.&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ol&gt;</summary>
  </entry>
</feed>