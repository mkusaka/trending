<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Dockerfile Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2022-09-03T01:35:08Z</updated>
  <subtitle>Daily Trending of Dockerfile in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>exaco/laravel-octane-dockerfile</title>
    <updated>2022-09-03T01:35:08Z</updated>
    <id>tag:github.com,2022-09-03:/exaco/laravel-octane-dockerfile</id>
    <link href="https://github.com/exaco/laravel-octane-dockerfile" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Production-ready Dockerfile for Laravel Octane powered web services and microservices. Done right.&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;Laravel Octane Dockerfile&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://raw.githubusercontent.com/exaco/laravel-octane-dockerfile/main/LICENSE&#34;&gt;&lt;img alt=&#34;License&#34; src=&#34;https://img.shields.io/github/license/exaco/laravel-octane-dockerfile&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/exaco/laravel-octane-dockerfile/releases&#34;&gt;&lt;img alt=&#34;GitHub release (latest by date)&#34; src=&#34;https://img.shields.io/github/v/release/exaco/laravel-octane-dockerfile&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/exaco/laravel-octane-dockerfile/pulls&#34;&gt;&lt;img alt=&#34;GitHub closed pull requests&#34; src=&#34;https://img.shields.io/github/issues-pr-closed/exaco/laravel-octane-dockerfile&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/exaco/laravel-octane-dockerfile/actions/workflows/tests.yml&#34;&gt;&lt;img alt=&#34;GitHub Workflow Status&#34; src=&#34;https://github.com/exaco/laravel-octane-dockerfile/actions/workflows/tests.yml/badge.svg?sanitize=true&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;A pretty configurable, production-ready and multi-stage Dockerfile for &lt;a href=&#34;https://github.com/laravel/octane&#34;&gt;Laravel Octane&lt;/a&gt; powered web services and microservices.&lt;/p&gt; &#xA;&lt;p&gt;The Docker configuration provides the following setup:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;PHP 8.0 and 8.1 official DebianBuster-based images&lt;/li&gt; &#xA; &lt;li&gt;Preconfigured JIT compiler and OPcache&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Container modes&lt;/h2&gt; &#xA;&lt;p&gt;You can build the Docker image in different modes:&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Mode&lt;/th&gt; &#xA;   &lt;th&gt;&lt;code&gt;CONTAINER_MODE&lt;/code&gt; ARG&lt;/th&gt; &#xA;   &lt;th&gt;Supervisor config file&lt;/th&gt; &#xA;   &lt;th&gt;HTTP server&lt;/th&gt; &#xA;   &lt;th&gt;Exposed port&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Octane (default)&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;app&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;a href=&#34;https://raw.githubusercontent.com/exaco/laravel-octane-dockerfile/main/deployment/octane/supervisord.app.conf&#34;&gt;supervisord.app.conf&lt;/a&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Swoole&lt;/td&gt; &#xA;   &lt;td&gt;9000&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Horizen&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;horizon&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;a href=&#34;https://raw.githubusercontent.com/exaco/laravel-octane-dockerfile/main/deployment/octane/supervisord.horizon.conf&#34;&gt;supervisord.horizon.conf&lt;/a&gt;&lt;/td&gt; &#xA;   &lt;td&gt;-&lt;/td&gt; &#xA;   &lt;td&gt;-&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Scheduler&lt;/td&gt; &#xA;   &lt;td&gt;&lt;code&gt;scheduler&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;-&lt;/td&gt; &#xA;   &lt;td&gt;-&lt;/td&gt; &#xA;   &lt;td&gt;-&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;If you want to run Horizon in the Octane container, then you should set &lt;code&gt;APP_WITH_HORIZON&lt;/code&gt; build argument &lt;code&gt;true&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;If you want to run Scheduler in the Octane container, then you should set &lt;code&gt;APP_WITH_SCHEDULER&lt;/code&gt; build argument &lt;code&gt;true&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;h2&gt;PHP extensions&lt;/h2&gt; &#xA;&lt;p&gt;And the following PHP extensions are included:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; OpenSwoole/Swoole with support of OpenSSL, HTTP/2, Native cURL hook for coroutines, &lt;code&gt;mysqlnd&lt;/code&gt; and asynchronous DNS.&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; OPcache&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; Redis&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; PCNTL&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; BCMath&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; RDKAFKA&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; INTL&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; pdo_mysql&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; pdo_pgsql (disabled by default)&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; pgsql (disabled by default)&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; Memcached (disabled by default)&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; zip&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; cURL&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; GD&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; mbstring&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Usage&lt;/h2&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Clone this repository:&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code&gt;git clone --depth 1 git@github.com:exaco/laravel-octane-dockerfile.git&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ol start=&#34;2&#34;&gt; &#xA; &lt;li&gt;Copy cloned directory content including &lt;code&gt;deployment&lt;/code&gt; directory, &lt;code&gt;Dockerfile&lt;/code&gt; and &lt;code&gt;.dockerignore&lt;/code&gt; into your Octane powered Laravel project&lt;/li&gt; &#xA; &lt;li&gt;Change directory to your Laravel project&lt;/li&gt; &#xA; &lt;li&gt;Build your image:&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Container &lt;code&gt;app&lt;/code&gt; mode:&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;docker build -t &amp;lt;image-name&amp;gt;:&amp;lt;tag&amp;gt; .&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Container &lt;code&gt;horizon&lt;/code&gt; mode:&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;docker build -t &amp;lt;image-name&amp;gt;:&amp;lt;tag&amp;gt; --build-arg CONTAINER_MODE=horizon .&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Container &lt;code&gt;scheduler&lt;/code&gt; mode:&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;docker build -t &amp;lt;image-name&amp;gt;:&amp;lt;tag&amp;gt; --build-arg CONTAINER_MODE=scheduler .&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ol start=&#34;5&#34;&gt; &#xA; &lt;li&gt;Up the container:&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code&gt;docker run -p &amp;lt;port&amp;gt;:9000 --rm &amp;lt;image-name&amp;gt;:&amp;lt;tag&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Configuration&lt;/h2&gt; &#xA;&lt;p&gt;There are something that you maybe want to configure:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Swoole HTTP server config in &lt;code&gt;supervisord.app.conf&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;OPcache and JIT configurations in &lt;code&gt;opcache.ini&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;PHP configurations in &lt;code&gt;php.ini&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;ENTRYPOINT&lt;/code&gt; Bash script in &lt;code&gt;entrypoint.sh&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;Set &lt;code&gt;PHP_VERSION&lt;/code&gt; using the &lt;code&gt;--build-arg&lt;/code&gt; option along with the build command&lt;/li&gt; &#xA; &lt;li&gt;Set &lt;code&gt;TZ&lt;/code&gt; (OS timezone) using the &lt;code&gt;--build-arg&lt;/code&gt; option along with the build command&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Recommended options for &lt;code&gt;octane.php&lt;/code&gt;&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-php&#34;&gt;// config/octane.php&#xA;&#xA;return [&#xA;    &#39;swoole&#39; =&amp;gt; [&#xA;        &#39;options&#39; =&amp;gt; [&#xA;            &#39;http_compression&#39; =&amp;gt; true,&#xA;            &#39;http_compression_level&#39; =&amp;gt; 6, // 1 - 9&#xA;            &#39;compression_min_length&#39; =&amp;gt; 20,&#xA;            &#39;open_http2_protocol&#39; =&amp;gt; true&#xA;        ]&#xA;    ]&#xA;];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Utilities&lt;/h2&gt; &#xA;&lt;p&gt;Also, some useful Bash functions and aliases are added in &lt;code&gt;utilities.sh&lt;/code&gt; that maybe help.&lt;/p&gt; &#xA;&lt;h2&gt;Notes&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Laravel Octane logs requests information only in the &lt;code&gt;local&lt;/code&gt; environment.&lt;/li&gt; &#xA; &lt;li&gt;Please be aware about &lt;code&gt;.dockerignore&lt;/code&gt; content&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;ToDo&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; Add support for Horizon&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; disabled&gt; Add support for RoadRunner&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; disabled&gt; Add support for the full stack apps (Front-end assets)&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; disabled&gt; Add support &lt;code&gt;testing&lt;/code&gt; environment and CI&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; Add support for Laravel scheduler&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; disabled&gt; Add support for Laravel Dusk&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; disabled&gt; Support more PHP extensions&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; Add tests&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; disabled&gt; Add Alpine-based images&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Contributing&lt;/h2&gt; &#xA;&lt;p&gt;Thank you for considering contributing! If you find an issue, or have a better way to do something, feel free to open an issue, or a PR.&lt;/p&gt; &#xA;&lt;h2&gt;Credits&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/smortexa&#34;&gt;SMorteza Ebadi&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/exaco/laravel-octane-dockerfile/graphs/contributors&#34;&gt;All contributors&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;License&lt;/h2&gt; &#xA;&lt;p&gt;This repository is open-sourced software licensed under the &lt;a href=&#34;https://opensource.org/licenses/MIT&#34;&gt;MIT license&lt;/a&gt;.&lt;/p&gt;</summary>
  </entry>
</feed>