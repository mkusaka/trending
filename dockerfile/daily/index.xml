<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Dockerfile Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2023-11-12T01:31:09Z</updated>
  <subtitle>Daily Trending of Dockerfile in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>nulab/nginx-too-many-requests-retryafter-patch</title>
    <updated>2023-11-12T01:31:09Z</updated>
    <id>tag:github.com,2023-11-12:/nulab/nginx-too-many-requests-retryafter-patch</id>
    <link href="https://github.com/nulab/nginx-too-many-requests-retryafter-patch" rel="alternate"></link>
    <summary type="html">&lt;p&gt;&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;Nginx patch to response &#34;429 Too Many Requests&#34; with &#34;Retry-After&#34; header&lt;/h1&gt; &#xA;&lt;h2&gt;Installation&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code&gt;tar zxfv nginx-1.19.2.tar.gz&#xA;cd nginx-1.19.2&#xA;patch -p1 &amp;lt; ../nginx-too-many-requests-retryafter.patch&#xA;./configure ...&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Example Configuration&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code&gt;limit_req_zone  $binary_remote_addr  zone=api:1m   rate=4r/s;&#xA;&#xA;location = /429_API.html {&#xA;    internal;&#xA;    root html;&#xA;}&#xA;&#xA;location /api {&#xA;    limit_req  zone=api;&#xA;    error_page 429 /429_API.html;&#xA;    :&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Run sample request using Docker&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ docker build -t patched.nginx . -f Dockerfile &#xA;$ docker run --rm -i -t -p 80:80 patched.nginx&#xA;$ ab -i -v 2 -n 2 -c 2 http://127.0.0.1/&#xA;...&#xA;LOG: header received:&#xA;HTTP/1.1 429 Too Many Requests&#xA;Server: nginx/1.19.2&#xA;Date: Wed, 23 Sep 2020 16:41:56 GMT&#xA;Content-Type: text/html&#xA;Content-Length: 169&#xA;Connection: close&#xA;Retry-After: 1&#xA;...&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Compatibility&lt;/h2&gt; &#xA;&lt;p&gt;The following versions of Nginx should work with this module:&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Module version&lt;/th&gt; &#xA;   &lt;th&gt;Nginx version&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;1.3.0&lt;/td&gt; &#xA;   &lt;td&gt;1.19.x or higher&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;1.2.0&lt;/td&gt; &#xA;   &lt;td&gt;1.16.x or higher&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;1.1.0&lt;/td&gt; &#xA;   &lt;td&gt;1.14.x or higher&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;1.0.0&lt;/td&gt; &#xA;   &lt;td&gt;1.13.x or earlier&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt;</summary>
  </entry>
</feed>