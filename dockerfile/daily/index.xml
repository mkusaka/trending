<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Dockerfile Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2024-01-01T01:33:33Z</updated>
  <subtitle>Daily Trending of Dockerfile in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>imusmanmalik/cloudnative-pg-timescaledb-postgis-containers</title>
    <updated>2024-01-01T01:33:33Z</updated>
    <id>tag:github.com,2024-01-01:/imusmanmalik/cloudnative-pg-timescaledb-postgis-containers</id>
    <link href="https://github.com/imusmanmalik/cloudnative-pg-timescaledb-postgis-containers" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Operand images for CloudNativePG containing PostgreSQL with TimescaleDB and PostGIS&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;cloudnative-pg-timescaledb-postgis-containers&lt;/h1&gt; &#xA;&lt;p&gt;Operand images for CloudNativePG containing PostgreSQL with TimescaleDB and PostGIS&lt;/p&gt; &#xA;&lt;p&gt;Immutable Application Containers for all available PostgreSQL versions (12 to 16) + TimescaleDB + PostGIS to be used as operands with the &lt;a href=&#34;https://cloudnative-pg.io&#34;&gt;CloudNativePG operator&lt;/a&gt; for Kubernetes.&lt;/p&gt; &#xA;&lt;p&gt;These images are built on top of the &lt;a href=&#34;https://hub.docker.com/r/postgis/postgis&#34;&gt;PostGIS image&lt;/a&gt; (Debian version), by adding the following software:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;TimescaleDB&lt;/li&gt; &#xA; &lt;li&gt;Barman Cloud&lt;/li&gt; &#xA; &lt;li&gt;PGAudit&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Barman Cloud is distributed by EnterpriseDB under the &lt;a href=&#34;https://github.com/EnterpriseDB/barman/raw/master/LICENSE&#34;&gt;GNU GPL 3 License&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;PGAudit is distributed under the &lt;a href=&#34;https://github.com/pgaudit/pgaudit/raw/master/LICENSE&#34;&gt;PostgreSQL License&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;Images are available via the &lt;a href=&#34;https://github.com/imusmanmalik/cloudnative-pg-timescaledb-postgis-containers/pkgs/container/timescaledb-postgis&#34;&gt;GitHub Container Registry&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;How to use them&lt;/h2&gt; &#xA;&lt;p&gt;The following example shows how you can easily create a new PostgreSQL 14 cluster with TimescaleDB 2.10 and PostGIS 3.3 in it. All you have to do is set the &lt;code&gt;imageName&lt;/code&gt; accordingly. Please look at the registry for a list of available images and select the one you need.&lt;/p&gt; &#xA;&lt;p&gt;Create a YAML manifest. For example, you can put the YAML below into a file named &lt;code&gt;timescaledb-postgis.yaml&lt;/code&gt; (any name is fine). (Please refer to &lt;a href=&#34;https://cloudnative-pg.io/docs&#34;&gt;CloudNativePG&lt;/a&gt; for details on the API):&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;apiVersion: postgresql.cnpg.io/v1&#xA;kind: Cluster&#xA;metadata:&#xA;  name: cluster-example&#xA;spec:&#xA;  instances: 1&#xA;  imageName: ghcr.io/imusmanmalik/timescaledb-postgis:14-3.3&#xA;  bootstrap:&#xA;    initdb:&#xA;      postInitTemplateSQL:&#xA;        - CREATE EXTENSION timescaledb;&#xA;        - CREATE EXTENSION postgis;&#xA;        - CREATE EXTENSION postgis_topology;&#xA;        - CREATE EXTENSION fuzzystrmatch;&#xA;        - CREATE EXTENSION postgis_tiger_geocoder;&#xA;  postgresql:&#xA;    shared_preload_libraries:&#xA;      - timescaledb&#xA;  storage:&#xA;    size: 1Gi&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Then run &lt;code&gt;kubectl apply -f timescaledb-postgis.yaml&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;When the cluster is up, run the following command to verify the version of PostGIS that is available in the system, by connecting to the &lt;code&gt;app&lt;/code&gt; database:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;kubectl exec -ti cluster-example-1 -- psql app&#xA;Defaulted container &#34;postgres&#34; out of: postgres, bootstrap-controller (init)&#xA;psql (14.7 (Debian 14.7-1.pgdg110+1))&#xA;Type &#34;help&#34; for help.&#xA;&#xA;app=# SELECT * FROM pg_available_extensions WHERE name ~ &#39;^postgis&#39; ORDER BY 1;&#xA;           name           | default_version | installed_version |                          comment&#xA;&#xA;--------------------------+-----------------+-------------------+----------------------------------------------------&#xA;--------&#xA; postgis                  | 3.3.2           | 3.3.2             | PostGIS geometry and geography spatial types and fu&#xA;nctions&#xA; postgis-3                | 3.3.2           |                   | PostGIS geometry and geography spatial types and fu&#xA;nctions&#xA; postgis_raster           | 3.3.2           |                   | PostGIS raster types and functions&#xA; postgis_raster-3         | 3.3.2           |                   | PostGIS raster types and functions&#xA; postgis_sfcgal           | 3.3.2           |                   | PostGIS SFCGAL functions&#xA; postgis_sfcgal-3         | 3.3.2           |                   | PostGIS SFCGAL functions&#xA; postgis_tiger_geocoder   | 3.3.2           | 3.3.2             | PostGIS tiger geocoder and reverse geocoder&#xA; postgis_tiger_geocoder-3 | 3.3.2           |                   | PostGIS tiger geocoder and reverse geocoder&#xA; postgis_topology         | 3.3.2           | 3.3.2             | PostGIS topology spatial types and functions&#xA; postgis_topology-3       | 3.3.2           |                   | PostGIS topology spatial types and functions&#xA;(10 rows)&#xA;&#xA;app=# SELECT * FROM pg_available_extensions WHERE name ~ &#39;^timescaledb&#39; ORDER BY 1;&#xA;        name         | default_version | installed_version |                                        comment&#xA;&#xA;---------------------+-----------------+-------------------+---------------------------------------------------------&#xA;------------------------------&#xA; timescaledb         | 2.10.0          | 2.10.0            | Enables scalable inserts and complex queries for time-se&#xA;ries data&#xA; timescaledb_toolkit | 1.14.0          |                   | Library of analytical hyperfunctions, time-series pipeli&#xA;ning, and other SQL utilities&#xA;(2 rows)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The following command shows the extensions installed in the &lt;code&gt;app&lt;/code&gt; database, thanks to the &lt;code&gt;postInitTemplateSQL&lt;/code&gt; section in the bootstrap which runs the selected &lt;code&gt;CREATE EXTENSION&lt;/code&gt; commands in the &lt;code&gt;template1&lt;/code&gt; database, which is inherited by the application database - called &lt;code&gt;app&lt;/code&gt; and created by default by CloudNativePG.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;app=# \dx&#xA;                                           List of installed extensions&#xA;          Name          | Version |   Schema   |                            Description&#xA;------------------------+---------+------------+-------------------------------------------------------------------&#xA; fuzzystrmatch          | 1.1     | public     | determine similarities and distance between strings&#xA; plpgsql                | 1.0     | pg_catalog | PL/pgSQL procedural language&#xA; postgis                | 3.3.2   | public     | PostGIS geometry and geography spatial types and functions&#xA; postgis_tiger_geocoder | 3.3.2   | tiger      | PostGIS tiger geocoder and reverse geocoder&#xA; postgis_topology       | 3.3.2   | topology   | PostGIS topology spatial types and functions&#xA; timescaledb            | 2.10.0  | public     | Enables scalable inserts and complex queries for time-series data&#xA;(6 rows)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;You can now enjoy TimescaleDB and PostGIS!&lt;/p&gt; &#xA;&lt;h2&gt;License and copyright&lt;/h2&gt; &#xA;&lt;p&gt;This software is available under &lt;a href=&#34;https://raw.githubusercontent.com/imusmanmalik/cloudnative-pg-timescaledb-postgis-containers/main/LICENSE&#34;&gt;Apache License 2.0&lt;/a&gt;.&lt;/p&gt;</summary>
  </entry>
</feed>