<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Dockerfile Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2023-03-03T02:20:04Z</updated>
  <subtitle>Daily Trending of Dockerfile in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>yftzeng/stable-diffusion-webui-docker</title>
    <updated>2023-03-03T02:20:04Z</updated>
    <id>tag:github.com,2023-03-03:/yftzeng/stable-diffusion-webui-docker</id>
    <link href="https://github.com/yftzeng/stable-diffusion-webui-docker" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Easily and quickly run stable-diffsion-webui with ControlNet in Docker.&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;Stable Diffusion WebUI Docker&lt;/h1&gt; &#xA;&lt;p&gt;Easily and quickly run &lt;a href=&#34;https://github.com/AUTOMATIC1111/stable-diffusion-webui&#34;&gt;stable-diffsion-webui&lt;/a&gt; with &lt;a href=&#34;https://github.com/Mikubill/sd-webui-controlnet&#34;&gt;ControlNet&lt;/a&gt; in Docker.&lt;/p&gt; &#xA;&lt;h2&gt;Requirements&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Docker&lt;/li&gt; &#xA; &lt;li&gt;Docker Compose&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Setup&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ cp .env.example .env&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Edit your environment,&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ cat .env&#xA;&#xA;TZ=Etc/UTC      # timezone&#xA;PORT=7861       # port mapping&#xA;VOLUME=data     # docker volume storage mount point, eg. ./data to /data&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If you modified the value of &lt;strong&gt;VOLUME&lt;/strong&gt;, for example from &lt;strong&gt;VOLUME=data&lt;/strong&gt; to &lt;strong&gt;VOLUME=volume&lt;/strong&gt;, please follow these steps as well,&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ cat .env&#xA;&#xA;...&#xA;VOLUME=volume   # docker volume storage mount point, eg. ./data to /data&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ mv data volume&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Pre-download models and etc.&lt;/h2&gt; &#xA;&lt;p&gt;Here are some models for reference,&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ cat data/enhancing.sh&#xA;&#xA;#!/usr/bin/env bash&#xA;&#xA;declare -A arr&#xA;&#xA;# models&#xA;arr[&#34;https://huggingface.co/prompthero/openjourney/resolve/main/mdjrny-v4.safetensors&#34;]=&#34;models/Stable-diffusion&#34;&#xA;arr+=([&#34;https://huggingface.co/prompthero/openjourney-v2/resolve/main/openjourney-v2.ckpt&#34;]=&#34;models/Stable-diffusion&#34;)&#xA;arr+=([&#34;https://huggingface.co/ckpt/anything-v4.5-vae-swapped/resolve/main/anything-v4.5-vae-swapped.safetensors&#34;]=&#34;models/Stable-diffusion&#34;)&#xA;arr+=([&#34;https://huggingface.co/dreamlike-art/dreamlike-photoreal-2.0/resolve/main/dreamlike-photoreal-2.0.safetensors&#34;]=&#34;models/Stable-diffusion&#34;)&#xA;arr+=([&#34;https://huggingface.co/nuigurumi/basil_mix/resolve/main/Basil_mix_fixed.safetensors&#34;]=&#34;models/Stable-diffusion&#34;)&#xA;arr+=([&#34;https://huggingface.co/Alsebay/Chilloutmix-Ni-fix/resolve/main/Chilloutmix-Ni-fix/Chilloutmix-Ni-prune-fp32-fix.safetensors&#34;]=&#34;models/Stable-diffusion&#34;)&#xA;# vae&#xA;arr+=([&#34;https://huggingface.co/stabilityai/sd-vae-ft-mse-original/resolve/main/vae-ft-mse-840000-ema-pruned.safetensors&#34;]=&#34;models/VAE&#34;)&#xA;# embeddings&#xA;arr+=([&#34;https://huggingface.co/datasets/gsdf/EasyNegative/resolve/main/EasyNegative.safetensors&#34;]=&#34;embeddings&#34;)&#xA;&#xA;...&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Downloading ...&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ cd data ; bash enhancing.sh&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;These models, and others. will be linked in Docker once the container is successfully running.&lt;/p&gt; &#xA;&lt;h2&gt;Installation&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ docker compose --profile cpu up -d     # for CPU&#xA;&#xA;$ docker compose --profile gpu up -d     # for GPU&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Please wait while the process completes.&lt;/p&gt; &#xA;&lt;p&gt;If you want to track the progress,&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ docker compose --profile cpu logs -f   # for CPU&#xA;&#xA;$ docker compose --profile gpu logs -f   # for GPU&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Usage&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Open your browser and navigate to &lt;strong&gt;&lt;a href=&#34;http://127.0.0.1:7861&#34;&gt;http://127.0.0.1:7861&lt;/a&gt;&lt;/strong&gt;. The default port specified in the &lt;strong&gt;.env&lt;/strong&gt; file is &lt;strong&gt;7861&lt;/strong&gt;.&lt;/li&gt; &#xA; &lt;li&gt;The saved images will be located in the &lt;strong&gt;data/outputs&lt;/strong&gt; directory.&lt;/li&gt; &#xA; &lt;li&gt;Examples of prompts can be found in &lt;strong&gt;data/prompts&lt;/strong&gt;.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Restart, Stop or Deinstallation&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ docker compose --profile cpu restart   # for restart&#xA;&#xA;$ docker compose --profile cpu stop      # for stop&#xA;&#xA;$ docker compose --profile cpu down      # for deinstallation&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;FAQ&lt;/h2&gt; &#xA;&lt;h3&gt;Q: Error message : &#34;RuntimeError: mat1 and mat2 shapes cannot be multiplied (77x1024 and 768x320)&#34;&lt;/h3&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://live.staticflickr.com/65535/52720126599_9910f655de_b.jpg&#34; alt=&#34;RuntimeError: mat1 and mat2 shapes cannot be multiplied&#34; title=&#34;Stable Diffusion checkpoint&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;When encountering the aforementioned error message, please select &#34;&lt;strong&gt;v1-5-pruned-emaonly.safetensors&lt;/strong&gt;&#34; for the &#34;&lt;strong&gt;Stable Diffusion checkpoint&lt;/strong&gt;&#34; to indicate that this operation is currently only supported by Stable Diffusion 1.5.&lt;/p&gt;</summary>
  </entry>
</feed>