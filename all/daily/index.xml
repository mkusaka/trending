<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub All Languages Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2024-08-07T01:27:49Z</updated>
  <subtitle>Daily Trending of All Languages in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>bghira/SimpleTuner</title>
    <updated>2024-08-07T01:27:49Z</updated>
    <id>tag:github.com,2024-08-07:/bghira/SimpleTuner</id>
    <link href="https://github.com/bghira/SimpleTuner" rel="alternate"></link>
    <summary type="html">&lt;p&gt;A general fine-tuning kit geared toward Stable Diffusion 2.1, Stable Diffusion 3, DeepFloyd, and SDXL.&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;SimpleTuner üíπ&lt;/h1&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;‚ö†Ô∏è &lt;strong&gt;Warning&lt;/strong&gt;: The scripts in this repository have the potential to damage your training data. Always maintain backups before proceeding.&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;p&gt;&lt;strong&gt;SimpleTuner&lt;/strong&gt; is a repository dedicated to a set of experimental scripts designed for training optimization. The project is geared towards simplicity, with a focus on making the code easy to read and understand. This codebase serves as a shared academic exercise, and contributions are welcome.&lt;/p&gt; &#xA;&lt;h2&gt;Table of Contents&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/bghira/SimpleTuner/main/#design-philosophy&#34;&gt;Design Philosophy&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/bghira/SimpleTuner/main/#tutorial&#34;&gt;Tutorial&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/bghira/SimpleTuner/main/#features&#34;&gt;Features&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/bghira/SimpleTuner/main/#flux1&#34;&gt;Flux&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/bghira/SimpleTuner/main/#pixart-sigma&#34;&gt;PixArt Sigma&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/bghira/SimpleTuner/main/#stable-diffusion-20--21&#34;&gt;Stable Diffusion 2.0/2.1&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/bghira/SimpleTuner/main/#stable-diffusion-3&#34;&gt;Stable Diffusion 3.0&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/bghira/SimpleTuner/main/#kwai-kolors&#34;&gt;Kwai Kolors&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/bghira/SimpleTuner/main/#hardware-requirements&#34;&gt;Hardware Requirements&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/bghira/SimpleTuner/main/#flux1-dev-schnell&#34;&gt;Flux&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/bghira/SimpleTuner/main/#sdxl-1024px&#34;&gt;SDXL&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/bghira/SimpleTuner/main/#stable-diffusion-2x-768px&#34;&gt;Stable Diffusion (Legacy)&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/bghira/SimpleTuner/main/#scripts&#34;&gt;Scripts&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/bghira/SimpleTuner/main/#toolkit&#34;&gt;Toolkit&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/bghira/SimpleTuner/main/#setup&#34;&gt;Setup&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/bghira/SimpleTuner/main/#troubleshooting&#34;&gt;Troubleshooting&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Design Philosophy&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;strong&gt;Simplicity&lt;/strong&gt;: Aiming to have good default settings for most use cases, so less tinkering is required.&lt;/li&gt; &#xA; &lt;li&gt;&lt;strong&gt;Versatility&lt;/strong&gt;: Designed to handle a wide range of image quantities - from small datasets to extensive collections.&lt;/li&gt; &#xA; &lt;li&gt;&lt;strong&gt;Cutting-Edge Features&lt;/strong&gt;: Only incorporates features that have proven efficacy, avoiding the addition of untested options.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Tutorial&lt;/h2&gt; &#xA;&lt;p&gt;Please fully explore this README before embarking on &lt;a href=&#34;https://raw.githubusercontent.com/bghira/SimpleTuner/main/TUTORIAL.md&#34;&gt;the tutorial&lt;/a&gt;, as it contains vital information that you might need to know first.&lt;/p&gt; &#xA;&lt;p&gt;For a quick start without reading the full documentation, you can use the &lt;a href=&#34;https://raw.githubusercontent.com/bghira/SimpleTuner/main/documentation/QUICKSTART.md&#34;&gt;Quick Start&lt;/a&gt; guide.&lt;/p&gt; &#xA;&lt;p&gt;For memory-constrained systems, see the &lt;a href=&#34;https://raw.githubusercontent.com/bghira/SimpleTuner/main/documentation/DEEPSPEED.md&#34;&gt;DeepSpeed document&lt;/a&gt; which explains how to use ü§óAccelerate to configure Microsoft&#39;s DeepSpeed for optimiser state offload.&lt;/p&gt; &#xA;&lt;hr&gt; &#xA;&lt;h2&gt;Features&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Multi-GPU training&lt;/li&gt; &#xA; &lt;li&gt;Image and caption features (embeds) are cached to the hard drive in advance, so that training runs faster and with less memory consumption&lt;/li&gt; &#xA; &lt;li&gt;Aspect bucketing: support for a variety of image sizes and aspect ratios, enabling widescreen and portrait training.&lt;/li&gt; &#xA; &lt;li&gt;Refiner LoRA or full u-net training for SDXL&lt;/li&gt; &#xA; &lt;li&gt;Most models are trainable on a 24G GPU, or even down to 16G at lower base resolutions. &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;LoRA training for PixArt, SDXL, SD3, and SD 2.x that uses less than 16G VRAM&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;DeepSpeed integration allowing for &lt;a href=&#34;https://raw.githubusercontent.com/bghira/SimpleTuner/main/documentation/DEEPSPEED.md&#34;&gt;training SDXL&#39;s full u-net on 12G of VRAM&lt;/a&gt;, albeit very slowly.&lt;/li&gt; &#xA; &lt;li&gt;Quantised LoRA training, using low-precision base model or text encoder weights to reduce VRAM consumption while still allowing DreamBooth.&lt;/li&gt; &#xA; &lt;li&gt;Optional EMA (Exponential moving average) weight network to counteract model overfitting and improve training stability. &lt;strong&gt;Note:&lt;/strong&gt; This does not apply to LoRA.&lt;/li&gt; &#xA; &lt;li&gt;Train directly from an S3-compatible storage provider, eliminating the requirement for expensive local storage. (Tested with Cloudflare R2 and Wasabi S3)&lt;/li&gt; &#xA; &lt;li&gt;For only SDXL and SD 1.x/2.x, full &lt;a href=&#34;https://raw.githubusercontent.com/bghira/SimpleTuner/main/documentation/CONTROLNET.md&#34;&gt;ControlNet model training&lt;/a&gt; (not ControlLoRA or ControlLite)&lt;/li&gt; &#xA; &lt;li&gt;Training &lt;a href=&#34;https://raw.githubusercontent.com/bghira/SimpleTuner/main/documentation/MIXTURE_OF_EXPERTS.md&#34;&gt;Mixture of Experts&lt;/a&gt; for lightweight, high-quality diffusion models&lt;/li&gt; &#xA; &lt;li&gt;Webhook support for updating eg. Discord channels with your training progress, validations, and errors&lt;/li&gt; &#xA; &lt;li&gt;Integration with the &lt;a href=&#34;https://huggingface.co&#34;&gt;Hugging Face Hub&lt;/a&gt; for seamless model upload and nice automatically-generated model cards.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Flux.1&lt;/h3&gt; &#xA;&lt;p&gt;Preliminary training support for Flux.1 is included:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Low loss training using SD3 style loss calculations&lt;/li&gt; &#xA; &lt;li&gt;LoRA or full tuning via DeepSpeed ZeRO&lt;/li&gt; &#xA; &lt;li&gt;ControlNet training is not yet supported&lt;/li&gt; &#xA; &lt;li&gt;Train either Schnell or Dev models&lt;/li&gt; &#xA; &lt;li&gt;Quantise the base model using &lt;code&gt;--base_model_precision&lt;/code&gt; to &lt;code&gt;int8-quanto&lt;/code&gt; or &lt;code&gt;fp8-quanto&lt;/code&gt; for major memory savings&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;See &lt;a href=&#34;https://raw.githubusercontent.com/bghira/SimpleTuner/main/#flux1-dev-schnell&#34;&gt;hardware requirements&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h3&gt;PixArt Sigma&lt;/h3&gt; &#xA;&lt;p&gt;SimpleTuner has extensive training integration with PixArt Sigma - both the 600M &amp;amp; 900M models load without any fuss.&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Text encoder training is not supported, as T5 is enormous.&lt;/li&gt; &#xA; &lt;li&gt;LoRA and full tuning both work as expected&lt;/li&gt; &#xA; &lt;li&gt;ControlNet training is not yet supported&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://huggingface.co/ptx0/pixart-900m-1024-ft-v0.7-stage1&#34;&gt;Two-stage PixArt&lt;/a&gt; training support (see: &lt;a href=&#34;https://raw.githubusercontent.com/bghira/SimpleTuner/main/documentation/MIXTURE_OF_EXPERTS.md&#34;&gt;MIXTURE_OF_EXPERTS&lt;/a&gt;)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;See the &lt;a href=&#34;https://raw.githubusercontent.com/bghira/SimpleTuner/main/documentation/quickstart/SIGMA.md&#34;&gt;PixArt Quickstart&lt;/a&gt; guide to start training.&lt;/p&gt; &#xA;&lt;h3&gt;Stable Diffusion 2.0 &amp;amp; 2.1&lt;/h3&gt; &#xA;&lt;p&gt;Stable Diffusion 2.1 is known for difficulty during fine-tuning, but this doesn&#39;t have to be the case. Related features in SimpleTuner include:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Training only the text encoder&#39;s later layers&lt;/li&gt; &#xA; &lt;li&gt;Enforced zero SNR on the terminal timestep instead of offset noise for clearer images.&lt;/li&gt; &#xA; &lt;li&gt;The use of EMA (exponential moving average) during training to ensure we do not &#34;fry&#34; the model.&lt;/li&gt; &#xA; &lt;li&gt;The ability to train on multiple datasets with different base resolutions in each, eg. 512px and 768px images simultaneously&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Stable Diffusion 3&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;LoRA and full finetuning are supported as usual.&lt;/li&gt; &#xA; &lt;li&gt;ControlNet is not yet implemented.&lt;/li&gt; &#xA; &lt;li&gt;Certain features such as segmented timestep selection and Compel long prompt weighting are not yet supported.&lt;/li&gt; &#xA; &lt;li&gt;Parameters have been optimised to get the best results, validated through from-scratch training of SD3 models&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;See the &lt;a href=&#34;https://raw.githubusercontent.com/bghira/SimpleTuner/main/documentation/quickstart/SD3.md&#34;&gt;Stable Diffusion 3 Quickstart&lt;/a&gt; to get going.&lt;/p&gt; &#xA;&lt;h3&gt;Kwai Kolors&lt;/h3&gt; &#xA;&lt;p&gt;An SDXL-based model with ChatGLM (General Language Model) 6B as its text encoder, &lt;strong&gt;doubling&lt;/strong&gt; the hidden dimension size and substantially increasing the level of local detail included in the prompt embeds.&lt;/p&gt; &#xA;&lt;p&gt;Kolors support is almost as deep as SDXL, minus ControlNet training support.&lt;/p&gt; &#xA;&lt;hr&gt; &#xA;&lt;h2&gt;Hardware Requirements&lt;/h2&gt; &#xA;&lt;p&gt;EMA (exponential moving average) weights are a memory-heavy affair, but provide fantastic results at the end of training. Options like &lt;code&gt;--ema_cpu_only&lt;/code&gt; can improve this situation by loading EMA weights onto the CPU and then keeping them there.&lt;/p&gt; &#xA;&lt;p&gt;Without EMA, more care must be taken not to drastically change the model leading to &#34;catastrophic forgetting&#34; through the use of regularisation data.&lt;/p&gt; &#xA;&lt;h3&gt;GPU vendors&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;NVIDIA - pretty much anything 3090 and up is a safe bet. YMMV.&lt;/li&gt; &#xA; &lt;li&gt;AMD - SDXL LoRA and UNet are verified working on a 7900 XTX 24GB. Lacking &lt;code&gt;xformers&lt;/code&gt;, it will likely use more memory than Nvidia equivalents&lt;/li&gt; &#xA; &lt;li&gt;Apple - LoRA and full u-net tuning are tested to work on an M3 Max with 128G memory, taking about &lt;strong&gt;12G&lt;/strong&gt; of &#34;Wired&#34; memory and &lt;strong&gt;4G&lt;/strong&gt; of system memory for SDXL. &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;You likely need a 24G or greater machine for machine learning with M-series hardware due to the lack of memory-efficient attention.&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Flux.1 [dev, schnell]&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;A100-40G (LoRA, rank-16 or lower)&lt;/li&gt; &#xA; &lt;li&gt;A100-80G (LoRA, up to rank-256)&lt;/li&gt; &#xA; &lt;li&gt;3x A100-80G (Full tuning, DeepSpeed ZeRO 1)&lt;/li&gt; &#xA; &lt;li&gt;1x A100-80G (Full tuning, DeepSpeed ZeRO 3)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Flux prefers being trained with multiple GPUs.&lt;/p&gt; &#xA;&lt;h3&gt;SDXL, 1024px&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;A100-80G (EMA, large batches, LoRA @ insane batch sizes)&lt;/li&gt; &#xA; &lt;li&gt;A6000-48G (EMA@768px, no EMA@1024px, LoRA @ high batch sizes)&lt;/li&gt; &#xA; &lt;li&gt;A100-40G (no EMA@1024px, no EMA@768px, EMA@512px, LoRA @ high batch sizes)&lt;/li&gt; &#xA; &lt;li&gt;4090-24G (no EMA@1024px, batch size 1-4, LoRA @ medium-high batch sizes)&lt;/li&gt; &#xA; &lt;li&gt;4080-12G (LoRA @ low-medium batch sizes)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Stable Diffusion 2.x, 768px&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;A100-40, A40, A6000 or better (EMA, 1024px training)&lt;/li&gt; &#xA; &lt;li&gt;NVIDIA RTX 4090 or better (24G, no EMA)&lt;/li&gt; &#xA; &lt;li&gt;NVIDIA RTX 4080 or better (LoRA only)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Scripts&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;ubuntu.sh&lt;/code&gt; - This is a basic &#34;installer&#34; that makes it quick to deploy on a Vast.ai instance. It might not work for every single container image.&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;train.sh&lt;/code&gt; - The main training script for SDXL.&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;config/config.env.example&lt;/code&gt; - These are training parameters, you should copy to &lt;code&gt;config/config.env&lt;/code&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Toolkit&lt;/h2&gt; &#xA;&lt;p&gt;For more information about the associated toolkit distributed with SimpleTuner, refer to &lt;a href=&#34;https://raw.githubusercontent.com/bghira/SimpleTuner/main/toolkit/README.md&#34;&gt;the toolkit documentation&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Setup&lt;/h2&gt; &#xA;&lt;p&gt;Detailed setup information is available in the &lt;a href=&#34;https://raw.githubusercontent.com/bghira/SimpleTuner/main/INSTALL.md&#34;&gt;installation documentation&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Troubleshooting&lt;/h2&gt; &#xA;&lt;p&gt;Enable debug logs for a more detailed insight by adding &lt;code&gt;export SIMPLETUNER_LOG_LEVEL=DEBUG&lt;/code&gt; to your environment file.&lt;/p&gt; &#xA;&lt;p&gt;For performance analysis of the training loop, setting &lt;code&gt;SIMPLETUNER_TRAINING_LOOP_LOG_LEVEL=DEBUG&lt;/code&gt; will have timestamps that hilight any issues in your configuration.&lt;/p&gt; &#xA;&lt;p&gt;For a comprehensive list of options available, consult &lt;a href=&#34;https://raw.githubusercontent.com/bghira/SimpleTuner/main/OPTIONS.md&#34;&gt;this documentation&lt;/a&gt;.&lt;/p&gt;</summary>
  </entry>
  <entry>
    <title>ardalis/CleanArchitecture</title>
    <updated>2024-08-07T01:27:49Z</updated>
    <id>tag:github.com,2024-08-07:/ardalis/CleanArchitecture</id>
    <link href="https://github.com/ardalis/CleanArchitecture" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Clean Architecture Solution Template: A starting point for Clean Architecture with ASP.NET Core&lt;/p&gt;&lt;hr&gt;&lt;p&gt;&lt;a href=&#34;https://github.com/ardalis/CleanArchitecture/actions&#34;&gt;&lt;img src=&#34;https://github.com/ardalis/CleanArchitecture/workflows/.NET%20Core/badge.svg?sanitize=true&#34; alt=&#34;.NET Core&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/ardalis/CleanArchitecture/actions/workflows/publish.yml&#34;&gt;&lt;img src=&#34;https://github.com/ardalis/CleanArchitecture/actions/workflows/publish.yml/badge.svg?sanitize=true&#34; alt=&#34;publish Ardalis.CleanArchitecture Template to nuget&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://www.nuget.org/packages/Ardalis.CleanArchitecture.Template/&#34;&gt;&lt;img src=&#34;https://img.shields.io/nuget/v/Ardalis.CleanArchitecture.Template?label=Ardalis.CleanArchitecture.Template&#34; alt=&#34;Ardalis.CleanArchitecture.Template on NuGet&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;a href=&#34;https://twitter.com/intent/follow?screen_name=ardalis&#34;&gt; &lt;img src=&#34;https://img.shields.io/twitter/follow/ardalis.svg?label=Follow%20@ardalis&#34; alt=&#34;Follow @ardalis&#34;&gt; &lt;/a&gt; &amp;nbsp; &#xA;&lt;a href=&#34;https://twitter.com/intent/follow?screen_name=nimblepros&#34;&gt; &lt;img src=&#34;https://img.shields.io/twitter/follow/nimblepros.svg?label=Follow%20@nimblepros&#34; alt=&#34;Follow @nimblepros&#34;&gt; &lt;/a&gt; &#xA;&lt;h1&gt;Clean Architecture&lt;/h1&gt; &#xA;&lt;p&gt;A starting point for Clean Architecture with ASP.NET Core. &lt;a href=&#34;https://8thlight.com/blog/uncle-bob/2012/08/13/the-clean-architecture.html&#34;&gt;Clean Architecture&lt;/a&gt; is just the latest in a series of names for the same loosely-coupled, dependency-inverted architecture. You will also find it named &lt;a href=&#34;http://alistair.cockburn.us/Hexagonal+architecture&#34;&gt;hexagonal&lt;/a&gt;, &lt;a href=&#34;http://www.dossier-andreas.net/software_architecture/ports_and_adapters.html&#34;&gt;ports-and-adapters&lt;/a&gt;, or &lt;a href=&#34;http://jeffreypalermo.com/blog/the-onion-architecture-part-1/&#34;&gt;onion architecture&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;This architecture is used in the &lt;a href=&#34;https://www.pluralsight.com/courses/fundamentals-domain-driven-design&#34;&gt;DDD Fundamentals course&lt;/a&gt; by &lt;a href=&#34;https://ardalis.com&#34;&gt;Steve Smith&lt;/a&gt; and &lt;a href=&#34;https://thedatafarm.com/&#34;&gt;Julie Lerman&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;span&gt;üè´&lt;/span&gt; Contact Steve&#39;s company, &lt;a href=&#34;https://nimblepros.com/&#34;&gt;NimblePros&lt;/a&gt;, for Clean Architecture or DDD training and/or implementation assistance for your team.&lt;/p&gt; &#xA;&lt;h2&gt;Troubleshooting Chrome Errors&lt;/h2&gt; &#xA;&lt;p&gt;By default the site uses HTTPS and expects you to have a self-signed developer certificate for localhost use. If you get an error with Chrome &lt;a href=&#34;https://stackoverflow.com/a/31900210/13729&#34;&gt;see this answer&lt;/a&gt; for mitigation instructions.&lt;/p&gt; &#xA;&lt;h2&gt;Table Of Contents&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ardalis/CleanArchitecture/main/#clean-architecture&#34;&gt;Clean Architecture&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ardalis/CleanArchitecture/main/#troubleshooting-chrome-errors&#34;&gt;Troubleshooting Chrome Errors&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ardalis/CleanArchitecture/main/#table-of-contents&#34;&gt;Table Of Contents&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ardalis/CleanArchitecture/main/#give-a-star-star&#34;&gt;Give a Star! &lt;span&gt;‚≠ê&lt;/span&gt;&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ardalis/CleanArchitecture/main/#versions&#34;&gt;Versions&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ardalis/CleanArchitecture/main/#learn-more&#34;&gt;Learn More&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ardalis/CleanArchitecture/main/#getting-started&#34;&gt;Getting Started&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ardalis/CleanArchitecture/main/#using-the-dotnet-cli-template&#34;&gt;Using the dotnet CLI template&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ardalis/CleanArchitecture/main/#what-about-controllers-and-razor-pages&#34;&gt;What about Controllers and Razor Pages?&lt;/a&gt; &#xA;    &lt;ul&gt; &#xA;     &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ardalis/CleanArchitecture/main/#add-ardalisapiendpoints&#34;&gt;Add Ardalis.ApiEndpoints&lt;/a&gt;&lt;/li&gt; &#xA;     &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ardalis/CleanArchitecture/main/#add-controllers&#34;&gt;Add Controllers&lt;/a&gt;&lt;/li&gt; &#xA;     &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ardalis/CleanArchitecture/main/#add-razor-pages&#34;&gt;Add Razor Pages&lt;/a&gt;&lt;/li&gt; &#xA;    &lt;/ul&gt; &lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ardalis/CleanArchitecture/main/#using-the-github-repository&#34;&gt;Using the GitHub Repository&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ardalis/CleanArchitecture/main/#running-migrations&#34;&gt;Running Migrations&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ardalis/CleanArchitecture/main/#goals&#34;&gt;Goals&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ardalis/CleanArchitecture/main/#history-and-shameless-plug-section&#34;&gt;History and Shameless Plug Section&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ardalis/CleanArchitecture/main/#design-decisions-and-dependencies&#34;&gt;Design Decisions and Dependencies&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ardalis/CleanArchitecture/main/#where-to-validate&#34;&gt;Where To Validate&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ardalis/CleanArchitecture/main/#the-core-project&#34;&gt;The Core Project&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ardalis/CleanArchitecture/main/#the-use-cases-project&#34;&gt;The Use Cases Project&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ardalis/CleanArchitecture/main/#the-infrastructure-project&#34;&gt;The Infrastructure Project&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ardalis/CleanArchitecture/main/#the-web-project&#34;&gt;The Web Project&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ardalis/CleanArchitecture/main/#the-sharedkernel-project&#34;&gt;The SharedKernel Project&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ardalis/CleanArchitecture/main/#the-test-projects&#34;&gt;The Test Projects&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ardalis/CleanArchitecture/main/#patterns-used&#34;&gt;Patterns Used&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ardalis/CleanArchitecture/main/#domain-events&#34;&gt;Domain Events&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ardalis/CleanArchitecture/main/#related-projects&#34;&gt;Related Projects&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Give a Star! &lt;span&gt;‚≠ê&lt;/span&gt;&lt;/h2&gt; &#xA;&lt;p&gt;If you like or are using this project to learn or start your solution, please give it a star. Thanks!&lt;/p&gt; &#xA;&lt;p&gt;Or if you&#39;re feeling really generous, we now support GitHub sponsorships - see the button above.&lt;/p&gt; &#xA;&lt;h2&gt;Versions&lt;/h2&gt; &#xA;&lt;p&gt;The main branch is now using .NET 8. If you need a previous version use one of these tagged commits:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/ardalis/CleanArchitecture/releases/tag/v8&#34;&gt;7.0&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/ardalis/CleanArchitecture/releases/tag/dotnet-6&#34;&gt;6.0&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/ardalis/CleanArchitecture/releases/tag/dotnet-core-5&#34;&gt;5.0&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/ardalis/CleanArchitecture/tree/dotnet-core-3.1&#34;&gt;3.1&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/ardalis/CleanArchitecture/tree/dotnet-core-2.2&#34;&gt;2.2&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/ardalis/CleanArchitecture/tree/dotnet-core-2.0&#34;&gt;2.0&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Learn More&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://www.youtube.com/c/Ardalis/search?query=clean%20architecture&#34;&gt;Live Stream Recordings Working on Clean Architecture&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://player.fm/series/net-rocks/clean-architecture-with-steve-smith&#34;&gt;DotNetRocks Podcast Discussion with Steve &#34;ardalis&#34; Smith&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=k8cZUW4MS3I&#34;&gt;Fritz and Friends Streaming Discussion with Steve &#34;ardalis&#34; Smith&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h1&gt;Getting Started&lt;/h1&gt; &#xA;&lt;p&gt;To use this template, there are a few options:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Install using &lt;code&gt;dotnet new&lt;/code&gt; (recommended)&lt;/li&gt; &#xA; &lt;li&gt;Download this Repository (and modify as needed)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Using the dotnet CLI template&lt;/h2&gt; &#xA;&lt;p&gt;First, install the template from &lt;a href=&#34;https://www.nuget.org/packages/Ardalis.CleanArchitecture.Template/&#34;&gt;NuGet (https://www.nuget.org/packages/Ardalis.CleanArchitecture.Template/)&lt;/a&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;dotnet new install Ardalis.CleanArchitecture.Template&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;You should see the template in the list of templates from &lt;code&gt;dotnet new list&lt;/code&gt; after this installs successfully. Look for &#34;ASP.NET Clean Architecture Solution&#34; with Short Name of &#34;clean-arch&#34;.&lt;/p&gt; &#xA;&lt;p&gt;Navigate to the parent directory in which you&#39;d like the solution&#39;s folder to be created.&lt;/p&gt; &#xA;&lt;p&gt;Run this command to create the solution structure in a subfolder name &lt;code&gt;Your.ProjectName&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;dotnet new clean-arch -o Your.ProjectName&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The &lt;code&gt;Your.ProjectName&lt;/code&gt; directory and solution file will be created, and inside that will be all of your new solution contents, properly namespaced and ready to run/test!&lt;/p&gt; &#xA;&lt;p&gt;Example: &lt;img src=&#34;https://user-images.githubusercontent.com/782127/101661723-9fd28e80-3a16-11eb-8be4-f9195d825ad6.png&#34; alt=&#34;powershell screenshot showing steps&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;Thanks &lt;a href=&#34;https://github.com/dahlsailrunner&#34;&gt;@dahlsailrunner&lt;/a&gt; for your help getting this working!&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Known Issues&lt;/strong&gt;:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Don&#39;t include hyphens in the name. See &lt;a href=&#34;https://github.com/ardalis/CleanArchitecture/issues/201&#34;&gt;#201&lt;/a&gt;.&lt;/li&gt; &#xA; &lt;li&gt;Don&#39;t use &#39;Ardalis&#39; as your namespace (conflicts with dependencies).&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;What about Controllers and Razor Pages?&lt;/h2&gt; &#xA;&lt;p&gt;As of version 9, this solution template only includes support for API Endpoints using the FastEndpoints library. If you want to use my ApiEndpoints library, Razor Pages, and/or Controllers you can use the last template that included them, &lt;a href=&#34;https://www.nuget.org/packages/Ardalis.CleanArchitecture.Template/7.1.0&#34;&gt;version 7.1&lt;/a&gt;. Alternately, they&#39;re easily added to this template after installation.&lt;/p&gt; &#xA;&lt;h3&gt;Add Ardalis.ApiEndpoints&lt;/h3&gt; &#xA;&lt;p&gt;To use &lt;a href=&#34;https://www.nuget.org/packages/Ardalis.ApiEndpoints&#34;&gt;Ardalis.ApiEndpoints&lt;/a&gt; instead of (or in addition to) &lt;a href=&#34;https://fast-endpoints.com/&#34;&gt;FastEndpoints&lt;/a&gt;, just add the reference and use the base classes from the documentation.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;dotnet add package Ardalis.ApiEndpoints&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Add Controllers&lt;/h3&gt; &#xA;&lt;p&gt;You&#39;ll need to add support for controllers to the Program.cs file. You need:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-csharp&#34;&gt;builder.Services.AddControllers(); // ControllersWithView if you need Views&#xA;&#xA;// and&#xA;&#xA;app.MapControllers();&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Once these are in place, you should be able to create a Controllers folder and (optionally) a Views folder and everything should work as expected. Personally I find Razor Pages to be much better than Controllers and Views so if you haven&#39;t fully investigated Razor Pages you might want to do so right about now before you choose Views.&lt;/p&gt; &#xA;&lt;h3&gt;Add Razor Pages&lt;/h3&gt; &#xA;&lt;p&gt;You&#39;ll need to add support for Razor Pages to the Program.cs file. You need:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-csharp&#34;&gt;builder.Services.AddRazorPages();&#xA;&#xA;// and&#xA;&#xA;app.MapRazorPages();&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Then you just add a Pages folder in the root of the project and go from there.&lt;/p&gt; &#xA;&lt;h2&gt;Using the GitHub Repository&lt;/h2&gt; &#xA;&lt;p&gt;To get started based on this repository, you need to get a copy locally. You have three options: fork, clone, or download. Most of the time, you probably just want to download.&lt;/p&gt; &#xA;&lt;p&gt;You should &lt;strong&gt;download the repository&lt;/strong&gt;, unblock the zip file, and extract it to a new folder if you just want to play with the project or you wish to use it as the starting point for an application.&lt;/p&gt; &#xA;&lt;p&gt;You should &lt;strong&gt;fork this repository&lt;/strong&gt; only if you plan on submitting a pull request. Or if you&#39;d like to keep a copy of a snapshot of the repository in your own GitHub account.&lt;/p&gt; &#xA;&lt;p&gt;You should &lt;strong&gt;clone this repository&lt;/strong&gt; if you&#39;re one of the contributors and you have commit access to it. Otherwise you probably want one of the other options.&lt;/p&gt; &#xA;&lt;h2&gt;Running Migrations&lt;/h2&gt; &#xA;&lt;p&gt;You shouldn&#39;t need to do this to use this template, but if you want migrations set up properly in the Infrastructure project, you need to specify that project name when you run the migrations command.&lt;/p&gt; &#xA;&lt;p&gt;In Visual Studio, open the Package Manager Console, and run &lt;code&gt;Add-Migration InitialMigrationName -StartupProject Your.ProjectName.Web -Context AppDbContext -Project Your.ProjectName.Infrastructure&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;In a terminal with the CLI, the command is similar. Run this from the Web project directory:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;dotnet ef migrations add MIGRATIONNAME -c AppDbContext -p ../Your.ProjectName.Infrastructure/Your.ProjectName.Infrastructure.csproj -s Your.ProjectName.Web.csproj -o Data/Migrations&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To use SqlServer, change &lt;code&gt;options.UseSqlite(connectionString));&lt;/code&gt; to &lt;code&gt;options.UseSqlServer(connectionString));&lt;/code&gt; in the &lt;code&gt;Your.ProjectName.Infrastructure.StartupSetup&lt;/code&gt; file. Also remember to replace the &lt;code&gt;SqliteConnection&lt;/code&gt; with &lt;code&gt;DefaultConnection&lt;/code&gt; in the &lt;code&gt;Your.ProjectName.Web.Program&lt;/code&gt; file, which points to your Database Server.&lt;/p&gt; &#xA;&lt;p&gt;To update the database use this command from the Web project folder (replace &lt;code&gt;Clean.Architecture&lt;/code&gt; with your project&#39;s name):&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;dotnet ef database update -c AppDbContext -p ../Clean.Architecture.Infrastructure/Clean.Architecture.Infrastructure.csproj -s Clean.Architecture.Web.csproj&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h1&gt;Goals&lt;/h1&gt; &#xA;&lt;p&gt;The goal of this repository is to provide a basic solution structure that can be used to build Domain-Driven Design (DDD)-based or simply well-factored, SOLID applications using .NET Core. Learn more about these topics here:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://www.pluralsight.com/courses/csharp-solid-principles&#34;&gt;SOLID Principles for C# Developers&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://www.pluralsight.com/courses/principles-oo-design&#34;&gt;SOLID Principles of Object Oriented Design&lt;/a&gt; (the original, longer course)&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://www.pluralsight.com/courses/domain-driven-design-fundamentals&#34;&gt;Domain-Driven Design Fundamentals&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;If you&#39;re used to building applications as single-project or as a set of projects that follow the traditional UI -&amp;gt; Business Layer -&amp;gt; Data Access Layer &#34;N-Tier&#34; architecture, I recommend you check out these two courses (ideally before DDD Fundamentals):&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://www.pluralsight.com/courses/n-tier-apps-part1&#34;&gt;Creating N-Tier Applications in C#, Part 1&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://www.pluralsight.com/courses/n-tier-csharp-part2&#34;&gt;Creating N-Tier Applications in C#, Part 2&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Steve Smith also maintains Microsoft&#39;s reference application, eShopOnWeb, and its associated free eBook. Check them out here:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/dotnet-architecture/eShopOnWeb&#34;&gt;eShopOnWeb on GitHub&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://aka.ms/webappebook&#34;&gt;Architecting Modern Web Applications with ASP.NET Core and Microsoft Azure&lt;/a&gt; (eBook)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Note that the goal of this project and repository is &lt;strong&gt;not&lt;/strong&gt; to provide a sample or reference application. It&#39;s meant to just be a template, but with enough pieces in place to show you where things belong as you set up your actual solution. Instead of useless &#34;Class1.cs&#34; there are a few real classes in place. Delete them as soon as you understand why they&#39;re there and where you should put your own, similar files.&lt;/p&gt; &#xA;&lt;h2&gt;History and Shameless Plug Section&lt;/h2&gt; &#xA;&lt;p&gt;I&#39;ve used this starter kit to teach the basics of ASP.NET Core using Domain-Driven Design concepts and patterns for some time now (starting when ASP.NET Core was still in pre-release). Typically I teach a one- or two-day hands-on workshop ahead of events like DevIntersection, or private on-site workshops for companies looking to bring their teams up to speed with the latest development technologies and techniques. Feel free to &lt;a href=&#34;https://ardalis.com/contact-us&#34;&gt;contact me&lt;/a&gt; if you&#39;d like information about upcoming workshops.&lt;/p&gt; &#xA;&lt;h1&gt;Design Decisions and Dependencies&lt;/h1&gt; &#xA;&lt;p&gt;The goal of this sample is to provide a fairly bare-bones starter kit for new projects. It does not include every possible framework, tool, or feature that a particular enterprise application might benefit from. Its choices of technology for things like data access are rooted in what is the most common, accessible technology for most business software developers using Microsoft&#39;s technology stack. It doesn&#39;t (currently) include extensive support for things like logging, monitoring, or analytics, though these can all be added easily. Below is a list of the technology dependencies it includes, and why they were chosen. Most of these can easily be swapped out for your technology of choice, since the nature of this architecture is to support modularity and encapsulation.&lt;/p&gt; &#xA;&lt;h2&gt;Where To Validate&lt;/h2&gt; &#xA;&lt;p&gt;Validation of user input is a requirement of all software applications. The question is, where does it make sense to implement it in a concise and elegant manner? This solution template includes 4 separate projects, each of which might be responsible for performing validation as well as enforcing business invariants (which, given validation should already have occurred, are usually modeled as exceptions).&lt;/p&gt; &#xA;&lt;p&gt;The domain model itself should generally rely on object-oriented design to ensure it is always in a consistent state. It leverages encapsulation and limits public state mutation access to achieve this, and it assumes that any arguments passed to it have already been validated, so null or other improper values yield exceptions, not validation results, in most cases.&lt;/p&gt; &#xA;&lt;p&gt;The use cases / application project includes the set of all commands and queries the system supports. It&#39;s frequently responsible for validating its own command and query objects.&lt;/p&gt; &#xA;&lt;p&gt;The Web project includes all API endpoints, which include their own request and response types, following the &lt;a href=&#34;https://deviq.com/design-patterns/repr-design-pattern&#34;&gt;REPR pattern&lt;/a&gt;. The FastEndpoints library includes built-in support for validation using FluentValidation on the request types. This is a natural place to perform input validation as well.&lt;/p&gt; &#xA;&lt;p&gt;Having validation occur both within the API endpoints and then again at the use case level is redundant, so in this template the choice has been made to validate at the edge of the application, in the API endpoints. This means some future consumer of the Use Cases project will also need to be responsible for its own validation as well, but in the vast majority of cases there won&#39;t be any other consumers of the use cases outside of the API endpoints.&lt;/p&gt; &#xA;&lt;h2&gt;The Core Project&lt;/h2&gt; &#xA;&lt;p&gt;The Core project is the center of the Clean Architecture design, and all other project dependencies should point toward it. As such, it has very few external dependencies. The Core project should include the Domain Model including things like:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Entities&lt;/li&gt; &#xA; &lt;li&gt;Aggregates&lt;/li&gt; &#xA; &lt;li&gt;Value Objects&lt;/li&gt; &#xA; &lt;li&gt;Domain Events&lt;/li&gt; &#xA; &lt;li&gt;Domain Event Handlers&lt;/li&gt; &#xA; &lt;li&gt;Domain Services&lt;/li&gt; &#xA; &lt;li&gt;Specifications&lt;/li&gt; &#xA; &lt;li&gt;Interfaces&lt;/li&gt; &#xA; &lt;li&gt;DTOs (sometimes)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;The Use Cases Project&lt;/h2&gt; &#xA;&lt;p&gt;An optional project, I&#39;ve included it because many folks were demanding it and it&#39;s easier to remove than to add later. This is also often referred to as the &lt;em&gt;Application&lt;/em&gt; or &lt;em&gt;Application Services&lt;/em&gt; layer. The Use Cases project is organized following CQRS into Commands and Queries. Commands mutate the domain model and thus should always use Repository abstractions for their data access. Queries are readonly, and thus do not need to use the repository pattern, but instead can use whatever query service or approach is most convenient. However, since the Use Cases project is set up to depend on Core and not directly on Infrastructure, there will still need to be abstractions defined for its data access. And it &lt;em&gt;can&lt;/em&gt; use things like specifications, which can sometimes help encapsulate query logic as well as result type mapping. But it doesn&#39;t &lt;em&gt;have&lt;/em&gt; to use repository/specification - it can just issue a SQL query or call a stored procedure if that&#39;s the most efficient way to get the data.&lt;/p&gt; &#xA;&lt;p&gt;Although this is an optional project to include (without it, your API endpoints would just work directly with the domain model or query services), it does provide a nice UI-ignorant place to add automated tests.&lt;/p&gt; &#xA;&lt;h2&gt;The Infrastructure Project&lt;/h2&gt; &#xA;&lt;p&gt;Most of your application&#39;s dependencies on external resources should be implemented in classes defined in the Infrastructure project. These classes should implement interfaces defined in Core. If you have a very large project with many dependencies, it may make sense to have multiple Infrastructure projects (e.g. Infrastructure.Data), but for most projects one Infrastructure project with folders works fine. The sample includes data access and domain event implementations, but you would also add things like email providers, file access, web api clients, etc. to this project so they&#39;re not adding coupling to your Core or UI projects.&lt;/p&gt; &#xA;&lt;p&gt;The Infrastructure project depends on &lt;code&gt;Microsoft.EntityFrameworkCore.SqlServer&lt;/code&gt; and &lt;code&gt;Autofac&lt;/code&gt;. The former is used because it&#39;s built into the default ASP.NET Core templates and is the least common denominator of data access. If desired, it can easily be replaced with a lighter-weight ORM like Dapper. Autofac (formerly StructureMap) is used to allow wireup of dependencies to take place closest to where the implementations reside. In this case, an InfrastructureRegistry class can be used in the Infrastructure class to allow wireup of dependencies there, without the entry point of the application even having to have a reference to the project or its types. &lt;a href=&#34;https://ardalis.com/avoid-referencing-infrastructure-in-visual-studio-solutions&#34;&gt;Learn more about this technique&lt;/a&gt;. The current implementation doesn&#39;t include this behavior - it&#39;s something I typically cover and have students add themselves in my workshops.&lt;/p&gt; &#xA;&lt;h2&gt;The Web Project&lt;/h2&gt; &#xA;&lt;p&gt;The entry point of the application is the ASP.NET Core web project. This is actually a console application, with a &lt;code&gt;public static void Main&lt;/code&gt; method in &lt;code&gt;Program.cs&lt;/code&gt;. It currently uses the default MVC organization (Controllers and Views folders) as well as most of the default ASP.NET Core project template code. This includes its configuration system, which uses the default &lt;code&gt;appsettings.json&lt;/code&gt; file plus environment variables, and is configured in &lt;code&gt;Startup.cs&lt;/code&gt;. The project delegates to the &lt;code&gt;Infrastructure&lt;/code&gt; project to wire up its services using Autofac.&lt;/p&gt; &#xA;&lt;h2&gt;The SharedKernel Project&lt;/h2&gt; &#xA;&lt;p&gt;Many solutions will also reference a separate &lt;strong&gt;Shared Kernel&lt;/strong&gt; project/package. I recommend creating a separate SharedKernel project and solution if you will require sharing code between multiple &lt;a href=&#34;https://ardalis.com/encapsulation-boundaries-large-and-small/&#34;&gt;bounded contexts&lt;/a&gt; (see &lt;a href=&#34;https://www.pluralsight.com/courses/domain-driven-design-fundamentals&#34;&gt;DDD Fundamentals&lt;/a&gt;). I further recommend this be published as a NuGet package (most likely privately within your organization) and referenced as a NuGet dependency by those projects that require it.&lt;/p&gt; &#xA;&lt;p&gt;Previously a project for SharedKernel was included in this project. However, for the above reasons I&#39;ve made it a separate package, &lt;a href=&#34;https://github.com/ardalis/Ardalis.SharedKernel&#34;&gt;Ardalis.SharedKernel&lt;/a&gt;, which you should replace with your own when you use this template.&lt;/p&gt; &#xA;&lt;p&gt;If you want to see another &lt;a href=&#34;https://www.nuget.org/packages/PluralsightDdd.SharedKernel/&#34;&gt;example of a SharedKernel package, the one I use in my updated Pluralsight DDD course is on NuGet here&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;The Test Projects&lt;/h2&gt; &#xA;&lt;p&gt;Test projects could be organized based on the kind of test (unit, functional, integration, performance, etc.) or by the project they are testing (Core, Infrastructure, Web), or both. For this simple starter kit, the test projects are organized based on the kind of test, with unit, functional and integration test projects existing in this solution. In terms of dependencies, there are three worth noting:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;a href=&#34;https://www.nuget.org/packages/xunit&#34;&gt;xunit&lt;/a&gt; I&#39;m using xunit because that&#39;s what ASP.NET Core uses internally to test the product. It works great and as new versions of ASP.NET Core ship, I&#39;m confident it will continue to work well with it.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;a href=&#34;https://www.nuget.org/packages/NSubstitute&#34;&gt;NSubstitute&lt;/a&gt; I&#39;m using NSubstitute as a mocking framework for white box behavior-based tests. If I have a method that, under certain circumstances, should perform an action that isn&#39;t evident from the object&#39;s observable state, mocks provide a way to test that. I could also use my own Fake implementation, but that requires a lot more typing and files. NSubstitute is great once you get the hang of it, and assuming you don&#39;t have to mock the world (which we don&#39;t in this case because of good, modular design).&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;a href=&#34;https://www.nuget.org/packages/Microsoft.AspNetCore.TestHost&#34;&gt;Microsoft.AspNetCore.TestHost&lt;/a&gt; I&#39;m using TestHost to test my web project using its full stack, not just unit testing action methods. Using TestHost, you make actual HttpClient requests without going over the wire (so no firewall or port configuration issues). Tests run in memory and are very fast, and requests exercise the full MVC stack, including routing, model binding, model validation, filters, etc.&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h1&gt;Patterns Used&lt;/h1&gt; &#xA;&lt;p&gt;This solution template has code built in to support a few common patterns, especially Domain-Driven Design patterns. Here is a brief overview of how a few of them work.&lt;/p&gt; &#xA;&lt;h2&gt;Domain Events&lt;/h2&gt; &#xA;&lt;p&gt;Domain events are a great pattern for decoupling a trigger for an operation from its implementation. This is especially useful from within domain entities since the handlers of the events can have dependencies while the entities themselves typically do not. In the sample, you can see this in action with the &lt;code&gt;ToDoItem.MarkComplete()&lt;/code&gt; method. The following sequence diagram demonstrates how the event and its handler are used when an item is marked complete through a web API endpoint.&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://user-images.githubusercontent.com/782127/75702680-216ce300-5c73-11ea-9187-ec656192ad3b.png&#34; alt=&#34;Domain Event Sequence Diagram&#34;&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Related Projects&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/ardalis/apiendpoints&#34;&gt;ApiEndpoints&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/ardalis/guardclauses&#34;&gt;GuardClauses&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/ardalis/HttpClientTestExtensions&#34;&gt;HttpClientTestExtensions&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/ardalis/result&#34;&gt;Result&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/ardalis/Ardalis.SharedKernel&#34;&gt;SharedKernel&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/ardalis/SmartEnum&#34;&gt;SmartEnum&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/ardalis/specification&#34;&gt;Specification&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt;</summary>
  </entry>
  <entry>
    <title>trailofbits/multiplier</title>
    <updated>2024-08-07T01:27:49Z</updated>
    <id>tag:github.com,2024-08-07:/trailofbits/multiplier</id>
    <link href="https://github.com/trailofbits/multiplier" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Code auditing productivity multiplier.&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;&lt;em&gt;Multiplier&lt;/em&gt; finds more bugs faster&lt;/h1&gt; &#xA;&lt;p&gt;Multiplier provides precise and comprehensive code understanding capabilities. It does so by saving build artifacts into a database, and then making them persistently accessible using a C++ or Python API.&lt;/p&gt; &#xA;&lt;p&gt;Multiplier emphasizes the ability to uniquely identify &lt;em&gt;all&lt;/em&gt; entities in a build process, including individual tokens, AST nodes, and intermediate representations. With Multiplier, an analyst can identify code patterns of interest over one of the representations, and then accurately relay results back to humans in a readable form, or to follow-on scripts via entity IDs.&lt;/p&gt; &#xA;&lt;p&gt;Multiplier&#39;s APIs are extensive, and often provide as-good or better-than compiler-level quality information, but linked at a whole-program granularity. We like to say that with its APIs, &lt;em&gt;you can get everywhere from anywhere&lt;/em&gt;.&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;About &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/trailofbits/multiplier/main/docs/other-indexers.md&#34;&gt;How do other indexers work&lt;/a&gt;, and why the normal way of indexing code is insufficient for C/C++&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/trailofbits/multiplier/main/docs/why-multiplier.md&#34;&gt;Why Multiplier?&lt;/a&gt; What analysis challenges does Multiplier solve?&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;Usage &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/trailofbits/multiplier/main/docs/BUILD.md&#34;&gt;Getting and building the code&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/trailofbits/multiplier/main/docs/INSTALLING.md&#34;&gt;Installing a pre-built release&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/trailofbits/multiplier/main/docs/INDEXING.md&#34;&gt;How to index a codebase&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;Writeups &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/trailofbits/multiplier/main/docs/openssh-variant-analysis.md&#34;&gt;regreSSHion OpenSSH variant analysis&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/trailofbits/multiplier/main/docs/php-variant-analysis.md&#34;&gt;PHP variant analysis&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;Included tools &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/trailofbits/multiplier/main/docs/mx-find-calls-in-macro-expansions.md&#34;&gt;Find function calls inside macro argument lists&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/trailofbits/multiplier/main/docs/mx-find-divergent-candidates.md&#34;&gt;Find possible divergent representations&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/trailofbits/multiplier/main/docs/mx-find-flexible-user-copies.md&#34;&gt;Find uses of &lt;code&gt;copy_to_user&lt;/code&gt; in the Linux kernel that overwrite flexible array members&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/trailofbits/multiplier/main/docs/mx-find-linked-structures.md&#34;&gt;Find data structures containing self-referential pointers, such as linked lists and trees&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/trailofbits/multiplier/main/docs/mx-find-sketchy-casts.md&#34;&gt;Find &#34;sketchy&#34; casts flowing to function arguments and to return sites&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/trailofbits/multiplier/main/docs/mx-harness.md&#34;&gt;Extract an entity, e.g. a function, and all of its dependencies into a file&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/trailofbits/multiplier/main/docs/mx-highlight-entity.md&#34;&gt;Highlight a specific entity within its surrounding code&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/trailofbits/multiplier/main/docs/mx-highlight-references.md&#34;&gt;Highlight all references to an entity&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/trailofbits/multiplier/main/docs/mx-print-call-graph.md&#34;&gt;Print a call graph&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/trailofbits/multiplier/main/docs/mx-print-reference-graph.md&#34;&gt;Print the reference graph&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/trailofbits/multiplier/main/docs/mx-print-token-graph.md&#34;&gt;Print a graph relating source code, macros, parsed tokens, and AST nodes&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/trailofbits/multiplier/main/docs/mx-taint-entity.md&#34;&gt;Print the taint graph given a taint source, and treating memory dereferences as taint sinks&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;Included utilities &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/trailofbits/multiplier/main/docs/mx-find-symbol.md&#34;&gt;Find entities in the database given a symbol name&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/trailofbits/multiplier/main/docs/mx-list-files.md&#34;&gt;List all indexed files&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/trailofbits/multiplier/main/docs/mx-list-functions.md&#34;&gt;List all indexed functions&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/trailofbits/multiplier/main/docs/mx-list-macros.md&#34;&gt;List all indexed macros&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/trailofbits/multiplier/main/docs/mx-list-redeclarations.md&#34;&gt;List all redeclarations of a given entity&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/trailofbits/multiplier/main/docs/mx-list-structures.md&#34;&gt;List all indexed structures/unions/classes/enums&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/trailofbits/multiplier/main/docs/mx-list-variables.md&#34;&gt;List all indexed variables&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/trailofbits/multiplier/main/docs/mx-regex-query.md&#34;&gt;Search the code with regular expressions&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h1&gt;License&lt;/h1&gt; &#xA;&lt;p&gt;This research was developed with funding from the Defense Advanced Research Projects Agency (DARPA). The views, opinions and/or findings expressed are those of the author and should not be interpreted as representing the official views or policies of the Department of Defense or the U.S. Government.&lt;/p&gt; &#xA;&lt;p&gt;Distribution Statement &#34;A&#34; (Approved for Public Release, Distribution Unlimited).&lt;/p&gt;</summary>
  </entry>
</feed>