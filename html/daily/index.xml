<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub HTML Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2024-04-08T01:29:28Z</updated>
  <subtitle>Daily Trending of HTML in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>RedByte1337/GraphSpy</title>
    <updated>2024-04-08T01:29:28Z</updated>
    <id>tag:github.com,2024-04-08:/RedByte1337/GraphSpy</id>
    <link href="https://github.com/RedByte1337/GraphSpy" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Initial Access and Post-Exploitation Tool for AAD and O365 with a browser-based GUI&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;GraphSpy&lt;/h1&gt; &#xA;&lt;pre&gt;&lt;code&gt;   ________                             _________&#xA;  /       /  by RedByte1337    __      /        /           &#xA; /  _____/___________  ______ |  |__  /   _____/_____ ______&#xA;/   \  __\_  __ \__  \ \____ \|  |  \ \_____  \\____ \   |  |&#xA;\    \_\  \  | \/  __ \|  |_&amp;gt; |   \  \/        \  |_&amp;gt; \___  |&#xA; \______  /__|  |____  |   __/|___|  /_______  /   ___/ ____|&#xA;        \/           \/|__|        \/        \/|__|   \/&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h1&gt;Table of Contents&lt;/h1&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/RedByte1337/GraphSpy/master/#graphspy&#34;&gt;GraphSpy&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/RedByte1337/GraphSpy/master/#table-of-contents&#34;&gt;Table of Contents&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/RedByte1337/GraphSpy/master/#quick-start&#34;&gt;Quick Start&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/RedByte1337/GraphSpy/master/#installation&#34;&gt;Installation&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/RedByte1337/GraphSpy/master/#execution&#34;&gt;Execution&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/RedByte1337/GraphSpy/master/#usage&#34;&gt;Usage&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/RedByte1337/GraphSpy/master/#features&#34;&gt;Features&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/RedByte1337/GraphSpy/master/#release-notes&#34;&gt;Release Notes&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/RedByte1337/GraphSpy/master/#upcoming-features&#34;&gt;Upcoming Features&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/RedByte1337/GraphSpy/master/#credits&#34;&gt;Credits&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h1&gt;Quick Start&lt;/h1&gt; &#xA;&lt;h2&gt;Installation&lt;/h2&gt; &#xA;&lt;p&gt;The following goes over the recommended installation process using pipx to avoid any dependency conflicts.&lt;/p&gt; &#xA;&lt;p&gt;GraphSpy is built to work on every operating system, although it was mainly tested on Linux and Windows.&lt;/p&gt; &#xA;&lt;p&gt;For other installation options and detailed instructions, check the &lt;a href=&#34;https://github.com/RedByte1337/GraphSpy/wiki/Installation&#34;&gt;Installation page&lt;/a&gt; on the wiki.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;# Install pipx (skip this if you already have it)&#xA;apt install pipx&#xA;pipx ensurepath&#xA;&#xA;# Install the latest version of GraphSpy from pypi&#xA;pipx install graphspy&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Execution&lt;/h2&gt; &#xA;&lt;p&gt;After installation, the application can be launched using the &lt;code&gt;graphspy&lt;/code&gt; command from any location on the system.&lt;/p&gt; &#xA;&lt;p&gt;Running GraphSpy without any command line arguments will launch GraphSpy and make it available at &lt;code&gt;http://127.0.0.1:5000&lt;/code&gt; by default.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;graphspy&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Now simply open &lt;code&gt;http://127.0.0.1:5000&lt;/code&gt; in your favorite browser to get started!&lt;/p&gt; &#xA;&lt;p&gt;Use the &lt;code&gt;-i&lt;/code&gt; and &lt;code&gt;-p&lt;/code&gt; arguments to modify the interface and port to listen on.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;# Run GraphSpy on http://192.168.0.10&#xA;graphspy -i 192.168.0.10 -p 80&#xA;# Run GraphSpy on port 8080 on all interfaces&#xA;graphspy -i 0.0.0.0 -p 8080&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;For detailed instructions and other command line arguments, please refer to the &lt;a href=&#34;https://github.com/RedByte1337/GraphSpy/wiki/Execution&#34;&gt;Execution page&lt;/a&gt; on the wiki.&lt;/p&gt; &#xA;&lt;h2&gt;Usage&lt;/h2&gt; &#xA;&lt;p&gt;Please refer to the &lt;a href=&#34;https://github.com/RedByte1337/GraphSpy/wiki&#34;&gt;GitHub Wiki&lt;/a&gt; for full usage details.&lt;/p&gt; &#xA;&lt;p&gt;For a quick feature overview, check out the &lt;a href=&#34;https://insights.spotit.be/2024/04/05/graphspy-the-swiss-army-knife-for-attacking-m365-entra/&#34;&gt;official release blog post&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h1&gt;Features&lt;/h1&gt; &#xA;&lt;h2&gt;Access and Refresh Tokens&lt;/h2&gt; &#xA;&lt;p&gt;Store your access and refresh tokens for multiple users and scopes in one location.&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/RedByte1337/GraphSpy/master/images/access_tokens_1.png&#34; alt=&#34;Access Tokens&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/RedByte1337/GraphSpy/master/images/refresh_tokens.png&#34; alt=&#34;Refresh Tokens&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;Easily switch between them or request new access tokens from any page.&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/RedByte1337/GraphSpy/master/images/token_side_bar_1.png&#34; alt=&#34;Token Side Bar&#34;&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Device Codes&lt;/h2&gt; &#xA;&lt;p&gt;Easily create and poll multiple device codes at once. If a user used the device code to authenticate, GraphSpy will automatically store the access and refresh token in its database.&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/RedByte1337/GraphSpy/master/images/device_codes.png&#34; alt=&#34;Device Codes&#34;&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Files and SharePoint&lt;/h2&gt; &#xA;&lt;p&gt;Browse through files and folders in the user&#39;s OneDrive or any accessible SharePoint site through an intuitive file explorer interface.&lt;/p&gt; &#xA;&lt;p&gt;Of course, files can also be directly downloaded.&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/RedByte1337/GraphSpy/master/images/onedrive_2.png&#34; alt=&#34;OneDrive&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;Additionally, list the user&#39;s recently accessed files or files shared with the user.&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/RedByte1337/GraphSpy/master/images/recent_files.png&#34; alt=&#34;Recent Files&#34;&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Outlook&lt;/h2&gt; &#xA;&lt;p&gt;Open the user&#39;s Outlook with a single click using just an Outlook access token (FOCI)!&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/RedByte1337/GraphSpy/master/images/outlook_1.png&#34; alt=&#34;Outlook GraphSpy&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/RedByte1337/GraphSpy/master/images/outlook_2.png&#34; alt=&#34;Outlook&#34;&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Graph Searching&lt;/h2&gt; &#xA;&lt;p&gt;Search for keywords through all Microsoft 365 applications using the Microsoft Search API.&lt;/p&gt; &#xA;&lt;p&gt;For instance, use this to search for any files or emails containing keywords such as &#34;password&#34;, &#34;secret&#34;, ...&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/RedByte1337/GraphSpy/master/images/graph_search_2.png&#34; alt=&#34;Graph Search&#34;&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Custom Requests&lt;/h2&gt; &#xA;&lt;p&gt;Perform custom API requests towards any endpoint using access tokens stored in GraphSpy.&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/RedByte1337/GraphSpy/master/images/custom_requests.png&#34; alt=&#34;Custom Request&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;Custom request templates with variables can be stored in the database to allow easy reuse of common custom API requests.&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/RedByte1337/GraphSpy/master/images/custom_request_templates.png&#34; alt=&#34;Custom Request&#34;&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Multiple Databases&lt;/h2&gt; &#xA;&lt;p&gt;GraphSpy supports multiple databases. This is useful when working on multiple assessments at once to keep your tokens and device codes organized.&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/RedByte1337/GraphSpy/master/images/settings.png&#34; alt=&#34;Graph Request&#34;&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Dark Mode&lt;/h2&gt; &#xA;&lt;p&gt;Use the dark mode by default, or switch to light mode.&lt;/p&gt; &#xA;&lt;h1&gt;Release Notes&lt;/h1&gt; &#xA;&lt;p&gt;Refer to the &lt;a href=&#34;https://github.com/RedByte1337/GraphSpy/wiki/Release-Notes&#34;&gt;Release Notes&lt;/a&gt; page on the GitHub Wiki&lt;/p&gt; &#xA;&lt;h1&gt;Upcoming Features&lt;/h1&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Upload, Delete and Rename Files&lt;/li&gt; &#xA; &lt;li&gt;More authentication options &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;Password, ESTSAuth Cookie, PRT, ...&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;Advanced token customization options and optional v2 API support (CAE)&lt;/li&gt; &#xA; &lt;li&gt;Automatic Access Token Refreshing&lt;/li&gt; &#xA; &lt;li&gt;Microsoft Teams &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;Sadly, most MSGrapgh scopes required for Microsoft Teams can not be obtained through a FOCI client id, limiting the usecases where it could be accessed.&lt;/li&gt; &#xA;   &lt;li&gt;So the best option would be to use the Skype API, which is a FOCI resource, although this API is not documented by Microsoft or intended for public use&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;Azure AD &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;List Users, Groups, Applications, Devices, Conditional Access Policies, ...&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;Cleaner exception handling &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;While this should not have any direct impact on the user, edge cases might currently throw exceptions to the GraphSpy output instead of handling them in a cleaner way.&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h1&gt;Credits&lt;/h1&gt; &#xA;&lt;p&gt;The main motivation for creating GraphSpy was the lack of an easy to use way to perform post-compromise activities targetting Office365 applications (such as Outlook, Microsoft Teams, OneDrive, SharePoint, ...) with just an access token.&lt;/p&gt; &#xA;&lt;p&gt;While several command-line tools existed which provided some basic functionality, none of them came close to the intuitive interactive experience which the original applications provide (such as the file explorer-like interface of OneDrive and SharePoint).&lt;/p&gt; &#xA;&lt;p&gt;However, a lot of previous research was done by countless other persons (specifically regarding Device Code Phishing, which lead to the initial requirement for such a tool in the first place).&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Acknowledgements &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://github.com/rvrsh3ll/TokenTactics&#34;&gt;TokenTactics&lt;/a&gt; and &lt;a href=&#34;https://github.com/f-bader/TokenTacticsV2&#34;&gt;TokenTacticsV2&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://github.com/Gerenios/AADInternals&#34;&gt;AADInternals&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://aadinternals.com/post/phishing/&#34;&gt;Introducing a new phishing technique for compromising Office 365 accounts&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://0xboku.com/2021/07/12/ArtOfDeviceCodePhish.html&#34;&gt;The Art of the Device Code Phish&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://github.com/dafthack/GraphRunner&#34;&gt;GraphRunner&lt;/a&gt; is a PowerShell tool with a lot of similar features, which was released while GraphSpy was already in development. Regardless, both tools still have their distinguishing factors.&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;Assets &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;UIcons by &lt;a href=&#34;https://www.flaticon.com/uicons&#34;&gt;Flaticon&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA;&lt;/ul&gt;</summary>
  </entry>
</feed>