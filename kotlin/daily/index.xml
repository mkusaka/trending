<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Kotlin Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2022-08-17T01:48:24Z</updated>
  <subtitle>Daily Trending of Kotlin in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>hegaojian/JetpackMvvm</title>
    <updated>2022-08-17T01:48:24Z</updated>
    <id>tag:github.com,2022-08-17:/hegaojian/JetpackMvvm</id>
    <link href="https://github.com/hegaojian/JetpackMvvm" rel="alternate"></link>
    <summary type="html">&lt;p&gt;ğŸ”ğŸ€ä¸€ä¸ªJetpackç»“åˆMVVMçš„å¿«é€Ÿå¼€å‘æ¡†æ¶ï¼ŒåŸºäºMVVMæ¨¡å¼é›†æˆè°·æ­Œå®˜æ–¹æ¨èçš„JetPackç»„ä»¶åº“ï¼šLiveDataã€ViewModelã€Lifecycleã€Navigationç»„ä»¶ ä½¿ç”¨Kotlinè¯­è¨€ï¼Œæ·»åŠ å¤§é‡æ‹“å±•å‡½æ•°ï¼Œç®€åŒ–ä»£ç  åŠ å…¥Retrofitç½‘ç»œè¯·æ±‚,åç¨‹ï¼Œå¸®ä½ ç®€åŒ–å„ç§æ“ä½œï¼Œè®©ä½ å¿«é€Ÿå¼€å‘é¡¹ç›®&lt;/p&gt;&lt;hr&gt;&lt;p&gt;&lt;a href=&#34;https://github.com/hegaojian/JetpackMvvm&#34;&gt;&lt;img src=&#34;https://img.shields.io/badge/platform-Android-blue.svg?sanitize=true&#34; alt=&#34;Platform&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/hegaojian/JetpackMvvm/releases/latest&#34;&gt;&lt;img src=&#34;https://img.shields.io/github/release/hegaojian/JetpackMvvm.svg?sanitize=true&#34; alt=&#34;GitHub license&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/hegaojian/JetpackMvvm/raw/master/LICENSE&#34;&gt;&lt;img src=&#34;https://img.shields.io/badge/license-Apache%202-blue.svg?sanitize=true&#34; alt=&#34;GitHub license&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h1&gt;&lt;span&gt;ğŸ”&lt;/span&gt;&lt;span&gt;ğŸ”&lt;/span&gt;&lt;span&gt;ğŸ”&lt;/span&gt;JetPackMvvm&lt;/h1&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;strong&gt;åŸºäºMVVMæ¨¡å¼é›†æˆè°·æ­Œå®˜æ–¹æ¨èçš„JetPackç»„ä»¶åº“ï¼šLiveDataã€ViewModelã€Lifecycleã€Navigationç»„ä»¶&lt;/strong&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;strong&gt;ä½¿ç”¨kotlinè¯­è¨€ï¼Œæ·»åŠ å¤§é‡æ‹“å±•å‡½æ•°ï¼Œç®€åŒ–ä»£ç &lt;/strong&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;strong&gt;åŠ å…¥Retrofitç½‘ç»œè¯·æ±‚,åç¨‹ï¼Œå¸®ä½ ç®€åŒ–å„ç§æ“ä½œï¼Œè®©ä½ å¿«é€Ÿè¯·æ±‚ç½‘ç»œ&lt;/strong&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;æ¼”ç¤ºDemo&lt;/h2&gt; &#xA;&lt;p&gt;å·²ç”¨è¯¥åº“é‡æ„äº†æˆ‘ä¹‹å‰çš„ç©å®‰å“é¡¹ç›®ï¼Œåˆ©ç”¨Navigationç»„ä»¶ä»¥å•Activity+Fragmentæ¶æ„ç¼–å†™ï¼Œä¼˜åŒ–äº†å¾ˆå¤šä»£ç ï¼Œå¯¹æ¯”ä¹‹å‰çš„mvpé¡¹ç›®ï¼Œå¼€å‘æ•ˆç‡ä¸èˆ’é€‚åº¦è¦æé«˜äº†ä¸å°‘ï¼Œæƒ³çœ‹ä¹‹å‰MVPçš„é¡¹ç›®å¯ä»¥å» &lt;a href=&#34;https://github.com/hegaojian/WanAndroid&#34;&gt;https://github.com/hegaojian/WanAndroid&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h4&gt;æ•ˆæœå›¾å±•ç¤º&lt;/h4&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://upload-images.jianshu.io/upload_images/9305757-818106225dd01e65.gif?imageMogr2/auto-orient/strip&#34; alt=&#34;é¡¹ç›®æ•ˆæœå›¾&#34;&gt;&lt;/p&gt; &#xA;&lt;h4&gt;APKä¸‹è½½ï¼š&lt;/h4&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;a href=&#34;https://github.com/hegaojian/JetpackMvvm/releases/download/1.2.6/app-release.apk&#34;&gt;Githubä¸‹è½½&lt;/a&gt;&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;a href=&#34;http://d.6short.com/v9q7&#34;&gt;firmä¸‹è½½(æ¨è)&lt;/a&gt;&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;æ‰«ç ä¸‹è½½(æ¨è)&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://upload-images.jianshu.io/upload_images/9305757-8ca8324f5690198e.png?imageMogr2/auto-orient/strip%7CimageView2/2/format/webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt; &#xA;&lt;h2&gt;1.å¦‚ä½•é›†æˆ&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;strong&gt;1.1 åœ¨root&#39;s build.gradleä¸­åŠ å…¥Jitpackä»“åº“&lt;/strong&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-gradle&#34;&gt;allprojects {&#xA;    repositories {&#xA;        ...&#xA;        maven { url &#39;https://jitpack.io&#39; }&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;strong&gt;1.2 åœ¨app&#39;s build.gradleä¸­æ·»åŠ ä¾èµ–&lt;/strong&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-gradle&#34;&gt;dependencies {&#xA;  ...&#xA;  implementation &#39;com.github.hegaojian:JetpackMvvm:1.2.7&#39;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;strong&gt;1.3 åœ¨app&#39;s build.gradleä¸­ï¼Œandroid æ¨¡å—ä¸‹æŒ‰éœ€å¼€å¯DataBindingä¸ViewBinding&lt;/strong&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-gradle&#34;&gt;AndroidStudio 4.0 ä»¥ä¸‹ç‰ˆæœ¬------&amp;gt;&#xA;android {&#xA;    ...&#xA;    dataBinding {&#xA;        enabled = true &#xA;    }&#xA;    viewBinding {&#xA;        enabled = true&#xA;    }&#xA;}&#xA;&#xA;AndroidStudio 4.0åŠä»¥ä¸Šç‰ˆæœ¬ ------&amp;gt;&#xA;android {&#xA;    ...&#xA;   buildFeatures {&#xA;        dataBinding = true&#xA;        viewBinding = true&#xA;    }&#xA;}&#xA; &#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;2.ç»§æ‰¿åŸºç±»&lt;/h2&gt; &#xA;&lt;p&gt;ä¸€èˆ¬æˆ‘ä»¬é¡¹ç›®ä¸­éƒ½ä¼šæœ‰ä¸€å¥—è‡ªå·±å®šä¹‰çš„ç¬¦åˆä¸šåŠ¡éœ€æ±‚çš„åŸºç±» &lt;em&gt;&lt;strong&gt;BaseActivity/BaseFragment&lt;/strong&gt;&lt;/em&gt;ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„åŸºç±»éœ€è¦&lt;strong&gt;ç»§æ‰¿æœ¬æ¡†æ¶çš„Baseç±»&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;ä¸æƒ³ç”¨Databindingä¸ViewBinding-------å¯ä»¥ç»§æ‰¿ BaseVmActivity/BaseVmFragment&lt;/li&gt; &#xA; &lt;li&gt;ç”¨Databinding-----------å¯ä»¥ç»§æ‰¿BaseVmDbActivity/BaseVmDbFragment**&lt;/li&gt; &#xA; &lt;li&gt;ç”¨Viewbinding-----------å¯ä»¥ç»§æ‰¿BaseVmVbActivity/BaseVmVbFragment**&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;&lt;strong&gt;Activityï¼š&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;abstract class BaseActivity&amp;lt;VM : BaseViewModel, DB : ViewDataBinding&amp;gt; : BaseVmDbActivity&amp;lt;VM, DB&amp;gt;() {&#xA;     /**&#xA;     * å½“å‰Activityç»‘å®šçš„è§†å›¾å¸ƒå±€Id abstractä¿®é¥°ä¾›å­ç±»å®ç°&#xA;     */&#xA;    abstract override fun layoutId(): Int&#xA;    /**&#xA;     * å½“å‰Activitycåˆ›å»ºåè°ƒç”¨çš„æ–¹æ³• abstractä¿®é¥°ä¾›å­ç±»å®ç°&#xA;     */&#xA;    abstract override fun initView(savedInstanceState: Bundle?)&#xA;&#xA;    /**&#xA;     * åˆ›å»ºliveDataæ•°æ®è§‚å¯Ÿ&#xA;     */&#xA;    override override fun createObserver()&#xA;&#xA;&#xA;    /**&#xA;     * æ‰“å¼€ç­‰å¾…æ¡† åœ¨è¿™é‡Œå®ç°ä½ çš„ç­‰å¾…æ¡†å±•ç¤º&#xA;     */&#xA;    override fun showLoading(message: String) {&#xA;       ...&#xA;    }&#xA;&#xA;    /**&#xA;     * å…³é—­ç­‰å¾…æ¡† åœ¨è¿™é‡Œå®ç°ä½ çš„ç­‰å¾…æ¡†å…³é—­&#xA;     */&#xA;    override fun dismissLoading() {&#xA;       ...&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;strong&gt;Fragmentï¼š&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;abstract class BaseFragment&amp;lt;VM : BaseViewModel,DB:ViewDataBinding&amp;gt; : BaseVmDbFragment&amp;lt;VM,DB&amp;gt;() {&#xA;   &#xA;    abstract override fun initView(savedInstanceState: Bundle?)&#xA;&#xA;    /**&#xA;     * æ‡’åŠ è½½ åªæœ‰å½“å‰fragmentè§†å›¾æ˜¾ç¤ºæ—¶æ‰ä¼šè§¦å‘è¯¥æ–¹æ³• abstractä¿®é¥°ä¾›å­ç±»å®ç°&#xA;     */&#xA;    abstract override fun lazyLoadData()&#xA;&#xA;    /**&#xA;     * åˆ›å»ºliveDataæ•°æ®è§‚å¯Ÿ æ‡’åŠ è½½ä¹‹åæ‰ä¼šè§¦å‘&#xA;     */&#xA;    override override fun createObserver()&#xA;  &#xA;    /**&#xA;     * Fragmentæ‰§è¡ŒonViewCreatedåè§¦å‘çš„æ–¹æ³• &#xA;     */&#xA;    override fun initData() {&#xA;&#xA;    }&#xA;    &#xA;   /**&#xA;     * æ‰“å¼€ç­‰å¾…æ¡† åœ¨è¿™é‡Œå®ç°ä½ çš„ç­‰å¾…æ¡†å±•ç¤º&#xA;     */&#xA;    override fun showLoading(message: String) {&#xA;       ...&#xA;    }&#xA;&#xA;    /**&#xA;     * å…³é—­ç­‰å¾…æ¡† åœ¨è¿™é‡Œå®ç°ä½ çš„ç­‰å¾…æ¡†å…³é—­&#xA;     */&#xA;    override fun dismissLoading() {&#xA;       ...&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;3.ç¼–å†™ä¸€ä¸ªç™»å½•åŠŸèƒ½&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;strong&gt;3.1 åˆ›å»ºLoginViewModelç±»ç»§æ‰¿BaseViewModel&lt;/strong&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;class LoginViewModel : BaseViewModel() {&#xA;  &#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;strong&gt;3.2 åˆ›å»ºLoginFragment ç»§æ‰¿åŸºç±»ä¼ å…¥ç›¸å…³æ³›å‹,ç¬¬ä¸€ä¸ªæ³›å‹ä¸ºä½ åˆ›å»ºçš„LoginViewModel,ç¬¬äºŒä¸ªæ³›å‹ä¸ºViewDataBindï¼Œä¿å­˜fragment_login.xmlådatabindingä¼šç”Ÿæˆä¸€ä¸ªFragmentLoginBindingç±»ã€‚ï¼ˆå¦‚æœæ²¡æœ‰ç”Ÿæˆï¼Œè¯•ç€ç‚¹å‡»Build-&amp;gt;Clean Projectï¼‰&lt;/strong&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class LoginFragment : BaseFragment&amp;lt;LoginViewModel, FragmentLoginBinding&amp;gt;() {&#xA;    &#xA;    /**&#xA;     *  åˆå§‹åŒ–æ“ä½œ&#xA;     */&#xA;    override fun initView(savedInstanceState: Bundle?) {&#xA;        ...&#xA;    }&#xA;    &#xA;    /**&#xA;     *  fragment æ‡’åŠ è½½&#xA;     */&#xA;    override fun lazyLoadData() { &#xA;        ...&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;4.ç½‘ç»œè¯·æ±‚ï¼ˆRetrofit+åç¨‹ï¼‰&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;strong&gt;4.1 æ–°å»ºè¯·æ±‚é…ç½®ç±»ç»§æ‰¿ BaseNetworkApi ç¤ºä¾‹ï¼š&lt;/strong&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class NetworkApi : BaseNetworkApi() {&#xA;&#xA;   companion object {&#xA;         &#xA;        val instance: NetworkApi by lazy(mode = LazyThreadSafetyMode.SYNCHRONIZED) { NetworkApi() }&#xA;&#xA;        //åŒé‡æ ¡éªŒé”å¼-å•ä¾‹ å°è£…NetApiService æ–¹ä¾¿ç›´æ¥å¿«é€Ÿè°ƒç”¨&#xA;        val service: ApiService by lazy(mode = LazyThreadSafetyMode.SYNCHRONIZED) {&#xA;            instance.getApi(ApiService::class.java, ApiService.SERVER_URL)&#xA;        }&#xA;    }&#xA;   &#xA;    /**&#xA;     * å®ç°é‡å†™çˆ¶ç±»çš„setHttpClientBuilderæ–¹æ³•ï¼Œ&#xA;     * åœ¨è¿™é‡Œå¯ä»¥æ·»åŠ æ‹¦æˆªå™¨ï¼Œå¯ä»¥å¯¹ OkHttpClient.Builder åšä»»æ„ä½ æƒ³è¦åšçš„éªšæ“ä½œ&#xA;     */&#xA;    override fun setHttpClientBuilder(builder: OkHttpClient.Builder): OkHttpClient.Builder {&#xA;        builder.apply {&#xA;            //ç¤ºä¾‹ï¼šæ·»åŠ å…¬å…±headsï¼Œå¯ä»¥å­˜æ”¾tokenï¼Œå…¬å…±å‚æ•°ç­‰ï¼Œ æ³¨æ„è¦è®¾ç½®åœ¨æ—¥å¿—æ‹¦æˆªå™¨ä¹‹å‰ï¼Œä¸ç„¶Logä¸­ä¼šä¸æ˜¾ç¤ºheadä¿¡æ¯&#xA;            addInterceptor(MyHeadInterceptor())&#xA;            // æ—¥å¿—æ‹¦æˆªå™¨&#xA;            addInterceptor(LogInterceptor())&#xA;            //è¶…æ—¶æ—¶é—´ è¿æ¥ã€è¯»ã€å†™&#xA;            connectTimeout(10, TimeUnit.SECONDS)&#xA;            readTimeout(5, TimeUnit.SECONDS)&#xA;            writeTimeout(5, TimeUnit.SECONDS)&#xA;        }&#xA;        return builder&#xA;    }&#xA;&#xA;    /**&#xA;     * å®ç°é‡å†™çˆ¶ç±»çš„setRetrofitBuilderæ–¹æ³•ï¼Œ&#xA;     * åœ¨è¿™é‡Œå¯ä»¥å¯¹Retrofit.Builderåšä»»æ„éªšæ“ä½œï¼Œæ¯”å¦‚æ·»åŠ GSONè§£æå™¨ï¼Œprotobufç­‰&#xA;     */&#xA;    override fun setRetrofitBuilder(builder: Retrofit.Builder): Retrofit.Builder {&#xA;        return builder.apply {&#xA;            addConverterFactory(GsonConverterFactory.create(GsonBuilder().create()))&#xA;            addCallAdapterFactory(CoroutineCallAdapterFactory())&#xA;        }&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;strong&gt;4.2å¦‚æœä½ è¯·æ±‚æœåŠ¡å™¨è¿”å›çš„æ•°æ®æœ‰åŸºç±»ï¼ˆæ²¡æœ‰å¯å¿½ç•¥è¿™ä¸€æ­¥ï¼‰ä¾‹å¦‚:&lt;/strong&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;{&#xA;    &#34;data&#34;: ...,&#xA;    &#34;errorCode&#34;: 0,&#xA;    &#34;errorMsg&#34;: &#34;&#34;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;è¯¥ç¤ºä¾‹æ ¼å¼æ˜¯ &lt;a href=&#34;https://www.wanandroid.com/blog/show/2&#34;&gt;ç©Android Api&lt;/a&gt;è¿”å›çš„æ•°æ®æ ¼å¼ï¼Œå¦‚æœerrorCodeç­‰äº0 è¯·æ±‚æˆåŠŸï¼Œå¦åˆ™è¯·æ±‚å¤±è´¥ ä½œä¸ºå¼€å‘è€…çš„è§’åº¦æ¥è¯´ï¼Œæˆ‘ä»¬ä¸»è¦æ˜¯æƒ³å¾—åˆ°è„±å£³æ•°æ®-dataï¼Œä¸”ä¸æƒ³æ¯æ¬¡éƒ½åˆ¤æ–­errorCode==0è¯·æ±‚æ˜¯å¦æˆåŠŸæˆ–å¤±è´¥ è¿™æ—¶æˆ‘ä»¬å¯ä»¥åœ¨æœåŠ¡å™¨è¿”å›æ•°æ®åŸºç±»ä¸­ç»§æ‰¿BaseResponseï¼Œå®ç°ç›¸å…³æ–¹æ³•ï¼š&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;data class ApiResponse&amp;lt;T&amp;gt;(var errorCode: Int, var errorMsg: String, var data: T) : BaseResponse&amp;lt;T&amp;gt;() {&#xA;&#xA;    // è¿™é‡Œæ˜¯ç¤ºä¾‹ï¼Œwanandroid ç½‘ç«™è¿”å›çš„ é”™è¯¯ç ä¸º 0 å°±ä»£è¡¨è¯·æ±‚æˆåŠŸï¼Œè¯·ä½ æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡éœ€æ±‚æ¥ç¼–å†™&#xA;    override fun isSucces() = errorCode == 0&#xA;&#xA;    override fun getResponseCode() = errorCode&#xA;&#xA;    override fun getResponseData() = data&#xA;&#xA;    override fun getResponseMsg() = errorMsg&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;strong&gt;4.3 åœ¨ViewModelä¸­å‘èµ·è¯·æ±‚ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½æ˜¯åœ¨viewModelScopeä¸­å¯åŠ¨ï¼Œè¯·æ±‚ä¼šå‘ç”Ÿåœ¨IOçº¿ç¨‹ï¼Œæœ€ç»ˆå›è°ƒåœ¨ä¸»çº¿ç¨‹ä¸Šï¼Œå½“é¡µé¢é”€æ¯çš„æ—¶å€™ï¼Œè¯·æ±‚ä¼šç»Ÿä¸€å–æ¶ˆï¼Œä¸ç”¨æ‹…å¿ƒå†…å­˜æ³„éœ²çš„é£é™©ï¼Œæ¡†æ¶åšäº†2ç§è¯·æ±‚ä½¿ç”¨æ–¹å¼&lt;/strong&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;&lt;strong&gt;1ã€å°†è¯·æ±‚æ•°æ®åŒ…è£…ç»™ResultStateï¼Œåœ¨Activity/Fragmentä¸­å»ç›‘å¬ResultStateæ‹¿åˆ°æ•°æ®åšå¤„ç†&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class RequestLoginViewModel: BaseViewModel {&#xA;&#xA;  //è‡ªåŠ¨è„±å£³è¿‡æ»¤å¤„ç†è¯·æ±‚ç»“æœï¼Œè‡ªåŠ¨åˆ¤æ–­ç»“æœæ˜¯å¦æˆåŠŸ&#xA;    var loginResult = MutableLiveData&amp;lt;ResultState&amp;lt;UserInfo&amp;gt;&amp;gt;()&#xA;    &#xA;  //ä¸ç”¨æ¡†æ¶å¸®è„±å£³&#xA;    var loginResult2 = MutableLiveData&amp;lt;ResultState&amp;lt;ApiResponse&amp;lt;UserInfo&amp;gt;&amp;gt;&amp;gt;()&#xA;    &#xA;  fun login(username: String, password: String){&#xA;   //1.åœ¨ Activity/Fragmentçš„ç›‘å¬å›è°ƒä¸­æ‹¿åˆ°å·²è„±å£³çš„æ•°æ®ï¼ˆé¡¹ç›®æœ‰åŸºç±»çš„å¯ä»¥ç”¨ï¼‰&#xA;        request(&#xA;            { HttpRequestCoroutine.login(username, password) }, //è¯·æ±‚ä½“&#xA;            loginResult,//è¯·æ±‚çš„ç»“æœæ¥æ”¶è€…ï¼Œè¯·æ±‚æˆåŠŸä¸å¦éƒ½ä¼šæ”¹å˜è¯¥å€¼ï¼Œåœ¨Activityæˆ–fragmentä¸­ç›‘å¬å›è°ƒç»“æœï¼Œå…·ä½“å¯çœ‹loginActivityä¸­çš„å›è°ƒ&#xA;            true,//æ˜¯å¦æ˜¾ç¤ºç­‰å¾…æ¡†ï¼Œï¼Œé»˜è®¤falseä¸æ˜¾ç¤º å¯ä»¥é»˜è®¤ä¸ä¼ &#xA;            &#34;æ­£åœ¨ç™»å½•ä¸­...&#34;//ç­‰å¾…æ¡†å†…å®¹ï¼Œå¯ä»¥é»˜è®¤ä¸å¡«è¯·æ±‚ç½‘ç»œä¸­...&#xA;        )&#xA;        &#xA;   //2.åœ¨Activity/Fragmentä¸­çš„ç›‘å¬æ‹¿åˆ°æœªè„±å£³çš„æ•°æ®ï¼Œä½ å¯ä»¥è‡ªå·±æ ¹æ®codeåšä¸šåŠ¡éœ€æ±‚æ“ä½œï¼ˆé¡¹ç›®æ²¡æœ‰åŸºç±»çš„å¯ä»¥ç”¨ï¼‰&#xA;        requestNoCheck(&#xA;          {HttpRequestCoroutine.login(username,password)},&#xA;          loginResult2,&#xA;          true,&#xA;          &#34;æ­£åœ¨ç™»å½•ä¸­...&#34;) &#xA;}&#xA;&#xA;&#xA;class LoginFragment : BaseFragment&amp;lt;LoginViewModel, FragmentLoginBinding&amp;gt;() {&#xA;    &#xA;    private val requestLoginRegisterViewModel: RequestLoginRegisterViewModel by viewModels()&#xA;    &#xA;    /**&#xA;     *  åˆå§‹åŒ–æ“ä½œ&#xA;     */&#xA;    override fun initView(savedInstanceState: Bundle?) {&#xA;        ...&#xA;    }&#xA;    &#xA;    /**&#xA;     *  fragment æ‡’åŠ è½½&#xA;     */&#xA;    override fun lazyLoadData() { &#xA;        ...&#xA;    }&#xA;    &#xA;    override fun createObserver(){&#xA;      //è„±å£³&#xA;       requestLoginRegisterViewModel.loginResult.observe(viewLifecycleOwner,&#xA;            Observer { resultState -&amp;gt;&#xA;                parseState(resultState, {&#xA;                    //ç™»å½•æˆåŠŸ æ‰“å°ç”¨æˆ·&#xA;                    it.username.logd()&#xA;                }, {&#xA;                    //ç™»å½•å¤±è´¥(ç½‘ç»œè¿æ¥é—®é¢˜ï¼ŒæœåŠ¡å™¨çš„ç»“æœç ä¸æ­£ç¡®...å¼‚å¸¸éƒ½ä¼šèµ°åœ¨è¿™é‡Œ)&#xA;                    showMessage(it.errorMsg)&#xA;                })&#xA;            })&#xA;    &#xA;       //ä¸è„±å£³&#xA;       requestLoginRegisterViewModel.loginResult2.observe(viewLifecycleOwner, Observer {resultState -&amp;gt;&#xA;               parseState(resultState,{&#xA;                   if(it.errorCode==0){&#xA;                       //ç™»å½•æˆåŠŸ æ‰“å°ç”¨æˆ·å&#xA;                       it.data.username.logd()&#xA;                   }else{&#xA;                       //ç™»å½•å¤±è´¥&#xA;                       showMessage(it.errorMsg)&#xA;                   }&#xA;               },{&#xA;                   //è¯·æ±‚å‘ç”Ÿäº†å¼‚å¸¸&#xA;                   showMessage(it.errorMsg)&#xA;               })&#xA;           })&#xA;   } &#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;strong&gt;2ã€ ç›´æ¥åœ¨å½“å‰ViewModelä¸­æ‹¿åˆ°è¯·æ±‚ç»“æœ&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class RequestLoginViewModel : BaseViewModel() {&#xA;    &#xA;  fun login(username: String, password: String){&#xA;   //1.æ‹¿åˆ°å·²è„±å£³çš„æ•°æ®ï¼ˆé¡¹ç›®æœ‰åŸºç±»çš„å¯ä»¥ç”¨ï¼‰&#xA;     request({HttpRequestCoroutine.login(username,password)},{&#xA;             //è¯·æ±‚æˆåŠŸ å·²è‡ªåŠ¨å¤„ç†äº† è¯·æ±‚ç»“æœæ˜¯å¦æ­£å¸¸&#xA;             it.username.logd()&#xA;         },{&#xA;             //è¯·æ±‚å¤±è´¥ ç½‘ç»œå¼‚å¸¸ï¼Œæˆ–è€…è¯·æ±‚ç»“æœç é”™è¯¯éƒ½ä¼šå›è°ƒåœ¨è¿™é‡Œ&#xA;             it.errorMsg.logd()&#xA;         },true,&#34;æ­£åœ¨ç™»å½•ä¸­...&#34;)&#xA;        &#xA;   //2.æ‹¿åˆ°æœªè„±å£³çš„æ•°æ®ï¼Œä½ å¯ä»¥è‡ªå·±æ ¹æ®codeåšä¸šåŠ¡éœ€æ±‚æ“ä½œï¼ˆé¡¹ç›®æ²¡æœ‰åŸºç±»æˆ–è€…ä¸æƒ³æ¡†æ¶å¸®å¿™è„±å£³çš„å¯ä»¥ç”¨ï¼‰&#xA;       requestNoCheck({HttpRequestCoroutine.login(username,password)},{&#xA;            //è¯·æ±‚æˆåŠŸ è‡ªå·±æ‹¿åˆ°æ•°æ®åšä¸šåŠ¡éœ€æ±‚æ“ä½œ&#xA;            if(it.errorCode==0){&#xA;                //ç»“æœæ­£ç¡®&#xA;                it.data.username.logd()&#xA;            }else{&#xA;                //ç»“æœé”™è¯¯&#xA;                it.errorMsg.logd()&#xA;            }&#xA;        },{&#xA;            //è¯·æ±‚å¤±è´¥ ç½‘ç»œå¼‚å¸¸å›è°ƒåœ¨è¿™é‡Œ&#xA;            it.errorMsg.logd()&#xA;        },true,&#34;æ­£åœ¨ç™»å½•ä¸­...&#34;)&#xA;}&#xA; &#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;æ³¨æ„ï¼šä½¿ç”¨è¯¥è¯·æ±‚æ–¹å¼æ—¶éœ€è¦æ³¨æ„ï¼Œå¦‚æœè¯¥ViewModelå¹¶ä¸æ˜¯è·ŸActivity/Fragmentç»‘å®šçš„æ³›å‹ViewModelï¼Œè€Œæ˜¯&lt;/h3&gt; &#xA;&lt;p&gt;val mainViewModel:MainViewModel by viewModels() æˆ–è€… val mainViewModelï¼šMainViewModel by activityViewModels() è·å–çš„ å¦‚æœè¯·æ±‚æ—¶è¦å¼¹å‡ºloadingï¼Œä½ éœ€è¦åœ¨Activity | Fragmentä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š&lt;/p&gt; &#xA;&lt;h3&gt;addLoadingObserve(viewModel)&lt;/h3&gt; &#xA;&lt;h2&gt;4.4 å¼€å¯æ‰“å°æ—¥å¿—å¼€å…³&lt;/h2&gt; &#xA;&lt;p&gt;è®¾ç½®å…¨å±€jetpackMvvmLogå˜é‡ æ˜¯å¦æ‰“å¼€è¯·æ±‚æ—¥å¿—ï¼Œé»˜è®¤falseä¸æ‰“å°ï¼Œå¦‚éœ€è¦æ‰“å°æ—¥å¿—åŠŸèƒ½ï¼Œè¯·è®¾å€¼ä¸º true&lt;/p&gt; &#xA;&lt;h2&gt;5.è·å–ViewModel&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;strong&gt;5.1æˆ‘ä»¬çš„activity/fragmentä¼šæœ‰å¤šä¸ªViewModelï¼ŒæŒ‰ä¼ ç»Ÿçš„å†™æ³•æ„Ÿè§‰æœ‰ç‚¹ç´¯&lt;/strong&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt; val mainViewModel = ViewModelProvider(this,&#xA;            ViewModelProvider.AndroidViewModelFactory(application)).get(MainViewModel::class.java)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;**ç°åœ¨å®˜æ–¹Ktxæœ‰æ‹“å±•å‡½æ•°å¯ä»¥è½»æ¾è°ƒç”¨&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;//åœ¨activityä¸­è·å–å½“å‰Activityçº§åˆ«ä½œç”¨åŸŸçš„ViewModel&#xA; private val mainViewModel:MainViewModel by viewModels()&#xA; &#xA;//åœ¨activityä¸­è·å–Applicationçº§åˆ«ä½œç”¨åŸŸçš„ViewModelï¼ˆæ³¨ï¼Œè¿™ä¸ªæ˜¯æœ¬æ¡†æ¶æä¾›çš„ï¼ŒApplicationç±»ç»§æ‰¿æ¡†æ¶çš„BaseAppæ‰æœ‰ç”¨ï¼‰&#xA; private val mainViewModel by lazy { getAppViewModel&amp;lt;MainViewModel&amp;gt;()}&#xA;&#xA;//åœ¨fragmentä¸­è·å–å½“å‰Fragmentçº§åˆ«ä½œç”¨åŸŸçš„ViewModel&#xA; private val mainViewModel:MainViewModel by viewModels()&#xA;&#xA;//åœ¨fragmentä¸­è·å–çˆ¶ç±»Activityçº§åˆ«ä½œç”¨åŸŸçš„ViewModel&#xA;private val mainViewModelï¼šMainViewModel by activityViewModels()&#xA;&#xA;//åœ¨fragmentä¸­è·å–Applicationçº§åˆ«ä½œç”¨åŸŸçš„ViewModelï¼ˆæ³¨ï¼Œè¿™ä¸ªæ˜¯æœ¬æ¡†æ¶æä¾›çš„ï¼ŒApplicationç±»ç»§æ‰¿æ¡†æ¶çš„BaseAppæ‰æœ‰ç”¨ï¼‰&#xA;private val mainViewModel by lazy { getAppViewModel&amp;lt;MainViewModel&amp;gt;()}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;6.å†™äº†ä¸€äº›å¸¸ç”¨çš„æ‹“å±•å‡½æ•°&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt; ç®—äº†ä¸å†™äº†ï¼Œè¿™ä¸ªä¸é‡è¦ï¼Œæƒ³å…·ä½“çœ‹çš„è¯å¯ä»¥åœ¨&#xA; me.hgj.jetpackmvvm.ext.util&#xA; me.hgj.jetpackmvvm.ext.view&#xA; çš„åŒ…ä¸­çœ‹ï¼Œåæ­£ä½ ä¹Ÿå¯ä»¥è‡ªå·±å†™ï¼ŒæŒ‰ç…§è‡ªå·±çš„å–œå¥½ä¸éœ€æ±‚æ¥&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;7.æ··æ·†&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;-keep class me.hgj.jetpackmvvm.**{*;}&#xA;################ ViewBinding &amp;amp; DataBinding ###############&#xA;-keepclassmembers class * implements androidx.viewbinding.ViewBinding {&#xA;  public static * inflate(android.view.LayoutInflater);&#xA;  public static * inflate(android.view.LayoutInflater, android.view.ViewGroup, boolean);&#xA;  public static * bind(android.view.View);&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;æ„Ÿè°¢&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/KunMinX/Jetpack-MVVM-Best-Practice&#34;&gt;Jetpack-MVVM-Best-Practice&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://xiaozhuanlan.com/kunminx?rel=8184827882&#34;&gt;é‡å­¦å®‰å“&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;è”ç³»&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;QQäº¤æµç¾¤ï¼š419581249&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;License&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-license&#34;&gt; Copyright 2019, hegaojian(ä½•é«˜å»º)       &#xA;  &#xA;   Licensed under the Apache License, Version 2.0 (the &#34;License&#34;);&#xA;   you may not use this file except in compliance with the License.&#xA;   You may obtain a copy of the License at &#xA; &#xA;       http://www.apache.org/licenses/LICENSE-2.0 &#xA;&#xA;   Unless required by applicable law or agreed to in writing, software&#xA;   distributed under the License is distributed on an &#34;AS IS&#34; BASIS,&#xA;   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&#xA;   See the License for the specific language governing permissions and&#xA;   limitations under the License.&#xA;&lt;/code&gt;&lt;/pre&gt;</summary>
  </entry>
  <entry>
    <title>zhaobozhen/LibChecker</title>
    <updated>2022-08-17T01:48:24Z</updated>
    <id>tag:github.com,2022-08-17:/zhaobozhen/LibChecker</id>
    <link href="https://github.com/zhaobozhen/LibChecker" rel="alternate"></link>
    <summary type="html">&lt;p&gt;An app to view libraries used in apps in your device.&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;LibChecker&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/zhaobozhen/LibChecker/actions/workflows/android.yml&#34;&gt;&lt;img src=&#34;https://github.com/zhaobozhen/LibChecker/actions/workflows/android.yml/badge.svg?sanitize=true&#34; alt=&#34;Android CI&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://choosealicense.com/licenses/apache-2.0/&#34;&gt;&lt;img src=&#34;https://img.shields.io/github/license/zhaobozhen/LibChecker?label=License&#34; alt=&#34;License&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://t.me/libcheckerr&#34;&gt;&lt;img src=&#34;https://img.shields.io/badge/Telegram-Group-blue.svg?logo=telegram&#34; alt=&#34;Discussion&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/zhaobozhen/LibChecker/master/source/header.png&#34; alt=&#34;Header&#34;&gt;&lt;/p&gt; &#xA;&lt;h2&gt;What&#39;s this?&lt;/h2&gt; &#xA;&lt;p&gt;This app is used to view the third-party libraries used by applications in your device. It can view the ABI architecture of the application&#39;s native library (in general, whether the application is 64-bit or 32-bit). It can also view well-known libraries marked by &lt;a href=&#34;https://github.com/zhaobozhen/LibChecker-Rules&#34;&gt;The Rule Repository&lt;/a&gt;, and can even sort and view them according to the number of libraries references.&lt;/p&gt; &#xA;&lt;h2&gt;Supported Versions&lt;/h2&gt; &#xA;&lt;p&gt;Android 7.0 ~ 13 Beta 4&lt;/p&gt; &#xA;&lt;p&gt;Android 6 &lt;a href=&#34;https://github.com/zhaobozhen/LibChecker/tree/marshmallow&#34;&gt;Marshmallow&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Document&lt;/h2&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/zhaobozhen/LibChecker-Docs&#34;&gt;LibChecker-Docs&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Download&lt;/h2&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://www.coolapk.com/apk/com.absinthe.libchecker&#34;&gt;&lt;img src=&#34;https://raw.githubusercontent.com/zhaobozhen/LibChecker/master/source/coolapk-badge.png&#34; width=&#34;323&#34; height=&#34;125&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://play.google.com/store/apps/details?id=com.absinthe.libchecker&#34;&gt;&lt;img src=&#34;https://raw.githubusercontent.com/zhaobozhen/LibChecker/master/source/google-play-badge.png&#34; width=&#34;323&#34; height=&#34;125&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://f-droid.org/packages/com.absinthe.libchecker/&#34;&gt;&lt;img src=&#34;https://fdroid.gitlab.io/artwork/badge/get-it-on.png&#34; width=&#34;323&#34; height=&#34;125&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Discussions&lt;/h2&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/zhaobozhen/LibChecker/discussions&#34;&gt;Github Discussions&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h3&gt;Telegram Group&lt;/h3&gt; &#xA;&lt;img src=&#34;https://raw.githubusercontent.com/zhaobozhen/LibChecker/master/source/tg_group_dark.png#gh-dark-mode-only&#34; width=&#34;240&#34; height=&#34;240&#34;&gt; &#xA;&lt;img src=&#34;https://raw.githubusercontent.com/zhaobozhen/LibChecker/master/source/tg_group_light.png#gh-light-mode-only&#34; width=&#34;240&#34; height=&#34;240&#34;&gt;</summary>
  </entry>
</feed>