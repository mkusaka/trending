<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Kotlin Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2022-12-05T01:35:45Z</updated>
  <subtitle>Daily Trending of Kotlin in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android</title>
    <updated>2022-12-05T01:35:45Z</updated>
    <id>tag:github.com,2022-12-05:/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android</id>
    <link href="https://github.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android" rel="alternate"></link>
    <summary type="html">&lt;p&gt;üéì Learning Kotlin Coroutines and Flows for Android by example. üöÄ Sample implementations for real-world Android use cases. üõ† Unit tests included!&lt;/p&gt;&lt;hr&gt;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/documentation/images/Logo-new.png&#34; alt=&#34;CoroutineUsecasesOnAndroid&#34;&gt;&lt;/p&gt; &#xA;&lt;h1&gt;Kotlin Coroutines and Flow - Use Cases on Android&lt;/h1&gt; &#xA;&lt;p&gt;üéì Learning Kotlin Coroutines and Flows for Android Development by Example&lt;/p&gt; &#xA;&lt;p&gt;üöÄ Sample implementations for real-world Android use cases&lt;/p&gt; &#xA;&lt;p&gt;üõ† Unit tests included!&lt;/p&gt; &#xA;&lt;p&gt;This repository is intended to be a &#34;Playground Project&#34;. You can quickly look up and play around with the different Coroutine and Flow Android implementations. In the &lt;code&gt;playground&lt;/code&gt; package you can play around with Coroutines and Flow examples that run directly on the JVM.&lt;/p&gt; &#xA;&lt;h2&gt;üîß Project Setup&lt;/h2&gt; &#xA;&lt;p&gt;Every use case is using its own &lt;code&gt;Activity&lt;/code&gt; and &lt;code&gt;JetPack ViewModel&lt;/code&gt;. The &lt;code&gt;ViewModel&lt;/code&gt;s contain most of the interesting Coroutine-related code. &lt;code&gt;Activities&lt;/code&gt; listen to &lt;code&gt;LiveData&lt;/code&gt; or &lt;code&gt;StateFlow&lt;/code&gt; events of the &lt;code&gt;ViewModel&lt;/code&gt; and render received &lt;code&gt;UiState&lt;/code&gt;s.&lt;/p&gt; &#xA;&lt;p&gt;This project is using retrofit/okhttp together with a &lt;code&gt;MockNetworkInterceptor&lt;/code&gt;. This lets you define how the API should behave. Everything can be configured: http status codes, response data and delays. Every use case defines a certain behaviour of the Mock API. The API has 2 endpoints. One returns the names of the most recent Android versions and the other one returns the features of a certain Android version.&lt;/p&gt; &#xA;&lt;p&gt;Unit Tests exist for most use cases.&lt;/p&gt; &#xA;&lt;h2&gt;üçøÔ∏è Related Videos&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Kotlin Flow on Android Basics Playlist [&lt;a href=&#34;https://youtube.com/playlist?list=PL-1MzrWZIYU3McdBOEic_1nsy8Rw48xIO&#34;&gt;link&lt;/a&gt;]&lt;/li&gt; &#xA; &lt;li&gt;Kotlin Coroutines Fundamentals Playlist [&lt;a href=&#34;https://www.youtube.com/playlist?list=PL-1MzrWZIYU2a4TGbSXeXzfet8Br3cya1&#34;&gt;link&lt;/a&gt;]&lt;/li&gt; &#xA; &lt;li&gt;Kotlin Coroutines Exception Handling explained [&lt;a href=&#34;https://youtu.be/Pgek3_3vPU8&#34;&gt;link&lt;/a&gt;]&lt;/li&gt; &#xA; &lt;li&gt;How to avoid 5 common mistakes when using Kotlin Coroutines [&lt;a href=&#34;https://youtu.be/coq9XDMB-yU&#34;&gt;link&lt;/a&gt;]&lt;/li&gt; &#xA; &lt;li&gt;Best Practices for using Kotlin Coroutines in Android Development [&lt;a href=&#34;https://youtu.be/tVDCpjqQ1Ro&#34;&gt;link&lt;/a&gt;]&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;‚úçÔ∏è Related blog posts&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;7 Common Mistakes you might be making when using Kotlin Coroutines [&lt;a href=&#34;https://www.lukaslechner.com/7-common-mistakes-you-might-be-making-when-using-kotlin-coroutines/&#34;&gt;link&lt;/a&gt;]&lt;/li&gt; &#xA; &lt;li&gt;Why exception handling with Kotlin Coroutines is so hard and how to successfully master it! [&lt;a href=&#34;https://www.lukaslechner.com/why-exception-handling-with-kotlin-coroutines-is-so-hard-and-how-to-successfully-master-it/&#34;&gt;link&lt;/a&gt;]&lt;/li&gt; &#xA; &lt;li&gt;Kotlin Coroutines exception handling cheat sheet [&lt;a href=&#34;https://www.lukaslechner.com/coroutines-exception-handling-cheat-sheet/&#34;&gt;link&lt;/a&gt;]&lt;/li&gt; &#xA; &lt;li&gt;Understanding Kotlin Coroutines with this mental model [&lt;a href=&#34;https://www.lukaslechner.com/understanding-kotlin-coroutines-with-this-mental-model/&#34;&gt;link&lt;/a&gt;]&lt;/li&gt; &#xA; &lt;li&gt;Do I need to call suspend functions of Retrofit and Room on a background thread? [&lt;a href=&#34;https://www.lukaslechner.com/do-i-need-to-call-suspend-functions-of-retrofit-and-room-on-a-background-thread/&#34;&gt;link&lt;/a&gt;]&lt;/li&gt; &#xA; &lt;li&gt;Comparing Kotlin Coroutines with Callbacks and RxJava [&lt;a href=&#34;https://www.lukaslechner.com/comparing-kotlin-coroutines-with-callbacks-and-rxjava/&#34;&gt;link&lt;/a&gt;]&lt;/li&gt; &#xA; &lt;li&gt;How to run an expensive calculation with Kotlin Coroutines on the Android Main Thread without freezing the UI [&lt;a href=&#34;https://www.lukaslechner.com/how-to-run-an-expensive-calculation-with-kotlin-coroutines-on-the-android-main-thread-without-freezing-the-ui/&#34;&gt;link&lt;/a&gt;]&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Sign up to my &lt;a href=&#34;https://www.lukaslechner.com/newsletter/&#34;&gt;newsletter&lt;/a&gt; to never miss new content. I will publish new blog posts and videos about Coroutines and Flow on a regular basis.&lt;/p&gt; &#xA;&lt;h2&gt;üéì Online Course&lt;/h2&gt; &#xA;&lt;p&gt;This project is the foundation of a comprehensive Online Course about &lt;a href=&#34;https://lukaslechner.com/coroutines-flow-android?source=github&#34;&gt;Kotlin Coroutines and Flow for Android Development&lt;/a&gt; In the course, we are going to implement the use cases of this repository together, as well as talk about all the necessary concepts that you need to know.&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://lukaslechner.com/coroutines-flow-android?source=github&#34;&gt;&lt;img src=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/documentation/images/course.png&#34; alt=&#34;CourseCoroutinesOnAndroid&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;üì¢ Sharing is Caring&lt;/h2&gt; &#xA;&lt;p&gt;If you like this project, please tell other developers about it! ‚ù§Ô∏è&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://twitter.com/intent/tweet?url=https%3A%2F%2Fgithub.com%2FLukasLechnerDev%2FKotlin-Coroutine-Use-Cases-on-Android&amp;amp;text=This%20awesome%20example%20project%20shows%20how%20to%20implement%20the%20most%20common%20use%20cases%20for%20using%20Kotlin%20Coroutines%20for%20Android%20Development%21%20By%20@LukasLechnerDev&amp;amp;hashtags=%23AndroidDev%20%23Kotlin%20%23Coroutines&#34;&gt;&lt;img src=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/documentation/images/Twitter_bird_logo.png&#34; alt=&#34;Share on Twitter&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;If you like, you can follow me on Twitter &lt;a href=&#34;https://twitter.com/LukasLechnerDev&#34;&gt;&lt;strong&gt;@LukasLechnerDev&lt;/strong&gt;&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;‚≠êÔ∏è Coroutine Use Cases&lt;/h2&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/#1-perform-single-network-request&#34;&gt;Perform single network request&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/#2-perform-two-sequential-network-requests&#34;&gt;Perform two sequential network requests&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/#3-perform-several-network-requests-concurrently&#34;&gt;Perform several network requests concurrently&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/#4-perform-variable-amount-of-network-requests&#34;&gt;Perform variable amount of network requests&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/#5-perform-network-request-with-timeout&#34;&gt;Perform a network request with timeout&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/#6-retrying-network-requests&#34;&gt;Retrying network requests&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/#7-network-requests-with-timeout-and-retry&#34;&gt;Network requests with timeout and retry&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/#8-room-and-coroutines&#34;&gt;Room and Coroutines&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/#9-debugging-coroutines&#34;&gt;Debugging Coroutines&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/#10-offload-expensive-calculation-to-background-thread&#34;&gt;Offload expensive calculation to background thread&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/#11-cooperative-cancellation&#34;&gt;Cooperative Cancellation&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/#12-offload-expensive-calculation-to-several-coroutines&#34;&gt;Offload expensive calculation to several Coroutines&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/#13-exception-handling&#34;&gt;Exception Handling&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/#14-continue-coroutine-execution-when-the-user-leaves-the-screen&#34;&gt;Continue Coroutine execution even when the user leaves the screen&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/#15-using-workmanager-with-coroutines&#34;&gt;Using WorkManager with Coroutines&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/#16-performance-analysis-of-dispatchers-number-of-coroutines-and-yielding&#34;&gt;Performance analysis of dispatchers, number of coroutines and yielding&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/#17-perform-expensive-calculation-on-main-thread-without-freezing-the-ui&#34;&gt;Perform expensive calculation on Main Thread without freezing the UI&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h2&gt;‚≠ê Flow Use Cases&lt;/h2&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/#1-flow-basics&#34;&gt;Flow Basics&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/#2-basic-flow-intermediate-operators&#34;&gt;Basic Flow intermediate operators&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/#3-flow-exception-handling&#34;&gt;Flow Exception Handling&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/#4-exposing-flows-in-the-viewmodel&#34;&gt;Exposing Flows in the ViewModel&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h2&gt;üìÑ Coroutine Use Cases Description&lt;/h2&gt; &#xA;&lt;h3&gt;1. Perform single network request&lt;/h3&gt; &#xA;&lt;p&gt;This use case performs a single network request to get the latest Android Versions and displays them on the screen.&lt;/p&gt; &#xA;&lt;p&gt;[&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/coroutines/usecase1/PerformSingleNetworkRequestViewModel.kt&#34;&gt;code&lt;/a&gt;]&lt;/p&gt; &#xA;&lt;h3&gt;2. Perform two sequential network requests&lt;/h3&gt; &#xA;&lt;p&gt;This use case performs two network requests sequentially. First, it retrieves recent Android Versions and then it requests the features of the latest version.&lt;/p&gt; &#xA;&lt;p&gt;There are also 2 alternative implementations included. One is using old-school &lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/coroutines/usecase2/callbacks/SequentialNetworkRequestsCallbacksViewModel.kt&#34;&gt;callbacks&lt;/a&gt;. The other one uses &lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/coroutines/usecase2/rx/SequentialNetworkRequestsRxViewModel.kt&#34;&gt;RxJava&lt;/a&gt;. You can compare each implementation. If you compare all three implementations, it is really interesting to see, in my opinion, how simple the Coroutine-based version actually is.&lt;/p&gt; &#xA;&lt;p&gt;[&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/coroutines/usecase2/Perform2SequentialNetworkRequestsViewModel.kt&#34;&gt;code&lt;/a&gt;]&lt;/p&gt; &#xA;&lt;h3&gt;3. Perform several network requests concurrently&lt;/h3&gt; &#xA;&lt;p&gt;Performs three network requests concurrently. It loads the feature information of the 3 most recent Android Versions. Additionally, an implementation that performs the requests sequentially is included. The UI shows how much time each implementation takes to load the data so you can see that the network requests in the concurrent version are indeed performed in parallel. The included unit test is also interesting, as it shows how you can use virtual time to verify that the concurrent version gets performed in parallel.&lt;/p&gt; &#xA;&lt;p&gt;[&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/coroutines/usecase3/PerformNetworkRequestsConcurrentlyViewModel.kt&#34;&gt;code&lt;/a&gt;]&lt;/p&gt; &#xA;&lt;h3&gt;4. Perform variable amount of network requests&lt;/h3&gt; &#xA;&lt;p&gt;Demonstrates the simple usage of &lt;code&gt;map()&lt;/code&gt; to perform a dynamic amount of network requests. At first, this use case performs a network request to load all Android versions. Then it performs a network request for each Android version to load its features. It contains an implementation that performs the network requests sequentially and another one that performs them concurrently.&lt;/p&gt; &#xA;&lt;p&gt;[&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/coroutines/usecase4/VariableAmountOfNetworkRequestsViewModel.kt&#34;&gt;code&lt;/a&gt;]&lt;/p&gt; &#xA;&lt;h3&gt;5. Perform network request with timeout&lt;/h3&gt; &#xA;&lt;p&gt;This use case uses the suspending function &lt;code&gt;withTimeout()&lt;/code&gt; from the coroutines-core library. It throws a &lt;code&gt;TimeoutCancellationException&lt;/code&gt; if the timeout was exceeded. You can set the duration of the request in the UI and check the behaviour when the response time is bigger than the timeout.&lt;/p&gt; &#xA;&lt;p&gt;General networking timeouts can also be &lt;a href=&#34;https://square.github.io/okhttp/recipes/#timeouts-kt-java&#34;&gt;configured in the okhttp client&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;[&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/coroutines/usecase5/NetworkRequestWithTimeoutViewModel.kt&#34;&gt;code&lt;/a&gt;]&lt;/p&gt; &#xA;&lt;h3&gt;6. Retrying network requests&lt;/h3&gt; &#xA;&lt;p&gt;Demonstrates the usage of higher-order functions together with coroutines. The higher-order function &lt;code&gt;retry()&lt;/code&gt; retries a certain suspending operation for a given amount of times. It uses an exponential backoff for retries, which means that the delay between retries increases exponentially. The behavior of the Mock API is defined in a way that it responses with 2 unsuccessful responses followed by a successful response.&lt;/p&gt; &#xA;&lt;p&gt;[&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/coroutines/usecase6/RetryNetworkRequestViewModel.kt&#34;&gt;code&lt;/a&gt;]&lt;/p&gt; &#xA;&lt;p&gt;Unit tests verify the amount of requests that are performed in different scenarios. Furthermore, they check if the exponential backoff is working properly by asserting the amount of elapsed virtual time.&lt;/p&gt; &#xA;&lt;h3&gt;7. Network requests with timeout and retry&lt;/h3&gt; &#xA;&lt;p&gt;Composes higher level functions &lt;code&gt;retry()&lt;/code&gt; and &lt;code&gt;withTimeout()&lt;/code&gt;. Demonstrates how simple and readable code written with Coroutines can be. The mock API first responds after the timeout and then returns an unsuccessful response. The third attempt is then successful.&lt;/p&gt; &#xA;&lt;p&gt;Take a look at the included &lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/coroutines/usecase7/callbacks/TimeoutAndRetryCallbackViewModel.kt&#34;&gt;callback-based implementation&lt;/a&gt; to see how tricky this use case is to implement without Coroutines.&lt;/p&gt; &#xA;&lt;p&gt;I also implemented the use case with &lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/coroutines/usecase7/rx/TimeoutAndRetryRxViewModel.kt&#34;&gt;RxJava&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;[&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/coroutines/usecase7/TimeoutAndRetryViewModel.kt&#34;&gt;code&lt;/a&gt;]&lt;/p&gt; &#xA;&lt;h3&gt;8. Room and Coroutines&lt;/h3&gt; &#xA;&lt;p&gt;This example stores the response data of each network request in a Room database. This is essential for any &#34;offline-first&#34; app. If the &lt;code&gt;View&lt;/code&gt; requests data, the &lt;code&gt;ViewModel&lt;/code&gt; first checks if there is data available in the database. If so, this data is returned before performing a network request to get fresh data.&lt;/p&gt; &#xA;&lt;p&gt;[&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/coroutines/usecase8/RoomAndCoroutinesViewModel.kt&#34;&gt;code&lt;/a&gt;]&lt;/p&gt; &#xA;&lt;h3&gt;9. Debugging Coroutines&lt;/h3&gt; &#xA;&lt;p&gt;This is not really a use case, but I wanted to show how you can add additional debug information about the Coroutine that is currently running to your logs. It will add the Coroutine name next to the thread name when calling &lt;code&gt;Thread.currentThread.name()&lt;/code&gt; This is done by enabling Coroutine Debug mode by setting the property &lt;code&gt;kotlinx.coroutines.debug&lt;/code&gt; to &lt;code&gt;true&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;[&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/coroutines/usecase9/DebuggingCoroutinesViewModel.kt&#34;&gt;code&lt;/a&gt;]&lt;/p&gt; &#xA;&lt;h3&gt;10. Offload expensive calculation to background thread&lt;/h3&gt; &#xA;&lt;p&gt;This use case calculates the factorial of a number. The calculation is performed on a background thread using the default Dispatcher.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Attention: This use case does not support cancellation! UseCase#11 fixes this!&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;[&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/coroutines/usecase10/CalculationInBackgroundViewModel.kt&#34;&gt;code&lt;/a&gt;]&lt;/p&gt; &#xA;&lt;p&gt;In the respective unit test, we have to pass the testDispatcher to the ViewModel, so that the calculation is not performed on a background thread but on the main thread.&lt;/p&gt; &#xA;&lt;h3&gt;11. Cooperative cancellation&lt;/h3&gt; &#xA;&lt;p&gt;UseCase#10 has a problem. It is not able to prematurely cancel the calculation because it is not cooperative regarding cancellation. This leads to wasted device resources and memory leaks, as the calculation is not stopped and the ViewModel is retained longer than necessary. This use case now fixes this issue. The UI now also has a &#34;Cancel Calculation&#34; Button. Note: Only the calculation can be canceled prematurely but not the &lt;code&gt;toString()&lt;/code&gt; conversion.&lt;/p&gt; &#xA;&lt;p&gt;There are several ways to make your coroutines cooperative regarding cancellation: You can use either use &lt;code&gt;isActive()&lt;/code&gt;, &lt;code&gt;ensureActive()&lt;/code&gt; or &lt;code&gt;yield()&lt;/code&gt;. More information about cancellation can be found &lt;a href=&#34;https://medium.com/androiddevelopers/exceptions-in-coroutines-ce8da1ec060c&#34;&gt;here&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;[&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/coroutines/usecase11/CooperativeCancellationViewModel.kt&#34;&gt;code&lt;/a&gt;]&lt;/p&gt; &#xA;&lt;h3&gt;12. Offload expensive calculation to several Coroutines&lt;/h3&gt; &#xA;&lt;p&gt;The factorial calculation here is not performed by a single coroutine, but by a number of coroutines that can be defined in the UI. Each coroutine calculates the factorial of a sub-range.&lt;/p&gt; &#xA;&lt;p&gt;[&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/coroutines/usecase12/CalculationInSeveralCoroutinesViewModel.kt&#34;&gt;code viewmodel&lt;/a&gt;] [&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/coroutines/usecase12/FactorialCalculator.kt&#34;&gt;code factorial calculator&lt;/a&gt;]&lt;/p&gt; &#xA;&lt;h3&gt;13. Exception Handling&lt;/h3&gt; &#xA;&lt;p&gt;This use case demonstrates different ways of handling exceptions using &lt;code&gt;try/catch&lt;/code&gt; and &lt;code&gt;CoroutineExceptionHandler&lt;/code&gt;. It also demonstrates when you should use &lt;code&gt;supervisorScope{}&lt;/code&gt;: In situations when you don&#39;t want a failing coroutine to cancel its sibling coroutines. In one implementation of this use case, the results of the successful responses are shown even though one response wasn&#39;t successful.&lt;/p&gt; &#xA;&lt;p&gt;[&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/coroutines/usecase13/ExceptionHandlingViewModel.kt&#34;&gt;code&lt;/a&gt;]&lt;/p&gt; &#xA;&lt;h3&gt;14. Continue Coroutine execution when the user leaves the screen&lt;/h3&gt; &#xA;&lt;p&gt;Usually, when the user leaves the screen, the &lt;code&gt;ViewModel&lt;/code&gt; gets cleared and all the coroutines launched in &lt;code&gt;viewModelScope&lt;/code&gt; get canceled. Sometimes, however, we want a certain coroutine operation to be continued when the user leaves the screen. In this use case, the network request keeps running and the results still get inserted into the database cache when the user leaves the screen. This makes sense in real-world applications as we don&#39;t want to cancel an already started background &#34;cache sync&#34;.&lt;/p&gt; &#xA;&lt;p&gt;You can test this behavior in the UI by clearing the database, then loading the Android version and instantly closing the screen. You will see in LogCat that the response still gets executed and the result still gets stored. The respective unit test &lt;code&gt;AndroidVersionRepositoryTest&lt;/code&gt; also verifies this behavior. Check out this &lt;a href=&#34;https://medium.com/androiddevelopers/coroutines-patterns-for-work-that-shouldnt-be-cancelled-e26c40f142ad&#34;&gt;blogpost&lt;/a&gt; for details of the implementation.&lt;/p&gt; &#xA;&lt;p&gt;[&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/coroutines/usecase14/ContinueCoroutineWhenUserLeavesScreenViewModel.kt&#34;&gt;code viewmodel&lt;/a&gt;] [&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/coroutines/usecase14/AndroidVersionRepository.kt&#34;&gt;code repository&lt;/a&gt;]&lt;/p&gt; &#xA;&lt;h3&gt;15. Using WorkManager with Coroutines&lt;/h3&gt; &#xA;&lt;p&gt;Demonstrates how you can use WorkManager together with Coroutines. When creating a subclass of &lt;code&gt;CoroutineWorker&lt;/code&gt; instead of &lt;code&gt;Worker&lt;/code&gt;, the &lt;code&gt;doWork()&lt;/code&gt; function is now a &lt;code&gt;suspend function&lt;/code&gt; which means that we can now call other suspend functions. In this example, we are sending an analytics request when the user enters the screen, which is a nice use case for using WorkManager.&lt;/p&gt; &#xA;&lt;p&gt;[&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/coroutines/usecase15/WorkManagerViewModel.kt&#34;&gt;code viewmodel&lt;/a&gt;] [&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/coroutines/usecase15/AnalyticsWorker.kt&#34;&gt;code worker&lt;/a&gt;]&lt;/p&gt; &#xA;&lt;h3&gt;16. Performance analysis of dispatchers, number of coroutines and yielding&lt;/h3&gt; &#xA;&lt;p&gt;This is an extension of use case #12 (Offload expensive calculation to several coroutines). Here it is possible to additionally define the dispatcher type you want the calculation to be performed on. Additionally, you can enable or disable the call to &lt;code&gt;yield()&lt;/code&gt; during the calculation. A list of calculations is displayed on the bottom in order to be able to compare them in a convenient way.&lt;/p&gt; &#xA;&lt;h3&gt;17. Perform expensive calculation on Main Thread without freezing the UI&lt;/h3&gt; &#xA;&lt;p&gt;This example shows how you can perform an expensive calculation on the main thread in a non-blocking fashion. It uses &lt;code&gt;yield()&lt;/code&gt; for every step in the calculation so that other work, like drawing the UI, can be performed on the main thread. It is more a &#34;showcase&#34; rather than a use case for a real application, because of performance reasons you should always perform expensive calculations on a background thread (See UseCase#10). See [&lt;a href=&#34;https://www.lukaslechner.com/how-to-run-an-expensive-calculation-with-kotlin-coroutines-on-the-android-main-thread-without-freezing-the-ui/&#34;&gt;this blog post&lt;/a&gt;] for more information!&lt;/p&gt; &#xA;&lt;p&gt;You can play around and check the performance of different configurations!&lt;/p&gt; &#xA;&lt;h2&gt;üìÑ Flow Use Cases Description&lt;/h2&gt; &#xA;&lt;h3&gt;1. Flow Basics&lt;/h3&gt; &#xA;&lt;p&gt;This simple use case shows how to consume values from a &lt;code&gt;DataSource&lt;/code&gt; that emits live stock information and how to display them in the UI.&lt;/p&gt; &#xA;&lt;p&gt;The datasource exposes a &lt;code&gt;Flow&lt;/code&gt; which is built with the &lt;code&gt;flow{}&lt;/code&gt; flow builder. It fetches fresh stock information every 5 seconds from a mocked endpoint.&lt;/p&gt; &#xA;&lt;p&gt;A &lt;code&gt;LiveData&lt;/code&gt; property that exposes the &lt;code&gt;UiState&lt;/code&gt; in the &lt;code&gt;ViewModel&lt;/code&gt; is created by using the &lt;code&gt;.asLiveData()&lt;/code&gt; terminal operator. This use case also shows how to use the &lt;code&gt;map&lt;/code&gt; intermediate operator and the &lt;code&gt;onStart&lt;/code&gt; lifecycle operator.&lt;/p&gt; &#xA;&lt;p&gt;[&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/flow/usecase1/FlowUseCase1ViewModel.kt&#34;&gt;code viewmodel&lt;/a&gt;] [&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/flow/usecase1/StockPriceDataSource.kt&#34;&gt;code datasource&lt;/a&gt;]&lt;/p&gt; &#xA;&lt;h3&gt;2. Basic Flow Intermediate Operators&lt;/h3&gt; &#xA;&lt;p&gt;The second use case is an extension of the first one. It uses some basic intermediate operators, like &lt;code&gt;withIndex&lt;/code&gt;, &lt;code&gt;map&lt;/code&gt;, &lt;code&gt;take&lt;/code&gt; and &lt;code&gt;filter&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;[&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/flow/usecase2/FlowUseCase2ViewModel.kt&#34;&gt;code viewmodel&lt;/a&gt;] [&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/flow/usecase2/StockPriceDataSource.kt&#34;&gt;code datasource&lt;/a&gt;]&lt;/p&gt; &#xA;&lt;h3&gt;3. Flow Exception Handling&lt;/h3&gt; &#xA;&lt;p&gt;The third use case shows how to properly implement exception handling with flows.&lt;/p&gt; &#xA;&lt;p&gt;It uses the &lt;code&gt;catch&lt;/code&gt; operator to handle exceptions of our flow in the &lt;code&gt;ViewModel&lt;/code&gt; and uses the &lt;code&gt;retry &lt;/code&gt; operator to retry failed network requests in the &lt;code&gt;DataSource&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;[&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/flow/usecase3/FlowUseCase3ViewModel.kt&#34;&gt;code viewmodel&lt;/a&gt;] [&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/flow/usecase3/StockPriceDataSource.kt&#34;&gt;code datasource&lt;/a&gt;]&lt;/p&gt; &#xA;&lt;h3&gt;4. Exposing Flows in the ViewModel&lt;/h3&gt; &#xA;&lt;p&gt;This use case shows how to expose flows (a &lt;code&gt;StateFlow&lt;/code&gt; to be precise) in the &lt;code&gt;ViewModel&lt;/code&gt; instead of a &lt;code&gt;LiveData&lt;/code&gt; property. The &lt;code&gt;statIn&lt;/code&gt; operator is used to convert the ordinary, cold &lt;code&gt;Flow&lt;/code&gt; into a hot &lt;code&gt;StateFlow&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;In the &lt;code&gt;Activity&lt;/code&gt;, the &lt;code&gt;repeadOnLifecycle&lt;/code&gt; suspend function is used to collect emissions of the &lt;code&gt;StateFlow&lt;/code&gt; in a lifecycle-aware manner.&lt;/p&gt; &#xA;&lt;p&gt;[&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/flow/usecase4/FlowUseCase4ViewModel.kt&#34;&gt;code viewmodel&lt;/a&gt;] [&lt;a href=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/app/src/main/java/com/lukaslechner/coroutineusecasesonandroid/usecases/flow/usecase4/StockPriceDataSource.kt&#34;&gt;code datasource&lt;/a&gt;]&lt;/p&gt; &#xA;&lt;h2&gt;Author&lt;/h2&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/LukasLechnerDev/Kotlin-Coroutines-and-Flow-UseCases-on-Android/master/documentation/images/lukle.png&#34; alt=&#34;LukasLechner&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://www.lukaslechner.com&#34;&gt;Lukas Lechner&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://twitter.com/LukasLechnerDev&#34;&gt;Twitter&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;License&lt;/h2&gt; &#xA;&lt;p&gt;Licensed under the Apache License, Version 2.0 (the &#34;License&#34;). You may obtain a copy of the License at&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;http://www.apache.org/licenses/LICENSE-2.0&#34;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an &#34;AS IS&#34; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.&lt;/p&gt; &#xA;&lt;p&gt;You agree that all contributions to this repository, in the form of fixes, pull-requests, new examples etc. follow the above-mentioned license.&lt;/p&gt;</summary>
  </entry>
</feed>