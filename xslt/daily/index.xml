<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub XSLT Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2022-11-29T01:37:32Z</updated>
  <subtitle>Daily Trending of XSLT in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>ismrmrd/siemens_to_ismrmrd</title>
    <updated>2022-11-29T01:37:32Z</updated>
    <id>tag:github.com,2022-11-29:/ismrmrd/siemens_to_ismrmrd</id>
    <link href="https://github.com/ismrmrd/siemens_to_ismrmrd" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Siemens ISMRMRD converter&lt;/p&gt;&lt;hr&gt;&lt;p&gt;&lt;a href=&#34;https://zenodo.org/badge/latestdoi/15627/ismrmrd/siemens_to_ismrmrd&#34;&gt;&lt;img src=&#34;https://zenodo.org/badge/15627/ismrmrd/siemens_to_ismrmrd.svg?sanitize=true&#34; alt=&#34;DOI&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h1&gt;siemens_to_ismrmrd convertor&lt;/h1&gt; &#xA;&lt;hr&gt; &#xA;&lt;p&gt;The siemens_to_ismrmrd convertor is used to convert data from Siemens raw data format into ISMRMRD raw data format.&lt;/p&gt; &#xA;&lt;hr&gt; &#xA;&lt;h2&gt;Dependencies:&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;HDF5 (version 1.8 or higher) libraries (&lt;a href=&#34;http://www.hdfgroup.org/downloads/index.html&#34;&gt;http://www.hdfgroup.org/downloads/index.html&lt;/a&gt;)&lt;/li&gt; &#xA; &lt;li&gt;Boost (&lt;a href=&#34;http://www.boost.org/&#34;&gt;http://www.boost.org/&lt;/a&gt;)&lt;/li&gt; &#xA; &lt;li&gt;CodeSynthesis XSD (&lt;a href=&#34;http://www.codesynthesis.com/products/xsd/&#34;&gt;http://www.codesynthesis.com/products/xsd/&lt;/a&gt;)&lt;/li&gt; &#xA; &lt;li&gt;TinyXML (&lt;a href=&#34;http://sourceforge.net/projects/tinyxml/&#34;&gt;http://sourceforge.net/projects/tinyxml/&lt;/a&gt;)&lt;/li&gt; &#xA; &lt;li&gt;Libxslt (&lt;a href=&#34;http://xmlsoft.org/libxslt/&#34;&gt;http://xmlsoft.org/libxslt/&lt;/a&gt;)&lt;/li&gt; &#xA; &lt;li&gt;Libxml2 (&lt;a href=&#34;http://xmlsoft.org/&#34;&gt;http://xmlsoft.org/&lt;/a&gt;)&lt;/li&gt; &#xA; &lt;li&gt;Xerces-C XML parser library (&lt;a href=&#34;http://xerces.apache.org/xerces-c/&#34;&gt;http://xerces.apache.org/xerces-c/&lt;/a&gt;)&lt;/li&gt; &#xA; &lt;li&gt;Git (&lt;a href=&#34;http://git-scm.com/&#34;&gt;http://git-scm.com/&lt;/a&gt;)&lt;/li&gt; &#xA; &lt;li&gt;Cmake build tool (&lt;a href=&#34;http://www.cmake.org/&#34;&gt;http://www.cmake.org/&lt;/a&gt;)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;hr&gt; &#xA;&lt;h2&gt;Linux installation:&lt;/h2&gt; &#xA;&lt;h3&gt;Installing dependencies:&lt;/h3&gt; &#xA;&lt;p&gt;The dependencies mentioned above should be included in most linux distributions. On Ubuntu, the user can install all required dependencies with:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ sudo apt-get install g++ cmake git&#xA;$ sudo apt-get install libboost-all-dev xsdcxx libxerces-c-dev libhdf5-serial-dev h5utils hdf5-tools libtinyxml-dev libxml2-dev libxslt1-dev&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Installing ISMRMRD:&lt;/h3&gt; &#xA;&lt;h4&gt;Unpack the ismrmrd.tar.gz file or clone ISMRMRD from the repository:&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ tar -zxvf ismrmrd.tar.gz&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ git clone https://github.com/ismrmrd/ismrmrd.git&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Install ISMRMRD&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ cd ismrmrd&#xA;$ mkdir build&#xA;$ cd build&#xA;$ cmake ..&#xA;$ make&#xA;$ sudo make install&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Set the ISMRMRD environmental variable:&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ echo &#34;export ISMRMRD_HOME=/usr/local/ismrmrd&#34; &amp;gt;&amp;gt; $HOME/.bash_profile&#xA;$ source $HOME/.bash_profile&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Installing siemens_to_ismrmrd:&lt;/h3&gt; &#xA;&lt;h4&gt;Unpack the siemens_to_ismrmrd.tar.gz file or clone siemens_to_ismrmrd from the repository:&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ tar -zxvf siemens_to_ismrmrd.tar.gz&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ git clone https://github.com/ismrmrd/siemens_to_ismrmrd.git&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Install siemens_to_ismrmrd:&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ cd siemens_to_ismrmrd&#xA;$ mkdir build&#xA;$ cd build&#xA;$ cmake ..&#xA;$ make&#xA;$ sudo make install&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;hr&gt; &#xA;&lt;h2&gt;Short manual:&lt;/h2&gt; &#xA;&lt;p&gt;siemens_to_ismrmrd convertor is used to convert data from the Siemens raw data format to the ISMRMRD raw data format.&lt;/p&gt; &#xA;&lt;h3&gt;Using the convertor (basic case)&lt;/h3&gt; &#xA;&lt;p&gt;To use the convertor in the quick and simple way, the user only have to provide the Siemens dat file (option &lt;strong&gt;-f&lt;/strong&gt;). Converted file will, by default, be stored in the &lt;em&gt;output.h5&lt;/em&gt; file.&lt;/p&gt; &#xA;&lt;p&gt;Example of converting &lt;em&gt;meas_MID00832.dat&lt;/em&gt; file:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ siemens_to_ismrmrd -f meas_MID00832.dat&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Using the convertor (advanced case)&lt;/h3&gt; &#xA;&lt;p&gt;There are multiple options that can be set in order to run the convertor in the more specific way. Running the convertor with no command line parameters (or using -h for help)&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ siemens_to_ismrmrd -h&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;will result in listing all allowed options:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;Allowed options:&#xA;  -h [ --help ]           Produce HELP message&#xA;  -f [ --file ]           &amp;lt;SIEMENS dat file&amp;gt;&#xA;  -z [ --measNum ]        &amp;lt;Measurement number&amp;gt;&#xA;  -Z [ --allMeas ]        &amp;lt;All measurements flag&amp;gt;&#xA;  -M [ --multiMeasFile ]  &amp;lt;Multiple measurements in single file flag&amp;gt;&#xA;  -m [ --pMap ]           &amp;lt;Parameter map XML&amp;gt;&#xA;  -x [ --pMapStyle ]      &amp;lt;Parameter stylesheet XSL&amp;gt;&#xA;  --user-map              &amp;lt;Provide a parameter map XML file&amp;gt;&#xA;  --user-stylesheet       &amp;lt;Provide a parameter stylesheet XSL file&amp;gt;&#xA;  -o [ --output ]         &amp;lt;HDF5 output file&amp;gt;&#xA;  -g [ --outputGroup ]    &amp;lt;HDF5 output group&amp;gt;&#xA;  -l [ --list ]           &amp;lt;List embedded files&amp;gt;&#xA;  -e [ --extract ]        &amp;lt;Extract embedded file&amp;gt;&#xA;  -X [ --debug ]          &amp;lt;Debug XML flag&amp;gt;&#xA;  -F [ --flashPatRef ]    &amp;lt;FLASH PAT REF flag&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;hr&gt; &#xA;&lt;h3&gt;Important files&lt;/h3&gt; &#xA;&lt;p&gt;There are three different types of files that have important role in the process of conversion, and that the user should specify:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;strong&gt;Siemens dat file&lt;/strong&gt;:&lt;/p&gt; &lt;p&gt;This is the file that is being converted. The user must supply it using the option &lt;strong&gt;-f&lt;/strong&gt;. Siemens dat file can be a Numaris/4 VB/VD/VE or Numaris/X file. In case of a file that contains multiple measurements, all measurements can be exported using the &lt;strong&gt;-Z&lt;/strong&gt; option (default off) into separate files appended by the measurement number. In this example, multi-measurement file &lt;em&gt;meas_MID00832.dat&lt;/em&gt; file has 2 measurements and two output files &lt;em&gt;resulting_file_1.h5&lt;/em&gt; and &lt;em&gt;resulting_file_2.h5&lt;/em&gt; are created:&lt;/p&gt; &lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ siemens_to_ismrmrd -f meas_MID00832.dat -o resulting_file.h5 -Z&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;p&gt;The &#34;all measurements&#34; &lt;strong&gt;-Z&lt;/strong&gt; can be combined with the &lt;strong&gt;-M&lt;/strong&gt; to create a multi-measurement output file where different measurements are stored in separate groups. In this example, multi-measurement file &lt;em&gt;meas_MID00832.dat&lt;/em&gt; file has 2 measurements, stored in HDF5 groups &lt;em&gt;dataset_1&lt;/em&gt; and &lt;em&gt;dataset_2&lt;/em&gt; respectively in output file &lt;em&gt;resulting_file.h5&lt;/em&gt;:&lt;/p&gt; &lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ siemens_to_ismrmrd -f meas_MID00832.dat -o resulting_file.h5 -Z -M&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;p&gt;A single measurement can be specified using the option &lt;strong&gt;-z&lt;/strong&gt; (default value 1). Primary measurement data is usually stored as the last measurement, with earlier measurements being dependencies. In this example, the second measurement from the &lt;em&gt;meas_MID00832.dat&lt;/em&gt; file is converted and stored in the &lt;em&gt;resulting_file.h5&lt;/em&gt; file:&lt;/p&gt; &lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ siemens_to_ismrmrd -f meas_MID00832.dat -o resulting_file.h5 -z 2&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;strong&gt;Parameter map XML file&lt;/strong&gt;:&lt;/p&gt; &lt;p&gt;This file is used to extract all parameters from the Siemens file measurement header buffer and to put them in the XML structured file (&lt;em&gt;xml_raw.xml&lt;/em&gt;). File &lt;em&gt;xml_raw.xml&lt;/em&gt; can be extracted and viewed by the user by running the convertor in the debug mode (option &lt;strong&gt;-X&lt;/strong&gt;).&lt;/p&gt; &lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ siemens_to_ismrmrd -f meas_MID00832.dat -o resulting_file.h5 -X&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;strong&gt;Parameter stylesheet XSL file&lt;/strong&gt;:&lt;/p&gt; &lt;p&gt;This is a stylesheet file that defines parameters that are useful for the ISMRMRD header. It is applied on the &lt;em&gt;xml_raw.xml&lt;/em&gt; file. After the stylesheet is applied, resulting XML file (&lt;em&gt;processed.xml&lt;/em&gt;) is used to create ISMRMRD header. File &lt;em&gt;processed.xml&lt;/em&gt; can also be extracted if using the convertor in the debug mode.&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Embedded files&lt;/h3&gt; &#xA;&lt;p&gt;Multiple Parameter map XML and Parameter stylesheet XSL files are embedded in converter. To see the list of all the embedded files, the user should run the convertor with &lt;em&gt;&lt;strong&gt;-l&lt;/strong&gt;&lt;/em&gt; option specified:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ siemens_to_ismrmrd -l&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;Embedded Files:&#xA;    IsmrmrdParameterMap.xml&#xA;    IsmrmrdParameterMap.xsl&#xA;    IsmrmrdParameterMap_Siemens.xml&#xA;    IsmrmrdParameterMap_Siemens.xsl&#xA;    IsmrmrdParameterMap_Siemens_EPI.xsl&#xA;    IsmrmrdParameterMap_Siemens_EPI_FLASHREF.xsl&#xA;    IsmrmrdParameterMap_Siemens_VB17.xml&#xA;    RadialParameterMap.xml&#xA;    SpiralParameterMap.xml&#xA;    SpiralParameterMap_MSH.xml&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Any of these files can be extracted and saved locally by running the converter with &lt;em&gt;&lt;strong&gt;-e&lt;/strong&gt;&lt;/em&gt; option and specifying the file name. For example:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ siemens_to_ismrmrd -e IsmrmrdParameterMap_Siemens.xsl&#xA;IsmrmrdParameterMap_Siemens.xsl successfully extracted.&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Ways of providing XML/XSL files&lt;/h3&gt; &#xA;&lt;p&gt;There are three different ways of providing XML and XSL files to the converter:&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt; &lt;p&gt;The user can choose not to provide XML and XSL files explicitly, but to use the default files that are embedded in convertor.&lt;/p&gt; &lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ siemens_to_ismrmrd -f meas_MID00832.dat -o resulting_file.h5&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;p&gt;Default XML file for Numaris/4 (VB) is: &lt;strong&gt;IsmrmrdParameterMap_Siemens_VB17.xml&lt;/strong&gt;.&lt;/p&gt; &lt;p&gt;Default XML file for Numaris/4 (VD+) and Numaris/X is: &lt;strong&gt;IsmrmrdParameterMap_Siemens.xml&lt;/strong&gt;.&lt;/p&gt; &lt;p&gt;Default XSL file for Numaris/4 is: &lt;strong&gt;IsmrmrdParameterMap_Siemens.xsl&lt;/strong&gt;.&lt;/p&gt; &lt;p&gt;Default XSL file for Numaris/X is: &lt;strong&gt;IsmrmrdParameterMap_Siemens_NX.xsl&lt;/strong&gt;.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;The user can choose to use XML and XSL files from the list of embedded files. The files should be supplied using options &lt;strong&gt;-m&lt;/strong&gt; and &lt;strong&gt;-x&lt;/strong&gt;.&lt;/p&gt; &lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ siemens_to_ismrmrd -f meas_MID00832.dat -m IsmrmrdParameterMap_Siemens.xml -x IsmrmrdParameterMap_Siemens.xsl -o result.h5&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;The user can choose to provide custom XML and/or XSL files using the &lt;strong&gt;--user-map&lt;/strong&gt; and &lt;strong&gt;--user-stylesheet&lt;/strong&gt; options respectively:&lt;/p&gt; &lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ siemens_to_ismrmrd -f meas_MID00832.dat --user-map IsmrmrdParameterMap_Siemens_modified.xml --user-stylesheet IsmrmrdParameterMap_Siemens_modified.xsl -o result.h5&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;For multi-measurement files, if only a single XML/XSL is provided, it is used for all measurements. A list of different XML/XSL files can also be specified for each measurement. A blank value can be used to use the default file (as above in point 1). In this example, multi-measurement file &lt;em&gt;meas_MID00832.dat&lt;/em&gt; file has 2 measurements, with &lt;em&gt;IsmrmrdParameterMap_Siemens.xml&lt;/em&gt; used for both measurements, &lt;em&gt;IsmrmrdParameterMap_Siemens.xsl&lt;/em&gt; (default) for the first measurement, and &lt;em&gt;IsmrmrdParameterMap_Siemens_modified&lt;/em&gt; for the second measurement:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ siemens_to_ismrmrd -f meas_MID00832.dat -m IsmrmrdParameterMap_Siemens.xml --user-stylesheet &#34;,IsmrmrdParameterMap_Siemens_modified.xsl&#34; -o result.h5&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The embedded files can be extracted from the convertor using option &lt;strong&gt;-e&lt;/strong&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ siemens_to_ismrmrd -e IsmrmrdParameterMap_Siemens.xml&#xA;$ siemens_to_ismrmrd -e IsmrmrdParameterMap_Siemens.xsl&#xA;&lt;/code&gt;&lt;/pre&gt;</summary>
  </entry>
</feed>