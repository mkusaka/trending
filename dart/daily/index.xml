<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Dart Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2024-06-14T01:30:26Z</updated>
  <subtitle>Daily Trending of Dart in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>hui-z/image_gallery_saver</title>
    <updated>2024-06-14T01:30:26Z</updated>
    <id>tag:github.com,2024-06-14:/hui-z/image_gallery_saver</id>
    <link href="https://github.com/hui-z/image_gallery_saver" rel="alternate"></link>
    <summary type="html">&lt;p&gt;flutter中用于保存图片到相册的Plugin&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;image_gallery_saver&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://travis-ci.org/hui-z/image_gallery_saver#&#34;&gt;&lt;img src=&#34;https://travis-ci.org/hui-z/image_gallery_saver.svg?branch=master&#34; alt=&#34;Build Status&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://pub.dartlang.org/packages/image_gallery_saver&#34;&gt;&lt;img src=&#34;https://img.shields.io/pub/v/image_gallery_saver.svg?sanitize=true&#34; alt=&#34;pub package&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://choosealicense.com/licenses/mit/&#34;&gt;&lt;img src=&#34;https://img.shields.io/github/license/mashape/apistatus.svg?sanitize=true&#34; alt=&#34;license&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;We use the &lt;code&gt;image_picker&lt;/code&gt; plugin to select images from the Android and iOS image library, but it can&#39;t save images to the gallery. This plugin can provide this feature.&lt;/p&gt; &#xA;&lt;h2&gt;Usage&lt;/h2&gt; &#xA;&lt;p&gt;To use this plugin, add &lt;code&gt;image_gallery_saver&lt;/code&gt; as a dependency in your pubspec.yaml file. For example:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;dependencies:&#xA;  image_gallery_saver: &#39;^2.0.3&#39;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;iOS&lt;/h2&gt; &#xA;&lt;p&gt;Your project need create with swift. Add the following keys to your Info.plist file, located in &#xA; &lt;project root&gt;&#xA;  /ios/Runner/Info.plist:&#xA; &lt;/project&gt;&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;NSPhotoLibraryAddUsageDescription - describe why your app needs permission for the photo library. This is called Privacy - Photo Library Additions Usage Description in the visual editor&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Android&lt;/h2&gt; &#xA;&lt;p&gt;You need to ask for storage permission to save an image to the gallery. You can handle the storage permission using &lt;a href=&#34;https://github.com/BaseflowIT/flutter-permission-handler&#34;&gt;flutter_permission_handler&lt;/a&gt;. In Android version 10, Open the manifest file and add this line to your application tag&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;application android:requestLegacyExternalStorage=&#34;true&#34; .....&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Example&lt;/h2&gt; &#xA;&lt;p&gt;Saving an image from the internet, quality and name is option&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-dart&#34;&gt;  _saveLocalImage() async {&#xA;    RenderRepaintBoundary boundary =&#xA;        _globalKey.currentContext!.findRenderObject() as RenderRepaintBoundary;&#xA;    ui.Image image = await boundary.toImage();&#xA;    ByteData? byteData =&#xA;        await (image.toByteData(format: ui.ImageByteFormat.png));&#xA;    if (byteData != null) {&#xA;      final result =&#xA;          await ImageGallerySaver.saveImage(byteData.buffer.asUint8List());&#xA;      print(result);&#xA;    }&#xA;  }&#xA;  &#xA;  _saveNetworkImage() async {&#xA;    var response = await Dio().get(&#xA;        &#34;https://ss0.baidu.com/94o3dSag_xI4khGko9WTAnF6hhy/image/h%3D300/sign=a62e824376d98d1069d40a31113eb807/838ba61ea8d3fd1fc9c7b6853a4e251f94ca5f46.jpg&#34;,&#xA;        options: Options(responseType: ResponseType.bytes));&#xA;    final result = await ImageGallerySaver.saveImage(&#xA;        Uint8List.fromList(response.data),&#xA;        quality: 60,&#xA;        name: &#34;hello&#34;);&#xA;    print(result);&#xA;  }&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Saving file(ig: video/gif/others) from the internet&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-dart&#34;&gt;  _saveNetworkGifFile() async {&#xA;    var appDocDir = await getTemporaryDirectory();&#xA;    String savePath = appDocDir.path + &#34;/temp.gif&#34;;&#xA;    String fileUrl =&#xA;        &#34;https://hyjdoc.oss-cn-beijing.aliyuncs.com/hyj-doc-flutter-demo-run.gif&#34;;&#xA;    await Dio().download(fileUrl, savePath);&#xA;    final result =&#xA;        await ImageGallerySaver.saveFile(savePath, isReturnPathOfIOS: true);&#xA;    print(result);&#xA;  }&#xA;&#xA;  _saveNetworkVideoFile() async {&#xA;    var appDocDir = await getTemporaryDirectory();&#xA;    String savePath = appDocDir.path + &#34;/temp.mp4&#34;;&#xA;    String fileUrl =&#xA;        &#34;https://s3.cn-north-1.amazonaws.com.cn/mtab.kezaihui.com/video/ForBiggerBlazes.mp4&#34;;&#xA;    await Dio().download(fileUrl, savePath, onReceiveProgress: (count, total) {&#xA;      print((count / total * 100).toStringAsFixed(0) + &#34;%&#34;);&#xA;    });&#xA;    final result = await ImageGallerySaver.saveFile(savePath);&#xA;    print(result);&#xA;  }&#xA;&lt;/code&gt;&lt;/pre&gt;</summary>
  </entry>
</feed>