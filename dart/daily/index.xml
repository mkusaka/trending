<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Dart Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2024-04-19T01:27:18Z</updated>
  <subtitle>Daily Trending of Dart in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>MinBZK/nl-wallet</title>
    <updated>2024-04-19T01:27:18Z</updated>
    <id>tag:github.com,2024-04-19:/MinBZK/nl-wallet</id>
    <link href="https://github.com/MinBZK/nl-wallet" rel="alternate"></link>
    <summary type="html">&lt;p&gt;NL Public Reference Wallet&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;EDI - NL Public Reference Wallet&lt;/h1&gt; &#xA;&lt;p&gt;Under the &lt;a href=&#34;https://www.digitaleoverheid.nl/kabinetsbeleid-digitalisering/werkagenda/&#34;&gt;Working Agenda Value Driven Digitization&lt;/a&gt;, the Dutch government is preparing for the introduction of European digital identity wallets (in short ID-wallets) through the revision of the &lt;a href=&#34;https://www.rijksoverheid.nl/onderwerpen/inloggen-europese-economische-ruimte-eer-eidas/alles-wat-u-moet-weten-over-eidas&#34;&gt;eIDAS-regulation&lt;/a&gt;. One of the ways in which they are doing this, is by developing a public reference wallet called the NL Wallet. These ID-wallets will be mobile apps that citizens can use to identify (or ‘log in’) to public and private online services, share data about themselves, and sign electronically.&lt;/p&gt; &#xA;&lt;p&gt;The first version of the NL Wallet will focus on online identification and data sharing and will be piloted at small scale in 2024. In the future, it may be possible to use such an ID-wallet in a lot of different situations, for example to share your diploma’s when applying for a job, to show your driver’s license, or to prove that you are 18+ to buy a beer.&lt;/p&gt; &#xA;&lt;p&gt;The NL Wallet is being developed in an open and transparent way. We offer the following channels to allow you to contribute:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;The user interface of the app is available on &lt;a href=&#34;https://www.figma.com/file/wkjoFCtVOw4Ghff4e0ZBKd/20240227_Release_Digitale-Identiteit-Wallet_Realisatie?type=design&amp;amp;node-id=1%3A3716&amp;amp;mode=design&amp;amp;t=8Ys0QW3zjCWLCwBz-1&#34;&gt;Figma&lt;/a&gt;.&lt;/li&gt; &#xA; &lt;li&gt;The source code is published in this &lt;a href=&#34;https://github.com/MinBZK/nl-wallet&#34;&gt;GitHub repository&lt;/a&gt;.&lt;/li&gt; &#xA; &lt;li&gt;More information, events and discussions can be found on &lt;a href=&#34;https://edi.pleio.nl&#34;&gt;Pleio&lt;/a&gt;.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Feel free to look around and share your&amp;nbsp;&lt;a href=&#34;mailto:edi@minbzk.nl&#34;&gt;feedback and ideas&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;Please note that this code is still experimental and subject to change.&lt;/p&gt; &#xA;&lt;h3&gt;About progress&lt;/h3&gt; &#xA;&lt;p&gt;As this project is a work in progress, you will find that the different components are at different levels of maturity. Most notably, the user interface is always a few steps ahead of the software under the hood. To put it simply, we incrementally add functionality to the wallet in three steps:&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;We design the user interface of a piece of functionality in Figma. This is purely graphical, ideal for quick iterations.&lt;/li&gt; &#xA; &lt;li&gt;We then build the user interface in the app displaying dummy data and using mocked logic. This makes it fast and easy to explore, demonstrate and discuss different scenarios and possibilities.&lt;/li&gt; &#xA; &lt;li&gt;We then replace the mocked logic with actual working software, still using dummy data. This allows us to prove the app works and is secure.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;Once the first version of the app is complete, thoroughly tested and considered secure, we can fill it with real data and pilot it in real life scenarios.&lt;/p&gt; &#xA;&lt;h1&gt;Table of contents&lt;/h1&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/MinBZK/nl-wallet/main/#current-release&#34;&gt;Current release&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/MinBZK/nl-wallet/main/#documentation&#34;&gt;Documentation&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/MinBZK/nl-wallet/main/#licensing&#34;&gt;Licensing&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/MinBZK/nl-wallet/main/#contributing&#34;&gt;Contributing&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/MinBZK/nl-wallet/main/#getting-started&#34;&gt;Getting started&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/MinBZK/nl-wallet/main/#setup-development-environment&#34;&gt;Setup development environment&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/MinBZK/nl-wallet/main/#file-structure&#34;&gt;File structure&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/MinBZK/nl-wallet/main/#code&#34;&gt;Code&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/MinBZK/nl-wallet/main/#conventions&#34;&gt;Conventions&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/MinBZK/nl-wallet/main/#git&#34;&gt;Git&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/MinBZK/nl-wallet/main/#distribution&#34;&gt;Distribution&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/MinBZK/nl-wallet/main/#troubleshooting&#34;&gt;Troubleshooting&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h1&gt;Current release&lt;/h1&gt; &#xA;&lt;p&gt;See the&amp;nbsp;&lt;a href=&#34;https://github.com/MinBZK/nl-wallet/releases&#34;&gt;releases page&lt;/a&gt;&amp;nbsp;for the latest release. You can follow the latest work by subscribing to the releases of this GitHub repository at the top of this page.&lt;/p&gt; &#xA;&lt;h1&gt;Documentation&lt;/h1&gt; &#xA;&lt;p&gt;&lt;strong&gt;TL;DR&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;With the NL reference wallet we want to achieve the following things:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;We want to validate the feasibility of the framework as proposed in the EU.&lt;/li&gt; &#xA; &lt;li&gt;We want to explore how we can set the bar in terms of privacy protection, security, usability and inclusion.&lt;/li&gt; &#xA; &lt;li&gt;We want to learn what this development means for citizens, businesses, other governments and public service providers.&lt;/li&gt; &#xA; &lt;li&gt;We want to help citizens, especially those with special needs, in the best way possible.&lt;/li&gt; &#xA; &lt;li&gt;We want to offer a testing ground for a variety of use cases.&lt;/li&gt; &#xA; &lt;li&gt;We want to share the lessons we learn with the public and share them with the EU.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;If you want to learn more about the NL Wallet development, please read the background information on the Pleio hub. The development of the user flows and screens can be followed through &lt;a href=&#34;https://www.figma.com/file/wkjoFCtVOw4Ghff4e0ZBKd/20240227_Release_Digitale-Identiteit-Wallet_Realisatie?type=design&amp;amp;node-id=1%3A3716&amp;amp;mode=design&amp;amp;t=8Ys0QW3zjCWLCwBz-1&#34;&gt;Figma&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h1&gt;Licensing&lt;/h1&gt; &#xA;&lt;p&gt;The source code of the NL Wallet is released under the &lt;a href=&#34;https://raw.githubusercontent.com/MinBZK/nl-wallet/main/LICENSES/EUPL-1.2.txt&#34;&gt;EUPL license&lt;/a&gt;. The documentation is released under the &lt;a href=&#34;https://raw.githubusercontent.com/MinBZK/nl-wallet/main/LICENSES/CC0-1.0.txt&#34;&gt;CC0 license&lt;/a&gt;. Please see the &lt;a href=&#34;https://raw.githubusercontent.com/MinBZK/nl-wallet/main/.reuse/dep5&#34;&gt;.reuse/dep5&lt;/a&gt; file for more details, which follows the &lt;a href=&#34;https://reuse.software/spec/&#34;&gt;Reuse specfication&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h1&gt;Contributing&lt;/h1&gt; &#xA;&lt;p&gt;We’re releasing the source code with the explicit intention of allowing contributions. The coordination of the project lies with the development team of the European Digital Identity Progam, but we’re open to all contributions. You can directly create a new Pull Request via Github, or contact the community manager via &lt;a href=&#34;mailto:edi@minbzk.nl?subject=Contribution%20via%20GitHub&#34;&gt;edi@minbzk.nl&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;The development team works on the repository in a private fork (for reasons of compliance with existing processes) and shares its work as often as possible. If you watch the repository on GitHub, you will be notified of a new release. We will also send a notification through Pleio.&lt;/p&gt; &#xA;&lt;p&gt;Although we are open to contributions, please consider the nature of this project as outlined in this Readme. At this stage the most useful way to contribute to the project is to participate on our community site &lt;a href=&#34;https://edi.pleio.nl&#34;&gt;edi.pleio.nl&lt;/a&gt;, and visit our &lt;a href=&#34;https://edi.pleio.nl/events&#34;&gt;EDI Meet-ups and/or Heartbeats&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;If you plan to make non-trivial changes, we recommend that you open an issue beforehand where we can discuss your planned changes. This increases the chance that we might be able to use your contribution (or it avoids doing work if there are reasons why we wouldn&#39;t be able to use it).&lt;/p&gt; &#xA;&lt;p&gt;Note that all commits should be signed using a GPG key.&lt;/p&gt; &#xA;&lt;h1&gt;Getting started&lt;/h1&gt; &#xA;&lt;p&gt;This section contains the general setup requirements of the project. For more details on configuration of the &lt;a href=&#34;https://raw.githubusercontent.com/MinBZK/nl-wallet/main/wallet_app/README.md&#34;&gt;wallet app&lt;/a&gt;, the &lt;a href=&#34;https://raw.githubusercontent.com/MinBZK/nl-wallet/main/wallet_core/README.md&#34;&gt;wallet core&lt;/a&gt; and the &lt;a href=&#34;https://raw.githubusercontent.com/MinBZK/nl-wallet/main/wallet_core/wallet_provider/README.md&#34;&gt;wallet_provider&lt;/a&gt;, please see the corresponding README files.&lt;/p&gt; &#xA;&lt;h2&gt;Setup development environment&lt;/h2&gt; &#xA;&lt;p&gt;The app&#39;s UI is build using Flutter, but to avoid tying the app to Flutter &amp;amp; Dart, all core business logic is build using Rust. This gives us the more flexibility to migrate to completely native iOS/Android app&#39;s if the need arises. This does mean building the app is slightly more complex than a simple &lt;code&gt;flutter run&lt;/code&gt;. This section describes how to set up your environment.&lt;/p&gt; &#xA;&lt;h3&gt;Requirements:&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Flutter&lt;/li&gt; &#xA; &lt;li&gt;Rust (incl. additional targets)&lt;/li&gt; &#xA; &lt;li&gt;Android SDK + NDK (for Android builds)&lt;/li&gt; &#xA; &lt;li&gt;Xcode (for iOS builds)&lt;/li&gt; &#xA; &lt;li&gt;Docker (to run supporting services)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h4&gt;Flutter&lt;/h4&gt; &#xA;&lt;p&gt;To install Flutter follow this &lt;a href=&#34;https://flutter.dev/docs/get-started/install&#34;&gt;installation guide&lt;/a&gt;. You can validate your initial setup by running &lt;code&gt;flutter doctor&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Easily manage your local Flutter version using: Flutter Version Manager (FVM)&lt;/strong&gt; FVM is a simple CLI to manage Flutter SDK versions per project. It enables fast switching between Flutter versions and pin them to your Flutter project. When using FVM; all Flutter related command need to be prefixed with &lt;code&gt;fvm&lt;/code&gt;, e.g. &lt;code&gt;fvm flutter run&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;em&gt;Optional step:&lt;/em&gt; To install FVM follow this &lt;a href=&#34;https://fvm.app/docs/getting_started/installation&#34;&gt;installation guide&lt;/a&gt;. You can validate your initial setup by running &lt;code&gt;fvm flutter doctor&lt;/code&gt; after the installations. Hit [Y]es when asked to install the pinned Flutter version defined in &lt;a href=&#34;https://raw.githubusercontent.com/MinBZK/nl-wallet/main/wallet_app/.fvm/fvm_config.json&#34;&gt;fvm_config.json&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;Note that FVM only pins the Flutter version for local development, not the CI pipelines.&lt;/p&gt; &#xA;&lt;h4&gt;Rust&lt;/h4&gt; &#xA;&lt;p&gt;To install Rust &amp;amp; Cargo (the package manager) follow the &lt;a href=&#34;https://www.rust-lang.org/tools/install&#34;&gt;installation guide&lt;/a&gt;. After installing rust make sure to add the following targets:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;For iOS: &lt;code&gt;rustup target add aarch64-apple-ios x86_64-apple-ios&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;For iOS simulator: &lt;code&gt;rustup target add aarch64-apple-ios-sim&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;For Android: &lt;code&gt;rustup target add aarch64-linux-android armv7-linux-androideabi x86_64-linux-android&lt;/code&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h4&gt;Android&lt;/h4&gt; &#xA;&lt;p&gt;To build for android you need to have the Android SDK and NDK installed on your system. Likely the easiest way to do so is:&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Install &lt;a href=&#34;https://developer.android.com/studio&#34;&gt;Android Studio&lt;/a&gt; (includes SDK)&lt;/li&gt; &#xA; &lt;li&gt;Open Android Studio &#xA;  &lt;ol&gt; &#xA;   &lt;li&gt;Tools -&amp;gt; SDK Manager&lt;/li&gt; &#xA;   &lt;li&gt;Select &#39;SDK Tools&#39; Tab&lt;/li&gt; &#xA;   &lt;li&gt;Check latest &#39;NDK (Side by side)&#39; in the list (&amp;gt;= v25.2.9519653)&lt;/li&gt; &#xA;   &lt;li&gt;Hit &#39;apply&#39; to install&lt;/li&gt; &#xA;  &lt;/ol&gt; &lt;/li&gt; &#xA; &lt;li&gt;Add &lt;code&gt;export ANDROID_HOME=&#34;$HOME/Library/Android/sdk&#34;&lt;/code&gt; to your &lt;code&gt;~/.bash_profile&lt;/code&gt; or &lt;code&gt;~/.zshrc&lt;/code&gt;, this will make sure the Android SDK is available in your path and automatically picks up the NDK version you installed in the previous step&lt;/li&gt; &#xA; &lt;li&gt;Tell gradle where it can find the NDK by updating one of your &lt;code&gt;gradle.properties&lt;/code&gt;, e.g. &lt;code&gt;echo &#34;NDK_HOME=\&#34;$HOME/Library/Android/sdk/ndk/{ndk_version}\&#34;&#34; &amp;gt;&amp;gt; ~/.gradle/gradle.properties&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;Run &lt;code&gt;cargo install cargo-ndk&lt;/code&gt; (&amp;gt;= v3.0.0) to be able to build the Rust code for Android&lt;/li&gt; &#xA; &lt;li&gt;Optional: let Android Studio use Flutter SDK installed via FVM by following &lt;a href=&#34;https://fvm.app/docs/getting_started/configuration#android-studio&#34;&gt;these steps&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Run &lt;code&gt;${HOME}/Library/Android/sdk/emulator/emulator -list-avds&lt;/code&gt; to list the installed devices&lt;/li&gt; &#xA; &lt;li&gt;Start the emulator using `${HOME}/Library/Android/sdk/emulator/emulator [[AVDs] FROM PREVIOUS OUTPUT]``&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h4&gt;iOS&lt;/h4&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Install &lt;a href=&#34;https://apps.apple.com/us/app/xcode/id497799835?mt=12&#34;&gt;Xcode&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Follow the steps to install iOS simulators&lt;/li&gt; &#xA; &lt;li&gt;Start the simulator using &lt;code&gt;open -a Simulator&lt;/code&gt;&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h3&gt;Prerequisites&lt;/h3&gt; &#xA;&lt;p&gt;The Wallet needs several supporting services to run, and also requires the user to log in using DigiD in order to create the Wallet. The services are the following:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;Wallet Provider: See &lt;code&gt;wallet_core/wallet_provider/README.md&lt;/code&gt;&lt;/p&gt; &lt;p&gt;The Wallet Provider requires a Postgres database.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;PID Issuer: See &lt;code&gt;wallet_core/pid_issuer/README.md&lt;/code&gt;&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Digid Connector: See RDO MAX.&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;All these applications will need to be configured correctly. A local development environment can be set up using the &lt;code&gt;scripts/setup-devenv.sh&lt;/code&gt; and &lt;code&gt;scripts/start-devenv.sh&lt;/code&gt; scripts.&lt;/p&gt; &#xA;&lt;h4&gt;Configuring the development environment&lt;/h4&gt; &#xA;&lt;p&gt;The &lt;code&gt;setup-devenv.sh&lt;/code&gt; script will configure the digid-connector to listen on &lt;a href=&#34;https://localhost:8006/&#34;&gt;https://localhost:8006/&lt;/a&gt; . Note the https in the URL, which is provided using self-signed certificates.&lt;/p&gt; &#xA;&lt;p&gt;Besides that, the development setup runs without using TLS. Therefore, the feature &lt;code&gt;allow_http_return_url&lt;/code&gt; enables the possibility to use a return URL with the scheme &lt;code&gt;http&lt;/code&gt; (while normally &lt;code&gt;https&lt;/code&gt; is only allowed).&lt;/p&gt; &#xA;&lt;p&gt;Additionally, the &lt;code&gt;wallet&lt;/code&gt; crate offers the &lt;code&gt;config_env&lt;/code&gt; feature to aid during local development, which does the following:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Any constant defined in the file &lt;code&gt;data.rs&lt;/code&gt; can be overridden by an environment variable of the same name at compile time.&lt;/li&gt; &#xA; &lt;li&gt;Additional environment variables are read from a file named &lt;code&gt;.env&lt;/code&gt; in the &lt;code&gt;wallet&lt;/code&gt; crate directory, if present.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h5&gt;Android Emulator&lt;/h5&gt; &#xA;&lt;p&gt;In order to connect to our locally running services from the Android Emulator on the domain &lt;code&gt;localhost&lt;/code&gt;, some port mappings have to be made. Note that this must be done every time the Android Emulator is restarted.&lt;/p&gt; &#xA;&lt;p&gt;This is automated in the script: &lt;code&gt;scrips/map_android_ports.sh&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;The &lt;code&gt;setup-devenv.sh&lt;/code&gt; script will automatically run this script when it detects the &lt;code&gt;adb&lt;/code&gt; command.&lt;/p&gt; &#xA;&lt;p&gt;However, when the Android Emulator has been restarted, one can just run &lt;code&gt;map_android_ports.sh&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h4&gt;Starting development environment&lt;/h4&gt; &#xA;&lt;p&gt;The individual services of the development environment can be started using &lt;code&gt;start-devenv.sh&lt;/code&gt;. Tip: use the &lt;code&gt;--help&lt;/code&gt; commandline option to show the help output&lt;/p&gt; &#xA;&lt;h3&gt;Validate&lt;/h3&gt; &#xA;&lt;p&gt;After doing the above &lt;code&gt;flutter doctor&lt;/code&gt; should report that at least the following are installed successfully:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Flutter&lt;/li&gt; &#xA; &lt;li&gt;Android toolchain&lt;/li&gt; &#xA; &lt;li&gt;Xcode&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;You should now be able to launch an Android Emulator or iOS Simulator and run the app by following these steps:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;cd wallet_app&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;flutter pub get&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;flutter run&lt;/code&gt;! 🎉&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Running GitLab CI locally&lt;/h2&gt; &#xA;&lt;p&gt;In order to run and validate jobs from the GitLab CI locally on a development machine, the &lt;code&gt;gitlab-ci-local&lt;/code&gt; tool may be used. Follow the installation instructions for it &lt;a href=&#34;https://github.com/firecow/gitlab-ci-local#installation&#34;&gt;here&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;The environment variables that are necessary to run the CI jobs need to be specified by copying and populating the example YAML file:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;cp .gitlab-ci-local-variables.example.yml .gitlab-ci-local-variables.yml&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Make sure that Docker is running and configure it so that containers have a maximum memory size of at least 16GB. Log into Harbor, where the docker images are hosted:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;docker login -u &amp;lt;HARBOR USER&amp;gt; -p &amp;lt;HARBOR CLI SECRET&amp;gt; &amp;lt;HARBOR HOSTNAME&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Now, any job from GitLab CI can be run localy, e.g.:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;gitlab-ci-local test-rust&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h1&gt;File structure&lt;/h1&gt; &#xA;&lt;h2&gt;Code&lt;/h2&gt; &#xA;&lt;p&gt;All &lt;code&gt;Dart&lt;/code&gt; code goes in the &lt;code&gt;wallet_app/lib/&lt;/code&gt; directory and their appropriate sub-directories.&lt;/p&gt; &#xA;&lt;p&gt;All &lt;code&gt;Rust&lt;/code&gt; code goes in the &lt;code&gt;wallet_core/&lt;/code&gt; directory and their appropriate sub-directories.&lt;/p&gt; &#xA;&lt;h3&gt;Flutter &amp;lt;-&amp;gt; Rust Bridge&lt;/h3&gt; &#xA;&lt;p&gt;Communication between the Flutter and Rust layers relies on the &lt;code&gt;flutter_rust_bridge&lt;/code&gt; package, the bridge code is generated. The definition of this bridge can is located at &lt;code&gt;/wallet_core/src/api.rs&lt;/code&gt; and generation is done with the following command:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;cargo run --manifest-path wallet_core/flutter_rust_bridge_codegen/Cargo.toml&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The generated code is currently checked in, so that generation only has to be performed when the API changes.&lt;/p&gt; &#xA;&lt;h1&gt;Conventions&lt;/h1&gt; &#xA;&lt;h2&gt;Git&lt;/h2&gt; &#xA;&lt;h3&gt;Commit message&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Capitalize the subject line&lt;/li&gt; &#xA; &lt;li&gt;Use the imperative mood in the subject line&lt;/li&gt; &#xA; &lt;li&gt;Do not end the subject line with a period&lt;/li&gt; &#xA; &lt;li&gt;Wrap lines at 72 characters&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Branch names&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Prefix the branch name with the Jira code for the story or subtask the branch relates to. If there is no story or subtask, strongly consider making one or forego the prefix.&lt;/li&gt; &#xA; &lt;li&gt;The rest of the branch name should be a short description of the purpose of the branch, in lowercase and separated by hyphens. The description should be clear enough that any reader should understand it without having to look up the Jira ticket. Consider starting the description with the component that is being worked on, e.g. &lt;code&gt;ci-&lt;/code&gt; or &lt;code&gt;core-&lt;/code&gt;.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Example of a branch name: &lt;strong&gt;PVW-123-wp-teapot-status-code&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;h3&gt;PR title&lt;/h3&gt; &#xA;&lt;p&gt;See &lt;a href=&#34;https://raw.githubusercontent.com/MinBZK/nl-wallet/main/#commit-message&#34;&gt;commit message&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h3&gt;PR merge&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Default to squash merge (combined with PR title conventions)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h1&gt;Distribution&lt;/h1&gt; &#xA;&lt;p&gt;Follow these steps to (force) distribute internal &lt;code&gt;alpha&lt;/code&gt; &amp;amp; &lt;code&gt;beta&lt;/code&gt; builds that target the Android platform&#34;:&lt;/p&gt; &#xA;&lt;h3&gt;Alpha&lt;/h3&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;Use &lt;code&gt;Alpha&lt;/code&gt; distribution at any time during development cycle.&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Push commit of your choosing to: alpha/v{X.Y.Z}&lt;/li&gt; &#xA; &lt;li&gt;After the GitHub Action has completed successfully; install the release via F-Droid repo&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Beta&lt;/h3&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;Use &lt;code&gt;Beta&lt;/code&gt; distribution at the end of a sprint cycle; to represent the sprint demo version.&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;$ git fetch &amp;amp;&amp;amp; git pull&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;Push &lt;code&gt;main&lt;/code&gt; branch to: beta/v{X.Y.Z}&lt;/li&gt; &#xA; &lt;li&gt;After the GitHub Action has completed successfully; install the release via F-Droid repo&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h1&gt;Troubleshooting&lt;/h1&gt; &#xA;&lt;h3&gt;Initial checkout / branch switch&lt;/h3&gt; &#xA;&lt;p&gt;Generate/update localisation files (to compile/run the project successfully):&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ flutter gen-l10n&#xA;&lt;/code&gt;&lt;/pre&gt;</summary>
  </entry>
</feed>