<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Dart Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2023-07-10T01:33:46Z</updated>
  <subtitle>Daily Trending of Dart in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>Lyokone/flutterlocation</title>
    <updated>2023-07-10T01:33:46Z</updated>
    <id>tag:github.com,2023-07-10:/Lyokone/flutterlocation</id>
    <link href="https://github.com/Lyokone/flutterlocation" rel="alternate"></link>
    <summary type="html">&lt;p&gt;A Flutter plugin to easily handle realtime location in iOS and Android. Provides settings for optimizing performance or battery.&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;Flutter Location Plugin&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://pub.dartlang.org/packages/location&#34;&gt;&lt;img src=&#34;https://img.shields.io/pub/v/location.svg?sanitize=true&#34; alt=&#34;pub package&#34;&gt;&lt;/a&gt; &lt;img src=&#34;https://img.shields.io/cirrus/github/Lyokone/flutterlocation?task=test&#34; alt=&#34;Cirrus CI - Task and Script Build Status&#34;&gt; &lt;a href=&#34;https://codecov.io/gh/Lyokone/flutterlocation&#34;&gt;&lt;img src=&#34;https://codecov.io/gh/Lyokone/flutterlocation/branch/master/graph/badge.svg?sanitize=true&#34; alt=&#34;codecov&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;This plugin for &lt;a href=&#34;https://flutter.io&#34;&gt;Flutter&lt;/a&gt; handles getting a location on Android and iOS. It also provides callbacks when the location is changed.&lt;/p&gt; &#xA;&lt;p align=&#34;center&#34;&gt; &lt;a href=&#34;http://www.youtube.com/watch?feature=player_embedded&amp;amp;v=65qbtJMltVk&#34; target=&#34;_blank&#34;&gt; &lt;img src=&#34;http://img.youtube.com/vi/65qbtJMltVk/0.jpg&#34; alt=&#34;Youtube Video&#34; width=&#34;480&amp;quot;&#34; height=&#34;360&#34; border=&#34;10&#34;&gt; &lt;/a&gt; &lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://lyokone.github.io/flutterlocation&#34;&gt;Web demo&lt;/a&gt; (more features available on Android/iOS)&lt;/p&gt; &#xA;&lt;h2&gt;Getting Started&lt;/h2&gt; &#xA;&lt;p&gt;Add this to your package&#39;s &lt;code&gt;pubspec.yaml&lt;/code&gt; file:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;dependencies:&#xA;  location: ^4.2.0&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Android&lt;/h3&gt; &#xA;&lt;p&gt;With Flutter 1.12, all the dependencies are automatically added to your project. If your project was created before Flutter 1.12, you might need to follow &lt;a href=&#34;https://github.com/flutter/flutter/wiki/Upgrading-pre-1.12-Android-projects&#34;&gt;this&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;To use location background mode on Android, you have to use the enableBackgroundMode({bool enable}) API before accessing location in the background and adding necessary permissions. You should place the required permissions in your applications &#xA; &lt;your-app&gt;&#xA;  /android/app/src/main/AndroidManifest.xml:&#xA; &lt;/your-app&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;    &amp;lt;uses-permission android:name=&#34;android.permission.FOREGROUND_SERVICE&#34; /&amp;gt;&#xA;    &amp;lt;uses-permission android:name=&#34;android.permission.ACCESS_BACKGROUND_LOCATION&#34;/&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Remember that the user has to accept the location permission to &lt;code&gt;always allow&lt;/code&gt; to use the background location. The Android 11 option to &lt;code&gt;always allow&lt;/code&gt; is not presented on the location permission dialog prompt. The user has to enable it manually from the app settings. This should be explained to the user on a separate UI that redirects the user to the app&#39;s location settings managed by the operating system. More on that topic can be found on &lt;a href=&#34;https://developer.android.com/training/location/permissions#request-background-location&#34;&gt;Android developer&lt;/a&gt; pages.&lt;/p&gt; &#xA;&lt;h3&gt;iOS&lt;/h3&gt; &#xA;&lt;p&gt;And to use it in iOS, you have to add this permission in Info.plist :&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;// This is probably the only one you need. Background location is supported&#xA;// by this -- the caveat is that a blue badge is shown in the status bar&#xA;// when the app is using location service while in the background.&#xA;NSLocationWhenInUseUsageDescription&#xA;&#xA;// Deprecated, use NSLocationAlwaysAndWhenInUseUsageDescription instead.&#xA;NSLocationAlwaysUsageDescription&#xA;&#xA;// Use this very carefully. This key is required only if your iOS app&#xA;// uses APIs that access the userâ€™s location information at all times,&#xA;// even if the app isn&#39;t running.&#xA;NSLocationAlwaysAndWhenInUseUsageDescription&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To receive location when application is in background, to Info.plist you have to add property list key :&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;UIBackgroundModes&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;with string value:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;location&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Web&lt;/h3&gt; &#xA;&lt;p&gt;Nothing to do, the plugin works directly out of box.&lt;/p&gt; &#xA;&lt;h3&gt;macOS&lt;/h3&gt; &#xA;&lt;p&gt;Ensure that the application is properly &#34;sandboxed&#34; and that the location is enabled. You can do this in Xcode with the following steps:&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;In the project navigator, click on your application&#39;s target. This should bring up a view with tabs such as &#34;General&#34;, &#34;Capabilities&#34;, &#34;Resource Tags&#34;, etc.&lt;/li&gt; &#xA; &lt;li&gt;Click on the &#34;Capabilities&#34; tab. This will give you a list of items such as &#34;App Groups&#34;, &#34;App Sandbox&#34;, and so on. Each item will have an &#34;On/Off&#34; button.&lt;/li&gt; &#xA; &lt;li&gt;Turn on the &#34;App Sandbox&#34; item and press the &#34;&amp;gt;&#34; button on the left to show the sandbox stuff.&lt;/li&gt; &#xA; &lt;li&gt;In the &#34;App Data&#34; section, select &#34;Location&#34;.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;Add this permission in Info.plist :&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;NSLocationWhenInUseUsageDescription&#xA;NSLocationAlwaysUsageDescription&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Usage&lt;/h2&gt; &#xA;&lt;p&gt;Then you just have to import the package with&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-dart&#34;&gt;import &#39;package:location/location.dart&#39;;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;In order to request location, you should always check Location Service status and Permission status manually&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-dart&#34;&gt;Location location = new Location();&#xA;&#xA;bool _serviceEnabled;&#xA;PermissionStatus _permissionGranted;&#xA;LocationData _locationData;&#xA;&#xA;_serviceEnabled = await location.serviceEnabled();&#xA;if (!_serviceEnabled) {&#xA;  _serviceEnabled = await location.requestService();&#xA;  if (!_serviceEnabled) {&#xA;    return;&#xA;  }&#xA;}&#xA;&#xA;_permissionGranted = await location.hasPermission();&#xA;if (_permissionGranted == PermissionStatus.denied) {&#xA;  _permissionGranted = await location.requestPermission();&#xA;  if (_permissionGranted != PermissionStatus.granted) {&#xA;    return;&#xA;  }&#xA;}&#xA;&#xA;_locationData = await location.getLocation();&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;You can also get continuous callbacks when your position is changing:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-dart&#34;&gt;location.onLocationChanged.listen((LocationData currentLocation) {&#xA;  // Use current location&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To receive location when application is in background you have to enable it:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-dart&#34;&gt;location.enableBackgroundMode(enable: true)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Be sure to check the example project to get other code samples.&lt;/p&gt; &#xA;&lt;p&gt;On Android, a foreground notification is displayed with information that location service is running in the background.&lt;/p&gt; &#xA;&lt;p&gt;On iOS, while the app is in the background and gets the location, the blue system bar notifies users about updates. Tapping on this bar moves the User back to the app.&lt;/p&gt; &#xA;&lt;p align=&#34;center&#34;&gt; &lt;img src=&#34;https://raw.githubusercontent.com/Lyokone/flutterlocation/master/location/src/background_location_android.png&#34; alt=&#34;Androig background location&#34; width=&#34;343&#34; height=&#34;686&#34;&gt; &lt;img src=&#34;https://raw.githubusercontent.com/Lyokone/flutterlocation/master/location/src/background_location_ios.png&#34; alt=&#34;iOS background location&#34; width=&#34;386&#34; height=&#34;686&#34;&gt; &lt;/p&gt; &#xA;&lt;h2&gt;Public Methods Summary&lt;/h2&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Return&lt;/th&gt; &#xA;   &lt;th&gt;Description&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Future&amp;lt;PermissionStatus&amp;gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;requestPermission()&lt;/strong&gt; &lt;br&gt;Request the Location permission. Return a PermissionStatus to know if the permission has been granted.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Future&amp;lt;PermissionStatus&amp;gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;hasPermission()&lt;/strong&gt; &lt;br&gt;Return a PermissionStatus to know the state of the location permission.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Future&amp;lt;bool&amp;gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;serviceEnabled()&lt;/strong&gt; &lt;br&gt;Return a boolean to know if the Location Service is enabled or if the user manually deactivated it.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Future&amp;lt;bool&amp;gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;requestService()&lt;/strong&gt; &lt;br&gt;Show an alert dialog to request the user to activate the Location Service. On iOS, will only display an alert due to Apple Guidelines, the user having to manually go to Settings. Return a boolean to know if the Location Service has been activated (always &lt;code&gt;false&lt;/code&gt; on iOS).&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Future&amp;lt;bool&amp;gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;changeSettings(LocationAccuracy accuracy = LocationAccuracy.HIGH, int interval = 1000, double distanceFilter = 0)&lt;/strong&gt; &lt;br&gt;Will change the settings of futur requests. &lt;code&gt;accuracy&lt;/code&gt;will describe the accuracy of the request (see the LocationAccuracy object). &lt;code&gt;interval&lt;/code&gt; will set the desired interval for active location updates, in milliseconds (only affects Android). &lt;code&gt;distanceFilter&lt;/code&gt; set the minimum displacement between location updates in meters.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Future&amp;lt;LocationData&amp;gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;getLocation()&lt;/strong&gt; &lt;br&gt;Allow to get a one time position of the user. It will try to request permission if not granted yet and will throw a &lt;code&gt;PERMISSION_DENIED&lt;/code&gt; error code if permission still not granted.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Stream&amp;lt;LocationData&amp;gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;onLocationChanged&lt;/strong&gt; &lt;br&gt;Get the stream of the user&#39;s location. It will try to request permission if not granted yet and will throw a &lt;code&gt;PERMISSION_DENIED&lt;/code&gt; error code if permission still not granted.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Future&amp;lt;bool&amp;gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;enableBackgroundMode({bool enable})&lt;/strong&gt; &lt;br&gt;Allow or disallow to retrieve location events in the background. Return a boolean to know if background mode was successfully enabled.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;p&gt;You should try to manage permission manually with &lt;code&gt;requestPermission()&lt;/code&gt; to avoid error, but plugin will try handle some cases for you.&lt;/p&gt; &#xA;&lt;h2&gt;Objects&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-dart&#34;&gt;class LocationData {&#xA;  final double latitude; // Latitude, in degrees&#xA;  final double longitude; // Longitude, in degrees&#xA;  final double accuracy; // Estimated horizontal accuracy of this location, radial, in meters&#xA;  final double altitude; // In meters above the WGS 84 reference ellipsoid&#xA;  final double speed; // In meters/second&#xA;  final double speedAccuracy; // In meters/second, always 0 on iOS&#xA;  final double heading; // Heading is the horizontal direction of travel of this device, in degrees&#xA;  final double time; // timestamp of the LocationData&#xA;  final bool isMock; // Is the location currently mocked&#xA;}&#xA;&#xA;&#xA;enum LocationAccuracy {&#xA;  powerSave, // To request best accuracy possible with zero additional power consumption,&#xA;  low, // To request &#34;city&#34; level accuracy&#xA;  balanced, // To request &#34;block&#34; level accuracy&#xA;  high, // To request the most accurate locations available&#xA;  navigation // To request location for navigation usage (affect only iOS)&#xA;}&#xA;&#xA;// Status of a permission request to use location services.&#xA;enum PermissionStatus {&#xA;  /// The permission to use location services has been granted.&#xA;  granted,&#xA;  // The permission to use location services has been denied by the user. May have been denied forever on iOS.&#xA;  denied,&#xA;  // The permission to use location services has been denied forever by the user. No dialog will be displayed on permission request.&#xA;  deniedForever&#xA;}&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Note: you can convert the timestamp into a &lt;code&gt;DateTime&lt;/code&gt; with: &lt;code&gt;DateTime.fromMillisecondsSinceEpoch(locationData.time.toInt())&lt;/code&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Feedback&lt;/h2&gt; &#xA;&lt;p&gt;Please feel free to &lt;a href=&#34;https://github.com/Lyokone/flutterlocation/issues&#34;&gt;give me any feedback&lt;/a&gt; helping support this plugin !&lt;/p&gt;</summary>
  </entry>
</feed>