<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub PowerShell Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2023-10-09T01:37:06Z</updated>
  <subtitle>Daily Trending of PowerShell in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>dataplat/dbachecks</title>
    <updated>2023-10-09T01:37:06Z</updated>
    <id>tag:github.com,2023-10-09:/dataplat/dbachecks</id>
    <link href="https://github.com/dataplat/dbachecks" rel="alternate"></link>
    <summary type="html">&lt;p&gt;✔ SQL Server Environmental Validation&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;dbachecks&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://star-history.com/#dataplat/dbachecks&amp;amp;Date&#34;&gt;&lt;img align=&#34;right&#34; height=&#34;300&#34; src=&#34;https://api.star-history.com/svg?repos=dataplat/dbachecks&amp;amp;type=Date&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/dataplat/dbachecks/actions/workflows/deploy-module.yml&#34;&gt;&lt;img src=&#34;https://github.com/dataplat/dbachecks/actions/workflows/deploy-module.yml/badge.svg?branch=main&#34; alt=&#34;.github/workflows/deploy-module.yml&#34;&gt;&lt;/a&gt;&lt;br&gt; &lt;a href=&#34;https://github.com/dataplat/dbachecks/releases/latest&#34;&gt;&lt;img src=&#34;https://badgen.net/github/release/dataplat/dbachecks/stable?label=latest_release&#34; alt=&#34;GitHub release badge&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/dataplat/dbachecks/releases/&#34;&gt;&lt;img src=&#34;https://badgen.net/github/release/dataplat/dbachecks?label=pre-release&#34; alt=&#34;GitHub pre-release badge&#34;&gt;&lt;/a&gt;&lt;br&gt; &lt;a href=&#34;https://www.powershellgallery.com/packages/dbachecks/&#34;&gt;&lt;img src=&#34;https://img.shields.io/powershellgallery/v/dbachecks?label=PowerShell_Gallery&#34; alt=&#34;PowerShell Gallery&#34;&gt;&lt;/a&gt;&lt;br&gt; &lt;a href=&#34;https://github.com/dataplat/dbachecks/raw/43423437f831e2844452d482a50864f224f12534/LICENSE&#34;&gt;&lt;img src=&#34;https://badgen.net/github/license/dataplat/dbachecks&#34; alt=&#34;GitHub license badge&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/dataplat/dbachecks/releases&#34;&gt;&lt;img src=&#34;https://badgen.net/github/releases/dataplat/dbachecks&#34; alt=&#34;GitHub releases badge&#34;&gt;&lt;/a&gt;&lt;br&gt; &lt;img src=&#34;https://badgen.net/badge/icon/Ubuntu?icon=terminal&amp;amp;label=pwsh&#34; alt=&#34;Ubuntu Linux&#34;&gt;&lt;a href=&#34;https://github.com/dataplat/dbachecks/actions/&#34;&gt;&lt;img src=&#34;https://gist.githubusercontent.com/SQLDBAWithABeard/7a5d2837e29654202f22392187c75fec/raw/linux-badge.svg?sanitize=true&#34; alt=&#34;Linux Tests&#34;&gt;&lt;/a&gt;&lt;br&gt; &lt;img src=&#34;https://badgen.net/badge/icon/macOS?icon=apple&amp;amp;label=pwsh&#34; alt=&#34;macOS&#34;&gt;&lt;a href=&#34;https://github.com/dataplat/dbachecks/actions/&#34;&gt;&lt;img src=&#34;https://gist.githubusercontent.com/SQLDBAWithABeard/7a5d2837e29654202f22392187c75fec/raw/macos-badge.svg?sanitize=true&#34; alt=&#34;MacOs Tests&#34;&gt;&lt;/a&gt;&lt;br&gt; &lt;img src=&#34;https://badgen.net/badge/icon/windows?icon=windows&amp;amp;label=pwsh&#34; alt=&#34;Windows badge&#34;&gt;&lt;a href=&#34;https://github.com/dataplat/dbachecks/actions/&#34;&gt;&lt;img src=&#34;https://gist.githubusercontent.com/SQLDBAWithABeard/7a5d2837e29654202f22392187c75fec/raw/winps7-badge.svg?sanitize=true&#34; alt=&#34;Windows pwsh Tests&#34;&gt;&lt;/a&gt;&lt;br&gt; &lt;img src=&#34;https://badgen.net/badge/icon/windows?icon=windows&amp;amp;label=5.1&#34; alt=&#34;Windows badge&#34;&gt;&lt;a href=&#34;https://github.com/dataplat/dbachecks/actions/&#34;&gt;&lt;img src=&#34;https://gist.githubusercontent.com/SQLDBAWithABeard/7a5d2837e29654202f22392187c75fec/raw/winps51-badge.svg?sanitize=true&#34; alt=&#34;Windows PowerShell 5.1 Tests&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;img src=&#34;https://user-images.githubusercontent.com/8278033/34322840-ed09114e-e832-11e7-9670-9baa686ade71.png&#34;&gt; &#xA;&lt;p&gt;&lt;strong&gt;Please note - development on v2 has stopped and all efforts are focused on the v3 improvements to use Pester v5 and improve performance.&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;You are welcome to help by picking something from the project &lt;a href=&#34;https://github.com/orgs/dataplat/projects/2&#34;&gt;https://github.com/orgs/dataplat/projects/2&lt;/a&gt; or by contacting @SQLDBAWithABeard @jpomfret @ClaudioESSilva or @shaneis&lt;/p&gt; &#xA;&lt;p&gt;dbachecks is a framework created by and for SQL Server pros who need to validate their environments. Basically, we all share similar checklists and mostly just the server names and RPO/RTO/etc change.&lt;/p&gt; &#xA;&lt;p&gt;This open source module allows us to crowd-source our checklists using &lt;a href=&#34;https://github.com/Pester/Pester&#34;&gt;Pester&lt;/a&gt; tests. Such checks include:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Backups are being performed&lt;/li&gt; &#xA; &lt;li&gt;Identity columns are not about to max out&lt;/li&gt; &#xA; &lt;li&gt;Servers have access to backup paths&lt;/li&gt; &#xA; &lt;li&gt;Database integrity checks are being performed and corruption does not exist&lt;/li&gt; &#xA; &lt;li&gt;Disk space is not about to run out&lt;/li&gt; &#xA; &lt;li&gt;All enabled jobs have succeeded&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Interactive dbachecks PowerShell Notebooks for Azure Data Studio&lt;/h2&gt; &#xA;&lt;p&gt;You can find a set of interactive PowerShell Notebooks which will introduce you to all of the core concepts in Robs GitHub. There is a set of .NET interactive Jupyter Notebooks&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/SQLDBAWithABeard/JupyterNotebooks/tree/master/notebooks/dotNETNotebooks/dbachecks&#34;&gt;https://github.com/SQLDBAWithABeard/JupyterNotebooks/tree/master/notebooks/dotNETNotebooks/dbachecks&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;and a set of Jupyter Notebooks that will run in Azure Data Studio&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/SQLDBAWithABeard/JupyterNotebooks/tree/master/notebooks/NotDotNet/dbachecks&#34;&gt;https://github.com/SQLDBAWithABeard/JupyterNotebooks/tree/master/notebooks/NotDotNet/dbachecks&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;Both will use a docker container to show you how dbachecks works.&lt;/p&gt; &#xA;&lt;p&gt;There is a zip file containing the Notebooks here&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/SQLDBAWithABeard/Presentations/raw/master/Notebooks/dbachecks/Notebooks.zip&#34;&gt;https://github.com/SQLDBAWithABeard/Presentations/raw/master/Notebooks/dbachecks/Notebooks.zip&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;Have questions about development? Please visit our &lt;a href=&#34;https://github.com/sqlcollaborative/dbachecks/wiki&#34;&gt;Wiki&lt;/a&gt;. &lt;strong&gt;Anyone developing this module&lt;/strong&gt; should visit that Wiki page (after fully reading this readme) for a brief overview.&lt;/p&gt; &#xA;&lt;h2&gt;Build Status&lt;/h2&gt; &#xA;&lt;table&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;a href=&#34;https://sqlcollaborative.visualstudio.com/dbachecks/_build/index?context=mine&amp;amp;path=%5C&amp;amp;definitionId=3&amp;amp;_a=completed&#34; target=&#34;_blank&#34;&gt;&lt;img align=&#34;left&#34; src=&#34;https://sqlcollaborative.visualstudio.com/_apis/public/build/definitions/a0deae7b-ae38-4ecc-a836-5f79cc561140/3/badge&#34;&gt;&lt;/a&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Development Branch Build - Unit testing &lt;a href=&#34;https://sqlcollaborative.visualstudio.com/dbachecks/_build/index?context=mine&amp;amp;path=%5C&amp;amp;definitionId=3&amp;amp;_a=completed&#34; target=&#34;_blank&#34;&gt;Click Here&lt;/a&gt;&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;a href-&#34;https: sqlcollaborative.visualstudio.com dbachecks _build index?context=&#34;mine&amp;amp;path=%5C&amp;amp;definitionId=2&amp;amp;_a=completed&amp;quot;&#34;&gt;&lt;img align=&#34;left&#34; src=&#34;https://sqlcollaborative.visualstudio.com/_apis/public/build/definitions/a0deae7b-ae38-4ecc-a836-5f79cc561140/2/badge&#34;&gt;&lt;/a&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Master Branch Build - Module version update and Code Signing &lt;a href=&#34;https://sqlcollaborative.visualstudio.com/dbachecks/_build/index?context=mine&amp;amp;path=%5C&amp;amp;definitionId=2&amp;amp;_a=completed&#34; target=&#34;_blank&#34;&gt;Click Here&lt;/a&gt;&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;a href=&#34;https://sqlcollaborative.visualstudio.com/dbachecks/_releases2?definitionId=3&amp;amp;view=mine&amp;amp;_a=releases&#34;&gt;&lt;img align=&#34;left&#34; src=&#34;https://sqlcollaborative.vsrm.visualstudio.com/_apis/public/Release/badge/a0deae7b-ae38-4ecc-a836-5f79cc561140/2/2&#34;&gt;&lt;/a&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Master Branch Release - Release to PowerShell Gallery &lt;a href=&#34;https://sqlcollaborative.visualstudio.com/dbachecks/_releases2?definitionId=3&amp;amp;view=mine&amp;amp;_a=releases&#34; target=&#34;_blank&#34;&gt;Click Here&lt;/a&gt;&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;p&gt;Want to know how our CD process works? Read this &lt;a href=&#34;https://sqldbawithabeard.com/2018/05/01/version-update-code-signing-and-publishing-to-the-powershell-gallery-with-vsts/&#34;&gt;blog post&lt;/a&gt; and see how the team manage it&lt;/p&gt; &#xA;&lt;h2&gt;Prerequisites&lt;/h2&gt; &#xA;&lt;h3&gt;Client requirements&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;PowerShell 5 + is required.&lt;/li&gt; &#xA; &lt;li&gt;Automatic installation of the dependent modules will only be provided via the &lt;a href=&#34;https://www.powershellgallery.com&#34;&gt;PowerShell Gallery&lt;/a&gt;.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;When you install from the Gallery, it&#39;ll auto-install:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;dbatools&lt;/li&gt; &#xA; &lt;li&gt;PSFramework&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;You will also need to manually install the Pester module at version 4.10.0, this is due to inconsistencies between dbachecks and Pester v5. If you have Pester v5 installed it is recommended to remove this and use Pester 4.10.0 or force an import of 4.10.0 when running dbachecks&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;Install-Module Pester -SkipPublisherCheck -Force -RequiredVersion 4.10.0&#xA;Import-Module Pester -Force -RequiredVersion 4.10.0&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;When you import, it&#39;ll auto-import&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;dbatools&lt;/li&gt; &#xA; &lt;li&gt;Pester&lt;/li&gt; &#xA; &lt;li&gt;PSFramework&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;If you have already installed the module and you update it, you may be required to update the Pester or the PSFramework modules before it will import. If you see a message like&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://user-images.githubusercontent.com/6729780/35032185-dfe988a2-fb5d-11e7-83e3-6a41a9c89b81.png&#34; alt=&#34;error&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;Then you need to&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;Install-Module Pester -SkipPublisherCheck -Force -RequiredVersion 4.10.0&#xA;Import-Module Pester -Force -RequiredVersion 4.10.0&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;You may need to do the same thing for the PSFramework or dbatools modules also&lt;/p&gt; &#xA;&lt;h3&gt;SQL requirements&lt;/h3&gt; &#xA;&lt;p&gt;dbachecks uses dbatools for most of it&#39;s data gathering so it supports SQL Versions from SQL 2000 to SQL vNext including SQL running on Linux. (dbachecks will not install on PowerShell Core yet so can not be run on a Linux client) Obviously some of the Services and disk space checks will not work against instances running on Linux as they are using gWindows API calls.&lt;/p&gt; &#xA;&lt;h2&gt;Getting started&lt;/h2&gt; &#xA;&lt;p&gt;Checks are performed using &lt;code&gt;Invoke-DbcCheck&lt;/code&gt; which is basically a wrapper for &lt;a href=&#34;https://github.com/pester/Pester/wiki/Invoke-Pester&#34;&gt;Invoke-Pester&lt;/a&gt;. This means that supported &lt;code&gt;Invoke-Pester&lt;/code&gt; parameters work against &lt;code&gt;Invoke-DbcCheck&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;In this module, a &#34;Check&#34; is synonymous with a &#34;Tag&#34; in Pester. So you can &lt;strong&gt;Invoke-DbcCheck&lt;/strong&gt; and specify a Check that you want to run. You can see a list of the available Checks with &lt;strong&gt;Get-DbcCheck&lt;/strong&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://user-images.githubusercontent.com/8278033/34329332-57f40a1c-e8fc-11e7-8526-178c415b09bf.png&#34; alt=&#34;image&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;Once you&#39;ve decided on the Check(s) you want to run, it&#39;s time to ensure you have a list of servers to run the checks against.&lt;/p&gt; &#xA;&lt;h3&gt;Making server lists&lt;/h3&gt; &#xA;&lt;p&gt;Similar to the &lt;a href=&#34;https://dbatools.io&#34;&gt;dbatools&lt;/a&gt; module, dbachecks accepts &lt;code&gt;-SqlInstance&lt;/code&gt; and &lt;code&gt;-ComputerName&lt;/code&gt; parameters.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;Invoke-DbcCheck -SqlInstance $servers -Checks SuspectPage, LastBackup&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;If you have a simplified (single) environment, however, you can set a permanent list of servers. &#34;Servers&#34; include both SQL Server instances and Windows servers. Checks that access Windows Server (e.g. disk space checks) will utilize &lt;code&gt;-ComputerName&lt;/code&gt; parameter. A pure SQL Server command(s) (such as the backup check) utilizes the &lt;code&gt;-SqlInstance&lt;/code&gt; parameter.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;# Set the servers you&#39;ll be working with&#xA;Set-DbcConfig -Name app.sqlinstance -Value sql2016, sql2017, sql2008, sql2008\express&#xA;Set-DbcConfig -Name app.computername -Value sql2016, sql2017, sql2008&#xA;&#xA;# Look at the current configs&#xA;Get-DbcConfig&#xA;&#xA;# Invoke a few tests&#xA;Invoke-DbcCheck -Checks SuspectPage, LastBackup&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;What it looks like&lt;/h4&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://user-images.githubusercontent.com/8278033/34315954-431d0b16-e78a-11e7-8f6d-c87b40ed90b2.png&#34; alt=&#34;image&#34;&gt;&lt;/p&gt; &#xA;&lt;h4&gt;Other ways to execute checks against specific servers&lt;/h4&gt; &#xA;&lt;p&gt;Additional &lt;code&gt;Invoke-DbcCheck&lt;/code&gt; examples:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;Invoke-DbcCheck -Check Backup -SqlInstance sql2016&#xA;Invoke-DbcCheck -Check RecoveryModel -SqlInstance sql2017, sqlcluster&#xA;&#xA;$sqlinstance = Get-DbaRegisteredServer -SqlInstance sql2017 -Group Express&#xA;Invoke-DbcCheck -Check Backup -SqlInstance $sqlinstance&#xA;&#xA;Invoke-DbcCheck -Check Storage -ComputerName server1, server2&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Check and ExcludeCheck&lt;/h2&gt; &#xA;&lt;p&gt;We tag each of our Checks using singular descriptions such as Backup, Database or Storage. You can see all the Pester related Tags using &lt;code&gt;Get-DbcTagCollection&lt;/code&gt; or &lt;code&gt;Get-DbcCheck&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;Each Check generally has a few Tags but at least one Tag is unique. This allows us to essentially name a Check and using these Tags, you can either include (&lt;code&gt;-Check&lt;/code&gt;) or Exclude (&lt;code&gt;-ExcludeCheck&lt;/code&gt;) in your results. The Exclude will always take precedence.&lt;/p&gt; &#xA;&lt;p&gt;For example, the Database Tag runs a number of Checks including Backup Checks. The command below will run all Database Checks except for the Backup Checks.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;Invoke-DbcCheck -Check Database -ExcludeCheck Backup -SqlInstance sql2016 -SqlCredential (Get-Credential sqladmin)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;All valid &lt;a href=&#34;https://github.com/Pester/Pester&#34;&gt;Pester&lt;/a&gt; syntax is valid for dbachecks so if you&#39;d like to know more, you can review their documentation.&lt;/p&gt; &#xA;&lt;h2&gt;Reporting on the data&lt;/h2&gt; &#xA;&lt;p&gt;Since this is just PowerShell and Pester, results can be exported then easily converted to pretty reports. We&#39;ve provided two options: Power BI and SMTP mail.&lt;/p&gt; &#xA;&lt;h3&gt;Power BI Visualizations!&lt;/h3&gt; &#xA;&lt;p&gt;We&#39;ve also included a pre-built Power BI Desktop report! You can download Power BI Desktop from &lt;a href=&#34;https://powerbi.microsoft.com/en-us/downloads/&#34;&gt;here&lt;/a&gt; or it is now offered via the &lt;a href=&#34;https://www.microsoft.com/store/productId/9NTXR16HNW1T&#34;&gt;Microsoft Store on Windows 10&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;Note: We strongly recommend that you keep your PowerBI Desktop updated since we can add brand-new stuff that appears on the most recent releases.&lt;/p&gt; &#xA;&lt;p&gt;To use the Power BI report, pipe the results of &lt;code&gt;Invoke-DbcCheck&lt;/code&gt; to &lt;code&gt;Update-DbcPowerBiDataSource&lt;/code&gt; (defaults to &lt;code&gt;C:\Windows\temp\dbachecks&lt;/code&gt;), then launch the included &lt;code&gt;dbachecks.pbix&lt;/code&gt; file using &lt;code&gt;Start-DbcPowerBi&lt;/code&gt;. Once the Power BI report is open, just hit &lt;strong&gt;refresh&lt;/strong&gt;.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;# Run checks and export its JSON&#xA;Invoke-DbcCheck -SqlInstance sql2017 -Checks SuspectPage, LastBackup -Show Summary -PassThru | Update-DbcPowerBiDataSource&#xA;&#xA;# Launch Power BI then hit refresh&#xA;Start-DbcPowerBi&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://user-images.githubusercontent.com/19521315/36527050-640d6c0a-17a8-11e8-9781-0aab0a8f8d48.png&#34; alt=&#34;image&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;The above report uses &lt;code&gt;Update-DbcPowerBiDataSource&lt;/code&gt;&#39;s &lt;code&gt;-Environment&lt;/code&gt; parameter.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;# Run checks and export its JSON&#xA;Invoke-DbcCheck -SqlInstance $prod -Checks LastBackup -Show Summary -PassThru |&#xA;Update-DbcPowerBiDataSource -Environment Prod&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;😍😍😍&lt;/p&gt; &#xA;&lt;h3&gt;Sending mail&lt;/h3&gt; &#xA;&lt;p&gt;We even included a command to make emailing the results easier!&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;$outputDirectory = (Get-DbcConfigValue -Name app.maildirectory)&#xA;$filename = $outputDirectory + &#39;\file.xml&#39;&#xA;Invoke-Dbccheck -OutputFile $fileName -OutputFormat NunitXML&#xA;&#xA;$outputpath = $outputDirectory + &#34;\index.html&#34;&#xA;$reportunit = &#34;ModulePath\bin\ReportUnit.exe&#34;&#xA;&amp;amp; $reportunit $outputDirectory&#xA;&#xA;$htmlbody = Get-Content -Path $outputpath -ErrorAction SilentlyContinue | Out-String&#xA;&#xA;Send-MailMessage -To clemaire@dbatools.io -From nobody@dbachecks.io -SMTP smtp.ad.local -BodyAsHtml $htmlbody&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://user-images.githubusercontent.com/8278033/34316816-cc157d04-e79e-11e7-971d-1cfee90b2e11.png&#34; alt=&#34;image&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;If you&#39;d like to test locally, check out &lt;a href=&#34;https://github.com/ChangemakerStudios/Papercut/releases&#34;&gt;PaperCut&lt;/a&gt; which is just a quick email viewer that happens to have a built-in SMTP server. It provides awesome, built-in functionality so you can send the reports!&lt;/p&gt; &#xA;&lt;h2&gt;Advanced usage&lt;/h2&gt; &#xA;&lt;h3&gt;Skipping some internal tests&lt;/h3&gt; &#xA;&lt;p&gt;The Check &lt;code&gt;LastGoodCheckDb&lt;/code&gt; includes a test for data purity. You may be in an environment that can&#39;t support data purity. If this check needs to be skipped, you can do the following:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;Get-DbcConfig *skip*&#xA;Set-DbcConfig -Name skip.dbcc.datapuritycheck -Value $true&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Need to skip a whole test? Just use the &lt;code&gt;-ExcludeCheck&lt;/code&gt; which is auto-populated with both Check names and Pester Tags.&lt;/p&gt; &#xA;&lt;h3&gt;Setting a global SQL Credential&lt;/h3&gt; &#xA;&lt;p&gt;&lt;code&gt;Set-DbcConfig&lt;/code&gt; persists the values. If you &lt;code&gt;Set-DbcConfig -Name app.sqlcredential -Value (Get-Credential sa)&lt;/code&gt; it will set the &lt;code&gt;SqlCredential&lt;/code&gt; for the whole module, but not your local console! So cool.&lt;/p&gt; &#xA;&lt;p&gt;You can also manually change the &lt;code&gt;SqlCredential&lt;/code&gt; or &lt;code&gt;Credential&lt;/code&gt; by specifying it in &lt;code&gt;Invoke-DbaCheck&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;Invoke-DbaCheck -SqlInstance sql2017 -SqlCredential (Get-Credential sqladmin) -Check MaxMemory&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Manipulating the underlying commands&lt;/h3&gt; &#xA;&lt;p&gt;You can also modify the parameters of the actual command that&#39;s being executed:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;Set-Variable -Name PSDefaultParameterValues -Value @{ &#39;Get-DbaDiskSpace:ExcludeDrive&#39; = &#39;C:\&#39; } -Scope Global&#xA;Invoke-DbcCheck -Check Storage&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Can I run tests not included the module?&lt;/h2&gt; &#xA;&lt;p&gt;If you have super specialized checks to run, you can add a new repository, update the &lt;code&gt;app.checkrepos&lt;/code&gt; config and this will make all of your tests available to &lt;code&gt;Invoke-DbcCheck&lt;/code&gt;. From here, you can pipe to &lt;code&gt;Send-DbcMailMessage&lt;/code&gt;, &lt;code&gt;Update-DbcPowerBiDataSource&lt;/code&gt; or parse however you would parse Pester results.&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://user-images.githubusercontent.com/8278033/34320729-aeacb72a-e800-11e7-8278-a83de46afcc6.png&#34; alt=&#34;image&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;So first, add your repository&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;Set-DbcConfig -Name app.checkrepos -Value C:\temp\checks -Append&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Then add additional checks. We recommend using the &lt;a href=&#34;https://github.com/potatoqualitee/dbachecks/wiki&#34;&gt;development guidelines for dbachecks&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://user-images.githubusercontent.com/8278033/34320819-07fe939c-e802-11e7-8203-a82740cc8f19.png&#34; alt=&#34;image&#34;&gt;&lt;/p&gt; &#xA;&lt;h2&gt;I&#39;d like to run my checks in SQL Server Agent&lt;/h2&gt; &#xA;&lt;p&gt;Great idea! Remember that this module requires PowerShell version 4.0, which doesn&#39;t always mesh with SQL Server&#39;s PowerShell Job Step. To run dbachecks, &lt;strong&gt;we recommend you use CmdExec&lt;/strong&gt;. You can read more at &lt;a href=&#34;https://dbatools.io/agent&#34;&gt;dbatools.io/agent&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;If you do choose to use the PowerShell step, don&#39;t forget to &lt;code&gt;Set-Location&lt;/code&gt; somewhere outside of SQLSERVER:, otherwise, you&#39;ll get errors similar to this&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://user-images.githubusercontent.com/8771143/35379174-878505fc-01b5-11e8-8731-41be4daff815.png&#34; alt=&#34;image&#34;&gt;&lt;/p&gt; &#xA;&lt;h2&gt;I don&#39;t have access to the PowerShell Gallery, how can I download this?&lt;/h2&gt; &#xA;&lt;p&gt;This module has a number of dependencies which makes creating a GitHub-centric installer a bit of a pain. We suggest you use a machine with &lt;a href=&#34;https://docs.microsoft.com/en-us/powershell/scripting/gallery/installing-psget&#34;&gt;PowerShellGet&lt;/a&gt; installed and Save all the modules you need:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;Save-Module -Name dbachecks, dbatools, PSFramework, Pester -Path C:\temp&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Then move them to somewhere in your &lt;code&gt;$env:PSModulePath&lt;/code&gt;, perhaps &lt;strong&gt;Documents\WindowsPowerShell\Modules&lt;/strong&gt; or &lt;strong&gt;C:\Program Files\WindowsPowerShell\Modules&lt;/strong&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Read more&lt;/h2&gt; &#xA;&lt;p&gt;Read more about dbachecks from a number of our original contributors!&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://sqldbawithabeard.com/2018/02/22/announcing-dbachecks-configurable-powershell-validation-for-your-sql-instances/&#34;&gt;Announcing dbachecks – Configurable PowerShell Validation For Your SQL Instances by Rob Sewell&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://dbachecks.io/introducing&#34;&gt;introducing dbachecks - a new module from the dbatools team! by Chrissy LeMaire&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://dbachecks.io/install&#34;&gt;install dbachecks by Chrissy LeMaire&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://dbachecks.io/commands&#34;&gt;dbachecks commands by Chrissy LeMaire&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;http://claudioessilva.eu/2018/02/22/dbachecks-using-power-bi-dashboards-to-analyse-results/&#34;&gt;dbachecks – Using Power BI dashboards to analyse results by Cláudio Silva&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://v-roddba.blogspot.com/2018/02/wrapper-for-dbachecks.html&#34;&gt;My wrapper for dbachecks by Tony Wilhelm&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;http://jesspomfret.com/checking-backups-with-dbachecks/&#34;&gt;Checking backups with dbachecks by Jess Pomfret&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://garrybargsley.com/2018/02/22/dbachecks-please/&#34;&gt;dbachecks please! by Garry Bargsley&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://sqldbawithabeard.com/2018/02/22/dbachecks-configuration-deep-dive/&#34;&gt;dbachecks – Configuration Deep Dive by Rob Sewell&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://www.sqlstad.nl/powershell/test-log-shipping-with-dbachecks/&#34;&gt;Test Log Shipping with dbachecks by Sander Stad&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://corrick.io/blog/checking-your-backup-strategy-with-dbachecks&#34;&gt;Checking your backup strategy with dbachecks by Joshua Corrick&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;http://www.sqlnotnull.com/2018/02/22/enterprise-level-reporting-with-dbachecks-from-the-makers-of-dbatools/&#34;&gt;Enterprise-level reporting with dbachecks by Jason Squires&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;http://nocolumnname.blog/2018/02/22/adding-your-own-checks-to-dbachecks&#34;&gt;Adding your own checks to dbachecks by Shane O&#39;Neill&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://claudioessilva.eu/2018/02/22/dbachecks-a-different-approach-for-an-in-progress-and-incremental-validation/&#34;&gt;dbachecks - A different approach for an in-progress and incremental validation by Cláudio Silva&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://sqldbawithabeard.com/2018/05/19/dbachecks-improved-descriptions/&#34;&gt;dbachecks - Improved Descriptions by Rob Sewell&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://stuart-moore.com/dbachecks-sql-server-compliance-testing-simple-configuration-management/&#34;&gt;DBACHECKS – SQL SERVER COMPLIANCE TESTING WITH SIMPLE CONFIGURATION MANAGEMENT by Stuart Moore&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://sqldbawithabeard.com/2018/05/15/dbachecks-which-configuration-item-for-which-check/&#34;&gt;dbachecks – Which Configuration Item For Which Check ? by Rob Sewell&lt;/a&gt; *&lt;a href=&#34;https://sqldbawithabeard.com/2018/04/08/checking-availability-groups-with-dbachecks/&#34;&gt;https://sqldbawithabeard.com/2018/04/08/checking-availability-groups-with-dbachecks/ by Rob Sewell&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Know of any more blog posts about dbachecks? - Please add them here.&lt;/p&gt; &#xA;&lt;h2&gt;Party&lt;/h2&gt; &#xA;&lt;p&gt;Nice work!&lt;/p&gt; &#xA;&lt;h1&gt;How to Contribute&lt;/h1&gt; &#xA;&lt;p&gt;We welcome contributions to the project. You can fork the repository, make changes and create a Pull Request. &lt;a href=&#34;https://sqldbawithabeard.com/?p=11030&#34;&gt;Rob has written a guide here&lt;/a&gt;&lt;/p&gt;</summary>
  </entry>
</feed>