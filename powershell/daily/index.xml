<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub PowerShell Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2024-08-17T01:32:53Z</updated>
  <subtitle>Daily Trending of PowerShell in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>nettitude/PoshC2</title>
    <updated>2024-08-17T01:32:53Z</updated>
    <id>tag:github.com,2024-08-17:/nettitude/PoshC2</id>
    <link href="https://github.com/nettitude/PoshC2" rel="alternate"></link>
    <summary type="html">&lt;p&gt;A proxy aware C2 framework used to aid red teamers with post-exploitation and lateral movement.&lt;/p&gt;&lt;hr&gt;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/nettitude/PoshC2/master/resources/images/PoshC2Logo.png&#34; alt=&#34;PoshC2 Logo&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://github.com/nettitude/PoshC2/workflows/Docker%20Image%20CI/badge.svg?branch=master&#34; alt=&#34;Docker Image CI&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;PoshC2 is a proxy aware C2 framework used to aid penetration testers with red teaming, post-exploitation and lateral movement.&lt;/p&gt; &#xA;&lt;p&gt;PoshC2 is primarily written in Python3 and follows a modular format to enable users to add their own modules and tools, allowing an extendible and flexible C2 framework. Out-of-the-box PoshC2 comes PowerShell/C# and Python2/Python3 implants with payloads written in PowerShell v2 and v4, C++ and C# source code, a variety of executables, DLLs and raw shellcode in addition to a Python2/Python3 payload. These enable C2 functionality on a wide range of devices and operating systems, including Windows, *nix and OSX.&lt;/p&gt; &#xA;&lt;p&gt;Other notable features of PoshC2 include:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Consistent and Cross-Platform support using Docker.&lt;/li&gt; &#xA; &lt;li&gt;Highly configurable payloads, including default beacon times, jitter, kill dates, user agents and more.&lt;/li&gt; &#xA; &lt;li&gt;A large number of payloads generated out-of-the-box which are frequently updated.&lt;/li&gt; &#xA; &lt;li&gt;Shellcode containing in-build AMSI bypass and ETW patching for a high success rate and stealth.&lt;/li&gt; &#xA; &lt;li&gt;Auto-generated Apache Rewrite rules for use in a C2 proxy, protecting your C2 infrastructure and maintaining good operational security.&lt;/li&gt; &#xA; &lt;li&gt;A modular and extensible format allowing users to create or edit C#, PowerShell or Python3 modules which can be run in-memory by the Implants.&lt;/li&gt; &#xA; &lt;li&gt;Notifications on receiving a successful Implant via Pushover or Slack.&lt;/li&gt; &#xA; &lt;li&gt;A comprehensive and maintained contextual help and an intelligent prompt with contextual auto-completion, history and suggestions.&lt;/li&gt; &#xA; &lt;li&gt;Fully encrypted communications, protecting the confidentiality and integrity of the C2 traffic even when communicating over HTTP.&lt;/li&gt; &#xA; &lt;li&gt;Client/Server format allowing multiple team members to utilise a single C2 server.&lt;/li&gt; &#xA; &lt;li&gt;Extensive logging. Every action and response is timestamped and stored in a database with all relevant information such as user, host, implant number etc. In addition to this the C2 server output is directly logged to a separate file.&lt;/li&gt; &#xA; &lt;li&gt;PowerShell-less implants that do not use System.Management.Automation.dll using C# or Python2/Python3.&lt;/li&gt; &#xA; &lt;li&gt;A free and open-source SOCKS Proxy using &lt;a href=&#34;https://github.com/nettitude/SharpSocks&#34;&gt;SharpSocks&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;HTTP(S) and SMB named-pipe comms for implants combined with Implant Daisy-chaining for reaching networks that do not have access to the internet&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Documentation&lt;/h2&gt; &#xA;&lt;p&gt;We maintain PoshC2 documentation over at &lt;a href=&#34;https://poshc2.readthedocs.io/en/latest/&#34;&gt;https://poshc2.readthedocs.io/en/latest/&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;Find us on #Slack - &lt;a href=&#34;https://raw.githubusercontent.com/nettitude/PoshC2/master/poshc2.slack.com&#34;&gt;poshc2.slack.com&lt;/a&gt; (to request an invite send an email to &lt;a href=&#34;mailto:labs@nettitude.com&#34;&gt;labs@nettitude.com&lt;/a&gt;)&lt;/p&gt; &#xA;&lt;h2&gt;Install&lt;/h2&gt; &#xA;&lt;p&gt;You can install PoshC2 directly or use the Docker images, instructions for both are below.&lt;/p&gt; &#xA;&lt;h3&gt;Direct install on Kali hosts&lt;/h3&gt; &#xA;&lt;p&gt;An install script is provided for installing PoshC2:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;*** PoshC2 Install script ***&#xA;Usage:&#xA;./Install.sh -b &amp;lt;git branch&amp;gt; -p &amp;lt;Directory to clone PoshC2 to&amp;gt;&#xA;&#xA;Defaults are master branch to /opt/PoshC2&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Elevated privileges are required as the install script performs &lt;code&gt;apt&lt;/code&gt; updates and installations.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;curl -sSL https://raw.githubusercontent.com/nettitude/PoshC2/master/Install.sh | sudo bash&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Alternatively the repository can be cloned down and the install script manually run.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;sudo ./Install.sh&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;You can manually set the PoshC2 installation directory by passing it to the Install.sh script as the &lt;code&gt;-p&lt;/code&gt; argument. The default is &lt;strong&gt;/opt/PoshC2&lt;/strong&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;curl -sSL https://raw.githubusercontent.com/nettitude/PoshC2/master/Install.sh | sudo bash -s -- -p /root/PoshC2&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Cutting Edge Features&lt;/h3&gt; &#xA;&lt;p&gt;We want to keep the &lt;code&gt;master&lt;/code&gt; branch stable to ensure that users are able to rely on it when required and for this reason changes can often be feature-complete but not yet present on &lt;code&gt;master&lt;/code&gt; as they have not been tested completely and signed-off yet.&lt;/p&gt; &#xA;&lt;p&gt;If you want to look at upcoming features in PoshC2 you can check out the &lt;code&gt;dev&lt;/code&gt; branch, or any individual feature branches branched off of &lt;code&gt;dev&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;As features &lt;strong&gt;are&lt;/strong&gt; tested before they are merged into &lt;code&gt;dev&lt;/code&gt; this branch should still be fairly stable and operators can opt in to using this branch or a particular feature branch for their engagement. This does trade stablity for new features however so do it at your own discretion.&lt;/p&gt; &#xA;&lt;p&gt;To use &lt;code&gt;dev&lt;/code&gt; or a feature branch pass the branch name to the Install.sh script as the &lt;code&gt;-b&lt;/code&gt; argument:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;curl -sSL https://raw.githubusercontent.com/nettitude/PoshC2/dev/Install.sh | sudo bash -s -- -b dev&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Note the URL includes the branch name also (here &lt;code&gt;dev&lt;/code&gt; instead of &lt;code&gt;master&lt;/code&gt;).&lt;/p&gt; &#xA;&lt;h2&gt;Installing for Docker&lt;/h2&gt; &#xA;&lt;p&gt;You can also run PoshC2 using Docker, this allows more stable and running and enables PoshC2 to easily run on other operating systems.&lt;/p&gt; &#xA;&lt;p&gt;The Docker install does not clone PoshC2 as the PoshC2 images on Docker Hub are used, so only a minimal install of some dependencies and scripts are performed.&lt;/p&gt; &#xA;&lt;p&gt;To start with, install Docker on the host and then add the PoshC2 projects directory to Docker as a shared directory if required for your OS. By default this is &lt;strong&gt;/var/poshc2&lt;/strong&gt; on *nix and &lt;strong&gt;/private/var/poshc2&lt;/strong&gt; on Mac.&lt;/p&gt; &#xA;&lt;h3&gt;Kali based hosts&lt;/h3&gt; &#xA;&lt;p&gt;Install script:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;*** PoshC2 Install script for Docker ***&#xA;Usage:&#xA;./Install-for-Docker.sh -b &amp;lt;git branch&amp;gt;&#xA;&#xA;Default is the master branch&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Elevated privileges are required as the install script performs script installations.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;curl -sSL https://raw.githubusercontent.com/nettitude/PoshC2/master/Install-for-Docker.sh | sudo bash&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To use the &lt;code&gt;dev&lt;/code&gt; or feature branches with Docker curl down the &lt;code&gt;Install-for-Docker.sh&lt;/code&gt; on the appropriate branch and pass the branch name as an argument:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;curl -sSL https://raw.githubusercontent.com/nettitude/PoshC2/BRANCHNAME/Install-for-Docker.sh | sudo bash -s -- -b BRANCHNAME&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Windows&lt;/h3&gt; &#xA;&lt;p&gt;On Windows, import the PoshC2.psm1 PowerShell module.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;Import-Module -DisableNameChecking C:\PoshC2\resources\scripts\PoshC2.psm1&#xA;posh-project -PoshC2Dir &#34;C:\PoshC2&#34; -LocalPoshC2ProjectDir &#34;C:\PoshC2_Project&#34; -Arg1 &#34;-n&#34; -Arg2 &#34;newproject&#34;&#xA;posh-config -PoshC2Dir &#34;C:\PoshC2&#34; -LocalPoshC2ProjectDir &#34;C:\PoshC2_Project&#34;&#xA;posh-server -PoshC2Dir &#34;C:\PoshC2&#34; -LocalPoshC2ProjectDir &#34;C:\PoshC2_Project&#34;&#xA;posh -PoshC2Dir &#34;C:\PoshC2&#34; -LocalPoshC2ProjectDir &#34;C:\PoshC2_Project&#34; username&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Running PoshC2&lt;/h2&gt; &#xA;&lt;p&gt;Create a new project:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;posh-project -n &amp;lt;project-name&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Projects can be switched to or listed using this script:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;[*] Usage: posh-project -n &amp;lt;new-project-name&amp;gt;&#xA;[*] Usage: posh-project -s &amp;lt;project-to-switch-to&amp;gt;&#xA;[*] Usage: posh-project -l (lists projects)&#xA;[*] Usage: posh-project -d &amp;lt;project-to-delete&amp;gt;&#xA;[*] Usage: posh-project -c (shows current project)&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Edit the configuration for your project:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;posh-config&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Launch the PoshC2 server:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;posh-server&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Alternatively start it as a service:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;posh-service&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Separately, run the ImplantHandler for interacting with implants:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;posh -u &amp;lt;username&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;See &lt;a href=&#34;https://poshc2.readthedocs.io/en/latest/&#34;&gt;https://poshc2.readthedocs.io/en/latest/&lt;/a&gt; for full documentation on PoshC2.&lt;/p&gt; &#xA;&lt;h3&gt;Specifying a Docker tag&lt;/h3&gt; &#xA;&lt;p&gt;If you are using Docker you can specify the Docker image tag to run with the &lt;code&gt;-t&lt;/code&gt; option to &lt;code&gt;posh-server&lt;/code&gt; and &lt;code&gt;posh&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;E.g.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;posh-server -t latest&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Updating PoshC2 Installations&lt;/h2&gt; &#xA;&lt;p&gt;&lt;strong&gt;It is not recommended to update PoshC2 during an engagement. Incoming changes may be incompatible with an existing project and can result in erratic behaviour.&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;When using a git cloned version of PoshC2 you can update your PoshC2 installation using the following command:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;*** PoshC2 Update Script ***&#xA;Usage:&#xA;posh-update -b &amp;lt;git branch&amp;gt;&#xA;&#xA;Default is the master branch&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Using older versions&lt;/h2&gt; &#xA;&lt;p&gt;You can use an older version of PoshC2 by referencing the appropriate tag. Note this only works if you have cloned down the repository. You can list the tags for the repository by issuing:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;git tag --list&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If you have a local clone of PoshC2 you can change the version that is in use while offline by just checking out the version you want to use:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;git reset --hard &amp;lt;tag name&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;For example:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;git reset --hard v4.8&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;However note that this will overwrite any local changes to files, such as changes to the configuration files, and you may have to re-run the install script for that version or re-setup the environment appropriately.&lt;/p&gt; &#xA;&lt;h2&gt;License / Terms of Use&lt;/h2&gt; &#xA;&lt;p&gt;This software should only be used for &lt;strong&gt;authorised&lt;/strong&gt; testing activity and not for malicious use.&lt;/p&gt; &#xA;&lt;p&gt;By downloading this software you are accepting the terms of use and the licensing agreement.&lt;/p&gt;</summary>
  </entry>
</feed>