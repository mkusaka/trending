<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Scala Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2022-06-22T01:53:20Z</updated>
  <subtitle>Daily Trending of Scala in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>softwaremill/elasticmq</title>
    <updated>2022-06-22T01:53:20Z</updated>
    <id>tag:github.com,2022-06-22:/softwaremill/elasticmq</id>
    <link href="https://github.com/softwaremill/elasticmq" rel="alternate"></link>
    <summary type="html">&lt;p&gt;In-memory message queue with an Amazon SQS-compatible interface. Runs stand-alone or embedded.&lt;/p&gt;&lt;hr&gt;&lt;p&gt;&lt;img src=&#34;https://github.com/softwaremill/elasticmq/raw/master/banner.png&#34; alt=&#34;ElasticMQ&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/softwaremill/elasticmq/actions?query=workflow%3A%22ElasticMQ+tests%22&#34;&gt;&lt;img src=&#34;https://github.com/softwaremill/elasticmq/workflows/ElasticMQ%20tests/badge.svg?sanitize=true&#34; alt=&#34; CI &#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://maven-badges.herokuapp.com/maven-central/org.elasticmq/elasticmq-rest-sqs_2.12/&#34;&gt;&lt;img src=&#34;https://maven-badges.herokuapp.com/maven-central/org.elasticmq/elasticmq-rest-sqs_2.12/badge.svg?sanitize=true&#34; alt=&#34;Maven Central&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h1&gt;tl;dr&lt;/h1&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;in-memory message queue system&lt;/li&gt; &#xA; &lt;li&gt;runs stand-alone (&lt;a href=&#34;https://s3-eu-west-1.amazonaws.com/softwaremill-public/elasticmq-server-1.3.3.jar&#34;&gt;download&lt;/a&gt;), via &lt;a href=&#34;https://hub.docker.com/r/softwaremill/elasticmq-native/&#34;&gt;Docker&lt;/a&gt; or embedded&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;http://aws.amazon.com/sqs/&#34;&gt;Amazon SQS&lt;/a&gt;-compatible interface&lt;/li&gt; &#xA; &lt;li&gt;fully asynchronous implementation, no blocking calls&lt;/li&gt; &#xA; &lt;li&gt;optional UI, queue persistence&lt;/li&gt; &#xA; &lt;li&gt;created and maintained by:&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p align=&#34;center&#34;&gt; &lt;a href=&#34;https://softwaremill.com&#34;&gt;&lt;img src=&#34;https://files.softwaremill.com/logo/logo.png&#34; alt=&#34;SoftwareMill logo&#34; height=&#34;100&#34;&gt;&lt;/a&gt; &lt;/p&gt; &#xA;&lt;h1&gt;Summary&lt;/h1&gt; &#xA;&lt;p&gt;ElasticMQ is a message queue system, offering an actor-based Scala and an &lt;a href=&#34;http://aws.amazon.com/sqs/&#34;&gt;SQS&lt;/a&gt;-compatible REST (query) interface.&lt;/p&gt; &#xA;&lt;p&gt;ElasticMQ follows the semantics of SQS. Messages are received by polling the queue. When a message is received, it is blocked for a specified amount of time (the visibility timeout). If the message isn&#39;t deleted during that time, it will be again available for delivery. Moreover, queues and messages can be configured to always deliver messages with a delay.&lt;/p&gt; &#xA;&lt;p&gt;The focus in SQS (and ElasticMQ) is to make sure that the messages are delivered. It may happen, however, that a message is delivered twice (if, for example, a client dies after receiving a message and processing it, but before deleting). That&#39;s why clients of ElasticMQ (and Amazon SQS) should be idempotent.&lt;/p&gt; &#xA;&lt;p&gt;As ElasticMQ implements a subset of the &lt;a href=&#34;http://aws.amazon.com/sqs/&#34;&gt;SQS&lt;/a&gt; query (REST) interface, it is a great SQS alternative both for testing purposes (ElasticMQ is easily embeddable) and for creating systems which work both within and outside of the Amazon infrastructure.&lt;/p&gt; &#xA;&lt;p&gt;A simple UI is available for viewing real-time queue statistics.&lt;/p&gt; &#xA;&lt;h1&gt;Community&lt;/h1&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/adamw/elasticmq/issues&#34;&gt;Issues&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h1&gt;Installation: stand-alone&lt;/h1&gt; &#xA;&lt;p&gt;You can download the stand-alone distribution here: &lt;a href=&#34;https://s3-eu-west-1.amazonaws.com/softwaremill-public/elasticmq-server-1.3.3.jar&#34;&gt;https://s3/.../elasticmq-server-1.3.3.jar&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;Java 8 or above is required for running the server.&lt;/p&gt; &#xA;&lt;p&gt;Simply run the jar and you should get a working server, which binds to &lt;code&gt;localhost:9324&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;java -jar elasticmq-server-1.3.3.jar&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;ElasticMQ uses &lt;a href=&#34;https://github.com/typesafehub/config&#34;&gt;Typesafe Config&lt;/a&gt; for configuration. To specify custom configuration values, create a file (e.g. &lt;code&gt;custom.conf&lt;/code&gt;), fill it in with the desired values, and pass it to the server:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;java -Dconfig.file=custom.conf -jar elasticmq-server-1.3.3.jar&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The config file may contain any configuration for Akka and ElasticMQ. Current ElasticMQ configuration values are:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;include classpath(&#34;application.conf&#34;)&#xA;&#xA;# What is the outside visible address of this ElasticMQ node&#xA;# Used to create the queue URL (may be different from bind address!)&#xA;node-address {&#xA;  protocol = http&#xA;  host = localhost&#xA;  port = 9324&#xA;  context-path = &#34;&#34;&#xA;}&#xA;&#xA;rest-sqs {&#xA;  enabled = true&#xA;  bind-port = 9324&#xA;  bind-hostname = &#34;0.0.0.0&#34;&#xA;  # Possible values: relaxed, strict&#xA;  sqs-limits = strict&#xA;}&#xA;&#xA;rest-stats {&#xA;  enabled = true&#xA;  bind-port = 9325&#xA;  bind-hostname = &#34;0.0.0.0&#34;&#xA;}&#xA;&#xA;# Should the node-address be generated from the bind port/hostname&#xA;# Set this to true e.g. when assigning port automatically by using port 0.&#xA;generate-node-address = false&#xA;&#xA;queues {&#xA;  # See next sections&#xA;}&#xA;&#xA;queues-storage {&#xA;  # See next sections&#xA;}&#xA;&#xA;# Region and accountId which will be included in resource ids&#xA;aws {&#xA;  region = us-west-2&#xA;  accountId = 000000000000&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;You can also provide an alternative &lt;a href=&#34;http://logback.qos.ch/&#34;&gt;Logback&lt;/a&gt; configuration file (the &lt;a href=&#34;https://raw.githubusercontent.com/softwaremill/elasticmq/master/server/src/main/resources/logback.xml&#34;&gt;default&lt;/a&gt; is configured to log INFO logs and above to the console):&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;java -Dlogback.configurationFile=my_logback.xml -jar elasticmq-server-1.3.3.jar&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h1&gt;How are queue URLs created&lt;/h1&gt; &#xA;&lt;p&gt;Some of the responses include a queue URL. By default, the URLs will use &lt;code&gt;http://localhost:9324&lt;/code&gt; as the base URL. To customize, you should properly set the protocol/host/port/context in the &lt;code&gt;node-address&lt;/code&gt; setting (see above).&lt;/p&gt; &#xA;&lt;p&gt;You can also set &lt;code&gt;node-address.host&lt;/code&gt; to a special value, &lt;code&gt;&#34;*&#34;&lt;/code&gt;, which will cause any queue URLs created during a request to use the path of the incoming request. This might be useful e.g. in containerized (Docker) deployments.&lt;/p&gt; &#xA;&lt;p&gt;Note that changing the &lt;code&gt;bind-port&lt;/code&gt; and &lt;code&gt;bind-hostname&lt;/code&gt; settings do not affect the queue URLs in any way unless &lt;code&gt;generate-node-address&lt;/code&gt; is &lt;code&gt;true&lt;/code&gt;. In that case, the bind host/port are used to create the node address. This is useful when the port should be automatically assigned (use port &lt;code&gt;0&lt;/code&gt; in such case, the selected port will be visible in the logs).&lt;/p&gt; &#xA;&lt;h1&gt;Automatically creating queues on startup&lt;/h1&gt; &#xA;&lt;p&gt;Queues can be automatically created on startup by providing appropriate configuration:&lt;/p&gt; &#xA;&lt;p&gt;The queues are specified in a custom configuration file. For example, create a &lt;code&gt;custom.conf&lt;/code&gt; file with the following:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;# the include should be done only once, at the beginning of the custom configuration file&#xA;include classpath(&#34;application.conf&#34;)&#xA;&#xA;queues {&#xA;  queue1 {&#xA;    defaultVisibilityTimeout = 10 seconds&#xA;    delay = 5 seconds&#xA;    receiveMessageWait = 0 seconds&#xA;    deadLettersQueue {&#xA;      name = &#34;queue1-dead-letters&#34;&#xA;      maxReceiveCount = 3 // from 1 to 1000&#xA;    }&#xA;    fifo = false&#xA;    contentBasedDeduplication = false&#xA;    copyTo = &#34;audit-queue-name&#34;&#xA;    moveTo = &#34;redirect-queue-name&#34;&#xA;    tags {&#xA;      tag1 = &#34;tagged1&#34;&#xA;      tag2 = &#34;tagged2&#34;&#xA;    }&#xA;  }&#xA;  queue1-dead-letters { }&#xA;  audit-queue-name { }&#xA;  redirect-queue-name { }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;All attributes are optional (except &lt;code&gt;name&lt;/code&gt; and &lt;code&gt;maxReceiveCount&lt;/code&gt; when a &lt;code&gt;deadLettersQueue&lt;/code&gt; is defined). &lt;code&gt;copyTo&lt;/code&gt; and &lt;code&gt;moveTo&lt;/code&gt; attributes allow to achieve behavior that might be useful primarily for integration testing scenarios - all messages could be either duplicated (using &lt;code&gt;copyTo&lt;/code&gt; attribute) or redirected (using &lt;code&gt;moveTo&lt;/code&gt; attribute) to another queue.&lt;/p&gt; &#xA;&lt;h3&gt;FIFO queue creation&lt;/h3&gt; &#xA;&lt;p&gt;To create FIFO queue set value of &lt;code&gt;fifo&lt;/code&gt; config parameter to &lt;code&gt;true&lt;/code&gt;. You can add &lt;code&gt;.fifo&lt;/code&gt; suffix to queue name yourself. If not then suffix will be added automatically during queue creation.&lt;/p&gt; &#xA;&lt;h1&gt;Persisting queues configuration&lt;/h1&gt; &#xA;&lt;p&gt;Queues configuration can be persisted in an external config file in the &lt;a href=&#34;https://en.wikipedia.org/wiki/HOCON&#34;&gt;HOCON&lt;/a&gt; format. Note that only the queue metadata (which queues are created, and with what attributes) will be stored, without any messages.&lt;/p&gt; &#xA;&lt;p&gt;To enable the feature, create a custom configuration file with the following content:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;# the include should be done only once, at the beginning of the custom configuration file&#xA;include classpath(&#34;application.conf&#34;)&#xA;&#xA;queues-storage {&#xA;  enabled = true&#xA;  path = &#34;/path/to/storage/queues.conf&#34;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Any time a queue is created, deleted, or its metadata change, the given file will be updated.&lt;/p&gt; &#xA;&lt;p&gt;On startup, any queues defined in the given file will be created. Note that the persisted queues configuration takes precedence over queues defined in the main configuration file (as described in the previous section) in the &lt;code&gt;queues&lt;/code&gt; section.&lt;/p&gt; &#xA;&lt;h1&gt;Persisting queues and messages to SQL database&lt;/h1&gt; &#xA;&lt;p&gt;Queues and their messages can be persisted to SQL database in runtime. All events like queue or message creation, deletion or update will be stored in H2 in-file database, so that the entire ElasticMQ state can be restored after server restart.&lt;/p&gt; &#xA;&lt;p&gt;To enable the feature, create a custom configuration file with the following content:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;# the include should be done only once, at the beginning of the custom configuration file&#xA;include classpath(&#34;application.conf&#34;)&#xA;&#xA;messages-storage {&#xA;  enabled = true&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;By default, the database file is stored in &lt;code&gt;/data/elasticmq.db&lt;/code&gt;. In order to change it, custom JDBC uri needs to be provided:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;# the include should be done only once, at the beginning of the custom configuration file&#xA;include classpath(&#34;application.conf&#34;)&#xA;&#xA;messages-storage {&#xA;  enabled = true&#xA;  uri = &#34;jdbc:h2:/home/me/elasticmq&#34;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;On startup, any queues and their messages persisted in the database will be recreated. Note that the persisted queues take precedence over the queues defined in the main configuration file (as described in the previous section) in the &lt;code&gt;queues&lt;/code&gt; section.&lt;/p&gt; &#xA;&lt;h1&gt;Starting an embedded ElasticMQ server with an SQS interface&lt;/h1&gt; &#xA;&lt;p&gt;Add ElasticMQ Server to &lt;code&gt;build.sbt&lt;/code&gt; dependencies&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-scala&#34;&gt;libraryDependencies += &#34;org.elasticmq&#34; %% &#34;elasticmq-server&#34; % &#34;1.3.3&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Simply start the server using custom configuration (see examples above):&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-scala&#34;&gt;val config = ConfigFactory.load(&#34;elasticmq.conf&#34;)&#xA;val server = new ElasticMQServer(new ElasticMQServerConfig(config))&#xA;server.start()&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Alternatively, custom rest server can be built using &lt;code&gt;SQSRestServerBuilder&lt;/code&gt; provided in &lt;code&gt;elasticmq-rest-sqs&lt;/code&gt; package:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-scala&#34;&gt;val server = SQSRestServerBuilder.start()&#xA;// ... use ...&#xA;server.stopAndWait()&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If you need to bind to a different host/port, there are configuration methods on the builder:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-scala&#34;&gt;val server = SQSRestServerBuilder.withPort(9325).withInterface(&#34;localhost&#34;).start()&#xA;// ... use ...&#xA;server.stopAndWait()&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;You can also set a dynamic port with a port value of &lt;code&gt;0&lt;/code&gt; or by using the method &lt;code&gt;withDynamicPort&lt;/code&gt;. To retrieve the port (and other configuration) when using a dynamic port value you can access the server via &lt;code&gt;waitUntilStarted&lt;/code&gt; for example:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-scala&#34;&gt;val server = SQSRestServerBuilder.withDynamicPort().start()&#xA;server.waitUntilStarted().localAddress().getPort()&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;You can also provide a custom &lt;code&gt;ActorSystem&lt;/code&gt;; for details see the javadocs.&lt;/p&gt; &#xA;&lt;p&gt;Embedded ElasticMQ can be used from any JVM-based language (Java, Scala, etc.).&lt;/p&gt; &#xA;&lt;p&gt;(Note that the embedded server created with &lt;code&gt;SQSRestServerBuilder&lt;/code&gt; does not load any configuration files, so you cannot automatically create queues on startup as described above. You can of course create queues programmatically.)&lt;/p&gt; &#xA;&lt;h1&gt;Using the Amazon Java SDK to access an ElasticMQ Server&lt;/h1&gt; &#xA;&lt;p&gt;To use &lt;a href=&#34;http://aws.amazon.com/sdkforjava/&#34;&gt;Amazon Java SDK&lt;/a&gt; as an interface to an ElasticMQ server you just need to change the endpoint:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;String endpoint = &#34;http://localhost:9324&#34;;&#xA;String region = &#34;elasticmq&#34;;&#xA;String accessKey = &#34;x&#34;;&#xA;String secretKey = &#34;x&#34;;&#xA;AmazonSQS client = AmazonSQSClientBuilder.standard()&#xA;    .withCredentials(new AWSStaticCredentialsProvider(new BasicAWSCredentials(accessKey, secretKey)))&#xA;    .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(endpoint, region))&#xA;    .build();&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The endpoint value should be the same address as the &lt;code&gt;NodeAddress&lt;/code&gt; provided as an argument to &lt;code&gt;SQSRestServerBuilder&lt;/code&gt; or in the configuration file.&lt;/p&gt; &#xA;&lt;p&gt;The &lt;code&gt;rest-sqs-testing-amazon-java-sdk&lt;/code&gt; module contains some more usage examples.&lt;/p&gt; &#xA;&lt;h1&gt;Using the Amazon boto (Python) to access an ElasticMQ Server&lt;/h1&gt; &#xA;&lt;p&gt;To use &lt;a href=&#34;http://docs.pythonboto.org/en/latest/&#34;&gt;Amazon boto&lt;/a&gt; as an interface to an ElasticMQ server you set up the connection using:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;region = boto.sqs.regioninfo.RegionInfo(name=&#39;elasticmq&#39;,&#xA;                                        endpoint=sqs_endpoint)&#xA;conn = boto.connect_sqs(aws_access_key_id=&#39;x&#39;,&#xA;                        aws_secret_access_key=&#39;x&#39;,&#xA;                        is_secure=False,&#xA;                        port=sqs_port,&#xA;                        region=region)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;where &lt;code&gt;sqs_endpoint&lt;/code&gt; and &lt;code&gt;sqs_port&lt;/code&gt; are the host and port.&lt;/p&gt; &#xA;&lt;p&gt;The &lt;code&gt;boto3&lt;/code&gt; interface is different:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;client = boto3.resource(&#39;sqs&#39;,&#xA;                        endpoint_url=&#39;http://localhost:9324&#39;,&#xA;                        region_name=&#39;elasticmq&#39;,&#xA;                        aws_secret_access_key=&#39;x&#39;,&#xA;                        aws_access_key_id=&#39;x&#39;,&#xA;                        use_ssl=False)&#xA;queue = client.get_queue_by_name(QueueName=&#39;queue1&#39;)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h1&gt;ElasticMQ via Docker&lt;/h1&gt; &#xA;&lt;p&gt;A Docker image built using GraalVM&#39;s &lt;a href=&#34;https://blog.softwaremill.com/small-fast-docker-images-using-graalvms-native-image-99c0bc92e70b&#34;&gt;native-image&lt;/a&gt;, is available as &lt;a href=&#34;https://hub.docker.com/r/softwaremill/elasticmq-native/&#34;&gt;&lt;code&gt;softwaremill/elasticmq-native&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;To start, run (9324 is the default REST-SQS API port; 9325 is the default UI port, exposing it is fully optional):&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;docker run -p 9324:9324 -p 9325:9325 softwaremill/elasticmq-native&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The &lt;code&gt;elasticmq-native&lt;/code&gt; image is much smaller (30MB vs 240MB) and starts up much faster (milliseconds instead of seconds), comparing to the full JVM version (see below). Custom configuration can be provided by creating a custom configuration file (see above) and using it when running the container:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;docker run -p 9324:9324 -p 9325:9325 -v `pwd`/custom.conf:/opt/elasticmq.conf softwaremill/elasticmq-native&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If messages storage is enabled, the directory containing database files can also be mapped:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;docker run -p 9324:9324 -p 9325:9325 -v `pwd`/custom.conf:/opt/elasticmq.conf -v `pwd`/data:/data softwaremill/elasticmq-native&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;It is possible to specify custom &lt;code&gt;logback.xml&lt;/code&gt; config as well to enable additional debug logging for example. Some logback features, like console coloring, will not work due to missing classes in the native image. This can only be solved by building a custom image.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;docker run -p 9324:9324 -p 9325:9325 -v `pwd`/custom.conf:/opt/elasticmq.conf -v `pwd`/logback.xml:/opt/logback.xml softwaremill/elasticmq-native&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;As for now to run &lt;code&gt;elasticmq-native&lt;/code&gt; docker image on ARM based CPU one have to install &lt;code&gt;Qemu&lt;/code&gt; docker for &lt;code&gt;amd64&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;docker run --privileged --rm tonistiigi/binfmt --install amd64&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h1&gt;ElasticMQ via Docker (full JVM)&lt;/h1&gt; &#xA;&lt;p&gt;A Docker image is built on each release an pushed as &lt;a href=&#34;https://hub.docker.com/r/softwaremill/elasticmq/&#34;&gt;&lt;code&gt;softwaremill/elasticmq&lt;/code&gt;&lt;/a&gt;. Run using:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;docker run -p 9324:9324 -p 9325:9325 softwaremill/elasticmq&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The image uses default configuration. Custom configuration can be provided (e.g. to change the port, or create queues on startup) by creating a custom configuration file (see above) and using it when running the container:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;docker run -p 9324:9324 -p 9325:9325 -v `pwd`/custom.conf:/opt/elasticmq.conf softwaremill/elasticmq&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If messages storage is enabled, the directory containing database files can also be mapped:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;docker run -p 9324:9324 -p 9325:9325 -v `pwd`/custom.conf:/opt/elasticmq.conf -v `pwd`/data:/data softwaremill/elasticmq&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To pass additional java system properties (&lt;code&gt;-D&lt;/code&gt;) you need to prepare an &lt;code&gt;application.ini&lt;/code&gt; file. For instance, to set custom &lt;code&gt;logback.xml&lt;/code&gt; configuration, &lt;code&gt;application.ini&lt;/code&gt; should look as follows:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;application.ini:&#xA;-Dconfig.file=/opt/elasticmq.conf&#xA;-Dlogback.configurationFile=/opt/docker/conf/logback.xml&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To run container with customized &lt;code&gt;application.ini&lt;/code&gt; file (and custom &lt;code&gt;logback.xml&lt;/code&gt; in this particular case) the following command should be used:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;docker run -v `pwd`/application.ini:/opt/docker/conf/application.ini -v `pwd`/logback.xml:/opt/docker/conf/logback.xml -p 9324:9324 -p 9325:9325 softwaremill/elasticmq&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;In case of problems with file mounting on Windows place the &lt;code&gt;application.ini&lt;/code&gt; and the configuration file &lt;code&gt;elasticmq.conf&lt;/code&gt; in the same directory then mount this directory to /opt/docker/conf:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;--mount type=bind,source=&#34;$(pwd)&#34;/somefolder,target=/opt/docker/conf.&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Another option is to use custom &lt;code&gt;Dockerfile&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;FROM openjdk:8-jre-alpine&#xA;&#xA;ARG ELASTICMQ_VERSION&#xA;ENV ELASTICMQ_VERSION ${ELASTICMQ_VERSION:-1.3.3}&#xA;&#xA;RUN apk add --no-cache curl ca-certificates&#xA;RUN mkdir -p /opt/elasticmq/log /opt/elasticmq/lib /opt/elasticmq/conf&#xA;RUN curl -sfLo /opt/elasticmq/lib/elasticmq.jar https://s3-eu-west-1.amazonaws.com/softwaremill-public/elasticmq-server-${ELASTICMQ_VERSION}.jar&#xA;&#xA;COPY ${PWD}/elasticmq.conf /opt/elasticmq/conf/elasticmq.conf&#xA;&#xA;WORKDIR /opt/elasticmq&#xA;&#xA;EXPOSE 9324&#xA;&#xA;ENTRYPOINT [ &#34;/usr/bin/java&#34;, &#34;-Dconfig.file=/opt/elasticmq/conf/elasticmq.conf&#34;, &#34;-jar&#34;, &#34;/opt/elasticmq/lib/elasticmq.jar&#34; ]&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;and override the entrypoint passing the required properties.&lt;/p&gt; &#xA;&lt;h1&gt;ElasticMQ dependencies in SBT&lt;/h1&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-scala&#34;&gt;// Scala 2.13 and 2.12&#xA;val elasticmqSqs        = &#34;org.elasticmq&#34; %% &#34;elasticmq-rest-sqs&#34; % &#34;1.3.3&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If you don&#39;t want the SQS interface, but just use the actors directly, you can add a dependency only to the &lt;code&gt;core&lt;/code&gt; module:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-scala&#34;&gt;val elasticmqCore       = &#34;org.elasticmq&#34; %% &#34;elasticmq-core&#34; % &#34;1.3.3&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If you want to use a snapshot version, you will need to add the &lt;a href=&#34;https://oss.sonatype.org/content/repositories/snapshots/&#34;&gt;https://oss.sonatype.org/content/repositories/snapshots/&lt;/a&gt; repository to your configuration.&lt;/p&gt; &#xA;&lt;h1&gt;ElasticMQ dependencies in Maven&lt;/h1&gt; &#xA;&lt;p&gt;Dependencies:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;dependency&amp;gt;&#xA;    &amp;lt;groupId&amp;gt;org.elasticmq&amp;lt;/groupId&amp;gt;&#xA;    &amp;lt;artifactId&amp;gt;elasticmq-rest-sqs_2.12&amp;lt;/artifactId&amp;gt;&#xA;    &amp;lt;version&amp;gt;1.3.3&amp;lt;/version&amp;gt;&#xA;&amp;lt;/dependency&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If you want to use a snapshot version, you will need to add the &lt;a href=&#34;https://oss.sonatype.org/content/repositories/snapshots/&#34;&gt;https://oss.sonatype.org/content/repositories/snapshots/&lt;/a&gt; repository to your configuration.&lt;/p&gt; &#xA;&lt;h1&gt;Current versions&lt;/h1&gt; &#xA;&lt;p&gt;&lt;em&gt;Stable&lt;/em&gt;: 1.3.3&lt;/p&gt; &#xA;&lt;h1&gt;Logging&lt;/h1&gt; &#xA;&lt;p&gt;ElasticMQ uses &lt;a href=&#34;http://www.slf4j.org/&#34;&gt;Slf4j&lt;/a&gt; for logging. By default no logger backend is included as a dependency, however &lt;a href=&#34;http://logback.qos.ch/&#34;&gt;Logback&lt;/a&gt; is recommended.&lt;/p&gt; &#xA;&lt;h1&gt;Performance&lt;/h1&gt; &#xA;&lt;p&gt;Tests done on a 2012 MBP, 2.6GHz, 16GB RAM, no replication. Throughput is in messages per second (messages are small).&lt;/p&gt; &#xA;&lt;p&gt;Directly accessing the client:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;Running test for [in-memory], iterations: 10, msgs in iteration: 100000, thread count: 1.&#xA;Overall in-memory throughput: 21326.054040&#xA;&#xA;Running test for [in-memory], iterations: 10, msgs in iteration: 100000, thread count: 2.&#xA;Overall in-memory throughput: 26292.956117&#xA;&#xA;Running test for [in-memory], iterations: 10, msgs in iteration: 100000, thread count: 10.&#xA;Overall in-memory throughput: 25591.155697&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Through the SQS REST interface:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;Running test for [rest-sqs + in-memory], iterations: 10, msgs in iteration: 1000, thread count: 20.&#xA;Overall rest-sqs + in-memory throughput: 2540.553587&#xA;&#xA;Running test for [rest-sqs + in-memory], iterations: 10, msgs in iteration: 1000, thread count: 40.&#xA;Overall rest-sqs + in-memory throughput: 2600.002600&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Note that both the client and the server were on the same machine.&lt;/p&gt; &#xA;&lt;p&gt;Test class: &lt;code&gt;org.elasticmq.performance.LocalPerformanceTest&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h1&gt;Building, running, and packaging&lt;/h1&gt; &#xA;&lt;p&gt;To build and run with debug (this will listen for a remote debugger on port 5005):&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;~/workspace/elasticmq $ sbt -jvm-debug 5005&#xA;&amp;gt; project server&#xA;&amp;gt; run&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To build a jar-with-dependencies:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;~/workspace/elasticmq $ sbt&#xA;&amp;gt; project server&#xA;&amp;gt; assembly&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Building the native image&lt;/h2&gt; &#xA;&lt;p&gt;Do not forget to adjust the CPU and memory settings for the Docker process. It was checked with 6CPUs, 8GB of memory and 2GB of swap. Also, make sure that you are running sbt with the graalvm java, as the way the jars are composed seem to differ from other java implementations, and affect the native-image process that is run later! To rebuild the native image, run:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;sbt &#34;project nativeServer; clean; assembly; graalvm-native-image:packageBin; docker:publishLocal&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Generating GraalVM config files is a manual process currently. You need to run the fat-jar using the GraalVM VM (w/ native-image installed using &lt;code&gt;gu&lt;/code&gt;), and then run the following commands to generate the configs:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;java -agentlib:native-image-agent=config-output-dir=... -jar elasticmq-server-assembly.jar&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;java -agentlib:native-image-agent=config-merge-dir=... -Dconfig.file=test.conf -jar elasticmq-server-assembly.jar&lt;/code&gt; (to additionally generate config needed to load custom elasticmq config)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;These files should be placed in &lt;code&gt;native-server/src/main/resources/META-INF/native-image&lt;/code&gt; and are automatically used by the native-image process.&lt;/p&gt; &#xA;&lt;p&gt;In case of issues with running GraalVM with &lt;code&gt;native-image-agent&lt;/code&gt; it&#39;s possible to execute above commands inside of docker container (the image is generated by the sbt command above). &lt;code&gt;graalVmVersion&lt;/code&gt; is defined in &lt;code&gt;build.sbt&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;docker run -it -v `pwd`:/opt/graalvm --entrypoint /bin/bash --rm ghcr.io-graalvm-graalvm-ce-native-image:java11-${graalVmVersion}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Building multi-architecture image&lt;/h2&gt; &#xA;&lt;p&gt;Publishing Docker image for two different platforms: &lt;code&gt;amd64&lt;/code&gt; and &lt;code&gt;arm64&lt;/code&gt; is possible with Docker Buildx plugin. Docker Buildx is included in Docker Desktop and Docker Linux packages when installed using the DEB or RPM packages. &lt;code&gt;build.sbt&lt;/code&gt; has following setup:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;dockerBuildxSettings&lt;/code&gt; creates Docker Buildx instance&lt;/li&gt; &#xA; &lt;li&gt;Docker base image is &lt;code&gt;openjdk:11-jdk-stretch&lt;/code&gt; which supports multi-arch images&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;dockerBuildCommand&lt;/code&gt; is extended with operator &lt;code&gt;buildx&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;dockerBuildOptions&lt;/code&gt; has two additional parameters: &lt;code&gt;--platform=linux/arm64,linux/amd64&lt;/code&gt; and &lt;code&gt;--push&lt;/code&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;For the native server configuration is the same apart from Docker base image.&lt;/p&gt; &#xA;&lt;p&gt;Parameter &lt;code&gt;--push&lt;/code&gt; is very crucial. Since &lt;code&gt;docker buildx build&lt;/code&gt; subcommand is not storing the resulting image in the local &lt;code&gt;docker image&lt;/code&gt; list, we need that flag to determine where the final image will be stored. Flag &lt;code&gt;--load&lt;/code&gt; makes output destination of type docker. However, this currently works only for single architecture images. Therefore, both sbt commands - &lt;code&gt;docker:publishLocal&lt;/code&gt; and &lt;code&gt;docker:publish&lt;/code&gt; are pushing images to a Docker registry.&lt;/p&gt; &#xA;&lt;p&gt;To change this - switch parameters for &lt;code&gt;dockerBuildOptions&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;from &lt;code&gt;--push&lt;/code&gt; to &lt;code&gt;--load&lt;/code&gt; and&lt;/li&gt; &#xA; &lt;li&gt;from &lt;code&gt;--platform=linux/arm64,linux/amd64&lt;/code&gt; to &lt;code&gt;--platform=linux/amd64&lt;/code&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;To build images locally:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;switch sbt to module server - &lt;code&gt;sbt project server&lt;/code&gt; (or &lt;code&gt;sbt project nativeServer&lt;/code&gt; for module native-server)&lt;/li&gt; &#xA; &lt;li&gt;make sure Docker Buildx is running &lt;code&gt;docker buildx version&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;create Docker Buildx instance &lt;code&gt;docker buildx create --use --name multi-arch-builder&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;generate the Dockerfile executing &lt;code&gt;sbt docker:stage&lt;/code&gt; - it will be generated in &lt;code&gt;server/target/docker/stage&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;generate multi-arch image and push it to Docker Hub:&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;docker buildx build --platform=linux/arm64,linux/amd64 --push -t softwaremill/elasticmq .&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;or generate single-arch image and load it to docker images locally:&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;docker buildx build --platform=linux/amd64 --load -t softwaremill/elasticmq .&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h1&gt;Tests and coverage&lt;/h1&gt; &#xA;&lt;p&gt;To run the tests:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;~/workspace/elasticmq $ sbt test&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To check the coverage reports:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;~/workspace/elasticmq $ sbt&#xA;&amp;gt; coverage&#xA;&amp;gt; tests&#xA;&amp;gt; coverageReport&#xA;&amp;gt; coverageAggregate&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Although it&#39;s mostly only the core project that is relevant for coverage testing, each project&#39;s report can be found in their target directory:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;core/target/scala-2.12/scoverage-report/index.html&lt;/li&gt; &#xA; &lt;li&gt;common-test/target/scala-2.12/scoverage-report/index.html&lt;/li&gt; &#xA; &lt;li&gt;rest/rest-sqs/target/scala-2.12/scoverage-report/index.html&lt;/li&gt; &#xA; &lt;li&gt;server/target/scala-2.12/scoverage-report/index.html&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;The aggregate report can be found at target/scala-2.12/scoverage-report/index.html&lt;/p&gt; &#xA;&lt;h1&gt;UI&lt;/h1&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/softwaremill/elasticmq/master/ui.png&#34; alt=&#34;ElasticMQ-UI&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;UI provides real-time information about the state of messages and attributes of queue.&lt;/p&gt; &#xA;&lt;h3&gt;Using UI in docker image&lt;/h3&gt; &#xA;&lt;p&gt;UI is bundled with both standard and native images. It is exposed on the address that is defined in rest-stats configuration (by default 0:0:0:0:9325).&lt;/p&gt; &#xA;&lt;p&gt;In order to turn it off, you have to switch it off via rest-stats.enabled flag.&lt;/p&gt; &#xA;&lt;h3&gt;Using UI locally&lt;/h3&gt; &#xA;&lt;p&gt;You can start UI via &lt;code&gt;yarn start&lt;/code&gt; command in the &lt;code&gt;ui&lt;/code&gt; directory, which will run on localhost:3000 address.&lt;/p&gt; &#xA;&lt;h1&gt;MBeans&lt;/h1&gt; &#xA;&lt;p&gt;ElasticMQ exposes &lt;code&gt;Queues&lt;/code&gt; MBean. It contains three operations:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;QueueNames&lt;/code&gt; - returns array of names of queues&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;NumberOfMessagesForAllQueues&lt;/code&gt; - returns tabular data that contains information about number of messages per queue&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;getNumberOfMessagesInQueue&lt;/code&gt; - returns information about number of messages in specified queue&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h1&gt;Technology&lt;/h1&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Core: &lt;a href=&#34;http://scala-lang.org&#34;&gt;Scala&lt;/a&gt; and &lt;a href=&#34;http://akka.io/&#34;&gt;Akka&lt;/a&gt;.&lt;/li&gt; &#xA; &lt;li&gt;Rest server: &lt;a href=&#34;http://doc.akka.io/docs/akka-http/current/&#34;&gt;Akka HTTP&lt;/a&gt;, a high-performance, asynchronous, REST/HTTP toolkit.&lt;/li&gt; &#xA; &lt;li&gt;Testing the SQS interface: &lt;a href=&#34;http://aws.amazon.com/sdkforjava/&#34;&gt;Amazon Java SDK&lt;/a&gt;; see the &lt;code&gt;rest-sqs-testing-amazon-java-sdk&lt;/code&gt; module for the testsuite.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h1&gt;Commercial Support&lt;/h1&gt; &#xA;&lt;p&gt;We offer commercial support for ElasticMQ and related technologies, as well as development services. &lt;a href=&#34;https://softwaremill.com&#34;&gt;Contact us&lt;/a&gt; to learn more about our offer!&lt;/p&gt; &#xA;&lt;h1&gt;Copyright&lt;/h1&gt; &#xA;&lt;p&gt;Copyright (C) 2011-2021 SoftwareMill &lt;a href=&#34;https://softwaremill.com&#34;&gt;https://softwaremill.com&lt;/a&gt;.&lt;/p&gt;</summary>
  </entry>
  <entry>
    <title>progedu/nightcoreplayer</title>
    <updated>2022-06-22T01:53:20Z</updated>
    <id>tag:github.com,2022-06-22:/progedu/nightcoreplayer</id>
    <link href="https://github.com/progedu/nightcoreplayer" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Scala基礎コースの nightcoreplayer (ISC License)&lt;/p&gt;&lt;hr&gt;</summary>
  </entry>
  <entry>
    <title>sbt/sbt-native-packager</title>
    <updated>2022-06-22T01:53:20Z</updated>
    <id>tag:github.com,2022-06-22:/sbt/sbt-native-packager</id>
    <link href="https://github.com/sbt/sbt-native-packager" rel="alternate"></link>
    <summary type="html">&lt;p&gt;sbt Native Packager&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;SBT Native Packager&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://travis-ci.org/sbt/sbt-native-packager&#34;&gt;&lt;img src=&#34;https://api.travis-ci.org/sbt/sbt-native-packager.png?branch=master&#34; alt=&#34;Build Status&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://ci.appveyor.com/project/muuki88/sbt-native-packager/branch/master&#34;&gt;&lt;img src=&#34;https://ci.appveyor.com/api/projects/status/pbxd0untlcst4we7/branch/master?svg=true&#34; alt=&#34;Build status&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://www.codacy.com/app/nepomukseiler/sbt-native-packager?utm_source=github.com&amp;amp;utm_medium=referral&amp;amp;utm_content=sbt/sbt-native-packager&amp;amp;utm_campaign=Badge_Grade&#34;&gt;&lt;img src=&#34;https://api.codacy.com/project/badge/Grade/0e9a7ec769c84e578f4550bf7da6bf05&#34; alt=&#34;Codacy Badge&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://index.scala-lang.org/sbt/sbt-native-packager/sbt-native-packager&#34;&gt;&lt;img src=&#34;https://index.scala-lang.org/sbt/sbt-native-packager/sbt-native-packager/latest-by-scala-version.svg?targetType=Sbt&#34; alt=&#34;sbt-native-packager Scala version support&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://gitter.im/sbt/sbt-native-packager?utm_source=badge&amp;amp;utm_medium=badge&amp;amp;utm_campaign=pr-badge&amp;amp;utm_content=badge&#34;&gt;&lt;img src=&#34;https://badges.gitter.im/Join%20Chat.svg?sanitize=true&#34; alt=&#34;Join the chat at https://gitter.im/sbt/sbt-native-packager&#34;&gt;&lt;/a&gt; &lt;a href=&#34;http://sbt-native-packager.readthedocs.org/en/latest/?badge=latest&#34;&gt;&lt;img src=&#34;https://readthedocs.org/projects/sbt-native-packager/badge/?version=latest&#34; alt=&#34;Documentation Status&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/sbt/sbt-native-packager/master/src/sphinx/static/np_logo_full_horizontal_transparent.png&#34; alt=&#34;Native Packager Logo&#34;&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Goal&lt;/h2&gt; &#xA;&lt;p&gt;SBT native packager lets you build application packages in native formats. It offers different archetypes for common configurations, such as simple Java apps or server applications.&lt;/p&gt; &#xA;&lt;h2&gt;Issues/Discussions&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;strong&gt;Discussion/Questions&lt;/strong&gt;: If you wish to ask questions about the native packager we&#39;re active on &lt;a href=&#34;http://stackoverflow.com/questions/tagged/sbt&#34;&gt;Stack Overflow&lt;/a&gt;. You can either use the &lt;code&gt;sbt&lt;/code&gt; tag or the &lt;code&gt;sbt-native-packager&lt;/code&gt; tag. They also have far better search support for working around issues.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;strong&gt;Docs&lt;/strong&gt;: &lt;a href=&#34;http://sbt-native-packager.readthedocs.org/en/latest/&#34;&gt;Our docs are available online&lt;/a&gt;. If you&#39;d like to help improve the docs, they&#39;re part of this repository in the &lt;code&gt;src/sphinx&lt;/code&gt; directory. &lt;a href=&#34;http://www.scala-sbt.org/sbt-native-packager/latest/api/#package&#34;&gt;ScalaDocs&lt;/a&gt; are also available.&lt;/p&gt; &lt;p&gt;The old documentation can be found &lt;a href=&#34;http://www.scala-sbt.org/sbt-native-packager/&#34;&gt;here&lt;/a&gt;&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;strong&gt;Issues/Feature Requests&lt;/strong&gt;: Finally, any bugs or features you find you need, please report to our &lt;a href=&#34;https://github.com/sbt/sbt-native-packager/issues/new&#34;&gt;issue tracker&lt;/a&gt;. Please check the &lt;a href=&#34;https://github.com/sbt/sbt-native-packager/wiki/Tested-On&#34;&gt;compatibility matrix&lt;/a&gt; to see if your system is able to produce the packages you want.&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Features&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Build &lt;a href=&#34;http://www.scala-sbt.org/sbt-native-packager/gettingstarted.html#packaging-formats&#34;&gt;native packages&lt;/a&gt; for different systems &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;Universal &lt;code&gt;zip&lt;/code&gt;,&lt;code&gt;tar.gz&lt;/code&gt;, &lt;code&gt;xz&lt;/code&gt; archives&lt;/li&gt; &#xA;   &lt;li&gt;&lt;code&gt;deb&lt;/code&gt; and &lt;code&gt;rpm&lt;/code&gt; packages for Debian/RHEL based systems&lt;/li&gt; &#xA;   &lt;li&gt;&lt;code&gt;dmg&lt;/code&gt; for macOS&lt;/li&gt; &#xA;   &lt;li&gt;&lt;code&gt;msi&lt;/code&gt; for Windows&lt;/li&gt; &#xA;   &lt;li&gt;&lt;code&gt;docker&lt;/code&gt; images&lt;/li&gt; &#xA;   &lt;li&gt;&lt;code&gt;graalvm&lt;/code&gt; native images&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;Provide archetypes for common use cases &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;http://www.scala-sbt.org/sbt-native-packager/archetypes/java_app/index.html&#34;&gt;Java application&lt;/a&gt; with start scripts for Linux, macOS and Windows&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;http://www.scala-sbt.org/sbt-native-packager/archetypes/java_server/index.html&#34;&gt;Java server application&lt;/a&gt; adds support for service managers:s &#xA;    &lt;ul&gt; &#xA;     &lt;li&gt;Systemd&lt;/li&gt; &#xA;     &lt;li&gt;Systemv&lt;/li&gt; &#xA;     &lt;li&gt;Upstart&lt;/li&gt; &#xA;    &lt;/ul&gt; &lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;Java8 &lt;a href=&#34;http://www.scala-sbt.org/sbt-native-packager/formats/jdkpackager.html&#34;&gt;jdkpackager&lt;/a&gt; wrapper&lt;/li&gt; &#xA; &lt;li&gt;Java11 &lt;a href=&#34;https://docs.oracle.com/en/java/javase/11/tools/jlink.html&#34;&gt;jlink&lt;/a&gt; wrapper&lt;/li&gt; &#xA; &lt;li&gt;Optional JDeb integration for cross-platform Debian builds&lt;/li&gt; &#xA; &lt;li&gt;Optional Spotify docker client integration&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Installation&lt;/h2&gt; &#xA;&lt;p&gt;Add the following to your &lt;code&gt;project/plugins.sbt&lt;/code&gt; file:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-scala&#34;&gt;// for autoplugins&#xA;addSbtPlugin(&#34;com.github.sbt&#34; % &#34;sbt-native-packager&#34; % &#34;1.9.4&#34;)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;In your &lt;code&gt;build.sbt&lt;/code&gt; enable the plugin you want. For example the &lt;code&gt;JavaAppPackaging&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-scala&#34;&gt;enablePlugins(JavaAppPackaging)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Or if you need a server with autostart support&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-scala&#34;&gt;enablePlugins(JavaServerAppPackaging)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Build&lt;/h2&gt; &#xA;&lt;p&gt;If you have enabled one of the archetypes (app or server), you can build your application with&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;sbt &amp;lt;config-scope&amp;gt;:packageBin&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Examples&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;# universal zip&#xA;sbt universal:packageBin&#xA;&#xA;# debian package&#xA;sbt debian:packageBin&#xA;&#xA;# rpm package&#xA;sbt rpm:packageBin&#xA;&#xA;# docker image&#xA;sbt docker:publishLocal&#xA;&#xA;# graalvm image&#xA;sbt graalvm-native-image:packageBin&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Read more in the specific &lt;a href=&#34;http://www.scala-sbt.org/sbt-native-packager/gettingstarted.html#packaging-formats&#34;&gt;format documentation&lt;/a&gt; on how to configure and build your package.&lt;/p&gt; &#xA;&lt;h2&gt;Documentation&lt;/h2&gt; &#xA;&lt;p&gt;There&#39;s a complete &#34;getting started&#34; guide and more detailed topics available at &lt;a href=&#34;http://www.scala-sbt.org/sbt-native-packager/&#34;&gt;the sbt-native-packager site&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;Please feel free to &lt;a href=&#34;https://github.com/sbt/sbt-native-packager/tree/master/src/sphinx&#34;&gt;contribute documentation&lt;/a&gt;, or raise issues where you feel it may be lacking.&lt;/p&gt; &#xA;&lt;h2&gt;Contributing&lt;/h2&gt; &#xA;&lt;p&gt;Please read the &lt;a href=&#34;https://raw.githubusercontent.com/sbt/sbt-native-packager/master/CONTRIBUTING.md&#34;&gt;contributing.md&lt;/a&gt; on how to build and test native-packager.&lt;/p&gt; &#xA;&lt;h2&gt;Related SBT Plugins&lt;/h2&gt; &#xA;&lt;p&gt;These are a list of plugins that either use sbt-native-packager, provide additional features or provide a richer API for a single packaging format.&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/arktekk/sbt-aether-deploy&#34;&gt;sbt-aether&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/sbt/sbt-assembly&#34;&gt;sbt-assembly&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/marcuslonnberg/sbt-docker&#34;&gt;sbt-docker&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;This is in addition to the built-in &lt;a href=&#34;http://www.scala-sbt.org/sbt-native-packager/formats/docker.html&#34;&gt;Docker Plugin&lt;/a&gt; from sbt-native. Both generate docker images. &lt;code&gt;sbt-docker&lt;/code&gt; provides more customization abilities, while the &lt;code&gt;DockerPlugin&lt;/code&gt; in this project integrates more directly with predefined archetypes.&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/heroku/sbt-heroku&#34;&gt;sbt-heroku&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/vaslabs/sbt-kubeyml&#34;&gt;sbt-kubeyml&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/gilt/sbt-newrelic&#34;&gt;sbt-newrelic&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/en-japan/sbt-packer&#34;&gt;sbt-packager&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/alkersan/sbt-package-courier&#34;&gt;sbt-package-courier&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Maintainers&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Nepomuk Seiler (@muuki88)&lt;/li&gt; &#xA; &lt;li&gt;Alexey Kardapoltsev (@kardapoltsev)&lt;/li&gt; &#xA; &lt;li&gt;Derek Wickern (@dwickern)&lt;/li&gt; &#xA; &lt;li&gt;Felix Satyaputra (@fsat)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Credits&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://twitter.com/jsuereth&#34;&gt;Josh Suereth&lt;/a&gt; for the initial developement&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;http://www.imagelab.net/&#34;&gt;Sascha Rinaldi&lt;/a&gt; for the native-packager logo&lt;/li&gt; &#xA;&lt;/ul&gt;</summary>
  </entry>
</feed>