<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Scala Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2024-02-17T01:34:29Z</updated>
  <subtitle>Daily Trending of Scala in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>geirolz/secret</title>
    <updated>2024-02-17T01:34:29Z</updated>
    <id>tag:github.com,2024-02-17:/geirolz/secret</id>
    <link href="https://github.com/geirolz/secret" rel="alternate"></link>
    <summary type="html">&lt;p&gt;A functional, type-safe and memory-safe class to handle secret values&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;Secret&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/geirolz/secret/actions&#34;&gt;&lt;img src=&#34;https://github.com/geirolz/secret/actions/workflows/cicd.yml/badge.svg?sanitize=true&#34; alt=&#34;Build Status&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://codecov.io/gh/geirolz/secret&#34;&gt;&lt;img src=&#34;https://img.shields.io/codecov/c/github/geirolz/secret&#34; alt=&#34;codecov&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://www.codacy.com/manual/david.geirola/secret?utm_source=github.com&amp;amp;utm_medium=referral&amp;amp;utm_content=geirolz/secret&amp;amp;utm_campaign=Badge_Grade&#34;&gt;&lt;img src=&#34;https://api.codacy.com/project/badge/Grade/db3274b55e0c4031803afb45f58d4413&#34; alt=&#34;Codacy Badge&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://mvnrepository.com/artifact/com.github.geirolz/secret&#34;&gt;&lt;img src=&#34;https://img.shields.io/nexus/r/com.github.geirolz/secret_3?server=https%3A%2F%2Foss.sonatype.org&#34; alt=&#34;Sonatype Nexus (Releases)&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://scala-steward.org&#34;&gt;&lt;img src=&#34;https://img.shields.io/badge/Scala_Steward-helping-blue.svg?style=flat&amp;amp;logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAQCAMAAAARSr4IAAAAVFBMVEUAAACHjojlOy5NWlrKzcYRKjGFjIbp293YycuLa3pYY2LSqql4f3pCUFTgSjNodYRmcXUsPD/NTTbjRS+2jomhgnzNc223cGvZS0HaSD0XLjbaSjElhIr+AAAAAXRSTlMAQObYZgAAAHlJREFUCNdNyosOwyAIhWHAQS1Vt7a77/3fcxxdmv0xwmckutAR1nkm4ggbyEcg/wWmlGLDAA3oL50xi6fk5ffZ3E2E3QfZDCcCN2YtbEWZt+Drc6u6rlqv7Uk0LdKqqr5rk2UCRXOk0vmQKGfc94nOJyQjouF9H/wCc9gECEYfONoAAAAASUVORK5CYII=&#34; alt=&#34;Scala Steward badge&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://mergify.io&#34;&gt;&lt;img src=&#34;https://img.shields.io/endpoint.svg?url=https://api.mergify.com/v1/badges/geirolz/secret&amp;amp;style=flat&#34; alt=&#34;Mergify Status&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/geirolz/secret/raw/main/LICENSE&#34;&gt;&lt;img src=&#34;https://img.shields.io/github/license/geirolz/secret&#34; alt=&#34;GitHub license&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;A Scala 3, functional, type-safe and memory-safe library to handle secret values&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;Secret&lt;/code&gt; library does its best to avoid leaking information in memory and in the code, BUT an attack is always possible, and I don&#39;t give any certainties or guarantees about security by using this library, you use it at your own risk. The code is open-sourced; you can check the implementation and take your decision consciously. I&#39;ll do my best to improve the security and documentation of this project.&lt;/p&gt; &#xA;&lt;p&gt;Please, drop a ⭐️ if you are interested in this project and you want to support it.&lt;/p&gt; &#xA;&lt;p&gt;Scala 3 only, Scala 2 is not supported.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sbt&#34;&gt;libraryDependencies += &#34;com.github.geirolz&#34; %% &#34;secret&#34; % &#34;0.0.6&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Obfuscation&lt;/h2&gt; &#xA;&lt;p&gt;By default the value is obfuscated when creating the &lt;code&gt;Secret&lt;/code&gt; instance using the implicit &lt;code&gt;SecretStrategy&lt;/code&gt; which, by default, transform the value into a xor-ed &lt;code&gt;ByteBuffer&lt;/code&gt; which store bytes outside the JVM using direct memory access.&lt;/p&gt; &#xA;&lt;p&gt;The obfuscated value is de-obfuscated using the implicit &lt;code&gt;SecretStrategy&lt;/code&gt; instance every time &lt;code&gt;use&lt;/code&gt;, and derived method, are invoked which returns the original value converting the bytes back to &lt;code&gt;T&lt;/code&gt; re-applying the xor formula.&lt;/p&gt; &#xA;&lt;h2&gt;API and Type safety&lt;/h2&gt; &#xA;&lt;p&gt;While obfuscating the value prevents or at least makes it harder to read the value from the memory, &lt;code&gt;Secret&lt;/code&gt; class API are designed to avoid leaking information in other ways. Preventing developers to improperly use the secret value ( logging, etc...).&lt;/p&gt; &#xA;&lt;p&gt;Example&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-scala&#34;&gt;import com.geirolz.secret.*&#xA;import scala.util.Try&#xA;&#xA;case class Database(password: String)&#xA;&#xA;val secretString: Secret[String]  = Secret(&#34;password&#34;)&#xA;// secretString: Secret[String] = ** SECRET **&#xA;val database: Either[SecretDestroyed, Database]       = secretString.useAndDestroyE(password =&amp;gt; Database(password))&#xA;// database: Either[SecretDestroyed, Database] = Right(&#xA;//   value = Database(password = &#34;password&#34;)&#xA;// )&#xA;&#xA;// if you try to access the secret value once used, you&#39;ll get an error&#xA;secretString.useE(println(_))&#xA;// res1: Either[SecretDestroyed, Unit] = Left(&#xA;//   value = SecretDestroyed(destroyedAt = README.md:25:119)&#xA;// )&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Integrations&lt;/h3&gt; &#xA;&lt;p&gt;These integrations aim to enhance the functionality and capabilities of &lt;code&gt;Secret&lt;/code&gt; type making it easier to use in different contexts.&lt;/p&gt; &#xA;&lt;h4&gt;Cats Effect&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sbt&#34;&gt;libraryDependencies += &#34;com.github.geirolz&#34; %% &#34;secret-effect&#34; % &#34;0.0.6&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-scala&#34;&gt;import com.geirolz.secret.*&#xA;import cats.effect.{IO, Resource}&#xA;&#xA;val res: Resource[IO, String] = Secret(&#34;password&#34;).resource[IO]&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Pureconfig&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sbt&#34;&gt;libraryDependencies += &#34;com.github.geirolz&#34; %% &#34;secret-pureconfig&#34; % &#34;0.0.6&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Just provides the &lt;code&gt;ConfigReader&lt;/code&gt; instance for &lt;code&gt;Secret[T]&lt;/code&gt; type. There must be an &lt;code&gt;ConfigReader[T]&lt;/code&gt; and a &lt;code&gt;SecretStrategy[T]&lt;/code&gt; instances implicitly in the scope.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-scala&#34;&gt;import com.geirolz.secret.pureconfig.given&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Typesafe Config&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sbt&#34;&gt;libraryDependencies += &#34;com.github.geirolz&#34; %% &#34;secret-typesafe-config&#34; % &#34;0.0.6&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-scala&#34;&gt;import com.geirolz.secret.typesafe.config.given&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Ciris&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sbt&#34;&gt;libraryDependencies += &#34;com.github.geirolz&#34; %% &#34;secret-ciris&#34; % &#34;0.0.6&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-scala&#34;&gt;import com.geirolz.secret.ciris.given&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Adopters&lt;/h2&gt; &#xA;&lt;p&gt;If you are using Secret in your company, please let me know and I&#39;ll add it to the list! It means a lot to me.&lt;/p&gt; &#xA;&lt;h2&gt;Custom Obfuscation Strategy for a specific type&lt;/h2&gt; &#xA;&lt;p&gt;If you want to use a custom obfuscation strategy for a specific type you can implement a custom &lt;code&gt;SecretStrategy&lt;/code&gt; and provide an implicit instance of it during the secret creation. If you think that your strategy can be useful for other people, please consider to contribute to the project and add it to the library.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-scala&#34;&gt;import com.geirolz.secret.strategy.SecretStrategy&#xA;import com.geirolz.secret.strategy.SecretStrategy.{DeObfuscator, Obfuscator}&#xA;import com.geirolz.secret.{KeyValueBuffer, Secret}&#xA;&#xA;given SecretStrategy[String] = SecretStrategy[String](&#xA;   Obfuscator.of[String](_ =&amp;gt; KeyValueBuffer.directEmpty(0)),&#xA;   DeObfuscator.of[String](_ =&amp;gt; &#34;CUSTOM&#34;),&#xA;)&#xA;&#xA;Secret(&#34;my_password&#34;).useE(secret =&amp;gt; secret)&#xA;// res7: Either[SecretDestroyed, String] = Right(value = &#34;CUSTOM&#34;)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Custom Obfuscation Strategy algebra&lt;/h2&gt; &#xA;&lt;p&gt;If you want to use a custom obfuscation strategy algebra you can implement a custom &lt;code&gt;SecretStrategyAlgebra&lt;/code&gt; and provide an implicit &lt;code&gt;SecretStrategyFactory&lt;/code&gt; instance built on it during the secret creation. If you think that your strategy can be useful for other people, please consider to contribute to the project and add it to the library.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-scala&#34;&gt;import com.geirolz.secret.strategy.SecretStrategy.{DeObfuscator, Obfuscator}&#xA;import com.geirolz.secret.strategy.{SecretStrategy, SecretStrategyAlgebra}&#xA;import com.geirolz.secret.{KeyValueBuffer, PlainValueBuffer, Secret}&#xA;&#xA;import java.nio.ByteBuffer&#xA;&#xA;// build the custom algebra&#xA;val myCustomAlgebra = new SecretStrategyAlgebra:&#xA;final def obfuscator[P](f: P =&amp;gt; PlainValueBuffer): Obfuscator[P] =&#xA;   Obfuscator.of { (plain: P) =&amp;gt; KeyValueBuffer(ByteBuffer.allocateDirect(0), f(plain)) }&#xA;&#xA;final def deObfuscator[P](f: PlainValueBuffer =&amp;gt; P): DeObfuscator[P] =&#xA;   DeObfuscator.of { bufferTuple =&amp;gt; f(bufferTuple.roObfuscatedBuffer) }&#xA;// myCustomAlgebra: SecretStrategyAlgebra = repl.MdocSession$MdocApp8$$anon$6@d448e97&#xA;&#xA;// build factory based on the algebra&#xA;val myCustomStrategyFactory = myCustomAlgebra.newFactory&#xA;// myCustomStrategyFactory: SecretStrategyFactory = com.geirolz.secret.strategy.SecretStrategyFactory@2729ee45&#xA;&#xA;// ----------------------------- USAGE -----------------------------&#xA;// implicitly in the scope&#xA;import myCustomStrategyFactory.given&#xA;Secret(&#34;my_password&#34;).useE(secret =&amp;gt; secret)&#xA;// res9: Either[SecretDestroyed, String] = Right(value = &#34;my_password&#34;)&#xA;&#xA;// or restricted to a specific scope&#xA;myCustomStrategyFactory {&#xA;   Secret(&#34;my_password&#34;).useE(secret =&amp;gt; secret)&#xA;}&#xA;// res10: Either[SecretDestroyed, String] = Right(value = &#34;my_password&#34;)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Contributing&lt;/h2&gt; &#xA;&lt;p&gt;We welcome contributions from the open-source community to make Secret even better. If you have any bug reports, feature requests, or suggestions, please submit them via GitHub issues. Pull requests are also welcome.&lt;/p&gt; &#xA;&lt;p&gt;Before contributing, please read our &lt;a href=&#34;https://github.com/geirolz/secret/raw/main/CONTRIBUTING.md&#34;&gt;Contribution Guidelines&lt;/a&gt; to understand the development process and coding conventions.&lt;/p&gt; &#xA;&lt;p&gt;Please remember te following:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Run &lt;code&gt;sbt scalafmtAll&lt;/code&gt; before submitting a PR.&lt;/li&gt; &#xA; &lt;li&gt;Run &lt;code&gt;sbt gen-doc&lt;/code&gt; to update the documentation.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;License&lt;/h2&gt; &#xA;&lt;p&gt;Secret is released under the &lt;a href=&#34;https://github.com/geirolz/secret/raw/main/LICENSE&#34;&gt;Apache License 2.0&lt;/a&gt;. Feel free to use it in your open-source or commercial projects.&lt;/p&gt; &#xA;&lt;h2&gt;Acknowledgements&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://westonal.medium.com/protecting-strings-in-jvm-memory-84c365f8f01c&#34;&gt;https://westonal.medium.com/protecting-strings-in-jvm-memory-84c365f8f01c&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;VisualVM&lt;/li&gt; &#xA; &lt;li&gt;ChatGPT&lt;/li&gt; &#xA; &lt;li&gt;Personal experience in companies where I worked&lt;/li&gt; &#xA;&lt;/ul&gt;</summary>
  </entry>
</feed>