<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Go Weekly Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2025-12-29T01:41:39Z</updated>
  <subtitle>Weekly Trending of Go in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>supabase/auth</title>
    <updated>2025-12-29T01:41:39Z</updated>
    <id>tag:github.com,2025-12-29:/supabase/auth</id>
    <link href="https://github.com/supabase/auth" rel="alternate"></link>
    <summary type="html">&lt;p&gt;A JWT based API for managing users and issuing JWT tokens&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;Auth - Authentication and User Management by Supabase&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://coveralls.io/github/supabase/auth?branch=master&#34;&gt;&lt;img src=&#34;https://coveralls.io/repos/github/supabase/auth/badge.svg?branch=master&#34; alt=&#34;Coverage Status&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;Auth is a user management and authentication server written in Go that powers &lt;a href=&#34;https://supabase.com&#34;&gt;Supabase&lt;/a&gt;&#39;s features such as:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Issuing JWTs&lt;/li&gt; &#xA; &lt;li&gt;Row Level Security with PostgREST&lt;/li&gt; &#xA; &lt;li&gt;User management&lt;/li&gt; &#xA; &lt;li&gt;Sign in with email, password, magic link, phone number&lt;/li&gt; &#xA; &lt;li&gt;Sign in with external providers (Google, Apple, Facebook, Discord, ...)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;It is originally based on the excellent &lt;a href=&#34;https://github.com/netlify/gotrue&#34;&gt;GoTrue codebase by Netlify&lt;/a&gt;, however both have diverged significantly in features and capabilities.&lt;/p&gt; &#xA;&lt;p&gt;If you wish to contribute to the project, please refer to the &lt;a href=&#34;https://raw.githubusercontent.com/supabase/auth/master/CONTRIBUTING.md&#34;&gt;contributing guide&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Table Of Contents&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/supabase/auth/master/#quick-start&#34;&gt;Quick Start&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/supabase/auth/master/#running-in-production&#34;&gt;Running in Production&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/supabase/auth/master/#configuration&#34;&gt;Configuration&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/supabase/auth/master/#endpoints&#34;&gt;Endpoints&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Quick Start&lt;/h2&gt; &#xA;&lt;p&gt;Create a &lt;code&gt;.env&lt;/code&gt; file to store your own custom env vars. See &lt;a href=&#34;https://raw.githubusercontent.com/supabase/auth/master/example.env&#34;&gt;&lt;code&gt;example.env&lt;/code&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Start the local postgres database in a postgres container: &lt;code&gt;docker-compose -f docker-compose-dev.yml up postgres&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;Build the auth binary: &lt;code&gt;make build&lt;/code&gt; . You should see an output like this:&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code&gt;go build -ldflags &#34;-X github.com/supabase/auth/cmd.Version=`git rev-parse HEAD`&#34;&#xA;GOOS=linux GOARCH=arm64 go build -ldflags &#34;-X github.com/supabase/auth/cmd.Version=`git rev-parse HEAD`&#34; -o gotrue-arm64&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ol start=&#34;3&#34;&gt; &#xA; &lt;li&gt;Execute the auth binary: &lt;code&gt;./gotrue&lt;/code&gt;&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h3&gt;If you have docker installed&lt;/h3&gt; &#xA;&lt;p&gt;Create a &lt;code&gt;.env.docker&lt;/code&gt; file to store your own custom env vars. See &lt;a href=&#34;https://raw.githubusercontent.com/supabase/auth/master/example.docker.env&#34;&gt;&lt;code&gt;example.docker.env&lt;/code&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;&lt;code&gt;make build&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;make dev&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;docker ps&lt;/code&gt; should show 2 docker containers (&lt;code&gt;auth_postgresql&lt;/code&gt; and &lt;code&gt;gotrue_gotrue&lt;/code&gt;)&lt;/li&gt; &#xA; &lt;li&gt;That&#39;s it! Visit the &lt;a href=&#34;http://localhost:9999/health&#34;&gt;health checkendpoint&lt;/a&gt; to confirm that auth is running.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h2&gt;Running in production&lt;/h2&gt; &#xA;&lt;p&gt;Running an authentication server in production is not an easy feat. We recommend using &lt;a href=&#34;https://supabase.com/auth&#34;&gt;Supabase Auth&lt;/a&gt; which gets regular security updates.&lt;/p&gt; &#xA;&lt;p&gt;Otherwise, please make sure you setup a process to promptly update to the latest version. You can do that by following this repository, specifically the &lt;a href=&#34;https://github.com/supabase/auth/releases&#34;&gt;Releases&lt;/a&gt; and &lt;a href=&#34;https://github.com/supabase/auth/security/advisories&#34;&gt;Security Advisories&lt;/a&gt; sections.&lt;/p&gt; &#xA;&lt;h3&gt;Backward compatibility&lt;/h3&gt; &#xA;&lt;p&gt;Auth uses the &lt;a href=&#34;https://semver.org&#34;&gt;Semantic Versioning&lt;/a&gt; scheme. Here are some further clarifications on backward compatibility guarantees:&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Go API compatibility&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;Auth is not meant to be used as a Go library. There are no guarantees on backward API compatibility when used this way regardless which version number changes.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Patch&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;Changes to the patch version guarantees backward compatibility with:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Database objects (tables, columns, indexes, functions).&lt;/li&gt; &#xA; &lt;li&gt;REST API&lt;/li&gt; &#xA; &lt;li&gt;JWT structure&lt;/li&gt; &#xA; &lt;li&gt;Configuration&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Guaranteed examples:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;A column won&#39;t change its type.&lt;/li&gt; &#xA; &lt;li&gt;A table won&#39;t change its primary key.&lt;/li&gt; &#xA; &lt;li&gt;An index will not be removed.&lt;/li&gt; &#xA; &lt;li&gt;A uniqueness constraint will not be removed.&lt;/li&gt; &#xA; &lt;li&gt;A REST API will not be removed.&lt;/li&gt; &#xA; &lt;li&gt;Parameters to REST APIs will work equivalently as before (or better, if a bug has been fixed).&lt;/li&gt; &#xA; &lt;li&gt;Configuration will not change.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Not guaranteed examples:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;A table may add new columns.&lt;/li&gt; &#xA; &lt;li&gt;Columns in a table may be reordered.&lt;/li&gt; &#xA; &lt;li&gt;Non-unique constraints may be removed (database level checks, null, default values).&lt;/li&gt; &#xA; &lt;li&gt;JWT may add new properties.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;&lt;strong&gt;Minor&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;Changes to minor version guarantees backward compatibility with:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;REST API&lt;/li&gt; &#xA; &lt;li&gt;JWT structure&lt;/li&gt; &#xA; &lt;li&gt;Configuration&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Exceptions to these guarantees will be made only when serious security issues are found that can&#39;t be remedied in any other way.&lt;/p&gt; &#xA;&lt;p&gt;Guaranteed examples:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Existing APIs may be deprecated but continue working for the next few minor version releases.&lt;/li&gt; &#xA; &lt;li&gt;Configuration changes may become deprecated but continue working for the next few minor version releases.&lt;/li&gt; &#xA; &lt;li&gt;Already issued JWTs will be accepted, but new JWTs may be with a different structure (but usually similar).&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Not guaranteed examples:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Removal of JWT fields after a deprecation notice.&lt;/li&gt; &#xA; &lt;li&gt;Removal of certain APIs after a deprecation notice.&lt;/li&gt; &#xA; &lt;li&gt;Removal of sign-in with external providers, after a deprecation notice.&lt;/li&gt; &#xA; &lt;li&gt;Deletion, truncation, significant schema changes to tables, indexes, views, functions.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;We aim to provide a deprecation notice in execution logs for at least two major version releases or two weeks if multiple releases go out. Compatibility will be guaranteed while the notice is live.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Major&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;Changes to the major version do not guarantee any backward compatibility with previous versions.&lt;/p&gt; &#xA;&lt;h3&gt;Inherited features&lt;/h3&gt; &#xA;&lt;p&gt;Certain inherited features from the Netlify codebase are not supported by Supabase and they may be removed without prior notice in the future. This is a comprehensive list of those features:&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Multi-tenancy via the &lt;code&gt;instances&lt;/code&gt; table i.e. &lt;code&gt;GOTRUE_MULTI_INSTANCE_MODE&lt;/code&gt; configuration parameter.&lt;/li&gt; &#xA; &lt;li&gt;System user (zero UUID user).&lt;/li&gt; &#xA; &lt;li&gt;Super admin via the &lt;code&gt;is_super_admin&lt;/code&gt; column.&lt;/li&gt; &#xA; &lt;li&gt;Group information in JWTs via &lt;code&gt;GOTRUE_JWT_ADMIN_GROUP_NAME&lt;/code&gt; and other configuration fields.&lt;/li&gt; &#xA; &lt;li&gt;Symmetrics JWTs. In the future it is very likely that Auth will begin issuing asymmetric JWTs (subject to configuration), so do not rely on the assumption that only HS256 signed JWTs will be issued long term.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;Note that this is not an exhaustive list and it may change.&lt;/p&gt; &#xA;&lt;h3&gt;Best practices when self-hosting&lt;/h3&gt; &#xA;&lt;p&gt;These are some best practices to follow when self-hosting to ensure backward compatibility with Auth:&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Do not modify the schema managed by Auth. You can see all of the migrations in the &lt;code&gt;migrations&lt;/code&gt; directory.&lt;/li&gt; &#xA; &lt;li&gt;Do not rely on schema and structure of data in the database. Always use Auth APIs and JWTs to infer information about users.&lt;/li&gt; &#xA; &lt;li&gt;Always run Auth behind a TLS-capable proxy such as a load balancer, CDN, nginx or other similar software.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h2&gt;Configuration&lt;/h2&gt; &#xA;&lt;p&gt;You may configure Auth using either a configuration file named &lt;code&gt;.env&lt;/code&gt;, environment variables, or a combination of both. Environment variables are prefixed with &lt;code&gt;GOTRUE_&lt;/code&gt;, and will always have precedence over values provided via file.&lt;/p&gt; &#xA;&lt;h3&gt;Top-Level&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-properties&#34;&gt;GOTRUE_SITE_URL=https://example.netlify.com/&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;code&gt;SITE_URL&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt; &lt;strong&gt;required&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;The base URL your site is located at. Currently used in combination with other settings to construct URLs used in emails. Any URI that shares a host with &lt;code&gt;SITE_URL&lt;/code&gt; is a permitted value for &lt;code&gt;redirect_to&lt;/code&gt; params (see &lt;code&gt;/authorize&lt;/code&gt; etc.).&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;URI_ALLOW_LIST&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;A comma separated list of URIs (e.g. &lt;code&gt;&#34;https://foo.example.com,https://*.foo.example.com,https://bar.example.com&#34;&lt;/code&gt;) which are permitted as valid &lt;code&gt;redirect_to&lt;/code&gt; destinations. Defaults to []. Supports wildcard matching through globbing. e.g. &lt;code&gt;https://*.foo.example.com&lt;/code&gt; will allow &lt;code&gt;https://a.foo.example.com&lt;/code&gt; and &lt;code&gt;https://b.foo.example.com&lt;/code&gt; to be accepted. Globbing is also supported on subdomains. e.g. &lt;code&gt;https://foo.example.com/*&lt;/code&gt; will allow &lt;code&gt;https://foo.example.com/page1&lt;/code&gt; and &lt;code&gt;https://foo.example.com/page2&lt;/code&gt; to be accepted.&lt;/p&gt; &#xA;&lt;p&gt;For more common glob patterns, check out the &lt;a href=&#34;https://pkg.go.dev/github.com/gobwas/glob#Compile&#34;&gt;following link&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;OPERATOR_TOKEN&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt; &lt;em&gt;Multi-instance mode only&lt;/em&gt;&lt;/p&gt; &#xA;&lt;p&gt;The shared secret with an operator (usually Netlify) for this microservice. Used to verify requests have been proxied through the operator and the payload values can be trusted.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;DISABLE_SIGNUP&lt;/code&gt; - &lt;code&gt;bool&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;When signup is disabled the only way to create new users is through invites. Defaults to &lt;code&gt;false&lt;/code&gt;, all signups enabled.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;GOTRUE_EXTERNAL_EMAIL_ENABLED&lt;/code&gt; - &lt;code&gt;bool&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Use this to disable email signups (users can still use external oauth providers to sign up / sign in)&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;GOTRUE_EXTERNAL_PHONE_ENABLED&lt;/code&gt; - &lt;code&gt;bool&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Use this to disable phone signups (users can still use external oauth providers to sign up / sign in)&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;GOTRUE_RATE_LIMIT_HEADER&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Header on which to rate limit the &lt;code&gt;/token&lt;/code&gt; endpoint.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;GOTRUE_RATE_LIMIT_EMAIL_SENT&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Rate limit the number of emails sent per hr on the following endpoints: &lt;code&gt;/signup&lt;/code&gt;, &lt;code&gt;/invite&lt;/code&gt;, &lt;code&gt;/magiclink&lt;/code&gt;, &lt;code&gt;/recover&lt;/code&gt;, &lt;code&gt;/otp&lt;/code&gt;, &amp;amp; &lt;code&gt;/user&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;GOTRUE_PASSWORD_MIN_LENGTH&lt;/code&gt; - &lt;code&gt;int&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Minimum password length, defaults to 6.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;GOTRUE_PASSWORD_REQUIRED_CHARACTERS&lt;/code&gt; - a string of character sets separated by &lt;code&gt;:&lt;/code&gt;. A password must contain at least one character of each set to be accepted. To use the &lt;code&gt;:&lt;/code&gt; character escape it with &lt;code&gt;\&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;GOTRUE_SECURITY_REFRESH_TOKEN_ROTATION_ENABLED&lt;/code&gt; - &lt;code&gt;bool&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;If refresh token rotation is enabled, auth will automatically detect malicious attempts to reuse a revoked refresh token. When a malicious attempt is detected, gotrue immediately revokes all tokens that descended from the offending token.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;GOTRUE_SECURITY_REFRESH_TOKEN_REUSE_INTERVAL&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;This setting is only applicable if &lt;code&gt;GOTRUE_SECURITY_REFRESH_TOKEN_ROTATION_ENABLED&lt;/code&gt; is enabled. The reuse interval for a refresh token allows for exchanging the refresh token multiple times during the interval to support concurrency or offline issues. During the reuse interval, auth will not consider using a revoked token as a malicious attempt and will simply return the child refresh token.&lt;/p&gt; &#xA;&lt;p&gt;Only the previous revoked token can be reused. Using an old refresh token way before the current valid refresh token will trigger the reuse detection.&lt;/p&gt; &#xA;&lt;h3&gt;API&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-properties&#34;&gt;GOTRUE_API_HOST=localhost&#xA;PORT=9999&#xA;API_EXTERNAL_URL=http://localhost:9999&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;code&gt;API_HOST&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Hostname to listen on.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;PORT&lt;/code&gt; (no prefix) / &lt;code&gt;API_PORT&lt;/code&gt; - &lt;code&gt;number&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Port number to listen on. Defaults to &lt;code&gt;8081&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;API_ENDPOINT&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt; &lt;em&gt;Multi-instance mode only&lt;/em&gt;&lt;/p&gt; &#xA;&lt;p&gt;Controls what endpoint Netlify can access this API on.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;API_EXTERNAL_URL&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt; &lt;strong&gt;required&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;The URL on which Gotrue might be accessed at.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;REQUEST_ID_HEADER&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;If you wish to inherit a request ID from the incoming request, specify the name in this value.&lt;/p&gt; &#xA;&lt;h3&gt;Database&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-properties&#34;&gt;GOTRUE_DB_DRIVER=postgres&#xA;DATABASE_URL=root@localhost/auth&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;code&gt;DB_DRIVER&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt; &lt;strong&gt;required&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;Chooses what dialect of database you want. Must be &lt;code&gt;postgres&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;DATABASE_URL&lt;/code&gt; (no prefix) / &lt;code&gt;DB_DATABASE_URL&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt; &lt;strong&gt;required&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;Connection string for the database.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;GOTRUE_DB_MAX_POOL_SIZE&lt;/code&gt; - &lt;code&gt;int&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Sets the maximum number of open connections to the database. Defaults to 0 which is equivalent to an &#34;unlimited&#34; number of connections.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;DB_NAMESPACE&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Adds a prefix to all table names.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Migrations Note&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;Migrations are applied automatically when you run &lt;code&gt;./auth&lt;/code&gt;. However, you also have the option to rerun the migrations via the following methods:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;If built locally: &lt;code&gt;./auth migrate&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;Using Docker: &lt;code&gt;docker run --rm auth gotrue migrate&lt;/code&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Logging&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-properties&#34;&gt;LOG_LEVEL=debug # available without GOTRUE prefix (exception)&#xA;GOTRUE_LOG_FILE=/var/log/go/auth.log&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;code&gt;LOG_LEVEL&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Controls what log levels are output. Choose from &lt;code&gt;panic&lt;/code&gt;, &lt;code&gt;fatal&lt;/code&gt;, &lt;code&gt;error&lt;/code&gt;, &lt;code&gt;warn&lt;/code&gt;, &lt;code&gt;info&lt;/code&gt;, or &lt;code&gt;debug&lt;/code&gt;. Defaults to &lt;code&gt;info&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;LOG_FILE&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;If you wish logs to be written to a file, set &lt;code&gt;log_file&lt;/code&gt; to a valid file path.&lt;/p&gt; &#xA;&lt;h3&gt;Observability&lt;/h3&gt; &#xA;&lt;p&gt;Auth has basic observability built in. It is able to export &lt;a href=&#34;https://opentelemetry.io&#34;&gt;OpenTelemetry&lt;/a&gt; metrics and traces to a collector.&lt;/p&gt; &#xA;&lt;h4&gt;Tracing&lt;/h4&gt; &#xA;&lt;p&gt;To enable tracing configure these variables:&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;GOTRUE_TRACING_ENABLED&lt;/code&gt; - &lt;code&gt;boolean&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;GOTRUE_TRACING_EXPORTER&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt; only &lt;code&gt;opentelemetry&lt;/code&gt; supported&lt;/p&gt; &#xA;&lt;p&gt;Make sure you also configure the &lt;a href=&#34;https://opentelemetry.io/docs/reference/specification/protocol/exporter/&#34;&gt;OpenTelemetry Exporter&lt;/a&gt; configuration for your collector or service.&lt;/p&gt; &#xA;&lt;p&gt;For example, if you use &lt;a href=&#34;https://docs.honeycomb.io/getting-data-in/opentelemetry/go-distro/#using-opentelemetry-without-the-honeycomb-distribution&#34;&gt;Honeycomb.io&lt;/a&gt; you should set these standard OpenTelemetry OTLP variables:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;OTEL_SERVICE_NAME=auth&#xA;OTEL_EXPORTER_OTLP_PROTOCOL=grpc&#xA;OTEL_EXPORTER_OTLP_ENDPOINT=https://api.honeycomb.io:443&#xA;OTEL_EXPORTER_OTLP_HEADERS=&#34;x-honeycomb-team=&amp;lt;API-KEY&amp;gt;,x-honeycomb-dataset=auth&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Metrics&lt;/h4&gt; &#xA;&lt;p&gt;To enable metrics configure these variables:&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;GOTRUE_METRICS_ENABLED&lt;/code&gt; - &lt;code&gt;boolean&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;GOTRUE_METRICS_EXPORTER&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt; only &lt;code&gt;opentelemetry&lt;/code&gt; and &lt;code&gt;prometheus&lt;/code&gt; supported&lt;/p&gt; &#xA;&lt;p&gt;Make sure you also configure the &lt;a href=&#34;https://opentelemetry.io/docs/reference/specification/protocol/exporter/&#34;&gt;OpenTelemetry Exporter&lt;/a&gt; configuration for your collector or service.&lt;/p&gt; &#xA;&lt;p&gt;If you use the &lt;code&gt;prometheus&lt;/code&gt; exporter, the server host and port can be configured using these standard OpenTelemetry variables:&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;OTEL_EXPORTER_PROMETHEUS_HOST&lt;/code&gt; - IP address, default &lt;code&gt;0.0.0.0&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;OTEL_EXPORTER_PROMETHEUS_PORT&lt;/code&gt; - port number, default &lt;code&gt;9100&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;The metrics are exported on the &lt;code&gt;/&lt;/code&gt; path on the server.&lt;/p&gt; &#xA;&lt;p&gt;If you use the &lt;code&gt;opentelemetry&lt;/code&gt; exporter, the metrics are pushed to the collector.&lt;/p&gt; &#xA;&lt;p&gt;For example, if you use &lt;a href=&#34;https://docs.honeycomb.io/getting-data-in/opentelemetry/go-distro/#using-opentelemetry-without-the-honeycomb-distribution&#34;&gt;Honeycomb.io&lt;/a&gt; you should set these standard OpenTelemetry OTLP variables:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;OTEL_SERVICE_NAME=auth&#xA;OTEL_EXPORTER_OTLP_PROTOCOL=grpc&#xA;OTEL_EXPORTER_OTLP_ENDPOINT=https://api.honeycomb.io:443&#xA;OTEL_EXPORTER_OTLP_HEADERS=&#34;x-honeycomb-team=&amp;lt;API-KEY&amp;gt;,x-honeycomb-dataset=auth&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Note that Honeycomb.io requires a paid plan to ingest metrics.&lt;/p&gt; &#xA;&lt;p&gt;If you need to debug an issue with traces or metrics not being pushed, you can set &lt;code&gt;DEBUG=true&lt;/code&gt; to get more insights from the OpenTelemetry SDK.&lt;/p&gt; &#xA;&lt;h4&gt;Custom resource attributes&lt;/h4&gt; &#xA;&lt;p&gt;When using the OpenTelemetry tracing or metrics exporter you can define custom resource attributes using the &lt;a href=&#34;https://opentelemetry.io/docs/reference/specification/resource/sdk/#specifying-resource-information-via-an-environment-variable&#34;&gt;standard &lt;code&gt;OTEL_RESOURCE_ATTRIBUTES&lt;/code&gt; environment variable&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;A default attribute &lt;code&gt;auth.version&lt;/code&gt; is provided containing the build version.&lt;/p&gt; &#xA;&lt;h4&gt;Tracing HTTP routes&lt;/h4&gt; &#xA;&lt;p&gt;All HTTP calls to the Auth API are traced. Routes use the parametrized version of the route, and the values for the route parameters can be found as the &lt;code&gt;http.route.params.&amp;lt;route-key&amp;gt;&lt;/code&gt; span attribute.&lt;/p&gt; &#xA;&lt;p&gt;For example, the following request:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;GET /admin/users/4acde936-82dc-4552-b851-831fb8ce0927/&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;will be traced as:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;http.method = GET&#xA;http.route = /admin/users/{user_id}&#xA;http.route.params.user_id = 4acde936-82dc-4552-b851-831fb8ce0927&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Go runtime and HTTP metrics&lt;/h4&gt; &#xA;&lt;p&gt;All of the Go runtime metrics are exposed. Some HTTP metrics are also collected by default.&lt;/p&gt; &#xA;&lt;h3&gt;JSON Web Tokens (JWT)&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-properties&#34;&gt;GOTRUE_JWT_SECRET=supersecretvalue&#xA;GOTRUE_JWT_EXP=3600&#xA;GOTRUE_JWT_AUD=netlify&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;code&gt;JWT_SECRET&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt; &lt;strong&gt;required&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;The secret used to sign JWT tokens with.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;JWT_EXP&lt;/code&gt; - &lt;code&gt;number&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;How long tokens are valid for, in seconds. Defaults to 3600 (1 hour).&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;JWT_AUD&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;The default JWT audience. Use audiences to group users.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;JWT_ADMIN_GROUP_NAME&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;The name of the admin group (if enabled). Defaults to &lt;code&gt;admin&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;JWT_DEFAULT_GROUP_NAME&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;The default group to assign all new users to.&lt;/p&gt; &#xA;&lt;h3&gt;External Authentication Providers&lt;/h3&gt; &#xA;&lt;p&gt;We support &lt;code&gt;apple&lt;/code&gt;, &lt;code&gt;azure&lt;/code&gt;, &lt;code&gt;bitbucket&lt;/code&gt;, &lt;code&gt;discord&lt;/code&gt;, &lt;code&gt;facebook&lt;/code&gt;, &lt;code&gt;figma&lt;/code&gt;, &lt;code&gt;github&lt;/code&gt;, &lt;code&gt;gitlab&lt;/code&gt;, &lt;code&gt;google&lt;/code&gt;, &lt;code&gt;keycloak&lt;/code&gt;, &lt;code&gt;linkedin&lt;/code&gt;, &lt;code&gt;notion&lt;/code&gt;, &lt;code&gt;spotify&lt;/code&gt;, &lt;code&gt;slack&lt;/code&gt;, &lt;code&gt;twitch&lt;/code&gt;, &lt;code&gt;twitter&lt;/code&gt; and &lt;code&gt;workos&lt;/code&gt; for external authentication.&lt;/p&gt; &#xA;&lt;p&gt;Use the names as the keys underneath &lt;code&gt;external&lt;/code&gt; to configure each separately.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-properties&#34;&gt;GOTRUE_EXTERNAL_GITHUB_ENABLED=true&#xA;GOTRUE_EXTERNAL_GITHUB_CLIENT_ID=myappclientid&#xA;GOTRUE_EXTERNAL_GITHUB_SECRET=clientsecretvaluessssh&#xA;GOTRUE_EXTERNAL_GITHUB_REDIRECT_URI=http://localhost:3000/callback&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;No external providers are required, but you must provide the required values if you choose to enable any.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;EXTERNAL_X_ENABLED&lt;/code&gt; - &lt;code&gt;bool&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Whether this external provider is enabled or not&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;EXTERNAL_X_CLIENT_ID&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt; &lt;strong&gt;required&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;The OAuth2 Client ID registered with the external provider.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;EXTERNAL_X_SECRET&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt; &lt;strong&gt;required&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;The OAuth2 Client Secret provided by the external provider when you registered.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;EXTERNAL_X_REDIRECT_URI&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt; &lt;strong&gt;required&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;The URI a OAuth2 provider will redirect to with the &lt;code&gt;code&lt;/code&gt; and &lt;code&gt;state&lt;/code&gt; values.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;EXTERNAL_X_URL&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;The base URL used for constructing the URLs to request authorization and access tokens. Used by &lt;code&gt;gitlab&lt;/code&gt; and &lt;code&gt;keycloak&lt;/code&gt;. For &lt;code&gt;gitlab&lt;/code&gt; it defaults to &lt;code&gt;https://gitlab.com&lt;/code&gt;. For &lt;code&gt;keycloak&lt;/code&gt; you need to set this to your instance, for example: &lt;code&gt;https://keycloak.example.com/realms/myrealm&lt;/code&gt;&lt;/p&gt; &#xA;&lt;h4&gt;Apple OAuth&lt;/h4&gt; &#xA;&lt;p&gt;To try out external authentication with Apple locally, you will need to do the following:&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt; &lt;p&gt;Remap localhost to &amp;lt;my_custom_dns &amp;gt; in your &lt;code&gt;/etc/hosts&lt;/code&gt; config.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Configure auth to serve HTTPS traffic over localhost by replacing &lt;code&gt;ListenAndServe&lt;/code&gt; in &lt;a href=&#34;https://raw.githubusercontent.com/supabase/auth/master/api/api.go&#34;&gt;api.go&lt;/a&gt; with:&lt;/p&gt; &lt;pre&gt;&lt;code&gt;   func (a *API) ListenAndServe(hostAndPort string) {&#xA;     log := logrus.WithField(&#34;component&#34;, &#34;api&#34;)&#xA;     path, err := os.Getwd()&#xA;     if err != nil {&#xA;       log.Println(err)&#xA;     }&#xA;     server := &amp;amp;http.Server{&#xA;       Addr:    hostAndPort,&#xA;       Handler: a.handler,&#xA;     }&#xA;     done := make(chan struct{})&#xA;     defer close(done)&#xA;     go func() {&#xA;       waitForTermination(log, done)&#xA;       ctx, cancel := context.WithTimeout(context.Background(), time.Minute)&#xA;       defer cancel()&#xA;       server.Shutdown(ctx)&#xA;     }()&#xA;     if err := server.ListenAndServeTLS(&#34;PATH_TO_CRT_FILE&#34;, &#34;PATH_TO_KEY_FILE&#34;); err != http.ErrServerClosed {&#xA;       log.WithError(err).Fatal(&#34;http server listen failed&#34;)&#xA;     }&#xA; }&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Generate the crt and key file. See &lt;a href=&#34;https://www.freecodecamp.org/news/how-to-get-https-working-on-your-local-development-environment-in-5-minutes-7af615770eec/&#34;&gt;here&lt;/a&gt; for more information.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Generate the &lt;code&gt;GOTRUE_EXTERNAL_APPLE_SECRET&lt;/code&gt; by following this &lt;a href=&#34;https://medium.com/identity-beyond-borders/how-to-configure-sign-in-with-apple-77c61e336003&#34;&gt;post&lt;/a&gt;!&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h3&gt;E-Mail&lt;/h3&gt; &#xA;&lt;p&gt;Sending email is not required, but highly recommended for password recovery. If enabled, you must provide the required values below.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-properties&#34;&gt;GOTRUE_SMTP_HOST=smtp.mandrillapp.com&#xA;GOTRUE_SMTP_PORT=587&#xA;GOTRUE_SMTP_USER=smtp-delivery@example.com&#xA;GOTRUE_SMTP_PASS=correcthorsebatterystaple&#xA;GOTRUE_SMTP_ADMIN_EMAIL=support@example.com&#xA;GOTRUE_MAILER_SUBJECTS_CONFIRMATION=&#34;Please confirm&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;code&gt;SMTP_ADMIN_EMAIL&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt; &lt;strong&gt;required&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;The &lt;code&gt;From&lt;/code&gt; email address for all emails sent.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;SMTP_HOST&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt; &lt;strong&gt;required&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;The mail server hostname to send emails through.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;SMTP_PORT&lt;/code&gt; - &lt;code&gt;number&lt;/code&gt; &lt;strong&gt;required&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;The port number to connect to the mail server on.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;SMTP_USER&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;If the mail server requires authentication, the username to use.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;SMTP_PASS&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;If the mail server requires authentication, the password to use.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;SMTP_MAX_FREQUENCY&lt;/code&gt; - &lt;code&gt;number&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Controls the minimum amount of time that must pass before sending another signup confirmation or password reset email. The value is the number of seconds. Defaults to 900 (15 minutes).&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;SMTP_SENDER_NAME&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Sets the name of the sender. Defaults to the &lt;code&gt;SMTP_ADMIN_EMAIL&lt;/code&gt; if not used.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;MAILER_AUTOCONFIRM&lt;/code&gt; - &lt;code&gt;bool&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;If you do not require email confirmation, you may set this to &lt;code&gt;true&lt;/code&gt;. Defaults to &lt;code&gt;false&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;MAILER_OTP_EXP&lt;/code&gt; - &lt;code&gt;number&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Controls the duration an email link or otp is valid for.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;MAILER_URLPATHS_INVITE&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;URL path to use in the user invite email. Defaults to &lt;code&gt;/verify&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;MAILER_URLPATHS_CONFIRMATION&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;URL path to use in the signup confirmation email. Defaults to &lt;code&gt;/verify&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;MAILER_URLPATHS_RECOVERY&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;URL path to use in the password reset email. Defaults to &lt;code&gt;/verify&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;MAILER_URLPATHS_EMAIL_CHANGE&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;URL path to use in the email change confirmation email. Defaults to &lt;code&gt;/verify&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;MAILER_SUBJECTS_INVITE&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Email subject to use for user invite. Defaults to &lt;code&gt;You have been invited&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;MAILER_SUBJECTS_CONFIRMATION&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Email subject to use for signup confirmation. Defaults to &lt;code&gt;Confirm Your Signup&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;MAILER_SUBJECTS_RECOVERY&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Email subject to use for password reset. Defaults to &lt;code&gt;Reset Your Password&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;MAILER_SUBJECTS_MAGIC_LINK&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Email subject to use for magic link email. Defaults to &lt;code&gt;Your Magic Link&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;MAILER_SUBJECTS_EMAIL_CHANGE&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Email subject to use for email change confirmation. Defaults to &lt;code&gt;Confirm Email Change&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;MAILER_TEMPLATES_INVITE&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;URL path to an email template to use when inviting a user. (e.g. &lt;code&gt;https://www.example.com/path-to-email-template.html&lt;/code&gt;) &lt;code&gt;SiteURL&lt;/code&gt;, &lt;code&gt;Email&lt;/code&gt;, and &lt;code&gt;ConfirmationURL&lt;/code&gt; variables are available.&lt;/p&gt; &#xA;&lt;p&gt;Default Content (if template is unavailable):&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;h2&amp;gt;You have been invited&amp;lt;/h2&amp;gt;&#xA;&#xA;&amp;lt;p&amp;gt;&#xA;  You have been invited to create a user on {{ .SiteURL }}. Follow this link to&#xA;  accept the invite:&#xA;&amp;lt;/p&amp;gt;&#xA;&amp;lt;p&amp;gt;&amp;lt;a href=&#34;{{ .ConfirmationURL }}&#34;&amp;gt;Accept the invite&amp;lt;/a&amp;gt;&amp;lt;/p&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;code&gt;MAILER_TEMPLATES_CONFIRMATION&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;URL path to an email template to use when confirming a signup. (e.g. &lt;code&gt;https://www.example.com/path-to-email-template.html&lt;/code&gt;) &lt;code&gt;SiteURL&lt;/code&gt;, &lt;code&gt;Email&lt;/code&gt;, and &lt;code&gt;ConfirmationURL&lt;/code&gt; variables are available.&lt;/p&gt; &#xA;&lt;p&gt;Default Content (if template is unavailable):&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;h2&amp;gt;Confirm your signup&amp;lt;/h2&amp;gt;&#xA;&#xA;&amp;lt;p&amp;gt;Follow this link to confirm your user:&amp;lt;/p&amp;gt;&#xA;&amp;lt;p&amp;gt;&amp;lt;a href=&#34;{{ .ConfirmationURL }}&#34;&amp;gt;Confirm your mail&amp;lt;/a&amp;gt;&amp;lt;/p&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;code&gt;MAILER_TEMPLATES_RECOVERY&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;URL path to an email template to use when resetting a password. (e.g. &lt;code&gt;https://www.example.com/path-to-email-template.html&lt;/code&gt;) &lt;code&gt;SiteURL&lt;/code&gt;, &lt;code&gt;Email&lt;/code&gt;, and &lt;code&gt;ConfirmationURL&lt;/code&gt; variables are available.&lt;/p&gt; &#xA;&lt;p&gt;Default Content (if template is unavailable):&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;h2&amp;gt;Reset Password&amp;lt;/h2&amp;gt;&#xA;&#xA;&amp;lt;p&amp;gt;Follow this link to reset the password for your user:&amp;lt;/p&amp;gt;&#xA;&amp;lt;p&amp;gt;&amp;lt;a href=&#34;{{ .ConfirmationURL }}&#34;&amp;gt;Reset Password&amp;lt;/a&amp;gt;&amp;lt;/p&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;code&gt;MAILER_TEMPLATES_MAGIC_LINK&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;URL path to an email template to use when sending magic link. (e.g. &lt;code&gt;https://www.example.com/path-to-email-template.html&lt;/code&gt;) &lt;code&gt;SiteURL&lt;/code&gt;, &lt;code&gt;Email&lt;/code&gt;, and &lt;code&gt;ConfirmationURL&lt;/code&gt; variables are available.&lt;/p&gt; &#xA;&lt;p&gt;Default Content (if template is unavailable):&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;h2&amp;gt;Magic Link&amp;lt;/h2&amp;gt;&#xA;&#xA;&amp;lt;p&amp;gt;Follow this link to login:&amp;lt;/p&amp;gt;&#xA;&amp;lt;p&amp;gt;&amp;lt;a href=&#34;{{ .ConfirmationURL }}&#34;&amp;gt;Log In&amp;lt;/a&amp;gt;&amp;lt;/p&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;code&gt;MAILER_TEMPLATES_EMAIL_CHANGE&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;URL path to an email template to use when confirming the change of an email address. (e.g. &lt;code&gt;https://www.example.com/path-to-email-template.html&lt;/code&gt;) &lt;code&gt;SiteURL&lt;/code&gt;, &lt;code&gt;Email&lt;/code&gt;, &lt;code&gt;NewEmail&lt;/code&gt;, and &lt;code&gt;ConfirmationURL&lt;/code&gt; variables are available.&lt;/p&gt; &#xA;&lt;p&gt;Default Content (if template is unavailable):&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;h2&amp;gt;Confirm Change of Email&amp;lt;/h2&amp;gt;&#xA;&#xA;&amp;lt;p&amp;gt;&#xA;  Follow this link to confirm the update of your email from {{ .Email }} to {{&#xA;  .NewEmail }}:&#xA;&amp;lt;/p&amp;gt;&#xA;&amp;lt;p&amp;gt;&amp;lt;a href=&#34;{{ .ConfirmationURL }}&#34;&amp;gt;Change Email&amp;lt;/a&amp;gt;&amp;lt;/p&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Phone Auth&lt;/h3&gt; &#xA;&lt;p&gt;&lt;code&gt;SMS_AUTOCONFIRM&lt;/code&gt; - &lt;code&gt;bool&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;If you do not require phone confirmation, you may set this to &lt;code&gt;true&lt;/code&gt;. Defaults to &lt;code&gt;false&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;SMS_MAX_FREQUENCY&lt;/code&gt; - &lt;code&gt;number&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Controls the minimum amount of time that must pass before sending another sms otp. The value is the number of seconds. Defaults to 60 (1 minute)).&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;SMS_OTP_EXP&lt;/code&gt; - &lt;code&gt;number&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Controls the duration an sms otp is valid for.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;SMS_OTP_LENGTH&lt;/code&gt; - &lt;code&gt;number&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Controls the number of digits of the sms otp sent.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;SMS_PROVIDER&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Available options are: &lt;code&gt;twilio&lt;/code&gt;, &lt;code&gt;messagebird&lt;/code&gt;, &lt;code&gt;textlocal&lt;/code&gt;, and &lt;code&gt;vonage&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Then you can use your &lt;a href=&#34;https://www.twilio.com/docs/usage/requests-to-twilio#credentials&#34;&gt;twilio credentials&lt;/a&gt;:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;SMS_TWILIO_ACCOUNT_SID&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;SMS_TWILIO_AUTH_TOKEN&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;SMS_TWILIO_MESSAGE_SERVICE_SID&lt;/code&gt; - can be set to your twilio sender mobile number&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Or Messagebird credentials, which can be obtained in the &lt;a href=&#34;https://dashboard.messagebird.com/en/developers/access&#34;&gt;Dashboard&lt;/a&gt;:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;SMS_MESSAGEBIRD_ACCESS_KEY&lt;/code&gt; - your Messagebird access key&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;SMS_MESSAGEBIRD_ORIGINATOR&lt;/code&gt; - SMS sender (your Messagebird phone number with + or company name)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;CAPTCHA&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;If enabled, CAPTCHA will check the request body for the &lt;code&gt;captcha_token&lt;/code&gt; field and make a verification request to the CAPTCHA provider.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;&lt;code&gt;SECURITY_CAPTCHA_ENABLED&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Whether captcha middleware is enabled&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;SECURITY_CAPTCHA_PROVIDER&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;for now the only options supported are: &lt;code&gt;hcaptcha&lt;/code&gt; and &lt;code&gt;turnstile&lt;/code&gt;&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;SECURITY_CAPTCHA_SECRET&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;SECURITY_CAPTCHA_TIMEOUT&lt;/code&gt; - &lt;code&gt;string&lt;/code&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Retrieve from hcaptcha or turnstile account&lt;/p&gt; &#xA;&lt;h3&gt;Reauthentication&lt;/h3&gt; &#xA;&lt;p&gt;&lt;code&gt;SECURITY_UPDATE_PASSWORD_REQUIRE_REAUTHENTICATION&lt;/code&gt; - &lt;code&gt;bool&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Enforce reauthentication on password update.&lt;/p&gt; &#xA;&lt;h3&gt;Anonymous Sign-Ins&lt;/h3&gt; &#xA;&lt;p&gt;&lt;code&gt;GOTRUE_EXTERNAL_ANONYMOUS_USERS_ENABLED&lt;/code&gt; - &lt;code&gt;bool&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Use this to enable/disable anonymous sign-ins.&lt;/p&gt; &#xA;&lt;h2&gt;Endpoints&lt;/h2&gt; &#xA;&lt;p&gt;Auth exposes the following endpoints:&lt;/p&gt; &#xA;&lt;h3&gt;&lt;strong&gt;GET /settings&lt;/strong&gt;&lt;/h3&gt; &#xA;&lt;p&gt;Returns the publicly available settings for this auth instance.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{&#xA;  &#34;external&#34;: {&#xA;    &#34;apple&#34;: true,&#xA;    &#34;azure&#34;: true,&#xA;    &#34;bitbucket&#34;: true,&#xA;    &#34;discord&#34;: true,&#xA;    &#34;facebook&#34;: true,&#xA;    &#34;figma&#34;: true,&#xA;    &#34;github&#34;: true,&#xA;    &#34;gitlab&#34;: true,&#xA;    &#34;google&#34;: true,&#xA;    &#34;keycloak&#34;: true,&#xA;    &#34;linkedin&#34;: true,&#xA;    &#34;notion&#34;: true,&#xA;    &#34;slack&#34;: true,&#xA;    &#34;spotify&#34;: true,&#xA;    &#34;twitch&#34;: true,&#xA;    &#34;twitter&#34;: true,&#xA;    &#34;workos&#34;: true&#xA;  },&#xA;  &#34;disable_signup&#34;: false,&#xA;  &#34;autoconfirm&#34;: false&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;&lt;strong&gt;POST, PUT /admin/users/&amp;lt;user_id&amp;gt;&lt;/strong&gt;&lt;/h3&gt; &#xA;&lt;p&gt;Creates (POST) or Updates (PUT) the user based on the &lt;code&gt;user_id&lt;/code&gt; specified. The &lt;code&gt;ban_duration&lt;/code&gt; field accepts the following time units: &#34;ns&#34;, &#34;us&#34;, &#34;ms&#34;, &#34;s&#34;, &#34;m&#34;, &#34;h&#34;. See &lt;a href=&#34;https://pkg.go.dev/time#ParseDuration&#34;&gt;&lt;code&gt;time.ParseDuration&lt;/code&gt;&lt;/a&gt; for more details on the format used.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;headers:&#xA;{&#xA;  &#34;Authorization&#34;: &#34;Bearer eyJhbGciOiJI...M3A90LCkxxtX9oNP9KZO&#34; // requires a role claim that can be set in the GOTRUE_JWT_ADMIN_ROLES env var&#xA;}&#xA;&#xA;body:&#xA;{&#xA;  &#34;role&#34;: &#34;test-user&#34;,&#xA;  &#34;email&#34;: &#34;email@example.com&#34;,&#xA;  &#34;phone&#34;: &#34;12345678&#34;,&#xA;  &#34;password&#34;: &#34;secret&#34;, // only if type = signup&#xA;  &#34;email_confirm&#34;: true,&#xA;  &#34;phone_confirm&#34;: true,&#xA;  &#34;user_metadata&#34;: {},&#xA;  &#34;app_metadata&#34;: {},&#xA;  &#34;ban_duration&#34;: &#34;24h&#34; or &#34;none&#34; // to unban a user&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;&lt;strong&gt;POST /admin/generate_link&lt;/strong&gt;&lt;/h3&gt; &#xA;&lt;p&gt;Returns the corresponding email action link based on the type specified. Among other things, the response also contains the query params of the action link as separate JSON fields for convenience (along with the email OTP from which the corresponding token is generated).&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;headers:&#xA;{&#xA;  &#34;Authorization&#34;: &#34;Bearer eyJhbGciOiJI...M3A90LCkxxtX9oNP9KZO&#34; // admin role required&#xA;}&#xA;&#xA;body:&#xA;{&#xA;  &#34;type&#34;: &#34;signup&#34; or &#34;magiclink&#34; or &#34;recovery&#34; or &#34;invite&#34;,&#xA;  &#34;email&#34;: &#34;email@example.com&#34;,&#xA;  &#34;password&#34;: &#34;secret&#34;, // only if type = signup&#xA;  &#34;data&#34;: {&#xA;    ...&#xA;  }, // only if type = signup&#xA;  &#34;redirect_to&#34;: &#34;https://supabase.io&#34; // Redirect URL to send the user to after an email action. Defaults to SITE_URL.&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Returns&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;{&#xA;  &#34;action_link&#34;: &#34;http://localhost:9999/verify?token=TOKEN&amp;amp;type=TYPE&amp;amp;redirect_to=REDIRECT_URL&#34;,&#xA;  &#34;email_otp&#34;: &#34;EMAIL_OTP&#34;,&#xA;  &#34;hashed_token&#34;: &#34;TOKEN&#34;,&#xA;  &#34;verification_type&#34;: &#34;TYPE&#34;,&#xA;  &#34;redirect_to&#34;: &#34;REDIRECT_URL&#34;,&#xA;  ...&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;&lt;strong&gt;POST /signup&lt;/strong&gt;&lt;/h3&gt; &#xA;&lt;p&gt;Register a new user with an email and password.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;{&#xA;  &#34;email&#34;: &#34;email@example.com&#34;,&#xA;  &#34;password&#34;: &#34;secret&#34;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;returns:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{&#xA;  &#34;id&#34;: &#34;11111111-2222-3333-4444-5555555555555&#34;,&#xA;  &#34;email&#34;: &#34;email@example.com&#34;,&#xA;  &#34;confirmation_sent_at&#34;: &#34;2016-05-15T20:49:40.882805774-07:00&#34;,&#xA;  &#34;created_at&#34;: &#34;2016-05-15T19:53:12.368652374-07:00&#34;,&#xA;  &#34;updated_at&#34;: &#34;2016-05-15T19:53:12.368652374-07:00&#34;&#xA;}&#xA;&#xA;// if sign up is a duplicate then faux data will be returned&#xA;// as to not leak information about whether a given email&#xA;// has an account with your service or not&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Register a new user with a phone number and password.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;{&#xA;  &#34;phone&#34;: &#34;12345678&#34;, // follows the E.164 format&#xA;  &#34;password&#34;: &#34;secret&#34;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Returns:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{&#xA;  &#34;id&#34;: &#34;11111111-2222-3333-4444-5555555555555&#34;, // if duplicate sign up, this ID will be faux&#xA;  &#34;phone&#34;: &#34;12345678&#34;,&#xA;  &#34;confirmation_sent_at&#34;: &#34;2016-05-15T20:49:40.882805774-07:00&#34;,&#xA;  &#34;created_at&#34;: &#34;2016-05-15T19:53:12.368652374-07:00&#34;,&#xA;  &#34;updated_at&#34;: &#34;2016-05-15T19:53:12.368652374-07:00&#34;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;if AUTOCONFIRM is enabled and the sign up is a duplicate, then the endpoint will return:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;{&#xA;  &#34;code&#34;:400,&#xA;  &#34;msg&#34;:&#34;User already registered&#34;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;&lt;strong&gt;POST /invite&lt;/strong&gt;&lt;/h3&gt; &#xA;&lt;p&gt;Invites a new user with an email. This endpoint requires the &lt;code&gt;service_role&lt;/code&gt; or &lt;code&gt;supabase_admin&lt;/code&gt; JWT set as an Auth Bearer header:&lt;/p&gt; &#xA;&lt;p&gt;e.g.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;headers: {&#xA;  &#34;Authorization&#34; : &#34;Bearer eyJhbGciOiJI...M3A90LCkxxtX9oNP9KZO&#34;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{&#xA;  &#34;email&#34;: &#34;email@example.com&#34;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Returns:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{&#xA;  &#34;id&#34;: &#34;11111111-2222-3333-4444-5555555555555&#34;,&#xA;  &#34;email&#34;: &#34;email@example.com&#34;,&#xA;  &#34;confirmation_sent_at&#34;: &#34;2016-05-15T20:49:40.882805774-07:00&#34;,&#xA;  &#34;created_at&#34;: &#34;2016-05-15T19:53:12.368652374-07:00&#34;,&#xA;  &#34;updated_at&#34;: &#34;2016-05-15T19:53:12.368652374-07:00&#34;,&#xA;  &#34;invited_at&#34;: &#34;2016-05-15T19:53:12.368652374-07:00&#34;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;&lt;strong&gt;POST /verify&lt;/strong&gt;&lt;/h3&gt; &#xA;&lt;p&gt;Verify a registration or a password recovery. Type can be &lt;code&gt;signup&lt;/code&gt; or &lt;code&gt;recovery&lt;/code&gt; or &lt;code&gt;invite&lt;/code&gt; and the &lt;code&gt;token&lt;/code&gt; is a token returned from either &lt;code&gt;/signup&lt;/code&gt; or &lt;code&gt;/recover&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{&#xA;  &#34;type&#34;: &#34;signup&#34;,&#xA;  &#34;token&#34;: &#34;confirmation-code-delivered-in-email&#34;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;code&gt;password&lt;/code&gt; is required for signup verification if no existing password exists.&lt;/p&gt; &#xA;&lt;p&gt;Returns:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{&#xA;  &#34;access_token&#34;: &#34;jwt-token-representing-the-user&#34;,&#xA;  &#34;token_type&#34;: &#34;bearer&#34;,&#xA;  &#34;expires_in&#34;: 3600,&#xA;  &#34;refresh_token&#34;: &#34;a-refresh-token&#34;,&#xA;  &#34;type&#34;: &#34;signup | recovery | invite&#34;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Verify a phone signup or sms otp. Type should be set to &lt;code&gt;sms&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{&#xA;  &#34;type&#34;: &#34;sms&#34;,&#xA;  &#34;token&#34;: &#34;confirmation-otp-delivered-in-sms&#34;,&#xA;  &#34;redirect_to&#34;: &#34;https://supabase.io&#34;,&#xA;  &#34;phone&#34;: &#34;phone-number-sms-otp-was-delivered-to&#34;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Returns:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{&#xA;  &#34;access_token&#34;: &#34;jwt-token-representing-the-user&#34;,&#xA;  &#34;token_type&#34;: &#34;bearer&#34;,&#xA;  &#34;expires_in&#34;: 3600,&#xA;  &#34;refresh_token&#34;: &#34;a-refresh-token&#34;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;&lt;strong&gt;GET /verify&lt;/strong&gt;&lt;/h3&gt; &#xA;&lt;p&gt;Verify a registration or a password recovery. Type can be &lt;code&gt;signup&lt;/code&gt; or &lt;code&gt;recovery&lt;/code&gt; or &lt;code&gt;magiclink&lt;/code&gt; or &lt;code&gt;invite&lt;/code&gt; and the &lt;code&gt;token&lt;/code&gt; is a token returned from either &lt;code&gt;/signup&lt;/code&gt; or &lt;code&gt;/recover&lt;/code&gt; or &lt;code&gt;/magiclink&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;query params:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{&#xA;  &#34;type&#34;: &#34;signup&#34;,&#xA;  &#34;token&#34;: &#34;confirmation-code-delivered-in-email&#34;,&#xA;  &#34;redirect_to&#34;: &#34;https://supabase.io&#34;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;User will be logged in and redirected to:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;SITE_URL/#access_token=jwt-token-representing-the-user&amp;amp;token_type=bearer&amp;amp;expires_in=3600&amp;amp;refresh_token=a-refresh-token&amp;amp;type=invite&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Your app should detect the query params in the fragment and use them to set the session (supabase-js does this automatically)&lt;/p&gt; &#xA;&lt;p&gt;You can use the &lt;code&gt;type&lt;/code&gt; param to redirect the user to a password set form in the case of &lt;code&gt;invite&lt;/code&gt; or &lt;code&gt;recovery&lt;/code&gt;, or show an account confirmed/welcome message in the case of &lt;code&gt;signup&lt;/code&gt;, or direct them to some additional onboarding flow&lt;/p&gt; &#xA;&lt;h3&gt;&lt;strong&gt;POST /otp&lt;/strong&gt;&lt;/h3&gt; &#xA;&lt;p&gt;One-Time-Password. Will deliver a magiclink or sms otp to the user depending on whether the request body contains an &#34;email&#34; or &#34;phone&#34; key.&lt;/p&gt; &#xA;&lt;p&gt;If &lt;code&gt;&#34;create_user&#34;: true&lt;/code&gt;, user will not be automatically signed up if the user doesn&#39;t exist.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;{&#xA;  &#34;phone&#34;: &#34;12345678&#34; // follows the E.164 format&#xA;  &#34;create_user&#34;: true&#xA;}&#xA;&#xA;OR&#xA;&#xA;// exactly the same as /magiclink&#xA;{&#xA;  &#34;email&#34;: &#34;email@example.com&#34;&#xA;  &#34;create_user&#34;: true&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Returns:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;{}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;&lt;strong&gt;POST /magiclink&lt;/strong&gt; (recommended to use /otp instead. See above.)&lt;/h3&gt; &#xA;&lt;p&gt;Magic Link. Will deliver a link (e.g. &lt;code&gt;/verify?type=magiclink&amp;amp;token=fgtyuf68ddqdaDd&lt;/code&gt;) to the user based on email address which they can use to redeem an access_token.&lt;/p&gt; &#xA;&lt;p&gt;By default Magic Links can only be sent once every 60 seconds&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{&#xA;  &#34;email&#34;: &#34;email@example.com&#34;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Returns:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;when clicked the magic link will redirect the user to &lt;code&gt;&amp;lt;SITE_URL&amp;gt;#access_token=x&amp;amp;refresh_token=y&amp;amp;expires_in=z&amp;amp;token_type=bearer&amp;amp;type=magiclink&lt;/code&gt; (see &lt;code&gt;/verify&lt;/code&gt; above)&lt;/p&gt; &#xA;&lt;h3&gt;&lt;strong&gt;POST /recover&lt;/strong&gt;&lt;/h3&gt; &#xA;&lt;p&gt;Password recovery. Will deliver a password recovery mail to the user based on email address.&lt;/p&gt; &#xA;&lt;p&gt;By default recovery links can only be sent once every 60 seconds&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{&#xA;  &#34;email&#34;: &#34;email@example.com&#34;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Returns:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;&lt;strong&gt;POST /token&lt;/strong&gt;&lt;/h3&gt; &#xA;&lt;p&gt;This is an OAuth2 endpoint that currently implements the password and refresh_token grant types&lt;/p&gt; &#xA;&lt;p&gt;query params:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;?grant_type=password&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;body:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;// Email login&#xA;{&#xA;  &#34;email&#34;: &#34;name@domain.com&#34;,&#xA;  &#34;password&#34;: &#34;somepassword&#34;&#xA;}&#xA;&#xA;// Phone login&#xA;{&#xA;  &#34;phone&#34;: &#34;12345678&#34;,&#xA;  &#34;password&#34;: &#34;somepassword&#34;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;or&lt;/p&gt; &#xA;&lt;p&gt;query params:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;grant_type=refresh_token&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;body:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{&#xA;  &#34;refresh_token&#34;: &#34;a-refresh-token&#34;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Once you have an access token, you can access the methods requiring authentication by settings the &lt;code&gt;Authorization: Bearer YOUR_ACCESS_TOKEN_HERE&lt;/code&gt; header.&lt;/p&gt; &#xA;&lt;p&gt;Returns:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{&#xA;  &#34;access_token&#34;: &#34;jwt-token-representing-the-user&#34;,&#xA;  &#34;token_type&#34;: &#34;bearer&#34;,&#xA;  &#34;expires_in&#34;: 3600,&#xA;  &#34;refresh_token&#34;: &#34;a-refresh-token&#34;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;&lt;strong&gt;GET /user&lt;/strong&gt;&lt;/h3&gt; &#xA;&lt;p&gt;Get the JSON object for the logged in user (requires authentication)&lt;/p&gt; &#xA;&lt;p&gt;Returns:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{&#xA;  &#34;id&#34;: &#34;11111111-2222-3333-4444-5555555555555&#34;,&#xA;  &#34;email&#34;: &#34;email@example.com&#34;,&#xA;  &#34;confirmation_sent_at&#34;: &#34;2016-05-15T20:49:40.882805774-07:00&#34;,&#xA;  &#34;created_at&#34;: &#34;2016-05-15T19:53:12.368652374-07:00&#34;,&#xA;  &#34;updated_at&#34;: &#34;2016-05-15T19:53:12.368652374-07:00&#34;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;&lt;strong&gt;PUT /user&lt;/strong&gt;&lt;/h3&gt; &#xA;&lt;p&gt;Update a user (Requires authentication). Apart from changing email/password, this method can be used to set custom user data. Changing the email will result in a magiclink being sent out.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{&#xA;  &#34;email&#34;: &#34;new-email@example.com&#34;,&#xA;  &#34;password&#34;: &#34;new-password&#34;,&#xA;  &#34;phone&#34;: &#34;+123456789&#34;,&#xA;  &#34;data&#34;: {&#xA;    &#34;key&#34;: &#34;value&#34;,&#xA;    &#34;number&#34;: 10,&#xA;    &#34;admin&#34;: false&#xA;  }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Returns:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{&#xA;  &#34;id&#34;: &#34;11111111-2222-3333-4444-5555555555555&#34;,&#xA;  &#34;email&#34;: &#34;email@example.com&#34;,&#xA;  &#34;email_change_sent_at&#34;: &#34;2016-05-15T20:49:40.882805774-07:00&#34;,&#xA;  &#34;phone&#34;: &#34;+123456789&#34;,&#xA;  &#34;phone_change_sent_at&#34;: &#34;2016-05-15T20:49:40.882805774-07:00&#34;,&#xA;  &#34;created_at&#34;: &#34;2016-05-15T19:53:12.368652374-07:00&#34;,&#xA;  &#34;updated_at&#34;: &#34;2016-05-15T19:53:12.368652374-07:00&#34;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If &lt;code&gt;GOTRUE_SECURITY_UPDATE_PASSWORD_REQUIRE_REAUTHENTICATION&lt;/code&gt; is enabled, the user will need to reauthenticate first.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{&#xA;  &#34;password&#34;: &#34;new-password&#34;,&#xA;  &#34;nonce&#34;: &#34;123456&#34;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;&lt;strong&gt;GET /reauthenticate&lt;/strong&gt;&lt;/h3&gt; &#xA;&lt;p&gt;Sends a nonce to the user&#39;s email (preferred) or phone. This endpoint requires the user to be logged in / authenticated first. The user needs to have either an email or phone number for the nonce to be sent successfully.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;headers: {&#xA;  &#34;Authorization&#34; : &#34;Bearer eyJhbGciOiJI...M3A90LCkxxtX9oNP9KZO&#34;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;&lt;strong&gt;POST /logout&lt;/strong&gt;&lt;/h3&gt; &#xA;&lt;p&gt;Logout a user (Requires authentication).&lt;/p&gt; &#xA;&lt;p&gt;This will revoke all refresh tokens for the user. Remember that the JWT tokens will still be valid for stateless auth until they expires.&lt;/p&gt; &#xA;&lt;h3&gt;&lt;strong&gt;GET /authorize&lt;/strong&gt;&lt;/h3&gt; &#xA;&lt;p&gt;Get access_token from external oauth provider&lt;/p&gt; &#xA;&lt;p&gt;query params:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;provider=apple | azure | bitbucket | discord | facebook | figma | github | gitlab | google | keycloak | linkedin | notion | slack | spotify | twitch | twitter | workos&#xA;&#xA;scopes=&amp;lt;optional additional scopes depending on the provider (email and name are requested by default)&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Redirects to provider and then to &lt;code&gt;/callback&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;For apple specific setup see: &lt;a href=&#34;https://github.com/supabase/auth#apple-oauth&#34;&gt;https://github.com/supabase/auth#apple-oauth&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h3&gt;&lt;strong&gt;GET /callback&lt;/strong&gt;&lt;/h3&gt; &#xA;&lt;p&gt;External provider should redirect to here&lt;/p&gt; &#xA;&lt;p&gt;Redirects to &lt;code&gt;&amp;lt;GOTRUE_SITE_URL&amp;gt;#access_token=&amp;lt;access_token&amp;gt;&amp;amp;refresh_token=&amp;lt;refresh_token&amp;gt;&amp;amp;provider_token=&amp;lt;provider_oauth_token&amp;gt;&amp;amp;expires_in=3600&amp;amp;provider=&amp;lt;provider_name&amp;gt;&lt;/code&gt; If additional scopes were requested then &lt;code&gt;provider_token&lt;/code&gt; will be populated, you can use this to fetch additional data from the provider or interact with their services&lt;/p&gt;</summary>
  </entry>
</feed>