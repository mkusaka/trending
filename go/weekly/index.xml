<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Go Weekly Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2024-10-27T01:39:11Z</updated>
  <subtitle>Weekly Trending of Go in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>prometheus/node_exporter</title>
    <updated>2024-10-27T01:39:11Z</updated>
    <id>tag:github.com,2024-10-27:/prometheus/node_exporter</id>
    <link href="https://github.com/prometheus/node_exporter" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Exporter for machine metrics&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;Node exporter&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://circleci.com/gh/prometheus/node_exporter&#34;&gt;&lt;img src=&#34;https://circleci.com/gh/prometheus/node_exporter/tree/master.svg?style=shield&#34; alt=&#34;CircleCI&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://buildkite.com/prometheus/node-exporter&#34;&gt;&lt;img src=&#34;https://badge.buildkite.com/94a0c1fb00b1f46883219c256efe9ce01d63b6505f3a942f9b.svg?sanitize=true&#34; alt=&#34;Buildkite status&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://quay.io/repository/prometheus/node-exporter&#34;&gt;&lt;img src=&#34;https://quay.io/repository/prometheus/node-exporter/status&#34; alt=&#34;Docker Repository on Quay&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://hub.docker.com/r/prom/node-exporter/&#34;&gt;&lt;img src=&#34;https://img.shields.io/docker/pulls/prom/node-exporter.svg?maxAge=604800&#34; alt=&#34;Docker Pulls&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://goreportcard.com/report/github.com/prometheus/node_exporter&#34;&gt;&lt;img src=&#34;https://goreportcard.com/badge/github.com/prometheus/node_exporter&#34; alt=&#34;Go Report Card&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;Prometheus exporter for hardware and OS metrics exposed by *NIX kernels, written in Go with pluggable metric collectors.&lt;/p&gt; &#xA;&lt;p&gt;The &lt;a href=&#34;https://github.com/prometheus-community/windows_exporter&#34;&gt;Windows exporter&lt;/a&gt; is recommended for Windows users. To expose NVIDIA GPU metrics, &lt;a href=&#34;https://github.com/NVIDIA/dcgm-exporter&#34;&gt;prometheus-dcgm &lt;/a&gt; can be used.&lt;/p&gt; &#xA;&lt;h2&gt;Installation and Usage&lt;/h2&gt; &#xA;&lt;p&gt;If you are new to Prometheus and &lt;code&gt;node_exporter&lt;/code&gt; there is a &lt;a href=&#34;https://prometheus.io/docs/guides/node-exporter/&#34;&gt;simple step-by-step guide&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;The &lt;code&gt;node_exporter&lt;/code&gt; listens on HTTP port 9100 by default. See the &lt;code&gt;--help&lt;/code&gt; output for more options.&lt;/p&gt; &#xA;&lt;h3&gt;Ansible&lt;/h3&gt; &#xA;&lt;p&gt;For automated installs with &lt;a href=&#34;https://www.ansible.com/&#34;&gt;Ansible&lt;/a&gt;, there is the &lt;a href=&#34;https://github.com/prometheus-community/ansible&#34;&gt;Prometheus Community role&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h3&gt;Docker&lt;/h3&gt; &#xA;&lt;p&gt;The &lt;code&gt;node_exporter&lt;/code&gt; is designed to monitor the host system. Deploying in containers requires extra care in order to avoid monitoring the container itself.&lt;/p&gt; &#xA;&lt;p&gt;For situations where containerized deployment is needed, some extra flags must be used to allow the &lt;code&gt;node_exporter&lt;/code&gt; access to the host namespaces.&lt;/p&gt; &#xA;&lt;p&gt;Be aware that any non-root mount points you want to monitor will need to be bind-mounted into the container.&lt;/p&gt; &#xA;&lt;p&gt;If you start container for host monitoring, specify &lt;code&gt;path.rootfs&lt;/code&gt; argument. This argument must match path in bind-mount of host root. The node_exporter will use &lt;code&gt;path.rootfs&lt;/code&gt; as prefix to access host filesystem.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;docker run -d \&#xA;  --net=&#34;host&#34; \&#xA;  --pid=&#34;host&#34; \&#xA;  -v &#34;/:/host:ro,rslave&#34; \&#xA;  quay.io/prometheus/node-exporter:latest \&#xA;  --path.rootfs=/host&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;For Docker compose, similar flag changes are needed.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;---&#xA;version: &#39;3.8&#39;&#xA;&#xA;services:&#xA;  node_exporter:&#xA;    image: quay.io/prometheus/node-exporter:latest&#xA;    container_name: node_exporter&#xA;    command:&#xA;      - &#39;--path.rootfs=/host&#39;&#xA;    network_mode: host&#xA;    pid: host&#xA;    restart: unless-stopped&#xA;    volumes:&#xA;      - &#39;/:/host:ro,rslave&#39;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;On some systems, the &lt;code&gt;timex&lt;/code&gt; collector requires an additional Docker flag, &lt;code&gt;--cap-add=SYS_TIME&lt;/code&gt;, in order to access the required syscalls.&lt;/p&gt; &#xA;&lt;h2&gt;Collectors&lt;/h2&gt; &#xA;&lt;p&gt;There is varying support for collectors on each operating system. The tables below list all existing collectors and the supported systems.&lt;/p&gt; &#xA;&lt;p&gt;Collectors are enabled by providing a &lt;code&gt;--collector.&amp;lt;name&amp;gt;&lt;/code&gt; flag. Collectors that are enabled by default can be disabled by providing a &lt;code&gt;--no-collector.&amp;lt;name&amp;gt;&lt;/code&gt; flag. To enable only some specific collector(s), use &lt;code&gt;--collector.disable-defaults --collector.&amp;lt;name&amp;gt; ...&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h3&gt;Include &amp;amp; Exclude flags&lt;/h3&gt; &#xA;&lt;p&gt;A few collectors can be configured to include or exclude certain patterns using dedicated flags. The exclude flags are used to indicate &#34;all except&#34;, while the include flags are used to say &#34;none except&#34;. Note that these flags are mutually exclusive on collectors that support both.&lt;/p&gt; &#xA;&lt;p&gt;Example:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-txt&#34;&gt;--collector.filesystem.mount-points-exclude=^/(dev|proc|sys|var/lib/docker/.+|var/lib/kubelet/.+)($|/)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;List:&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Collector&lt;/th&gt; &#xA;   &lt;th&gt;Scope&lt;/th&gt; &#xA;   &lt;th&gt;Include Flag&lt;/th&gt; &#xA;   &lt;th&gt;Exclude Flag&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;arp&lt;/td&gt; &#xA;   &lt;td&gt;device&lt;/td&gt; &#xA;   &lt;td&gt;--collector.arp.device-include&lt;/td&gt; &#xA;   &lt;td&gt;--collector.arp.device-exclude&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;cpu&lt;/td&gt; &#xA;   &lt;td&gt;bugs&lt;/td&gt; &#xA;   &lt;td&gt;--collector.cpu.info.bugs-include&lt;/td&gt; &#xA;   &lt;td&gt;N/A&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;cpu&lt;/td&gt; &#xA;   &lt;td&gt;flags&lt;/td&gt; &#xA;   &lt;td&gt;--collector.cpu.info.flags-include&lt;/td&gt; &#xA;   &lt;td&gt;N/A&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;diskstats&lt;/td&gt; &#xA;   &lt;td&gt;device&lt;/td&gt; &#xA;   &lt;td&gt;--collector.diskstats.device-include&lt;/td&gt; &#xA;   &lt;td&gt;--collector.diskstats.device-exclude&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;ethtool&lt;/td&gt; &#xA;   &lt;td&gt;device&lt;/td&gt; &#xA;   &lt;td&gt;--collector.ethtool.device-include&lt;/td&gt; &#xA;   &lt;td&gt;--collector.ethtool.device-exclude&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;ethtool&lt;/td&gt; &#xA;   &lt;td&gt;metrics&lt;/td&gt; &#xA;   &lt;td&gt;--collector.ethtool.metrics-include&lt;/td&gt; &#xA;   &lt;td&gt;N/A&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;filesystem&lt;/td&gt; &#xA;   &lt;td&gt;fs-types&lt;/td&gt; &#xA;   &lt;td&gt;N/A&lt;/td&gt; &#xA;   &lt;td&gt;--collector.filesystem.fs-types-exclude&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;filesystem&lt;/td&gt; &#xA;   &lt;td&gt;mount-points&lt;/td&gt; &#xA;   &lt;td&gt;N/A&lt;/td&gt; &#xA;   &lt;td&gt;--collector.filesystem.mount-points-exclude&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;hwmon&lt;/td&gt; &#xA;   &lt;td&gt;chip&lt;/td&gt; &#xA;   &lt;td&gt;--collector.hwmon.chip-include&lt;/td&gt; &#xA;   &lt;td&gt;--collector.hwmon.chip-exclude&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;hwmon&lt;/td&gt; &#xA;   &lt;td&gt;sensor&lt;/td&gt; &#xA;   &lt;td&gt;--collector.hwmon.sensor-include&lt;/td&gt; &#xA;   &lt;td&gt;--collector.hwmon.sensor-exclude&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;interrupts&lt;/td&gt; &#xA;   &lt;td&gt;name&lt;/td&gt; &#xA;   &lt;td&gt;--collector.interrupts.name-include&lt;/td&gt; &#xA;   &lt;td&gt;--collector.interrupts.name-exclude&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;netdev&lt;/td&gt; &#xA;   &lt;td&gt;device&lt;/td&gt; &#xA;   &lt;td&gt;--collector.netdev.device-include&lt;/td&gt; &#xA;   &lt;td&gt;--collector.netdev.device-exclude&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;qdisk&lt;/td&gt; &#xA;   &lt;td&gt;device&lt;/td&gt; &#xA;   &lt;td&gt;--collector.qdisk.device-include&lt;/td&gt; &#xA;   &lt;td&gt;--collector.qdisk.device-exclude&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;slabinfo&lt;/td&gt; &#xA;   &lt;td&gt;slab-names&lt;/td&gt; &#xA;   &lt;td&gt;--collector.slabinfo.slabs-include&lt;/td&gt; &#xA;   &lt;td&gt;--collector.slabinfo.slabs-exclude&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;sysctl&lt;/td&gt; &#xA;   &lt;td&gt;all&lt;/td&gt; &#xA;   &lt;td&gt;--collector.sysctl.include&lt;/td&gt; &#xA;   &lt;td&gt;N/A&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;systemd&lt;/td&gt; &#xA;   &lt;td&gt;unit&lt;/td&gt; &#xA;   &lt;td&gt;--collector.systemd.unit-include&lt;/td&gt; &#xA;   &lt;td&gt;--collector.systemd.unit-exclude&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;h3&gt;Enabled by default&lt;/h3&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Name&lt;/th&gt; &#xA;   &lt;th&gt;Description&lt;/th&gt; &#xA;   &lt;th&gt;OS&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;arp&lt;/td&gt; &#xA;   &lt;td&gt;Exposes ARP statistics from &lt;code&gt;/proc/net/arp&lt;/code&gt;.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;bcache&lt;/td&gt; &#xA;   &lt;td&gt;Exposes bcache statistics from &lt;code&gt;/sys/fs/bcache/&lt;/code&gt;.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;bonding&lt;/td&gt; &#xA;   &lt;td&gt;Exposes the number of configured and active slaves of Linux bonding interfaces.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;btrfs&lt;/td&gt; &#xA;   &lt;td&gt;Exposes btrfs statistics&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;boottime&lt;/td&gt; &#xA;   &lt;td&gt;Exposes system boot time derived from the &lt;code&gt;kern.boottime&lt;/code&gt; sysctl.&lt;/td&gt; &#xA;   &lt;td&gt;Darwin, Dragonfly, FreeBSD, NetBSD, OpenBSD, Solaris&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;conntrack&lt;/td&gt; &#xA;   &lt;td&gt;Shows conntrack statistics (does nothing if no &lt;code&gt;/proc/sys/net/netfilter/&lt;/code&gt; present).&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;cpu&lt;/td&gt; &#xA;   &lt;td&gt;Exposes CPU statistics&lt;/td&gt; &#xA;   &lt;td&gt;Darwin, Dragonfly, FreeBSD, Linux, Solaris, OpenBSD&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;cpufreq&lt;/td&gt; &#xA;   &lt;td&gt;Exposes CPU frequency statistics&lt;/td&gt; &#xA;   &lt;td&gt;Linux, Solaris&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;diskstats&lt;/td&gt; &#xA;   &lt;td&gt;Exposes disk I/O statistics.&lt;/td&gt; &#xA;   &lt;td&gt;Darwin, Linux, OpenBSD&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;dmi&lt;/td&gt; &#xA;   &lt;td&gt;Expose Desktop Management Interface (DMI) info from &lt;code&gt;/sys/class/dmi/id/&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;edac&lt;/td&gt; &#xA;   &lt;td&gt;Exposes error detection and correction statistics.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;entropy&lt;/td&gt; &#xA;   &lt;td&gt;Exposes available entropy.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;exec&lt;/td&gt; &#xA;   &lt;td&gt;Exposes execution statistics.&lt;/td&gt; &#xA;   &lt;td&gt;Dragonfly, FreeBSD&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;fibrechannel&lt;/td&gt; &#xA;   &lt;td&gt;Exposes fibre channel information and statistics from &lt;code&gt;/sys/class/fc_host/&lt;/code&gt;.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;filefd&lt;/td&gt; &#xA;   &lt;td&gt;Exposes file descriptor statistics from &lt;code&gt;/proc/sys/fs/file-nr&lt;/code&gt;.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;filesystem&lt;/td&gt; &#xA;   &lt;td&gt;Exposes filesystem statistics, such as disk space used.&lt;/td&gt; &#xA;   &lt;td&gt;Darwin, Dragonfly, FreeBSD, Linux, OpenBSD&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;hwmon&lt;/td&gt; &#xA;   &lt;td&gt;Expose hardware monitoring and sensor data from &lt;code&gt;/sys/class/hwmon/&lt;/code&gt;.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;infiniband&lt;/td&gt; &#xA;   &lt;td&gt;Exposes network statistics specific to InfiniBand and Intel OmniPath configurations.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;ipvs&lt;/td&gt; &#xA;   &lt;td&gt;Exposes IPVS status from &lt;code&gt;/proc/net/ip_vs&lt;/code&gt; and stats from &lt;code&gt;/proc/net/ip_vs_stats&lt;/code&gt;.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;loadavg&lt;/td&gt; &#xA;   &lt;td&gt;Exposes load average.&lt;/td&gt; &#xA;   &lt;td&gt;Darwin, Dragonfly, FreeBSD, Linux, NetBSD, OpenBSD, Solaris&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;mdadm&lt;/td&gt; &#xA;   &lt;td&gt;Exposes statistics about devices in &lt;code&gt;/proc/mdstat&lt;/code&gt; (does nothing if no &lt;code&gt;/proc/mdstat&lt;/code&gt; present).&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;meminfo&lt;/td&gt; &#xA;   &lt;td&gt;Exposes memory statistics.&lt;/td&gt; &#xA;   &lt;td&gt;Darwin, Dragonfly, FreeBSD, Linux, OpenBSD&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;netclass&lt;/td&gt; &#xA;   &lt;td&gt;Exposes network interface info from &lt;code&gt;/sys/class/net/&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;netdev&lt;/td&gt; &#xA;   &lt;td&gt;Exposes network interface statistics such as bytes transferred.&lt;/td&gt; &#xA;   &lt;td&gt;Darwin, Dragonfly, FreeBSD, Linux, OpenBSD&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;netisr&lt;/td&gt; &#xA;   &lt;td&gt;Exposes netisr statistics&lt;/td&gt; &#xA;   &lt;td&gt;FreeBSD&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;netstat&lt;/td&gt; &#xA;   &lt;td&gt;Exposes network statistics from &lt;code&gt;/proc/net/netstat&lt;/code&gt;. This is the same information as &lt;code&gt;netstat -s&lt;/code&gt;.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;nfs&lt;/td&gt; &#xA;   &lt;td&gt;Exposes NFS client statistics from &lt;code&gt;/proc/net/rpc/nfs&lt;/code&gt;. This is the same information as &lt;code&gt;nfsstat -c&lt;/code&gt;.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;nfsd&lt;/td&gt; &#xA;   &lt;td&gt;Exposes NFS kernel server statistics from &lt;code&gt;/proc/net/rpc/nfsd&lt;/code&gt;. This is the same information as &lt;code&gt;nfsstat -s&lt;/code&gt;.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;nvme&lt;/td&gt; &#xA;   &lt;td&gt;Exposes NVMe info from &lt;code&gt;/sys/class/nvme/&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;os&lt;/td&gt; &#xA;   &lt;td&gt;Expose OS release info from &lt;code&gt;/etc/os-release&lt;/code&gt; or &lt;code&gt;/usr/lib/os-release&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;em&gt;any&lt;/em&gt;&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;powersupplyclass&lt;/td&gt; &#xA;   &lt;td&gt;Exposes Power Supply statistics from &lt;code&gt;/sys/class/power_supply&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;pressure&lt;/td&gt; &#xA;   &lt;td&gt;Exposes pressure stall statistics from &lt;code&gt;/proc/pressure/&lt;/code&gt;.&lt;/td&gt; &#xA;   &lt;td&gt;Linux (kernel 4.20+ and/or &lt;a href=&#34;https://www.kernel.org/doc/html/latest/accounting/psi.html&#34;&gt;CONFIG_PSI&lt;/a&gt;)&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;rapl&lt;/td&gt; &#xA;   &lt;td&gt;Exposes various statistics from &lt;code&gt;/sys/class/powercap&lt;/code&gt;.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;schedstat&lt;/td&gt; &#xA;   &lt;td&gt;Exposes task scheduler statistics from &lt;code&gt;/proc/schedstat&lt;/code&gt;.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;selinux&lt;/td&gt; &#xA;   &lt;td&gt;Exposes SELinux statistics.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;sockstat&lt;/td&gt; &#xA;   &lt;td&gt;Exposes various statistics from &lt;code&gt;/proc/net/sockstat&lt;/code&gt;.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;softnet&lt;/td&gt; &#xA;   &lt;td&gt;Exposes statistics from &lt;code&gt;/proc/net/softnet_stat&lt;/code&gt;.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;stat&lt;/td&gt; &#xA;   &lt;td&gt;Exposes various statistics from &lt;code&gt;/proc/stat&lt;/code&gt;. This includes boot time, forks and interrupts.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;tapestats&lt;/td&gt; &#xA;   &lt;td&gt;Exposes statistics from &lt;code&gt;/sys/class/scsi_tape&lt;/code&gt;.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;textfile&lt;/td&gt; &#xA;   &lt;td&gt;Exposes statistics read from local disk. The &lt;code&gt;--collector.textfile.directory&lt;/code&gt; flag must be set.&lt;/td&gt; &#xA;   &lt;td&gt;&lt;em&gt;any&lt;/em&gt;&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;thermal&lt;/td&gt; &#xA;   &lt;td&gt;Exposes thermal statistics like &lt;code&gt;pmset -g therm&lt;/code&gt;.&lt;/td&gt; &#xA;   &lt;td&gt;Darwin&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;thermal_zone&lt;/td&gt; &#xA;   &lt;td&gt;Exposes thermal zone &amp;amp; cooling device statistics from &lt;code&gt;/sys/class/thermal&lt;/code&gt;.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;time&lt;/td&gt; &#xA;   &lt;td&gt;Exposes the current system time.&lt;/td&gt; &#xA;   &lt;td&gt;&lt;em&gt;any&lt;/em&gt;&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;timex&lt;/td&gt; &#xA;   &lt;td&gt;Exposes selected adjtimex(2) system call stats.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;udp_queues&lt;/td&gt; &#xA;   &lt;td&gt;Exposes UDP total lengths of the rx_queue and tx_queue from &lt;code&gt;/proc/net/udp&lt;/code&gt; and &lt;code&gt;/proc/net/udp6&lt;/code&gt;.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;uname&lt;/td&gt; &#xA;   &lt;td&gt;Exposes system information as provided by the uname system call.&lt;/td&gt; &#xA;   &lt;td&gt;Darwin, FreeBSD, Linux, OpenBSD&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;vmstat&lt;/td&gt; &#xA;   &lt;td&gt;Exposes statistics from &lt;code&gt;/proc/vmstat&lt;/code&gt;.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;watchdog&lt;/td&gt; &#xA;   &lt;td&gt;Exposes statistics from &lt;code&gt;/sys/class/watchdog&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;xfs&lt;/td&gt; &#xA;   &lt;td&gt;Exposes XFS runtime statistics.&lt;/td&gt; &#xA;   &lt;td&gt;Linux (kernel 4.4+)&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;zfs&lt;/td&gt; &#xA;   &lt;td&gt;Exposes &lt;a href=&#34;http://open-zfs.org/&#34;&gt;ZFS&lt;/a&gt; performance statistics.&lt;/td&gt; &#xA;   &lt;td&gt;FreeBSD, &lt;a href=&#34;http://zfsonlinux.org/&#34;&gt;Linux&lt;/a&gt;, Solaris&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;h3&gt;Disabled by default&lt;/h3&gt; &#xA;&lt;p&gt;&lt;code&gt;node_exporter&lt;/code&gt; also implements a number of collectors that are disabled by default. Reasons for this vary by collector, and may include:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;High cardinality&lt;/li&gt; &#xA; &lt;li&gt;Prolonged runtime that exceeds the Prometheus &lt;code&gt;scrape_interval&lt;/code&gt; or &lt;code&gt;scrape_timeout&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;Significant resource demands on the host&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;You can enable additional collectors as desired by adding them to your init system&#39;s or service supervisor&#39;s startup configuration for &lt;code&gt;node_exporter&lt;/code&gt; but caution is advised. Enable at most one at a time, testing first on a non-production system, then by hand on a single production node. When enabling additional collectors, you should carefully monitor the change by observing the &lt;code&gt; scrape_duration_seconds&lt;/code&gt; metric to ensure that collection completes and does not time out. In addition, monitor the &lt;code&gt;scrape_samples_post_metric_relabeling&lt;/code&gt; metric to see the changes in cardinality.&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Name&lt;/th&gt; &#xA;   &lt;th&gt;Description&lt;/th&gt; &#xA;   &lt;th&gt;OS&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;buddyinfo&lt;/td&gt; &#xA;   &lt;td&gt;Exposes statistics of memory fragments as reported by /proc/buddyinfo.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;cgroups&lt;/td&gt; &#xA;   &lt;td&gt;A summary of the number of active and enabled cgroups&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;cpu_vulnerabilities&lt;/td&gt; &#xA;   &lt;td&gt;Exposes CPU vulnerability information from sysfs.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;devstat&lt;/td&gt; &#xA;   &lt;td&gt;Exposes device statistics&lt;/td&gt; &#xA;   &lt;td&gt;Dragonfly, FreeBSD&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;drm&lt;/td&gt; &#xA;   &lt;td&gt;Expose GPU metrics using sysfs / DRM, &lt;code&gt;amdgpu&lt;/code&gt; is the only driver which exposes this information through DRM&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;drbd&lt;/td&gt; &#xA;   &lt;td&gt;Exposes Distributed Replicated Block Device statistics (to version 8.4)&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;ethtool&lt;/td&gt; &#xA;   &lt;td&gt;Exposes network interface information and network driver statistics equivalent to &lt;code&gt;ethtool&lt;/code&gt;, &lt;code&gt;ethtool -S&lt;/code&gt;, and &lt;code&gt;ethtool -i&lt;/code&gt;.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;interrupts&lt;/td&gt; &#xA;   &lt;td&gt;Exposes detailed interrupts statistics.&lt;/td&gt; &#xA;   &lt;td&gt;Linux, OpenBSD&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;ksmd&lt;/td&gt; &#xA;   &lt;td&gt;Exposes kernel and system statistics from &lt;code&gt;/sys/kernel/mm/ksm&lt;/code&gt;.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;lnstat&lt;/td&gt; &#xA;   &lt;td&gt;Exposes stats from &lt;code&gt;/proc/net/stat/&lt;/code&gt;.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;logind&lt;/td&gt; &#xA;   &lt;td&gt;Exposes session counts from &lt;a href=&#34;http://www.freedesktop.org/wiki/Software/systemd/logind/&#34;&gt;logind&lt;/a&gt;.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;meminfo_numa&lt;/td&gt; &#xA;   &lt;td&gt;Exposes memory statistics from &lt;code&gt;/sys/devices/system/node/node[0-9]*/meminfo&lt;/code&gt;, &lt;code&gt;/sys/devices/system/node/node[0-9]*/numastat&lt;/code&gt;.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;mountstats&lt;/td&gt; &#xA;   &lt;td&gt;Exposes filesystem statistics from &lt;code&gt;/proc/self/mountstats&lt;/code&gt;. Exposes detailed NFS client statistics.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;network_route&lt;/td&gt; &#xA;   &lt;td&gt;Exposes the routing table as metrics&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;perf&lt;/td&gt; &#xA;   &lt;td&gt;Exposes perf based metrics (Warning: Metrics are dependent on kernel configuration and settings).&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;processes&lt;/td&gt; &#xA;   &lt;td&gt;Exposes aggregate process statistics from &lt;code&gt;/proc&lt;/code&gt;.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;qdisc&lt;/td&gt; &#xA;   &lt;td&gt;Exposes &lt;a href=&#34;https://en.wikipedia.org/wiki/Network_scheduler#Linux_kernel&#34;&gt;queuing discipline&lt;/a&gt; statistics&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;slabinfo&lt;/td&gt; &#xA;   &lt;td&gt;Exposes slab statistics from &lt;code&gt;/proc/slabinfo&lt;/code&gt;. Note that permission of &lt;code&gt;/proc/slabinfo&lt;/code&gt; is usually 0400, so set it appropriately.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;softirqs&lt;/td&gt; &#xA;   &lt;td&gt;Exposes detailed softirq statistics from &lt;code&gt;/proc/softirqs&lt;/code&gt;.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;sysctl&lt;/td&gt; &#xA;   &lt;td&gt;Expose sysctl values from &lt;code&gt;/proc/sys&lt;/code&gt;. Use &lt;code&gt;--collector.sysctl.include(-info)&lt;/code&gt; to configure.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;systemd&lt;/td&gt; &#xA;   &lt;td&gt;Exposes service and system status from &lt;a href=&#34;http://www.freedesktop.org/wiki/Software/systemd/&#34;&gt;systemd&lt;/a&gt;.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;tcpstat&lt;/td&gt; &#xA;   &lt;td&gt;Exposes TCP connection status information from &lt;code&gt;/proc/net/tcp&lt;/code&gt; and &lt;code&gt;/proc/net/tcp6&lt;/code&gt;. (Warning: the current version has potential performance issues in high load situations.)&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;wifi&lt;/td&gt; &#xA;   &lt;td&gt;Exposes WiFi device and station statistics.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;xfrm&lt;/td&gt; &#xA;   &lt;td&gt;Exposes statistics from &lt;code&gt;/proc/net/xfrm_stat&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;zoneinfo&lt;/td&gt; &#xA;   &lt;td&gt;Exposes NUMA memory zone metrics.&lt;/td&gt; &#xA;   &lt;td&gt;Linux&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;h3&gt;Deprecated&lt;/h3&gt; &#xA;&lt;p&gt;These collectors are deprecated and will be removed in the next major release.&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Name&lt;/th&gt; &#xA;   &lt;th&gt;Description&lt;/th&gt; &#xA;   &lt;th&gt;OS&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;ntp&lt;/td&gt; &#xA;   &lt;td&gt;Exposes local NTP daemon health to check &lt;a href=&#34;https://raw.githubusercontent.com/prometheus/node_exporter/master/docs/TIME.md&#34;&gt;time&lt;/a&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;em&gt;any&lt;/em&gt;&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;runit&lt;/td&gt; &#xA;   &lt;td&gt;Exposes service status from &lt;a href=&#34;http://smarden.org/runit/&#34;&gt;runit&lt;/a&gt;.&lt;/td&gt; &#xA;   &lt;td&gt;&lt;em&gt;any&lt;/em&gt;&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;supervisord&lt;/td&gt; &#xA;   &lt;td&gt;Exposes service status from &lt;a href=&#34;http://supervisord.org/&#34;&gt;supervisord&lt;/a&gt;.&lt;/td&gt; &#xA;   &lt;td&gt;&lt;em&gt;any&lt;/em&gt;&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;h3&gt;Perf Collector&lt;/h3&gt; &#xA;&lt;p&gt;The &lt;code&gt;perf&lt;/code&gt; collector may not work out of the box on some Linux systems due to kernel configuration and security settings. To allow access, set the following &lt;code&gt;sysctl&lt;/code&gt; parameter:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;sysctl -w kernel.perf_event_paranoid=X&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;2 allow only user-space measurements (default since Linux 4.6).&lt;/li&gt; &#xA; &lt;li&gt;1 allow both kernel and user measurements (default before Linux 4.6).&lt;/li&gt; &#xA; &lt;li&gt;0 allow access to CPU-specific data but not raw tracepoint samples.&lt;/li&gt; &#xA; &lt;li&gt;-1 no restrictions.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Depending on the configured value different metrics will be available, for most cases &lt;code&gt;0&lt;/code&gt; will provide the most complete set. For more information see &lt;a href=&#34;http://man7.org/linux/man-pages/man2/perf_event_open.2.html&#34;&gt;&lt;code&gt;man 2 perf_event_open&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;By default, the &lt;code&gt;perf&lt;/code&gt; collector will only collect metrics of the CPUs that &lt;code&gt;node_exporter&lt;/code&gt; is running on (ie &lt;a href=&#34;https://golang.org/pkg/runtime/#NumCPU&#34;&gt;&lt;code&gt;runtime.NumCPU&lt;/code&gt;&lt;/a&gt;. If this is insufficient (e.g. if you run &lt;code&gt;node_exporter&lt;/code&gt; with its CPU affinity set to specific CPUs), you can specify a list of alternate CPUs by using the &lt;code&gt;--collector.perf.cpus&lt;/code&gt; flag. For example, to collect metrics on CPUs 2-6, you would specify: &lt;code&gt;--collector.perf --collector.perf.cpus=2-6&lt;/code&gt;. The CPU configuration is zero indexed and can also take a stride value; e.g. &lt;code&gt;--collector.perf --collector.perf.cpus=1-10:5&lt;/code&gt; would collect on CPUs 1, 5, and 10.&lt;/p&gt; &#xA;&lt;p&gt;The &lt;code&gt;perf&lt;/code&gt; collector is also able to collect &lt;a href=&#34;https://www.kernel.org/doc/html/latest/core-api/tracepoint.html&#34;&gt;tracepoint&lt;/a&gt; counts when using the &lt;code&gt;--collector.perf.tracepoint&lt;/code&gt; flag. Tracepoints can be found using &lt;a href=&#34;http://man7.org/linux/man-pages/man1/perf.1.html&#34;&gt;&lt;code&gt;perf list&lt;/code&gt;&lt;/a&gt; or from debugfs. And example usage of this would be &lt;code&gt;--collector.perf.tracepoint=&#34;sched:sched_process_exec&#34;&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h3&gt;Sysctl Collector&lt;/h3&gt; &#xA;&lt;p&gt;The &lt;code&gt;sysctl&lt;/code&gt; collector can be enabled with &lt;code&gt;--collector.sysctl&lt;/code&gt;. It supports exposing numeric sysctl values as metrics using the &lt;code&gt;--collector.sysctl.include&lt;/code&gt; flag and string values as info metrics by using the &lt;code&gt;--collector.sysctl.include-info&lt;/code&gt; flag. The flags can be repeated. For sysctl with multiple numeric values, an optional mapping can be given to expose each value as its own metric. Otherwise an &lt;code&gt;index&lt;/code&gt; label is used to identify the different fields.&lt;/p&gt; &#xA;&lt;h4&gt;Examples&lt;/h4&gt; &#xA;&lt;h5&gt;Numeric values&lt;/h5&gt; &#xA;&lt;h6&gt;Single values&lt;/h6&gt; &#xA;&lt;p&gt;Using &lt;code&gt;--collector.sysctl.include=vm.user_reserve_kbytes&lt;/code&gt;: &lt;code&gt;vm.user_reserve_kbytes = 131072&lt;/code&gt; -&amp;gt; &lt;code&gt;node_sysctl_vm_user_reserve_kbytes 131072&lt;/code&gt;&lt;/p&gt; &#xA;&lt;h6&gt;Multiple values&lt;/h6&gt; &#xA;&lt;p&gt;A sysctl can contain multiple values, for example:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;net.ipv4.tcp_rmem = 4096&#x9;131072&#x9;6291456&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Using &lt;code&gt;--collector.sysctl.include=net.ipv4.tcp_rmem&lt;/code&gt; the collector will expose:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;node_sysctl_net_ipv4_tcp_rmem{index=&#34;0&#34;} 4096&#xA;node_sysctl_net_ipv4_tcp_rmem{index=&#34;1&#34;} 131072&#xA;node_sysctl_net_ipv4_tcp_rmem{index=&#34;2&#34;} 6291456&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If the indexes have defined meaning like in this case, the values can be mapped to multiple metrics by appending the mapping to the --collector.sysctl.include flag: Using &lt;code&gt;--collector.sysctl.include=net.ipv4.tcp_rmem:min,default,max&lt;/code&gt; the collector will expose:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;node_sysctl_net_ipv4_tcp_rmem_min 4096&#xA;node_sysctl_net_ipv4_tcp_rmem_default 131072&#xA;node_sysctl_net_ipv4_tcp_rmem_max 6291456&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h5&gt;String values&lt;/h5&gt; &#xA;&lt;p&gt;String values need to be exposed as info metric. The user selects them by using the &lt;code&gt;--collector.sysctl.include-info&lt;/code&gt; flag.&lt;/p&gt; &#xA;&lt;h6&gt;Single values&lt;/h6&gt; &#xA;&lt;p&gt;&lt;code&gt;kernel.core_pattern = core&lt;/code&gt; -&amp;gt; &lt;code&gt;node_sysctl_info{key=&#34;kernel.core_pattern_info&#34;, value=&#34;core&#34;} 1&lt;/code&gt;&lt;/p&gt; &#xA;&lt;h6&gt;Multiple values&lt;/h6&gt; &#xA;&lt;p&gt;Given the following sysctl:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;kernel.seccomp.actions_avail = kill_process kill_thread trap errno trace log allow&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Setting &lt;code&gt;--collector.sysctl.include-info=kernel.seccomp.actions_avail&lt;/code&gt; will yield:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;node_sysctl_info{key=&#34;kernel.seccomp.actions_avail&#34;, index=&#34;0&#34;, value=&#34;kill_process&#34;} 1&#xA;node_sysctl_info{key=&#34;kernel.seccomp.actions_avail&#34;, index=&#34;1&#34;, value=&#34;kill_thread&#34;} 1&#xA;...&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Textfile Collector&lt;/h3&gt; &#xA;&lt;p&gt;The &lt;code&gt;textfile&lt;/code&gt; collector is similar to the &lt;a href=&#34;https://github.com/prometheus/pushgateway&#34;&gt;Pushgateway&lt;/a&gt;, in that it allows exporting of statistics from batch jobs. It can also be used to export static metrics, such as what role a machine has. The Pushgateway should be used for service-level metrics. The &lt;code&gt;textfile&lt;/code&gt; module is for metrics that are tied to a machine.&lt;/p&gt; &#xA;&lt;p&gt;To use it, set the &lt;code&gt;--collector.textfile.directory&lt;/code&gt; flag on the &lt;code&gt;node_exporter&lt;/code&gt; commandline. The collector will parse all files in that directory matching the glob &lt;code&gt;*.prom&lt;/code&gt; using the &lt;a href=&#34;http://prometheus.io/docs/instrumenting/exposition_formats/&#34;&gt;text format&lt;/a&gt;. &lt;strong&gt;Note:&lt;/strong&gt; Timestamps are not supported.&lt;/p&gt; &#xA;&lt;p&gt;To atomically push completion time for a cron job:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;echo my_batch_job_completion_time $(date +%s) &amp;gt; /path/to/directory/my_batch_job.prom.$$&#xA;mv /path/to/directory/my_batch_job.prom.$$ /path/to/directory/my_batch_job.prom&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To statically set roles for a machine using labels:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;echo &#39;role{role=&#34;application_server&#34;} 1&#39; &amp;gt; /path/to/directory/role.prom.$$&#xA;mv /path/to/directory/role.prom.$$ /path/to/directory/role.prom&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Filtering enabled collectors&lt;/h3&gt; &#xA;&lt;p&gt;The &lt;code&gt;node_exporter&lt;/code&gt; will expose all metrics from enabled collectors by default. This is the recommended way to collect metrics to avoid errors when comparing metrics of different families.&lt;/p&gt; &#xA;&lt;p&gt;For advanced use the &lt;code&gt;node_exporter&lt;/code&gt; can be passed an optional list of collectors to filter metrics. The parameters &lt;code&gt;collect[]&lt;/code&gt; and &lt;code&gt;exclude[]&lt;/code&gt; can be used multiple times (but cannot be combined). In Prometheus configuration you can use this syntax under the &lt;a href=&#34;https://prometheus.io/docs/prometheus/latest/configuration/configuration/#%3Cscrape_config%3E&#34;&gt;scrape config&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;Collect only &lt;code&gt;cpu&lt;/code&gt; and &lt;code&gt;meminfo&lt;/code&gt; collector metrics:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;  params:&#xA;    collect[]:&#xA;      - cpu&#xA;      - meminfo&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Collect all enabled collector metrics but exclude &lt;code&gt;netdev&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;  params:&#xA;    exclude[]:&#xA;      - netdev&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;This can be useful for having different Prometheus servers collect specific metrics from nodes.&lt;/p&gt; &#xA;&lt;h2&gt;Development building and running&lt;/h2&gt; &#xA;&lt;p&gt;Prerequisites:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://golang.org/dl/&#34;&gt;Go compiler&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;RHEL/CentOS: &lt;code&gt;glibc-static&lt;/code&gt; package.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Building:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;git clone https://github.com/prometheus/node_exporter.git&#xA;cd node_exporter&#xA;make build&#xA;./node_exporter &amp;lt;flags&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To see all available configuration flags:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;./node_exporter -h&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Running tests&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code&gt;make test&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;TLS endpoint&lt;/h2&gt; &#xA;&lt;p&gt;&lt;strong&gt;EXPERIMENTAL&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;The exporter supports TLS via a new web configuration file.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;./node_exporter --web.config.file=web-config.yml&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;See the &lt;a href=&#34;https://github.com/prometheus/exporter-toolkit/raw/master/docs/web-configuration.md&#34;&gt;exporter-toolkit web-configuration&lt;/a&gt; for more details.&lt;/p&gt;</summary>
  </entry>
  <entry>
    <title>akuity/kargo</title>
    <updated>2024-10-27T01:39:11Z</updated>
    <id>tag:github.com,2024-10-27:/akuity/kargo</id>
    <link href="https://github.com/akuity/kargo" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Application lifecycle orchestration&lt;/p&gt;&lt;hr&gt;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/akuity/kargo/main/ui/public/kargo-logo-white.png#gh-dark-mode-only&#34; alt=&#34;Kargo by Akuity, creators of Argo&#34;&gt; &lt;img src=&#34;https://raw.githubusercontent.com/akuity/kargo/main/kargo-logo.png#gh-light-mode-only&#34; alt=&#34;Kargo by Akuity, creators of Argo&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://github.com/akuity/kargo/actions/workflows/ci.yaml/badge.svg?sanitize=true&#34; alt=&#34;CI&#34;&gt; &lt;a href=&#34;https://codecov.io/gh/akuity/kargo&#34;&gt;&lt;img src=&#34;https://codecov.io/gh/akuity/kargo/branch/main/graph/badge.svg?token=FGUq4netA6&#34; alt=&#34;codecov&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://app.netlify.com/sites/docs-kargo-io/deploys&#34;&gt;&lt;img src=&#34;https://api.netlify.com/api/v1/badges/71b4c2e1-5e8b-4927-ad1f-b475bae59e90/deploy-status&#34; alt=&#34;Netlify Status&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://raw.githubusercontent.com/akuity/kargo/main/CODE_OF_CONDUCT.md&#34;&gt;&lt;img src=&#34;https://img.shields.io/badge/Contributor%20Covenant-2.1-4baaaa.svg?sanitize=true&#34; alt=&#34;Contributor Covenant&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://akuity.community&#34;&gt;&lt;img src=&#34;https://img.shields.io/discord/1138942074998235187?logo=discord&amp;amp;logoColor=ffffff&amp;amp;label=discord&#34; alt=&#34;Discord&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;Kargo is a next-generation continuous delivery and application lifecycle orchestration platform for Kubernetes. It builds upon &lt;a href=&#34;https://opengitops.dev/&#34;&gt;GitOps&lt;/a&gt; principles and integrates with existing technologies, like &lt;a href=&#34;https://argoproj.github.io/cd/&#34;&gt;Argo CD&lt;/a&gt;, to streamline and automate the progressive rollout of changes across the many stages of an application&#39;s lifecycle.&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/akuity/kargo/main/docs/static/img/screenshot.png&#34; alt=&#34;Screenshot&#34;&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Getting Started&lt;/h2&gt; &#xA;&lt;p&gt;Read more about Kargo in our &lt;a href=&#34;https://docs.kargo.io&#34;&gt;docs&lt;/a&gt; or get hands-on right away by following our &lt;a href=&#34;https://docs.kargo.io/quickstart&#34;&gt;Quickstart documentation&lt;/a&gt; or watch the &lt;em&gt;Multi-Stage Deployment Pipelines the GitOps Way&lt;/em&gt; talk by Jesse Suen &amp;amp; Kent Rancourt of Akuity at GitOpsCon EU 2024:&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://youtu.be/0B_JODxyK0w&#34;&gt;&lt;img src=&#34;https://img.youtube.com/vi/0B_JODxyK0w/0.jpg&#34; alt=&#34;Multi-Stage Deployment Pipelines the GitOps Way - Kargo&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;This documentation is very new, so please open issues against this repository if you encounter any difficulties.&lt;/p&gt; &#xA;&lt;h2&gt;Contributing&lt;/h2&gt; &#xA;&lt;p&gt;The Kargo project accepts contributions via GitHub pull requests.&lt;/p&gt; &#xA;&lt;p&gt;Visit our &lt;a href=&#34;https://docs.kargo.io/contributor-guide/&#34;&gt;Kargo Contributor Guide&lt;/a&gt; for more info on how to get started quickly and easily.&lt;/p&gt; &#xA;&lt;h2&gt;Support &amp;amp; Feedback&lt;/h2&gt; &#xA;&lt;p&gt;To report an issue, request a feature, or ask a question, please open an issue &lt;a href=&#34;https://github.com/akuity/kargo/issues&#34;&gt;here&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;Please also feel free to join us on &lt;a href=&#34;https://discord.gg/dHJBZw6ewT&#34;&gt;Discord&lt;/a&gt;!&lt;/p&gt; &#xA;&lt;h2&gt;Code of Conduct&lt;/h2&gt; &#xA;&lt;p&gt;Participation in the Kargo project is governed by the &lt;a href=&#34;https://docs.kargo.io/contributor-guide/code-of-conduct/&#34;&gt;Contributor Covenant Code of Conduct&lt;/a&gt;.&lt;/p&gt;</summary>
  </entry>
  <entry>
    <title>pressly/goose</title>
    <updated>2024-10-27T01:39:11Z</updated>
    <id>tag:github.com,2024-10-27:/pressly/goose</id>
    <link href="https://github.com/pressly/goose" rel="alternate"></link>
    <summary type="html">&lt;p&gt;A database migration tool. Supports SQL migrations and Go functions.&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;goose&lt;/h1&gt; &#xA;&lt;img align=&#34;right&#34; width=&#34;125&#34; src=&#34;https://raw.githubusercontent.com/pressly/goose/master/assets/goose_logo.png&#34;&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/pressly/goose/actions/workflows/ci.yaml&#34;&gt;&lt;img src=&#34;https://github.com/pressly/goose/actions/workflows/ci.yaml/badge.svg?sanitize=true&#34; alt=&#34;Goose CI&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://pkg.go.dev/github.com/pressly/goose/v3&#34;&gt;&lt;img src=&#34;https://pkg.go.dev/badge/github.com/pressly/goose/v3.svg?sanitize=true&#34; alt=&#34;Go Reference&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://goreportcard.com/report/github.com/pressly/goose/v3&#34;&gt;&lt;img src=&#34;https://goreportcard.com/badge/github.com/pressly/goose/v3&#34; alt=&#34;Go Report Card&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;Goose is a database migration tool. Both a CLI and a library.&lt;/p&gt; &#xA;&lt;p&gt;Manage your &lt;strong&gt;database schema&lt;/strong&gt; by creating incremental SQL changes or Go functions.&lt;/p&gt; &#xA;&lt;h4&gt;Features&lt;/h4&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Works against multiple databases: &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;Postgres, MySQL, SQLite, YDB, ClickHouse, MSSQL, Vertica, and more.&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;Supports Go migrations written as plain functions.&lt;/li&gt; &#xA; &lt;li&gt;Supports &lt;a href=&#34;https://pkg.go.dev/embed/&#34;&gt;embedded&lt;/a&gt; migrations.&lt;/li&gt; &#xA; &lt;li&gt;Out-of-order migrations.&lt;/li&gt; &#xA; &lt;li&gt;Seeding data.&lt;/li&gt; &#xA; &lt;li&gt;Environment variable substitution in SQL migrations.&lt;/li&gt; &#xA; &lt;li&gt;... and more.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h1&gt;Install&lt;/h1&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;go install github.com/pressly/goose/v3/cmd/goose@latest&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;This will install the &lt;code&gt;goose&lt;/code&gt; binary to your &lt;code&gt;$GOPATH/bin&lt;/code&gt; directory.&lt;/p&gt; &#xA;&lt;p&gt;Binary too big? Build a lite version by excluding the drivers you don&#39;t need:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;go build -tags=&#39;no_postgres no_mysql no_sqlite3 no_ydb&#39; -o goose ./cmd/goose&#xA;&#xA;# Available build tags:&#xA;#   no_clickhouse  no_libsql   no_mssql    no_mysql&#xA;#   no_postgres    no_sqlite3  no_vertica  no_ydb&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;For macOS users &lt;code&gt;goose&lt;/code&gt; is available as a &lt;a href=&#34;https://formulae.brew.sh/formula/goose#default&#34;&gt;Homebrew Formulae&lt;/a&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;brew install goose&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;See &lt;a href=&#34;https://pressly.github.io/goose/installation/&#34;&gt;installation documentation&lt;/a&gt; for more details.&lt;/p&gt; &#xA;&lt;h1&gt;Usage&lt;/h1&gt; &#xA;&lt;details&gt; &#xA; &lt;summary&gt;Click to show &lt;code&gt;goose help&lt;/code&gt; output&lt;/summary&gt; &#xA; &lt;pre&gt;&lt;code&gt;Usage: goose [OPTIONS] DRIVER DBSTRING COMMAND&#xA;&#xA;or&#xA;&#xA;Set environment key&#xA;GOOSE_DRIVER=DRIVER&#xA;GOOSE_DBSTRING=DBSTRING&#xA;GOOSE_MIGRATION_DIR=MIGRATION_DIR&#xA;&#xA;Usage: goose [OPTIONS] COMMAND&#xA;&#xA;Drivers:&#xA;    postgres&#xA;    mysql&#xA;    sqlite3&#xA;    mssql&#xA;    redshift&#xA;    tidb&#xA;    clickhouse&#xA;    vertica&#xA;    ydb&#xA;    starrocks&#xA;&#xA;Examples:&#xA;    goose sqlite3 ./foo.db status&#xA;    goose sqlite3 ./foo.db create init sql&#xA;    goose sqlite3 ./foo.db create add_some_column sql&#xA;    goose sqlite3 ./foo.db create fetch_user_data go&#xA;    goose sqlite3 ./foo.db up&#xA;&#xA;    goose postgres &#34;user=postgres dbname=postgres sslmode=disable&#34; status&#xA;    goose mysql &#34;user:password@/dbname?parseTime=true&#34; status&#xA;    goose redshift &#34;postgres://user:password@qwerty.us-east-1.redshift.amazonaws.com:5439/db&#34; status&#xA;    goose tidb &#34;user:password@/dbname?parseTime=true&#34; status&#xA;    goose mssql &#34;sqlserver://user:password@dbname:1433?database=master&#34; status&#xA;    goose clickhouse &#34;tcp://127.0.0.1:9000&#34; status&#xA;    goose vertica &#34;vertica://user:password@localhost:5433/dbname?connection_load_balance=1&#34; status&#xA;    goose ydb &#34;grpcs://localhost:2135/local?go_query_mode=scripting&amp;amp;go_fake_tx=scripting&amp;amp;go_query_bind=declare,numeric&#34; status&#xA;    goose starrocks &#34;user:password@/dbname?parseTime=true&amp;amp;interpolateParams=true&#34; status&#xA;&#xA;    GOOSE_DRIVER=sqlite3 GOOSE_DBSTRING=./foo.db goose status&#xA;    GOOSE_DRIVER=sqlite3 GOOSE_DBSTRING=./foo.db goose create init sql&#xA;    GOOSE_DRIVER=postgres GOOSE_DBSTRING=&#34;user=postgres dbname=postgres sslmode=disable&#34; goose status&#xA;    GOOSE_DRIVER=mysql GOOSE_DBSTRING=&#34;user:password@/dbname&#34; goose status&#xA;    GOOSE_DRIVER=redshift GOOSE_DBSTRING=&#34;postgres://user:password@qwerty.us-east-1.redshift.amazonaws.com:5439/db&#34; goose status&#xA;    GOOSE_DRIVER=clickhouse GOOSE_DBSTRING=&#34;clickhouse://user:password@qwerty.clickhouse.cloud:9440/dbname?secure=true&amp;amp;skip_verify=false&#34; goose status&#xA;&#xA;Options:&#xA;&#xA;  -allow-missing&#xA;        applies missing (out-of-order) migrations&#xA;  -certfile string&#xA;        file path to root CA&#39;s certificates in pem format (only support on mysql)&#xA;  -dir string&#xA;        directory with migration files (default &#34;.&#34;, can be set via the GOOSE_MIGRATION_DIR env variable).&#xA;  -h    print help&#xA;  -no-color&#xA;        disable color output (NO_COLOR env variable supported)&#xA;  -no-versioning&#xA;        apply migration commands with no versioning, in file order, from directory pointed to&#xA;  -s    use sequential numbering for new migrations&#xA;  -ssl-cert string&#xA;        file path to SSL certificates in pem format (only support on mysql)&#xA;  -ssl-key string&#xA;        file path to SSL key in pem format (only support on mysql)&#xA;  -table string&#xA;        migrations table name (default &#34;goose_db_version&#34;)&#xA;  -timeout duration&#xA;        maximum allowed duration for queries to run; e.g., 1h13m&#xA;  -v    enable verbose mode&#xA;  -version&#xA;        print version&#xA;&#xA;Commands:&#xA;    up                   Migrate the DB to the most recent version available&#xA;    up-by-one            Migrate the DB up by 1&#xA;    up-to VERSION        Migrate the DB to a specific VERSION&#xA;    down                 Roll back the version by 1&#xA;    down-to VERSION      Roll back to a specific VERSION&#xA;    redo                 Re-run the latest migration&#xA;    reset                Roll back all migrations&#xA;    status               Dump the migration status for the current DB&#xA;    version              Print the current version of the database&#xA;    create NAME [sql|go] Creates new migration file with the current timestamp&#xA;    fix                  Apply sequential ordering to migrations&#xA;    validate             Check migration files without running them&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;/details&gt; &#xA;&lt;p&gt;Commonly used commands:&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://raw.githubusercontent.com/pressly/goose/master/#create&#34;&gt;create&lt;/a&gt;&lt;span&gt;&amp;nbsp;•&amp;nbsp;&lt;/span&gt; &lt;a href=&#34;https://raw.githubusercontent.com/pressly/goose/master/#up&#34;&gt;up&lt;/a&gt;&lt;span&gt;&amp;nbsp;•&amp;nbsp;&lt;/span&gt; &lt;a href=&#34;https://raw.githubusercontent.com/pressly/goose/master/#up-to&#34;&gt;up-to&lt;/a&gt;&lt;span&gt;&amp;nbsp;•&amp;nbsp;&lt;/span&gt; &lt;a href=&#34;https://raw.githubusercontent.com/pressly/goose/master/#down&#34;&gt;down&lt;/a&gt;&lt;span&gt;&amp;nbsp;•&amp;nbsp;&lt;/span&gt; &lt;a href=&#34;https://raw.githubusercontent.com/pressly/goose/master/#down-to&#34;&gt;down-to&lt;/a&gt;&lt;span&gt;&amp;nbsp;•&amp;nbsp;&lt;/span&gt; &lt;a href=&#34;https://raw.githubusercontent.com/pressly/goose/master/#status&#34;&gt;status&lt;/a&gt;&lt;span&gt;&amp;nbsp;•&amp;nbsp;&lt;/span&gt; &lt;a href=&#34;https://raw.githubusercontent.com/pressly/goose/master/#version&#34;&gt;version&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;create&lt;/h2&gt; &#xA;&lt;p&gt;Create a new SQL migration.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ goose create add_some_column sql&#xA;$ Created new file: 20170506082420_add_some_column.sql&#xA;&#xA;$ goose -s create add_some_column sql&#xA;$ Created new file: 00001_add_some_column.sql&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Edit the newly created file to define the behavior of your migration.&lt;/p&gt; &#xA;&lt;p&gt;You can also create a Go migration, if you then invoke it with &lt;a href=&#34;https://raw.githubusercontent.com/pressly/goose/master/#go-migrations&#34;&gt;your own goose binary&lt;/a&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ goose create fetch_user_data go&#xA;$ Created new file: 20170506082421_fetch_user_data.go&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;up&lt;/h2&gt; &#xA;&lt;p&gt;Apply all available migrations.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ goose up&#xA;$ OK    001_basics.sql&#xA;$ OK    002_next.sql&#xA;$ OK    003_and_again.go&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;up-to&lt;/h2&gt; &#xA;&lt;p&gt;Migrate up to a specific version.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ goose up-to 20170506082420&#xA;$ OK    20170506082420_create_table.sql&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;up-by-one&lt;/h2&gt; &#xA;&lt;p&gt;Migrate up a single migration from the current version&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ goose up-by-one&#xA;$ OK    20170614145246_change_type.sql&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;down&lt;/h2&gt; &#xA;&lt;p&gt;Roll back a single migration from the current version.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ goose down&#xA;$ OK    003_and_again.go&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;down-to&lt;/h2&gt; &#xA;&lt;p&gt;Roll back migrations to a specific version.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ goose down-to 20170506082527&#xA;$ OK    20170506082527_alter_column.sql&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Or, roll back all migrations (careful!):&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ goose down-to 0&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;status&lt;/h2&gt; &#xA;&lt;p&gt;Print the status of all migrations:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ goose status&#xA;$   Applied At                  Migration&#xA;$   =======================================&#xA;$   Sun Jan  6 11:25:03 2013 -- 001_basics.sql&#xA;$   Sun Jan  6 11:25:03 2013 -- 002_next.sql&#xA;$   Pending                  -- 003_and_again.go&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Note: for MySQL &lt;a href=&#34;https://github.com/go-sql-driver/mysql#parsetime&#34;&gt;parseTime flag&lt;/a&gt; must be enabled.&lt;/p&gt; &#xA;&lt;p&gt;Note: for MySQL &lt;a href=&#34;https://github.com/go-sql-driver/mysql?tab=readme-ov-file#multistatements&#34;&gt;&lt;code&gt;multiStatements&lt;/code&gt;&lt;/a&gt; must be enabled. This is required when writing multiple queries separated by &#39;;&#39; characters in a single sql file.&lt;/p&gt; &#xA;&lt;h2&gt;version&lt;/h2&gt; &#xA;&lt;p&gt;Print the current version of the database:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ goose version&#xA;$ goose: version 002&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h1&gt;Migrations&lt;/h1&gt; &#xA;&lt;p&gt;goose supports migrations written in SQL or in Go.&lt;/p&gt; &#xA;&lt;h2&gt;SQL Migrations&lt;/h2&gt; &#xA;&lt;p&gt;A sample SQL migration looks like:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;-- +goose Up&#xA;CREATE TABLE post (&#xA;    id int NOT NULL,&#xA;    title text,&#xA;    body text,&#xA;    PRIMARY KEY(id)&#xA;);&#xA;&#xA;-- +goose Down&#xA;DROP TABLE post;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Each migration file must have exactly one &lt;code&gt;-- +goose Up&lt;/code&gt; annotation. The &lt;code&gt;-- +goose Down&lt;/code&gt; annotation is optional. If the file has both annotations, then the &lt;code&gt;-- +goose Up&lt;/code&gt; annotation &lt;strong&gt;must&lt;/strong&gt; come first.&lt;/p&gt; &#xA;&lt;p&gt;Notice the annotations in the comments. Any statements following &lt;code&gt;-- +goose Up&lt;/code&gt; will be executed as part of a forward migration, and any statements following &lt;code&gt;-- +goose Down&lt;/code&gt; will be executed as part of a rollback.&lt;/p&gt; &#xA;&lt;p&gt;By default, all migrations are run within a transaction. Some statements like &lt;code&gt;CREATE DATABASE&lt;/code&gt;, however, cannot be run within a transaction. You may optionally add &lt;code&gt;-- +goose NO TRANSACTION&lt;/code&gt; to the top of your migration file in order to skip transactions within that specific migration file. Both Up and Down migrations within this file will be run without transactions.&lt;/p&gt; &#xA;&lt;p&gt;By default, SQL statements are delimited by semicolons - in fact, query statements must end with a semicolon to be properly recognized by goose.&lt;/p&gt; &#xA;&lt;p&gt;More complex statements (PL/pgSQL) that have semicolons within them must be annotated with &lt;code&gt;-- +goose StatementBegin&lt;/code&gt; and &lt;code&gt;-- +goose StatementEnd&lt;/code&gt; to be properly recognized. For example:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;-- +goose Up&#xA;-- +goose StatementBegin&#xA;CREATE OR REPLACE FUNCTION histories_partition_creation( DATE, DATE )&#xA;returns void AS $$&#xA;DECLARE&#xA;  create_query text;&#xA;BEGIN&#xA;  FOR create_query IN SELECT&#xA;      &#39;CREATE TABLE IF NOT EXISTS histories_&#39;&#xA;      || TO_CHAR( d, &#39;YYYY_MM&#39; )&#xA;      || &#39; ( CHECK( created_at &amp;gt;= timestamp &#39;&#39;&#39;&#xA;      || TO_CHAR( d, &#39;YYYY-MM-DD 00:00:00&#39; )&#xA;      || &#39;&#39;&#39; AND created_at &amp;lt; timestamp &#39;&#39;&#39;&#xA;      || TO_CHAR( d + INTERVAL &#39;1 month&#39;, &#39;YYYY-MM-DD 00:00:00&#39; )&#xA;      || &#39;&#39;&#39; ) ) inherits ( histories );&#39;&#xA;    FROM generate_series( $1, $2, &#39;1 month&#39; ) AS d&#xA;  LOOP&#xA;    EXECUTE create_query;&#xA;  END LOOP;  -- LOOP END&#xA;END;         -- FUNCTION END&#xA;$$&#xA;language plpgsql;&#xA;-- +goose StatementEnd&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Goose supports environment variable substitution in SQL migrations through annotations. To enable this feature, use the &lt;code&gt;-- +goose ENVSUB ON&lt;/code&gt; annotation before the queries where you want substitution applied. It stays active until the &lt;code&gt;-- +goose ENVSUB OFF&lt;/code&gt; annotation is encountered. You can use these annotations multiple times within a file.&lt;/p&gt; &#xA;&lt;p&gt;This feature is disabled by default for backward compatibility with existing scripts.&lt;/p&gt; &#xA;&lt;p&gt;For &lt;code&gt;PL/pgSQL&lt;/code&gt; functions or other statements where substitution is not desired, wrap the annotations explicitly around the relevant parts. For example, to exclude escaping the &lt;code&gt;**&lt;/code&gt; characters:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;-- +goose StatementBegin&#xA;CREATE OR REPLACE FUNCTION test_func()&#xA;RETURNS void AS $$&#xA;-- +goose ENVSUB ON&#xA;BEGIN&#xA;&#x9;RAISE NOTICE &#39;${SOME_ENV_VAR}&#39;;&#xA;END;&#xA;-- +goose ENVSUB OFF&#xA;$$ LANGUAGE plpgsql;&#xA;-- +goose StatementEnd&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;details&gt; &#xA; &lt;summary&gt;Supported expansions (click here to expand):&lt;/summary&gt; &#xA; &lt;ul&gt; &#xA;  &lt;li&gt;&lt;code&gt;${VAR}&lt;/code&gt; or $VAR - expands to the value of the environment variable &lt;code&gt;VAR&lt;/code&gt;&lt;/li&gt; &#xA;  &lt;li&gt;&lt;code&gt;${VAR:-default}&lt;/code&gt; - expands to the value of the environment variable &lt;code&gt;VAR&lt;/code&gt;, or &lt;code&gt;default&lt;/code&gt; if &lt;code&gt;VAR&lt;/code&gt; is unset or null&lt;/li&gt; &#xA;  &lt;li&gt;&lt;code&gt;${VAR-default}&lt;/code&gt; - expands to the value of the environment variable &lt;code&gt;VAR&lt;/code&gt;, or &lt;code&gt;default&lt;/code&gt; if &lt;code&gt;VAR&lt;/code&gt; is unset&lt;/li&gt; &#xA;  &lt;li&gt;&lt;code&gt;${VAR?err_msg}&lt;/code&gt; - expands to the value of the environment variable &lt;code&gt;VAR&lt;/code&gt;, or prints &lt;code&gt;err_msg&lt;/code&gt; and error if &lt;code&gt;VAR&lt;/code&gt; unset&lt;/li&gt; &#xA;  &lt;li&gt;&lt;del&gt;&lt;code&gt;${VAR:?err_msg}&lt;/code&gt; - expands to the value of the environment variable &lt;code&gt;VAR&lt;/code&gt;, or prints &lt;code&gt;err_msg&lt;/code&gt; and error if &lt;code&gt;VAR&lt;/code&gt; unset or null.&lt;/del&gt; &lt;strong&gt;THIS IS NOT SUPPORTED&lt;/strong&gt;&lt;/li&gt; &#xA; &lt;/ul&gt; &#xA; &lt;p&gt;See &lt;a href=&#34;https://github.com/mfridman/interpolate?tab=readme-ov-file#supported-expansions&#34;&gt;mfridman/interpolate&lt;/a&gt; for more details on supported expansions.&lt;/p&gt; &#xA;&lt;/details&gt; &#xA;&lt;h2&gt;Embedded sql migrations&lt;/h2&gt; &#xA;&lt;p&gt;Go 1.16 introduced new feature: &lt;a href=&#34;https://pkg.go.dev/embed/&#34;&gt;compile-time embedding&lt;/a&gt; files into binary and corresponding &lt;a href=&#34;https://pkg.go.dev/io/fs/&#34;&gt;filesystem abstraction&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;This feature can be used only for applying existing migrations. Modifying operations such as &lt;code&gt;fix&lt;/code&gt; and &lt;code&gt;create&lt;/code&gt; will continue to operate on OS filesystem even if using embedded files. This is expected behaviour because &lt;code&gt;io/fs&lt;/code&gt; interfaces allows read-only access.&lt;/p&gt; &#xA;&lt;p&gt;Make sure to configure the correct SQL dialect, see &lt;a href=&#34;https://raw.githubusercontent.com/pressly/goose/master/dialect.go&#34;&gt;dialect.go&lt;/a&gt; for supported SQL dialects.&lt;/p&gt; &#xA;&lt;p&gt;Example usage, assuming that SQL migrations are placed in the &lt;code&gt;migrations&lt;/code&gt; directory:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;package main&#xA;&#xA;import (&#xA;    &#34;database/sql&#34;&#xA;    &#34;embed&#34;&#xA;&#xA;    &#34;github.com/pressly/goose/v3&#34;&#xA;)&#xA;&#xA;//go:embed migrations/*.sql&#xA;var embedMigrations embed.FS&#xA;&#xA;func main() {&#xA;    var db *sql.DB&#xA;    // setup database&#xA;&#xA;    goose.SetBaseFS(embedMigrations)&#xA;&#xA;    if err := goose.SetDialect(&#34;postgres&#34;); err != nil {&#xA;        panic(err)&#xA;    }&#xA;&#xA;    if err := goose.Up(db, &#34;migrations&#34;); err != nil {&#xA;        panic(err)&#xA;    }&#xA;&#xA;    // run app&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Note that we pass &lt;code&gt;&#34;migrations&#34;&lt;/code&gt; as directory argument in &lt;code&gt;Up&lt;/code&gt; because embedding saves directory structure.&lt;/p&gt; &#xA;&lt;h2&gt;Go Migrations&lt;/h2&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Create your own goose binary, see &lt;a href=&#34;https://raw.githubusercontent.com/pressly/goose/master/examples/go-migrations&#34;&gt;example&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Import &lt;code&gt;github.com/pressly/goose&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;Register your migration functions&lt;/li&gt; &#xA; &lt;li&gt;Run goose command, ie. &lt;code&gt;goose.Up(db *sql.DB, dir string)&lt;/code&gt;&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;A &lt;a href=&#34;https://raw.githubusercontent.com/pressly/goose/master/examples/go-migrations/00002_rename_root.go&#34;&gt;sample Go migration 00002_users_add_email.go file&lt;/a&gt; looks like:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;package migrations&#xA;&#xA;import (&#xA;&#x9;&#34;database/sql&#34;&#xA;&#xA;&#x9;&#34;github.com/pressly/goose/v3&#34;&#xA;)&#xA;&#xA;func init() {&#xA;&#x9;goose.AddMigration(Up, Down)&#xA;}&#xA;&#xA;func Up(tx *sql.Tx) error {&#xA;&#x9;_, err := tx.Exec(&#34;UPDATE users SET username=&#39;admin&#39; WHERE username=&#39;root&#39;;&#34;)&#xA;&#x9;if err != nil {&#xA;&#x9;&#x9;return err&#xA;&#x9;}&#xA;&#x9;return nil&#xA;}&#xA;&#xA;func Down(tx *sql.Tx) error {&#xA;&#x9;_, err := tx.Exec(&#34;UPDATE users SET username=&#39;root&#39; WHERE username=&#39;admin&#39;;&#34;)&#xA;&#x9;if err != nil {&#xA;&#x9;&#x9;return err&#xA;&#x9;}&#xA;&#x9;return nil&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Note that Go migration files must begin with a numeric value, followed by an underscore, and must not end with &lt;code&gt;*_test.go&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h1&gt;Hybrid Versioning&lt;/h1&gt; &#xA;&lt;p&gt;Please, read the &lt;a href=&#34;https://github.com/pressly/goose/issues/63#issuecomment-428681694&#34;&gt;versioning problem&lt;/a&gt; first.&lt;/p&gt; &#xA;&lt;p&gt;By default, if you attempt to apply missing (out-of-order) migrations &lt;code&gt;goose&lt;/code&gt; will raise an error. However, If you want to apply these missing migrations pass goose the &lt;code&gt;-allow-missing&lt;/code&gt; flag, or if using as a library supply the functional option &lt;code&gt;goose.WithAllowMissing()&lt;/code&gt; to Up, UpTo or UpByOne.&lt;/p&gt; &#xA;&lt;p&gt;However, we strongly recommend adopting a hybrid versioning approach, using both timestamps and sequential numbers. Migrations created during the development process are timestamped and sequential versions are ran on production. We believe this method will prevent the problem of conflicting versions when writing software in a team environment.&lt;/p&gt; &#xA;&lt;p&gt;To help you adopt this approach, &lt;code&gt;create&lt;/code&gt; will use the current timestamp as the migration version. When you&#39;re ready to deploy your migrations in a production environment, we also provide a helpful &lt;code&gt;fix&lt;/code&gt; command to convert your migrations into sequential order, while preserving the timestamp ordering. We recommend running &lt;code&gt;fix&lt;/code&gt; in the CI pipeline, and only when the migrations are ready for production.&lt;/p&gt; &#xA;&lt;h2&gt;Credit&lt;/h2&gt; &#xA;&lt;p&gt;The gopher mascot was designed by &lt;a href=&#34;https://reneefrench.blogspot.com/&#34;&gt;Renée French&lt;/a&gt; / &lt;a href=&#34;https://creativecommons.org/licenses/by/3.0/&#34;&gt;CC 3.0.&lt;/a&gt; For more info check out the &lt;a href=&#34;https://go.dev/blog/gopher&#34;&gt;Go Blog&lt;/a&gt;. Adapted by Ellen.&lt;/p&gt; &#xA;&lt;h2&gt;License&lt;/h2&gt; &#xA;&lt;p&gt;Licensed under &lt;a href=&#34;https://raw.githubusercontent.com/pressly/goose/master/LICENSE&#34;&gt;MIT License&lt;/a&gt;&lt;/p&gt;</summary>
  </entry>
</feed>