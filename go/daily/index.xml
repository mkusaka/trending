<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Go Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2024-01-31T01:29:25Z</updated>
  <subtitle>Daily Trending of Go in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>deanxv/coze-discord-proxy</title>
    <updated>2024-01-31T01:29:25Z</updated>
    <id>tag:github.com,2024-01-31:/deanxv/coze-discord-proxy</id>
    <link href="https://github.com/deanxv/coze-discord-proxy" rel="alternate"></link>
    <summary type="html">&lt;p&gt;代理discord-bot，api调用coze-bot&lt;/p&gt;&lt;hr&gt;&lt;div align=&#34;center&#34;&gt; &#xA; &lt;h1&gt;coze-discord-proxy&lt;/h1&gt; &#xA; &lt;p&gt;&lt;em&gt;coze+discord 代理服务—通过接口调用被&lt;code&gt;coze&lt;/code&gt;托管的&lt;code&gt;discord-bot&lt;/code&gt;&lt;/em&gt;&lt;/p&gt; &#xA; &lt;p&gt;&lt;em&gt;觉得有点意思的话 别忘了点个🌟&lt;/em&gt;&lt;/p&gt; &#xA; &lt;p&gt;🐞&lt;a href=&#34;https://t.me/+LGKwlC_xa-E5ZDk9&#34; style=&#34;font-size: 15px;&#34;&gt;COZE-DISCORD-PROXY交流群&lt;/a&gt;&lt;/p&gt; &#xA;&lt;/div&gt; &#xA;&lt;h2&gt;功能&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; 完美适配&lt;code&gt;NextChat&lt;/code&gt;,&lt;code&gt;one-api&lt;/code&gt;,&lt;code&gt;LobeChat&lt;/code&gt;等&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; 对话支持流式返回&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; 对话支持文生图(需&lt;code&gt;coze&lt;/code&gt;配置&lt;code&gt;DALL·E3&lt;/code&gt;插件)返回图片url&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; 对话支持图生文(需&lt;code&gt;coze&lt;/code&gt;配置&lt;code&gt;GPT4V&lt;/code&gt;插件)(发送的文本消息中携带图片url/按照GPT4V识图请求格式发起请求)&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; 支持创建 &lt;code&gt;discord&lt;/code&gt;频道/子频道/线程&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; 支持对话指定 &lt;code&gt;discord&lt;/code&gt;频道/子频道/线程 实现对话隔离&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; 支持和&lt;code&gt;openai&lt;/code&gt;对齐的对话接口(&lt;code&gt;v1/chat/completions&lt;/code&gt;)(支持文生图)&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; 支持和&lt;code&gt;openai&lt;/code&gt;对齐的GPT4V识图接口(&lt;code&gt;v1/chat/completions&lt;/code&gt;)(读取 &lt;code&gt;url&lt;/code&gt;/&lt;code&gt;base64&lt;/code&gt;)&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; 支持和&lt;code&gt;openai&lt;/code&gt;对齐的&lt;code&gt;dall-e-3&lt;/code&gt;接口(&lt;code&gt;v1/images/generations&lt;/code&gt;)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;接口文档:&lt;/h3&gt; &#xA;&lt;p&gt;&lt;code&gt;http://&amp;lt;ip&amp;gt;:&amp;lt;port&amp;gt;/swagger/index.html&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;span&gt;&lt;img src=&#34;https://raw.githubusercontent.com/deanxv/coze-discord-proxy/main/docs/img.png&#34; width=&#34;800&#34;&gt;&lt;/span&gt;&lt;/p&gt; &#xA;&lt;h3&gt;示例:&lt;/h3&gt; &#xA;&lt;p&gt;&lt;span&gt;&lt;img src=&#34;https://raw.githubusercontent.com/deanxv/coze-discord-proxy/main/docs/img2.png&#34; width=&#34;800&#34;&gt;&lt;/span&gt;&lt;/p&gt; &#xA;&lt;h2&gt;如何使用&lt;/h2&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;打开 &lt;a href=&#34;https://discord.com/developers/applications&#34;&gt;discord开发者平台&lt;/a&gt; 。&lt;/li&gt; &#xA; &lt;li&gt;创建bot-A,并记录bot专属的&lt;code&gt;token&lt;/code&gt;和&lt;code&gt;id(COZE_BOT_ID)&lt;/code&gt;,此bot为被coze托管的bot。&lt;/li&gt; &#xA; &lt;li&gt;创建bot-B,并记录bot专属的&lt;code&gt;token(BOT_TOKEN)&lt;/code&gt;,此bot为我们与discord交互的bot。&lt;/li&gt; &#xA; &lt;li&gt;两个bot开通对应权限(&lt;code&gt;Send Messages&lt;/code&gt;,&lt;code&gt;Read Message History&lt;/code&gt;等)并邀请进服务器,记录服务器ID(&lt;code&gt;GUILD_ID&lt;/code&gt;) ( 过程不在此赘述)。&lt;/li&gt; &#xA; &lt;li&gt;打开 &lt;a href=&#34;https://www.coze.com&#34;&gt;coze官网&lt;/a&gt; 创建自己bot。&lt;/li&gt; &#xA; &lt;li&gt;创建好后推送，配置discord-bot的&lt;code&gt;token&lt;/code&gt;,即bot-A的&lt;code&gt;token&lt;/code&gt;,点击完成后在discord的服务器中可看到bot-A在线并可以@使用。&lt;/li&gt; &#xA; &lt;li&gt;配置环境变量，并启动本项目。&lt;/li&gt; &#xA; &lt;li&gt;访问接口地址即可开始调试。&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h2&gt;如何集成NextChat&lt;/h2&gt; &#xA;&lt;p&gt;填 接口地址(ip:端口/域名) 及 API-Key(&lt;code&gt;PROXY_SECRET&lt;/code&gt;)，其它的随便填随便选。&lt;/p&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;如果自己没有搭建NextChat面板，这里有个已经搭建好的可以使用 &lt;a href=&#34;https://ci.goeast.io/&#34;&gt;NextChat&lt;/a&gt;&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;p&gt;&lt;span&gt;&lt;img src=&#34;https://raw.githubusercontent.com/deanxv/coze-discord-proxy/main/docs/img5.png&#34; width=&#34;800&#34;&gt;&lt;/span&gt;&lt;/p&gt; &#xA;&lt;h2&gt;如何集成one-api&lt;/h2&gt; &#xA;&lt;p&gt;填 &lt;code&gt;BaseURL&lt;/code&gt;(ip:端口/域名) 及 密钥(&lt;code&gt;PROXY_SECRET&lt;/code&gt;)，其它的随便填随便选。&lt;/p&gt; &#xA;&lt;p&gt;&lt;span&gt;&lt;img src=&#34;https://raw.githubusercontent.com/deanxv/coze-discord-proxy/main/docs/img3.png&#34; width=&#34;800&#34;&gt;&lt;/span&gt;&lt;/p&gt; &#xA;&lt;h2&gt;部署&lt;/h2&gt; &#xA;&lt;h3&gt;基于 Docker-Compose(All In One) 进行部署&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;docker-compose pull &amp;amp;&amp;amp; docker-compose up -d&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;docker-compose.yml&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-docker&#34;&gt;version: &#39;3.4&#39;&#xA;&#xA;services:&#xA;  coze-discord-proxy:&#xA;    image: deanxv/coze-discord-proxy:latest&#xA;    container_name: coze-discord-proxy&#xA;    restart: always&#xA;    ports:&#xA;      - &#34;7077:7077&#34;&#xA;    volumes:&#xA;      - ./data/coze-discord-proxy:/data&#xA;    environment:&#xA;      - BOT_TOKEN=MTE5OTk2xxxxxxxxxxxxxxrwUrUWNbG63w  &#xA;      - GUILD_ID=119xxxxxxxx796  &#xA;      - COZE_BOT_ID=119xxxxxxxx7  &#xA;      - CHANNEL_ID=119xxxxxx24 &#xA;      - PROXY_SECRET=123456  # [可选]&#xA;      - TZ=Asia/Shanghai&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;基于 Docker 进行部署&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;docker run --name coze-discord-proxy -d --restart always \&#xA;-p 7077:7077 \&#xA;-e BOT_TOKEN=&#34;MTE5OTk2xxxxxxxxxxxxxxrwUrUWNbG63w&#34; \&#xA;-e GUILD_ID=&#34;119xxxxxxxx796&#34; \&#xA;-e COZE_BOT_ID=&#34;119xxxxxxxx7&#34; \&#xA;-e PROXY_SECRET=&#34;123456&#34; \&#xA;-e CHANNEL_ID=&#34;119xxxxxx24&#34; \&#xA;-e TZ=Asia/Shanghai \&#xA;deanxv/coze-discord-proxy&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;其中，&lt;code&gt;BOT_TOKEN&lt;/code&gt;,&lt;code&gt;GUILD_ID&lt;/code&gt;,&lt;code&gt;COZE_BOT_ID&lt;/code&gt;,&lt;code&gt;PROXY_SECRET&lt;/code&gt;,&lt;code&gt;CHANNEL_ID&lt;/code&gt;修改为自己的。&lt;/p&gt; &#xA;&lt;h3&gt;部署到第三方平台&lt;/h3&gt; &#xA;&lt;details&gt; &#xA; &lt;summary&gt;&lt;strong&gt;部署到 Zeabur&lt;/strong&gt;&lt;/summary&gt; &#xA; &lt;div&gt; &#xA;  &lt;blockquote&gt; &#xA;   &lt;p&gt;Zeabur 的服务器在国外，自动解决了网络的问题，同时免费的额度也足够个人使用&lt;/p&gt; &#xA;  &lt;/blockquote&gt; &#xA;  &lt;p&gt;点击一键部署:&lt;/p&gt; &#xA;  &lt;p&gt;&lt;a href=&#34;https://zeabur.com/templates/GMU8C8?referralCode=deanxv&#34;&gt;&lt;img src=&#34;https://zeabur.com/button.svg?sanitize=true&#34; alt=&#34;Deploy on Zeabur&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;  &lt;p&gt;&lt;strong&gt;一键部署后 &lt;code&gt;BOT_TOKEN&lt;/code&gt;,&lt;code&gt;GUILD_ID&lt;/code&gt;,&lt;code&gt;COZE_BOT_ID&lt;/code&gt;,&lt;code&gt;PROXY_SECRET&lt;/code&gt;,&lt;code&gt;CHANNEL_ID&lt;/code&gt;变量也需要替换！&lt;/strong&gt;&lt;/p&gt; &#xA;  &lt;p&gt;或手动部署:&lt;/p&gt; &#xA;  &lt;ol&gt; &#xA;   &lt;li&gt; &lt;p&gt;首先 &lt;strong&gt;fork&lt;/strong&gt; 一份代码。&lt;/p&gt; &lt;/li&gt; &#xA;   &lt;li&gt; &lt;p&gt;进入 &lt;a href=&#34;https://zeabur.com?referralCode=deanxv&#34;&gt;Zeabur&lt;/a&gt;，使用github登录，进入控制台。&lt;/p&gt; &lt;/li&gt; &#xA;   &lt;li&gt; &lt;p&gt;在 Service -&amp;gt; Add Service，选择 Git（第一次使用需要先授权），选择你 fork 的仓库。&lt;/p&gt; &lt;/li&gt; &#xA;   &lt;li&gt; &lt;p&gt;Deploy 会自动开始，先取消。&lt;/p&gt; &lt;/li&gt; &#xA;   &lt;li&gt; &lt;p&gt;添加环境变量&lt;/p&gt; &lt;p&gt;&lt;code&gt;BOT_TOKEN:MTE5OTk2xxxxxxxxxxxxxxrwUrUWNbG63w&lt;/code&gt; 主动发送消息的Bot-Token&lt;/p&gt; &lt;p&gt;&lt;code&gt;GUILD_ID:119xxxxxxxx796&lt;/code&gt; 两个机器人所在的服务器ID&lt;/p&gt; &lt;p&gt;&lt;code&gt;COZE_BOT_ID:119xxxxxxxx7&lt;/code&gt; 由coze托管的机器人ID&lt;/p&gt; &lt;p&gt;&lt;code&gt;CHANNEL_ID:119xxxxxx24&lt;/code&gt; # 默认频道-在使用与openai对齐的接口时(/v1/chat/completions) 消息会默认发送到此频道&lt;/p&gt; &lt;p&gt;&lt;code&gt;PROXY_SECRET:123456&lt;/code&gt; [可选]请求头校验的值（前后端统一）,配置此参数后，每次发起请求时请求头加上&lt;code&gt;proxy-secret&lt;/code&gt; 参数，即&lt;code&gt;header&lt;/code&gt;中添加 &lt;code&gt;proxy-secret：123456&lt;/code&gt;&lt;/p&gt; &lt;/li&gt; &#xA;  &lt;/ol&gt; &#xA;  &lt;p&gt;保存。&lt;/p&gt; &#xA;  &lt;ol start=&#34;6&#34;&gt; &#xA;   &lt;li&gt;选择 Redeploy。&lt;/li&gt; &#xA;  &lt;/ol&gt; &#xA; &lt;/div&gt; &#xA;&lt;/details&gt; &#xA;&lt;details&gt; &#xA; &lt;summary&gt;&lt;strong&gt;部署到 Render&lt;/strong&gt;&lt;/summary&gt; &#xA; &lt;div&gt; &#xA;  &lt;blockquote&gt; &#xA;   &lt;p&gt;Render 提供免费额度，绑卡后可以进一步提升额度&lt;/p&gt; &#xA;  &lt;/blockquote&gt; &#xA;  &lt;p&gt;Render 可以直接部署 docker 镜像，不需要 fork 仓库：&lt;a href=&#34;https://dashboard.render.com&#34;&gt;Render&lt;/a&gt;&lt;/p&gt; &#xA; &lt;/div&gt; &#xA;&lt;/details&gt; &#xA;&lt;h2&gt;配置&lt;/h2&gt; &#xA;&lt;h3&gt;环境变量&lt;/h3&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;&lt;code&gt;BOT_TOKEN:MTE5OTk2xxxxxxxxxxxxxxrwUrUWNbG63w&lt;/code&gt; 主动发送消息的Bot-Token&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;GUILD_ID:119xxxxxxxx796&lt;/code&gt; 两个机器人所在的服务器ID&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;COZE_BOT_ID:119xxxxxxxx7&lt;/code&gt; 由coze托管的机器人ID&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;CHANNEL_ID:119xxxxxx24&lt;/code&gt; 默认频道-在使用与openai对齐的接口时(/v1/chat/completions) 消息会默认发送到此频道&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;PROXY_SECRET:123456&lt;/code&gt; [可选]请求头校验的值（前后端统一）,配置此参数后，每次发起请求时请求头加上&lt;code&gt;proxy-secret&lt;/code&gt; 参数，即&lt;code&gt;header&lt;/code&gt;中添加 &lt;code&gt;proxy-secret：123456&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;REQUEST_OUT_TIME:60&lt;/code&gt; [可选]对话接口非流响应下的请求超时时间&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;STREAM_REQUEST_OUT_TIME:60&lt;/code&gt; [可选]对话接口流响应下的每次流返回超时时间&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;PROXY_URL:socks5://127.0.0.1:10810&lt;/code&gt; [可选]代理&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h2&gt;⭐ Star History&lt;/h2&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://star-history.com/#deanxv/coze-discord-proxy&amp;amp;Date&#34;&gt;&lt;img src=&#34;https://api.star-history.com/svg?repos=deanxv/coze-discord-proxy&amp;amp;type=Date&#34; alt=&#34;Star History Chart&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;其他&lt;/h2&gt; &#xA;&lt;p&gt;Coze 官网 : &lt;a href=&#34;https://www.coze.com&#34;&gt;https://www.coze.com&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;Discord 开发地址 : &lt;a href=&#34;https://discord.com/developers/applications&#34;&gt;https://discord.com/developers/applications&lt;/a&gt;&lt;/p&gt;</summary>
  </entry>
</feed>