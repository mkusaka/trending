<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Go Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2023-08-31T01:29:20Z</updated>
  <subtitle>Daily Trending of Go in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>hybridgroup/gocv</title>
    <updated>2023-08-31T01:29:20Z</updated>
    <id>tag:github.com,2023-08-31:/hybridgroup/gocv</id>
    <link href="https://github.com/hybridgroup/gocv" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Go package for computer vision using OpenCV 4 and beyond.&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;GoCV&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;http://gocv.io/&#34;&gt;&lt;img src=&#34;https://raw.githubusercontent.com/hybridgroup/gocv/release/images/gocvlogo.jpg&#34; alt=&#34;GoCV&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://pkg.go.dev/gocv.io/x/gocv&#34;&gt;&lt;img src=&#34;https://pkg.go.dev/badge/gocv.io/x/gocv.svg?sanitize=true&#34; alt=&#34;Go Reference&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/hybridgroup/gocv/actions/workflows/linux.yml&#34;&gt;&lt;img src=&#34;https://github.com/hybridgroup/gocv/actions/workflows/linux.yml/badge.svg?branch=dev&#34; alt=&#34;Linux&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://ci.appveyor.com/project/deadprogram/gocv/branch/dev&#34;&gt;&lt;img src=&#34;https://ci.appveyor.com/api/projects/status/9asd5foet54ru69q/branch/dev?svg=true&#34; alt=&#34;Windows&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://goreportcard.com/report/github.com/hybridgroup/gocv&#34;&gt;&lt;img src=&#34;https://goreportcard.com/badge/github.com/hybridgroup/gocv&#34; alt=&#34;Go Report Card&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/hybridgroup/gocv/raw/release/LICENSE.txt&#34;&gt;&lt;img src=&#34;https://img.shields.io/badge/License-Apache%202.0-blue.svg?sanitize=true&#34; alt=&#34;License&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;The GoCV package provides Go language bindings for the &lt;a href=&#34;http://opencv.org/&#34;&gt;OpenCV 4&lt;/a&gt; computer vision library.&lt;/p&gt; &#xA;&lt;p&gt;The GoCV package supports the latest releases of Go and OpenCV (v4.8.0) on Linux, macOS, and Windows. We intend to make the Go language a &#34;first-class&#34; client compatible with the latest developments in the OpenCV ecosystem.&lt;/p&gt; &#xA;&lt;p&gt;GoCV supports &lt;a href=&#34;https://en.wikipedia.org/wiki/CUDA&#34;&gt;CUDA&lt;/a&gt; for hardware acceleration using Nvidia GPUs. Check out the &lt;a href=&#34;https://raw.githubusercontent.com/hybridgroup/gocv/release/cuda/README.md&#34;&gt;CUDA README&lt;/a&gt; for more info on how to use GoCV with OpenCV/CUDA.&lt;/p&gt; &#xA;&lt;p&gt;GoCV also supports &lt;a href=&#34;https://software.intel.com/en-us/openvino-toolkit&#34;&gt;Intel OpenVINO&lt;/a&gt;. Check out the &lt;a href=&#34;https://raw.githubusercontent.com/hybridgroup/gocv/release/openvino/README.md&#34;&gt;OpenVINO README&lt;/a&gt; for more info on how to use GoCV with the Intel OpenVINO toolkit.&lt;/p&gt; &#xA;&lt;h2&gt;How to use&lt;/h2&gt; &#xA;&lt;h3&gt;Hello, video&lt;/h3&gt; &#xA;&lt;p&gt;This example opens a video capture device using device &#34;0&#34;, reads frames, and shows the video in a GUI window:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;package main&#xA;&#xA;import (&#xA;&#x9;&#34;gocv.io/x/gocv&#34;&#xA;)&#xA;&#xA;func main() {&#xA;&#x9;webcam, _ := gocv.OpenVideoCapture(0)&#xA;&#x9;window := gocv.NewWindow(&#34;Hello&#34;)&#xA;&#x9;img := gocv.NewMat()&#xA;&#xA;&#x9;for {&#xA;&#x9;&#x9;webcam.Read(&amp;amp;img)&#xA;&#x9;&#x9;window.IMShow(img)&#xA;&#x9;&#x9;window.WaitKey(1)&#xA;&#x9;}&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Face detect&lt;/h3&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/hybridgroup/gocv/release/images/face-detect.jpg&#34; alt=&#34;GoCV&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;This is a more complete example that opens a video capture device using device &#34;0&#34;. It also uses the CascadeClassifier class to load an external data file containing the classifier data. The program grabs each frame from the video, then uses the classifier to detect faces. If any faces are found, it draws a green rectangle around each one, then displays the video in an output window:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;package main&#xA;&#xA;import (&#xA;&#x9;&#34;fmt&#34;&#xA;&#x9;&#34;image/color&#34;&#xA;&#xA;&#x9;&#34;gocv.io/x/gocv&#34;&#xA;)&#xA;&#xA;func main() {&#xA;    // set to use a video capture device 0&#xA;    deviceID := 0&#xA;&#xA;&#x9;// open webcam&#xA;&#x9;webcam, err := gocv.OpenVideoCapture(deviceID)&#xA;&#x9;if err != nil {&#xA;&#x9;&#x9;fmt.Println(err)&#xA;&#x9;&#x9;return&#xA;&#x9;}&#xA;&#x9;defer webcam.Close()&#xA;&#xA;&#x9;// open display window&#xA;&#x9;window := gocv.NewWindow(&#34;Face Detect&#34;)&#xA;&#x9;defer window.Close()&#xA;&#xA;&#x9;// prepare image matrix&#xA;&#x9;img := gocv.NewMat()&#xA;&#x9;defer img.Close()&#xA;&#xA;&#x9;// color for the rect when faces detected&#xA;&#x9;blue := color.RGBA{0, 0, 255, 0}&#xA;&#xA;&#x9;// load classifier to recognize faces&#xA;&#x9;classifier := gocv.NewCascadeClassifier()&#xA;&#x9;defer classifier.Close()&#xA;&#xA;&#x9;if !classifier.Load(&#34;data/haarcascade_frontalface_default.xml&#34;) {&#xA;&#x9;&#x9;fmt.Println(&#34;Error reading cascade file: data/haarcascade_frontalface_default.xml&#34;)&#xA;&#x9;&#x9;return&#xA;&#x9;}&#xA;&#xA;&#x9;fmt.Printf(&#34;start reading camera device: %v\n&#34;, deviceID)&#xA;&#x9;for {&#xA;&#x9;&#x9;if ok := webcam.Read(&amp;amp;img); !ok {&#xA;&#x9;&#x9;&#x9;fmt.Printf(&#34;cannot read device %v\n&#34;, deviceID)&#xA;&#x9;&#x9;&#x9;return&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;if img.Empty() {&#xA;&#x9;&#x9;&#x9;continue&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;// detect faces&#xA;&#x9;&#x9;rects := classifier.DetectMultiScale(img)&#xA;&#x9;&#x9;fmt.Printf(&#34;found %d faces\n&#34;, len(rects))&#xA;&#xA;&#x9;&#x9;// draw a rectangle around each face on the original image&#xA;&#x9;&#x9;for _, r := range rects {&#xA;&#x9;&#x9;&#x9;gocv.Rectangle(&amp;amp;img, r, blue, 3)&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;// show the image in the window, and wait 1 millisecond&#xA;&#x9;&#x9;window.IMShow(img)&#xA;&#x9;&#x9;window.WaitKey(1)&#xA;&#x9;}&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;More examples&lt;/h3&gt; &#xA;&lt;p&gt;There are examples in the &lt;a href=&#34;https://raw.githubusercontent.com/hybridgroup/gocv/release/cmd&#34;&gt;cmd directory&lt;/a&gt; of this repo in the form of various useful command line utilities, such as &lt;a href=&#34;https://raw.githubusercontent.com/hybridgroup/gocv/release/cmd/saveimage&#34;&gt;capturing an image file&lt;/a&gt;, &lt;a href=&#34;https://raw.githubusercontent.com/hybridgroup/gocv/release/cmd/mjpeg-streamer&#34;&gt;streaming mjpeg video&lt;/a&gt;, &lt;a href=&#34;https://raw.githubusercontent.com/hybridgroup/gocv/release/cmd/counter&#34;&gt;counting objects that cross a line&lt;/a&gt;, and &lt;a href=&#34;https://raw.githubusercontent.com/hybridgroup/gocv/release/cmd/tf-classifier&#34;&gt;using OpenCV with Tensorflow for object classification&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;How to install&lt;/h2&gt; &#xA;&lt;p&gt;To install GoCV, you must first have the matching version of OpenCV installed on your system. The current release of GoCV requires OpenCV 4.8.0.&lt;/p&gt; &#xA;&lt;p&gt;Here are instructions for Ubuntu, Raspian, macOS, and Windows.&lt;/p&gt; &#xA;&lt;h2&gt;Ubuntu/Linux&lt;/h2&gt; &#xA;&lt;h3&gt;Installation&lt;/h3&gt; &#xA;&lt;p&gt;You can use &lt;code&gt;make&lt;/code&gt; to install OpenCV 4.8.0 with the handy &lt;code&gt;Makefile&lt;/code&gt; included with this repo. If you already have installed OpenCV, you do not need to do so again. The installation performed by the &lt;code&gt;Makefile&lt;/code&gt; is minimal, so it may remove OpenCV options such as Python or Java wrappers if you have already installed OpenCV some other way.&lt;/p&gt; &#xA;&lt;h4&gt;Quick Install&lt;/h4&gt; &#xA;&lt;p&gt;First, change directories to where you want to install GoCV, and then use git to clone the repository to your local machine like this:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;cd $HOME/folder/with/your/src/&#xA;git clone https://github.com/hybridgroup/gocv.git&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Make sure to change &lt;code&gt;$HOME/folder/with/your/src/&lt;/code&gt; to where you actually want to save the code.&lt;/p&gt; &#xA;&lt;p&gt;Once you have cloned the repo, the following commands should do everything to download and install OpenCV 4.8.0 on Linux:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;cd gocv&#xA;make install&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If you need static opencv libraries&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;make install BUILD_SHARED_LIBS=OFF&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If it works correctly, at the end of the entire process, the following message should be displayed:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;gocv version: 0.34.0&#xA;opencv lib version: 4.8.0&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;That&#39;s it, now you are ready to use GoCV.&lt;/p&gt; &#xA;&lt;h4&gt;Using CUDA with GoCV&lt;/h4&gt; &#xA;&lt;p&gt;See the &lt;a href=&#34;https://raw.githubusercontent.com/hybridgroup/gocv/release/cuda&#34;&gt;cuda directory&lt;/a&gt; for information.&lt;/p&gt; &#xA;&lt;h4&gt;Using OpenVINO with GoCV&lt;/h4&gt; &#xA;&lt;p&gt;See the &lt;a href=&#34;https://raw.githubusercontent.com/hybridgroup/gocv/release/openvino&#34;&gt;openvino directory&lt;/a&gt; for information.&lt;/p&gt; &#xA;&lt;h4&gt;Make Install for OpenVINO and Cuda&lt;/h4&gt; &#xA;&lt;p&gt;The following commands should do everything to download and install OpenCV 4.8.0 with CUDA and OpenVINO on Linux. Make sure to change &lt;code&gt;$HOME/folder/with/your/src/&lt;/code&gt; to the directory you used to clone GoCV:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;cd $HOME/folder/with/gocv/&#xA;make install_all&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If you need static opencv libraries&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;make install_all BUILD_SHARED_LIBS=OFF&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If it works correctly, at the end of the entire process, the following message should be displayed:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;gocv version: 0.34.0&#xA;opencv lib version: 4.8.0-openvino&#xA;cuda information:&#xA;  Device 0:  &#34;GeForce MX150&#34;  2003Mb, sm_61, Driver/Runtime ver.10.0/10.0&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Complete Install&lt;/h4&gt; &#xA;&lt;p&gt;If you have already done the &#34;Quick Install&#34; as described above, you do not need to run any further commands. For the curious, or for custom installations, here are the details for each of the steps that are performed when you run &lt;code&gt;make install&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;First, change directories to where you want to install GoCV, and then use git to clone the repository to your local machine like this:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;cd $HOME/folder/with/your/src/&#xA;git clone https://github.com/hybridgroup/gocv.git&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Make sure to change &lt;code&gt;$HOME/folder/with/your/src/&lt;/code&gt; to where you actually want to save the code.&lt;/p&gt; &#xA;&lt;h5&gt;Install required packages&lt;/h5&gt; &#xA;&lt;p&gt;First, you need to change the current directory to the location where you cloned the GoCV repo, so you can access the &lt;code&gt;Makefile&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;cd $HOME/folder/with/your/src/gocv&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Next, you need to update the system, and install any required packages:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;make deps&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Download source&lt;/h4&gt; &#xA;&lt;p&gt;Now, download the OpenCV 4.8.0 and OpenCV Contrib source code:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;make download&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Build&lt;/h4&gt; &#xA;&lt;p&gt;Build everything. This will take quite a while:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;make build&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If you need static opencv libraries&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;make build BUILD_SHARED_LIBS=OFF&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Install&lt;/h4&gt; &#xA;&lt;p&gt;Once the code is built, you are ready to install:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;make sudo_install&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Verifying the installation&lt;/h3&gt; &#xA;&lt;p&gt;To verify your installation you can run one of the included examples.&lt;/p&gt; &#xA;&lt;p&gt;First, change the current directory to the location of the GoCV repo:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;cd $HOME/src/gocv.io/x/gocv&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Now you should be able to build or run any of the examples:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;go run ./cmd/version/main.go&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The version program should output the following:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;gocv version: 0.34.0&#xA;opencv lib version: 4.8.0&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Cleanup extra files&lt;/h4&gt; &#xA;&lt;p&gt;After the installation is complete, you can remove the extra files and folders:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;make clean&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Custom Environment&lt;/h3&gt; &#xA;&lt;p&gt;By default, pkg-config is used to determine the correct flags for compiling and linking OpenCV. This behavior can be disabled by supplying &lt;code&gt;-tags customenv&lt;/code&gt; when building/running your application. When building with this tag you will need to supply the CGO environment variables yourself.&lt;/p&gt; &#xA;&lt;p&gt;For example:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;export CGO_CPPFLAGS=&#34;-I/usr/local/include&#34;&#xA;export CGO_LDFLAGS=&#34;-L/usr/local/lib -lopencv_core -lopencv_face -lopencv_videoio -lopencv_imgproc -lopencv_highgui -lopencv_imgcodecs -lopencv_objdetect -lopencv_features2d -lopencv_video -lopencv_dnn -lopencv_xfeatures2d&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Please note that you will need to run these 2 lines of code one time in your current session in order to build or run the code, in order to setup the needed ENV variables. Once you have done so, you can execute code that uses GoCV with your custom environment like this:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;go run -tags customenv ./cmd/version/main.go&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Docker&lt;/h3&gt; &#xA;&lt;p&gt;The project now provides &lt;code&gt;Dockerfile&lt;/code&gt; which lets you build &lt;a href=&#34;https://gocv.io/&#34;&gt;GoCV&lt;/a&gt; Docker image which you can then use to build and run &lt;code&gt;GoCV&lt;/code&gt; applications in Docker containers. The &lt;code&gt;Makefile&lt;/code&gt; contains &lt;code&gt;docker&lt;/code&gt; target which lets you build Docker image with a single command:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;make docker&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;By default Docker image built by running the command above ships &lt;a href=&#34;https://golang.org/&#34;&gt;Go&lt;/a&gt; version &lt;code&gt;1.20.2&lt;/code&gt;, but if you would like to build an image which uses different version of &lt;code&gt;Go&lt;/code&gt; you can override the default value when running the target command:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;make docker GOVERSION=&#39;1.19.4&#39;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Running GUI programs in Docker on macOS&lt;/h4&gt; &#xA;&lt;p&gt;Sometimes your &lt;code&gt;GoCV&lt;/code&gt; programs create graphical interfaces like windows eg. when you use &lt;code&gt;gocv.Window&lt;/code&gt; type when you display an image or video stream. Running the programs which create graphical interfaces in Docker container on macOS is unfortunately a bit elaborate, but not impossible. First you need to satisfy the following prerequisites:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;install &lt;a href=&#34;https://www.xquartz.org/&#34;&gt;xquartz&lt;/a&gt;. You can also install xquartz using &lt;a href=&#34;https://brew.sh/&#34;&gt;homebrew&lt;/a&gt; by running &lt;code&gt;brew cask install xquartz&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;install &lt;a href=&#34;https://linux.die.net/man/1/socat&#34;&gt;socat&lt;/a&gt; &lt;code&gt;brew install socat&lt;/code&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Note, you will have to log out and log back in to your machine once you have installed &lt;code&gt;xquartz&lt;/code&gt;. This is so the X window system is reloaded.&lt;/p&gt; &#xA;&lt;p&gt;Once you have installed all the prerequisites you need to allow connections from network clients to &lt;code&gt;xquartz&lt;/code&gt;. Here is how you do that. First run the following command to open &lt;code&gt;xquart&lt;/code&gt; so you can configure it:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;open -a xquartz&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Click on &lt;em&gt;Security&lt;/em&gt; tab in preferences and check the &#34;Allow connections&#34; box:&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/hybridgroup/gocv/release/images/xquartz.png&#34; alt=&#34;app image&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;Next, you need to create a TCP proxy using &lt;code&gt;socat&lt;/code&gt; which will stream &lt;a href=&#34;https://en.wikipedia.org/wiki/X_Window_System&#34;&gt;X Window&lt;/a&gt; data into &lt;code&gt;xquart&lt;/code&gt;. Before you start the proxy you need to make sure that there is no process listening in port &lt;code&gt;6000&lt;/code&gt;. The following command should &lt;strong&gt;not&lt;/strong&gt; return any results:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;lsof -i TCP:6000&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Now you can start a local proxy which will proxy the X Window traffic into xquartz which acts a your local X server:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;socat TCP-LISTEN:6000,reuseaddr,fork UNIX-CLIENT:\&#34;$DISPLAY\&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;You are now finally ready to run your &lt;code&gt;GoCV&lt;/code&gt; GUI programs in Docker containers. In order to make everything work you must set &lt;code&gt;DISPLAY&lt;/code&gt; environment variables as shown in a sample command below:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;docker run -it --rm -e DISPLAY=docker.for.mac.host.internal:0 your-gocv-app&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note, since Docker for MacOS does not provide any video device support, you won&#39;t be able run GoCV apps which require camera.&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;h3&gt;Alpine 3.7 Docker image&lt;/h3&gt; &#xA;&lt;p&gt;There is a Docker image with Alpine 3.7 that has been created by project contributor &lt;a href=&#34;https://github.com/denismakogon&#34;&gt;@denismakogon&lt;/a&gt;. You can find it located at &lt;a href=&#34;https://github.com/denismakogon/gocv-alpine&#34;&gt;https://github.com/denismakogon/gocv-alpine&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Raspbian&lt;/h2&gt; &#xA;&lt;h3&gt;Installation&lt;/h3&gt; &#xA;&lt;p&gt;We have a special installation for the Raspberry Pi that includes some hardware optimizations. You use &lt;code&gt;make&lt;/code&gt; to install OpenCV 4.8.0 with the handy &lt;code&gt;Makefile&lt;/code&gt; included with this repo. If you already have installed OpenCV, you do not need to do so again. The installation performed by the &lt;code&gt;Makefile&lt;/code&gt; is minimal, so it may remove OpenCV options such as Python or Java wrappers if you have already installed OpenCV some other way.&lt;/p&gt; &#xA;&lt;h4&gt;Quick Install&lt;/h4&gt; &#xA;&lt;p&gt;First, change directories to where you want to install GoCV, and then use git to clone the repository to your local machine like this:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;cd $HOME/folder/with/your/src/&#xA;git clone https://github.com/hybridgroup/gocv.git&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Make sure to change &lt;code&gt;$HOME/folder/with/your/src/&lt;/code&gt; to where you actually want to save the code.&lt;/p&gt; &#xA;&lt;p&gt;The following make command should do everything to download and install OpenCV 4.8.0 on Raspbian:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;cd $HOME/folder/with/your/src/gocv&#xA;make install_raspi&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If it works correctly, at the end of the entire process, the following message should be displayed:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;gocv version: 0.34.0&#xA;opencv lib version: 4.8.0&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;That&#39;s it, now you are ready to use GoCV.&lt;/p&gt; &#xA;&lt;h2&gt;macOS&lt;/h2&gt; &#xA;&lt;h3&gt;Installation&lt;/h3&gt; &#xA;&lt;p&gt;You can install OpenCV 4.8.0 using Homebrew.&lt;/p&gt; &#xA;&lt;p&gt;If you already have an earlier version of OpenCV (3.4.x) installed, you should probably remove it before installing the new version:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;brew uninstall opencv&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;You can then install OpenCV 4.8.0:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;brew install opencv&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;pkgconfig Installation&lt;/h3&gt; &#xA;&lt;p&gt;pkg-config is used to determine the correct flags for compiling and linking OpenCV. You can install it by using Homebrew:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;brew install pkgconfig&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Verifying the installation&lt;/h3&gt; &#xA;&lt;p&gt;To verify your installation you can run one of the included examples.&lt;/p&gt; &#xA;&lt;p&gt;First, change the current directory to the location of the GoCV repo:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;cd $HOME/folder/with/your/src/gocv&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Now you should be able to build or run any of the examples:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;go run ./cmd/version/main.go&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The version program should output the following:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;gocv version: 0.34.0&#xA;opencv lib version: 4.8.0&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Custom Environment&lt;/h3&gt; &#xA;&lt;p&gt;By default, pkg-config is used to determine the correct flags for compiling and linking OpenCV. This behavior can be disabled by supplying &lt;code&gt;-tags customenv&lt;/code&gt; when building/running your application. When building with this tag you will need to supply the CGO environment variables yourself.&lt;/p&gt; &#xA;&lt;p&gt;For example:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;export CGO_CXXFLAGS=&#34;--std=c++11&#34;&#xA;export CGO_CPPFLAGS=&#34;-I/usr/local/Cellar/opencv/4.8.0/include&#34;&#xA;export CGO_LDFLAGS=&#34;-L/usr/local/Cellar/opencv/4.8.0/lib -lopencv_stitching -lopencv_superres -lopencv_videostab -lopencv_aruco -lopencv_bgsegm -lopencv_bioinspired -lopencv_ccalib -lopencv_dnn_objdetect -lopencv_dpm -lopencv_face -lopencv_photo -lopencv_fuzzy -lopencv_hfs -lopencv_img_hash -lopencv_line_descriptor -lopencv_optflow -lopencv_reg -lopencv_rgbd -lopencv_saliency -lopencv_stereo -lopencv_structured_light -lopencv_phase_unwrapping -lopencv_surface_matching -lopencv_tracking -lopencv_datasets -lopencv_dnn -lopencv_plot -lopencv_xfeatures2d -lopencv_shape -lopencv_video -lopencv_ml -lopencv_ximgproc -lopencv_calib3d -lopencv_features2d -lopencv_highgui -lopencv_videoio -lopencv_flann -lopencv_xobjdetect -lopencv_imgcodecs -lopencv_objdetect -lopencv_xphoto -lopencv_imgproc -lopencv_core&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Please note that you will need to run these 3 lines of code one time in your current session in order to build or run the code, in order to setup the needed ENV variables. Once you have done so, you can execute code that uses GoCV with your custom environment like this:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;go run -tags customenv ./cmd/version/main.go&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Windows&lt;/h2&gt; &#xA;&lt;h3&gt;Installation&lt;/h3&gt; &#xA;&lt;p&gt;The following assumes that you are running a 64-bit version of Windows 10.&lt;/p&gt; &#xA;&lt;p&gt;In order to build and install OpenCV 4.8.0 on Windows, you must first download and install MinGW-W64 and CMake, as follows.&lt;/p&gt; &#xA;&lt;h4&gt;MinGW-W64&lt;/h4&gt; &#xA;&lt;p&gt;Download and run the MinGW-W64 compiler installer from &lt;a href=&#34;https://sourceforge.net/projects/mingw-w64/files/Toolchains%20targetting%20Win32/Personal%20Builds/mingw-builds/8.1.0/&#34;&gt;https://sourceforge.net/projects/mingw-w64/files/Toolchains%20targetting%20Win32/Personal%20Builds/mingw-builds/8.1.0/&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;The latest version of the MinGW-W64 toolchain is &lt;code&gt;8.1.0&lt;/code&gt;, but any version from &lt;code&gt;8.X&lt;/code&gt; on should work.&lt;/p&gt; &#xA;&lt;p&gt;Choose the options for &#34;posix&#34; threads, and for &#34;seh&#34; exceptions handling, then install to the default location &lt;code&gt;c:\Program Files\mingw-w64\x86_64-8.1.0-posix-seh-rt_v6-rev0&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;Add the &lt;code&gt;C:\Program Files\mingw-w64\x86_64-8.1.0-posix-seh-rt_v6-rev0\mingw64\bin&lt;/code&gt; path to your System Path.&lt;/p&gt; &#xA;&lt;h4&gt;CMake&lt;/h4&gt; &#xA;&lt;p&gt;Download and install CMake &lt;a href=&#34;https://cmake.org/download/&#34;&gt;https://cmake.org/download/&lt;/a&gt; to the default location. CMake installer will add CMake to your system path.&lt;/p&gt; &#xA;&lt;h4&gt;OpenCV 4.8.0 and OpenCV Contrib Modules&lt;/h4&gt; &#xA;&lt;p&gt;The following commands should do everything to download and install OpenCV 4.8.0 on Windows:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;chdir %GOPATH%\src\gocv.io\x\gocv&#xA;win_build_opencv.cmd&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;It might take up to one hour.&lt;/p&gt; &#xA;&lt;p&gt;Last, add &lt;code&gt;C:\opencv\build\install\x64\mingw\bin&lt;/code&gt; to your System Path.&lt;/p&gt; &#xA;&lt;h3&gt;Verifying the installation&lt;/h3&gt; &#xA;&lt;p&gt;Change the current directory to the location of the GoCV repo:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;chdir %GOPATH%\src\gocv.io\x\gocv&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Now you should be able to build or run any of the command examples:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;go run cmd\version\main.go&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The version program should output the following:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;gocv version: 0.34.0&#xA;opencv lib version: 4.8.0&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;That&#39;s it, now you are ready to use GoCV.&lt;/p&gt; &#xA;&lt;h3&gt;Custom Environment&lt;/h3&gt; &#xA;&lt;p&gt;By default, OpenCV is expected to be in &lt;code&gt;C:\opencv\build\install\include&lt;/code&gt;. This behavior can be disabled by supplying &lt;code&gt;-tags customenv&lt;/code&gt; when building/running your application. When building with this tag you will need to supply the CGO environment variables yourself.&lt;/p&gt; &#xA;&lt;p&gt;Due to the way OpenCV produces DLLs, including the version in the name, using this method is required if you&#39;re using a different version of OpenCV.&lt;/p&gt; &#xA;&lt;p&gt;For example:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;set CGO_CXXFLAGS=&#34;--std=c++11&#34;&#xA;set CGO_CPPFLAGS=-IC:\opencv\build\install\include&#xA;set CGO_LDFLAGS=-LC:\opencv\build\install\x64\mingw\lib -lopencv_core480 -lopencv_face480 -lopencv_videoio480 -lopencv_imgproc480 -lopencv_highgui480 -lopencv_imgcodecs480 -lopencv_objdetect480 -lopencv_features2d480 -lopencv_video480 -lopencv_dnn480 -lopencv_xfeatures2d480 -lopencv_plot480 -lopencv_tracking480 -lopencv_img_hash480&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Please note that you will need to run these 3 lines of code one time in your current session in order to build or run the code, in order to setup the needed ENV variables. Once you have done so, you can execute code that uses GoCV with your custom environment like this:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;go run -tags customenv cmd\version\main.go&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Android&lt;/h2&gt; &#xA;&lt;p&gt;There is some work in progress for running GoCV on Android using Gomobile. For information on how to install OpenCV/GoCV for Android, please see: &lt;a href=&#34;https://gist.github.com/ogero/c19458cf64bd3e91faae85c3ac887481&#34;&gt;https://gist.github.com/ogero/c19458cf64bd3e91faae85c3ac887481&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;See original discussion here: &lt;a href=&#34;https://github.com/hybridgroup/gocv/issues/235&#34;&gt;https://github.com/hybridgroup/gocv/issues/235&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Profiling&lt;/h2&gt; &#xA;&lt;p&gt;Since memory allocations for images in GoCV are done through C based code, the go garbage collector will not clean all resources associated with a &lt;code&gt;Mat&lt;/code&gt;. As a result, any &lt;code&gt;Mat&lt;/code&gt; created &lt;em&gt;must&lt;/em&gt; be closed to avoid memory leaks.&lt;/p&gt; &#xA;&lt;p&gt;To ease the detection and repair of the resource leaks, GoCV provides a &lt;code&gt;Mat&lt;/code&gt; profiler that records when each &lt;code&gt;Mat&lt;/code&gt; is created and closed. Each time a &lt;code&gt;Mat&lt;/code&gt; is allocated, the stack trace is added to the profile. When it is closed, the stack trace is removed. See the &lt;a href=&#34;https://golang.org/pkg/runtime/pprof/#Profile&#34;&gt;runtime/pprof documentation&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;In order to include the MatProfile custom profiler, you MUST build or run your application or tests using the &lt;code&gt;-tags matprofile&lt;/code&gt; build tag. For example:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;go run -tags matprofile cmd/version/main.go&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;You can get the profile&#39;s count at any time using:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;gocv.MatProfile.Count()&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;You can display the current entries (the stack traces) with:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;var b bytes.Buffer&#xA;gocv.MatProfile.WriteTo(&amp;amp;b, 1)&#xA;fmt.Print(b.String())&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;This can be very helpful to track down a leak. For example, suppose you have the following nonsense program:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;package main&#xA;&#xA;import (&#xA;&#x9;&#34;bytes&#34;&#xA;&#x9;&#34;fmt&#34;&#xA;&#xA;&#x9;&#34;gocv.io/x/gocv&#34;&#xA;)&#xA;&#xA;func leak() {&#xA;&#x9;gocv.NewMat()&#xA;}&#xA;&#xA;func main() {&#xA;&#x9;fmt.Printf(&#34;initial MatProfile count: %v\n&#34;, gocv.MatProfile.Count())&#xA;&#x9;leak()&#xA;&#xA;&#x9;fmt.Printf(&#34;final MatProfile count: %v\n&#34;, gocv.MatProfile.Count())&#xA;&#x9;var b bytes.Buffer&#xA;&#x9;gocv.MatProfile.WriteTo(&amp;amp;b, 1)&#xA;&#x9;fmt.Print(b.String())&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Running this program produces the following output:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;initial MatProfile count: 0&#xA;final MatProfile count: 1&#xA;gocv.io/x/gocv.Mat profile: total 1&#xA;1 @ 0x40b936c 0x40b93b7 0x40b94e2 0x40b95af 0x402cd87 0x40558e1&#xA;#&#x9;0x40b936b&#x9;gocv.io/x/gocv.newMat+0x4b&#x9;/go/src/gocv.io/x/gocv/core.go:153&#xA;#&#x9;0x40b93b6&#x9;gocv.io/x/gocv.NewMat+0x26&#x9;/go/src/gocv.io/x/gocv/core.go:159&#xA;#&#x9;0x40b94e1&#x9;main.leak+0x21&#x9;&#x9;&#x9;/go/src/github.com/dougnd/gocvprofexample/main.go:11&#xA;#&#x9;0x40b95ae&#x9;main.main+0xae&#x9;&#x9;&#x9;/go/src/github.com/dougnd/gocvprofexample/main.go:16&#xA;#&#x9;0x402cd86&#x9;runtime.main+0x206&#x9;&#x9;/usr/local/Cellar/go/1.11.1/libexec/src/runtime/proc.go:201&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;We can see that this program would leak memory. As it exited, it had one &lt;code&gt;Mat&lt;/code&gt; that was never closed. The stack trace points to exactly which line the allocation happened on (line 11, the &lt;code&gt;gocv.NewMat()&lt;/code&gt;).&lt;/p&gt; &#xA;&lt;p&gt;Furthermore, if the program is a long running process or if GoCV is being used on a web server, it may be helpful to install the HTTP interface )). For example:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;package main&#xA;&#xA;import (&#xA;&#x9;&#34;net/http&#34;&#xA;&#x9;_ &#34;net/http/pprof&#34;&#xA;&#x9;&#34;time&#34;&#xA;&#xA;&#x9;&#34;gocv.io/x/gocv&#34;&#xA;)&#xA;&#xA;func leak() {&#xA;&#x9;gocv.NewMat()&#xA;}&#xA;&#xA;func main() {&#xA;&#x9;go func() {&#xA;&#x9;&#x9;ticker := time.NewTicker(time.Second)&#xA;&#x9;&#x9;for {&#xA;&#x9;&#x9;&#x9;&amp;lt;-ticker.C&#xA;&#x9;&#x9;&#x9;leak()&#xA;&#x9;&#x9;}&#xA;&#x9;}()&#xA;&#xA;&#x9;http.ListenAndServe(&#34;localhost:6060&#34;, nil)&#xA;}&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;This will leak a &lt;code&gt;Mat&lt;/code&gt; once per second. You can see the current profile count and stack traces by going to the installed HTTP debug interface: &lt;a href=&#34;http://localhost:6060/debug/pprof/gocv.io/x/gocv.Mat?debug=1&#34;&gt;http://localhost:6060/debug/pprof/gocv.io/x/gocv.Mat&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;How to contribute&lt;/h2&gt; &#xA;&lt;p&gt;Please take a look at our &lt;a href=&#34;https://raw.githubusercontent.com/hybridgroup/gocv/release/CONTRIBUTING.md&#34;&gt;CONTRIBUTING.md&lt;/a&gt; document to understand our contribution guidelines.&lt;/p&gt; &#xA;&lt;p&gt;Then check out our &lt;a href=&#34;https://raw.githubusercontent.com/hybridgroup/gocv/release/ROADMAP.md&#34;&gt;ROADMAP.md&lt;/a&gt; document to know what to work on next.&lt;/p&gt; &#xA;&lt;h2&gt;Why this project exists&lt;/h2&gt; &#xA;&lt;p&gt;The &lt;a href=&#34;https://github.com/go-opencv/go-opencv&#34;&gt;https://github.com/go-opencv/go-opencv&lt;/a&gt; package for Go and OpenCV does not support any version above OpenCV 2.x, and work on adding support for OpenCV 3 had stalled for over a year, mostly due to the complexity of &lt;a href=&#34;http://swig.org/&#34;&gt;SWIG&lt;/a&gt;. That is why we started this project.&lt;/p&gt; &#xA;&lt;p&gt;The GoCV package uses a C-style wrapper around the OpenCV 4 C++ classes to avoid having to deal with applying SWIG to a huge existing codebase. The mappings are intended to match as closely as possible to the original OpenCV project structure, to make it easier to find things, and to be able to figure out where to add support to GoCV for additional OpenCV image filters, algorithms, and other features.&lt;/p&gt; &#xA;&lt;p&gt;For example, the &lt;a href=&#34;https://github.com/opencv/opencv/tree/master/modules/videoio&#34;&gt;OpenCV &lt;code&gt;videoio&lt;/code&gt; module&lt;/a&gt; wrappers can be found in the GoCV package in the &lt;code&gt;videoio.*&lt;/code&gt; files.&lt;/p&gt; &#xA;&lt;p&gt;This package was inspired by the original &lt;a href=&#34;https://github.com/go-opencv/go-opencv&#34;&gt;https://github.com/go-opencv/go-opencv&lt;/a&gt; project, the blog post &lt;a href=&#34;https://medium.com/@peterleyssens/using-opencv-3-from-golang-5510c312a3c&#34;&gt;https://medium.com/@peterleyssens/using-opencv-3-from-golang-5510c312a3c&lt;/a&gt; and the repo at &lt;a href=&#34;https://github.com/sensorbee/opencv&#34;&gt;https://github.com/sensorbee/opencv&lt;/a&gt; thank you all!&lt;/p&gt; &#xA;&lt;h2&gt;License&lt;/h2&gt; &#xA;&lt;p&gt;Licensed under the Apache 2.0 license. Copyright (c) 2017-2021 The Hybrid Group.&lt;/p&gt; &#xA;&lt;p&gt;Logo generated by GopherizeMe - &lt;a href=&#34;https://gopherize.me&#34;&gt;https://gopherize.me&lt;/a&gt;&lt;/p&gt;</summary>
  </entry>
</feed>