<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Go Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2024-03-12T01:29:21Z</updated>
  <subtitle>Daily Trending of Go in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>pwh-pwh/aiwechat-vercel</title>
    <updated>2024-03-12T01:29:21Z</updated>
    <id>tag:github.com,2024-03-12:/pwh-pwh/aiwechat-vercel</id>
    <link href="https://github.com/pwh-pwh/aiwechat-vercel" rel="alternate"></link>
    <summary type="html">&lt;p&gt;使用vercel的functions，将ai功能加入微信公众号&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;aiwechat-vercel&lt;/h1&gt; &#xA;&lt;p&gt;使用&lt;a href=&#34;https://vercel.com/dashboard&#34;&gt;vercel&lt;/a&gt;的functions，将ai功能加入微信公众号&lt;/p&gt; &#xA;&lt;h3&gt;介绍&lt;/h3&gt; &#xA;&lt;p&gt;无需服务器，门槛低，只需一个可以绑定到vercel的域名(无需备案)即可，基本0成本&lt;/p&gt; &#xA;&lt;h3&gt;快速开始&lt;/h3&gt; &#xA;&lt;p&gt;提前到vercel的dashboard的Storage创建redis数据库&lt;/p&gt; &#xA;&lt;p&gt;fork本项目，到vercel点击构建,环境变量填写参数，在vercel该项目详情页面的Storage选择连接前面创建的redis数据库 ,成功后vercel会自动配置KV_URL环境变量&lt;/p&gt; &#xA;&lt;h4&gt;数据库配置详情&lt;/h4&gt; &#xA;&lt;p&gt;图片步骤:&lt;/p&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;&lt;img src=&#34;http://mmbiz.qpic.cn/mmbiz_jpg/6q5SCtonIfFYZpvZdOUbibQBicXkllyO3K6XOp2zUv6PE3e1tqpfYA7wSYRWByZX9Wibibq9PDr6ML4iaiacTWNAaI9Q/0&#34; alt=&#34;config&#34;&gt;&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;p&gt;更多配置&lt;a href=&#34;https://raw.githubusercontent.com/pwh-pwh/aiwechat-vercel/master/conf/.env.sample&#34;&gt;config&lt;/a&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-dotenv&#34;&gt;GPT_TOKEN=sk-*** 你的gpt token&#xA;GPT_URL=https://xxx  代理gpt服务器(选填，默认openai官网api 例如https://api.openai.com/v1)&#xA;gptModel=gpt-3.5-turbo gpt模型(选填,默认gpt-3.5-turbo)&#xA;WX_TOKEN=*** 微信公众号开发平台设置的token&#xA;botType=** 机器人类型 目前支持(gpt,echo,spark,qwen,gemini)例如botType=gpt&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;如何检查是否配置成功&lt;/p&gt; &#xA;&lt;p&gt;部署后访问 vercel提供的域名/api/check 页面返回check ok即可&lt;/p&gt; &#xA;&lt;p&gt;到域名提供商，域名增加&lt;code&gt;cname&lt;/code&gt;解析到&lt;code&gt;cname-china.vercel-dns.com&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;到vercel的该项目添加自定义域名(使用国内网络在访问你的域名/api/check看看能否访问)&lt;/p&gt; &#xA;&lt;p&gt;微信公众号配置:&lt;/p&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;微信公众号。&lt;a href=&#34;https://mp.weixin.qq.com/&#34;&gt;微信公众平台&lt;/a&gt;后台管理页面上找到&lt;code&gt;设置与开发&lt;/code&gt;-&lt;code&gt;基本配置&lt;/code&gt;-&lt;code&gt;服务器配置&lt;/code&gt;，修改服务器地址url为&lt;code&gt;https://你的域名/api/wx&lt;/code&gt; 消息加解密选择明文模式(后续添加支持加密)&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;p&gt;录制了一期简单的视频教程供参考&lt;a href=&#34;https://b23.tv/BNWDKu1&#34;&gt;b站&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;也有大佬写了自己在cloudflare部署的教程&lt;a href=&#34;https://github.com/pwh-pwh/aiwechat-vercel/discussions/22&#34;&gt;discussions&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h3&gt;功能支持&lt;/h3&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;支持接入gpt,星火,通义千问,gemini&lt;/li&gt; &#xA; &lt;li&gt;超时回复(go协程很好用)&lt;/li&gt; &#xA; &lt;li&gt;支持连续问答(只需要在vercel创建一个redis实例，在本项目下的Storage设置连接即可，vercel会自动配置KV_URL环境变量，默认记忆对话30分钟内的内容)&lt;/li&gt; &#xA; &lt;li&gt;隐藏功能 你的域名/api/chat?msg=你的问题 (仅用于测试是否配置gpt成功,也可用作于简单的接口api,中文乱码问题已修复)&lt;/li&gt; &#xA; &lt;li&gt;检查配置：你的域名/api/check （显示当前bot的配置信息是否正确）&lt;/li&gt; &#xA; &lt;li&gt;支持图床功能，即发送图片给公众号，返回图片url&lt;/li&gt; &#xA; &lt;li&gt;被关注自定义回复&lt;/li&gt; &#xA; &lt;li&gt;支持设置system prompt&lt;/li&gt; &#xA; &lt;li&gt;支持指令&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h3&gt;指令支持&lt;/h3&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;/help：查看帮助&lt;/li&gt; &#xA; &lt;li&gt;/gpt：切换与GPT对话&lt;/li&gt; &#xA; &lt;li&gt;/spark：切换与星火对话&lt;/li&gt; &#xA; &lt;li&gt;/qwen：切换与通义千问对话&lt;/li&gt; &#xA; &lt;li&gt;/gemini：切换与gemini对话&lt;/li&gt; &#xA; &lt;li&gt;/prompt: 你的prompt: 设置system prompt&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;有其它想要支持的指令欢迎提issue或者pr (例如查看天气啥的)&lt;/p&gt; &#xA;&lt;h3&gt;后续计划添加指令&lt;/h3&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;/getpt: 获取当前设置prompt&lt;/li&gt; &#xA; &lt;li&gt;/cpt: 清除当前设置prompt&lt;/li&gt; &#xA; &lt;li&gt;/clear: 清除对话列表&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h3&gt;后续&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;支持国内大部分可以白嫖的ai 如星火(已支持，感谢大佬pr)，通义千问(已支持，感谢大佬pr)等(有想要添加的可以提个issue)&lt;/li&gt; &#xA; &lt;li&gt;增加指令控制(已支持)，增加管理员设置&lt;/li&gt; &#xA; &lt;li&gt;关键词自定义回复&lt;/li&gt; &#xA; &lt;li&gt;支持限制问答次数&lt;/li&gt; &#xA; &lt;li&gt;支持企业微信群机器人&lt;/li&gt; &#xA; &lt;li&gt;todolist功能，用户可以在机器人管理待办事件&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;杂念&lt;/h3&gt; &#xA;&lt;p&gt;项目起因:偶然看到网上有人使用vercel实现了，自己看了下文档，居然支持go了，就实现了，项目仅供学习参考 也欢迎各位大佬pr&lt;/p&gt; &#xA;&lt;h3&gt;问题汇总&lt;/h3&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;为啥要使用域名? 答: vercel提供的域名国内被墙了，微信无法访问&lt;/li&gt; &#xA; &lt;li&gt;为啥有时候可以回复，有时候没有回复？答: 微信公众号限制答复500多字，超过回复会失败，可以增加限制字数的提示词解决。还有一个原因是答复太久，接口超时了&lt;/li&gt; &#xA; &lt;li&gt;域名需要备案吗?答:不需要，另外也可以在cloudflare托管域名(白嫖一些2级域名，托管上去，可以达到0成本)&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;更多功能探讨&lt;a href=&#34;https://github.com/pwh-pwh/aiwechat-vercel/discussions&#34;&gt;discussions&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h3&gt;Star History&lt;/h3&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://api.star-history.com/svg?repos=pwh-pwh/aiwechat-vercel&amp;amp;type=Date&#34; alt=&#34;Star History Chart&#34;&gt;&lt;/p&gt; &#xA;&lt;h3&gt;项目灵感来源&lt;/h3&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/LuhangRui/spark-wechat-vercel&#34;&gt;spark-wechat-vercel&lt;/a&gt;&lt;/p&gt;</summary>
  </entry>
</feed>