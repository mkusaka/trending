<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Go Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2023-07-09T01:36:46Z</updated>
  <subtitle>Daily Trending of Go in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>rancher/local-path-provisioner</title>
    <updated>2023-07-09T01:36:46Z</updated>
    <id>tag:github.com,2023-07-09:/rancher/local-path-provisioner</id>
    <link href="https://github.com/rancher/local-path-provisioner" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Dynamically provisioning persistent local storage with Kubernetes&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;Local Path Provisioner&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://drone-publish.rancher.io/rancher/local-path-provisioner&#34;&gt;&lt;img src=&#34;https://drone-publish.rancher.io/api/badges/rancher/local-path-provisioner/status.svg?sanitize=true&#34; alt=&#34;Build Status&#34;&gt;&lt;/a&gt;&lt;a href=&#34;https://goreportcard.com/report/github.com/rancher/local-path-provisioner&#34;&gt;&lt;img src=&#34;https://goreportcard.com/badge/github.com/rancher/local-path-provisioner&#34; alt=&#34;Go Report Card&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Overview&lt;/h2&gt; &#xA;&lt;p&gt;Local Path Provisioner provides a way for the Kubernetes users to utilize the local storage in each node. Based on the user configuration, the Local Path Provisioner will create either &lt;code&gt;hostPath&lt;/code&gt; or &lt;code&gt;local&lt;/code&gt; based persistent volume on the node automatically. It utilizes the features introduced by Kubernetes &lt;a href=&#34;https://kubernetes.io/blog/2018/04/13/local-persistent-volumes-beta/&#34;&gt;Local Persistent Volume feature&lt;/a&gt;, but makes it a simpler solution than the built-in &lt;code&gt;local&lt;/code&gt; volume feature in Kubernetes.&lt;/p&gt; &#xA;&lt;h2&gt;Compare to built-in Local Persistent Volume feature in Kubernetes&lt;/h2&gt; &#xA;&lt;h3&gt;Pros&lt;/h3&gt; &#xA;&lt;p&gt;Dynamic provisioning the volume using &lt;a href=&#34;https://kubernetes.io/docs/concepts/storage/volumes/#hostpath&#34;&gt;hostPath&lt;/a&gt; or &lt;a href=&#34;https://kubernetes.io/docs/concepts/storage/volumes/#local&#34;&gt;local&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Currently the Kubernetes &lt;a href=&#34;https://github.com/kubernetes-sigs/sig-storage-local-static-provisioner&#34;&gt;Local Volume provisioner&lt;/a&gt; cannot do dynamic provisioning for the local volumes.&lt;/li&gt; &#xA; &lt;li&gt;Local based persistent volumes are an experimental feature (&lt;a href=&#34;https://raw.githubusercontent.com/rancher/local-path-provisioner/master/examples/pvc-with-local-volume/pvc.yaml&#34;&gt;example usage&lt;/a&gt;).&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Cons&lt;/h3&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;No support for the volume capacity limit currently. &#xA;  &lt;ol&gt; &#xA;   &lt;li&gt;The capacity limit will be ignored for now.&lt;/li&gt; &#xA;  &lt;/ol&gt; &lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h2&gt;Requirement&lt;/h2&gt; &#xA;&lt;p&gt;Kubernetes v1.12+.&lt;/p&gt; &#xA;&lt;h2&gt;Deployment&lt;/h2&gt; &#xA;&lt;h3&gt;Installation&lt;/h3&gt; &#xA;&lt;p&gt;In this setup, the directory &lt;code&gt;/opt/local-path-provisioner&lt;/code&gt; will be used across all the nodes as the path for provisioning (a.k.a, store the persistent volume data). The provisioner will be installed in &lt;code&gt;local-path-storage&lt;/code&gt; namespace by default.&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Stable&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;kubectl apply -f https://raw.githubusercontent.com/rancher/local-path-provisioner/v0.0.24/deploy/local-path-storage.yaml&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Development&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;kubectl apply -f https://raw.githubusercontent.com/rancher/local-path-provisioner/master/deploy/local-path-storage.yaml&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Or, use &lt;code&gt;kustomize&lt;/code&gt; to deploy.&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Stable&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;kustomize build &#34;github.com/rancher/local-path-provisioner/deploy?ref=v0.0.24&#34; | kubectl apply -f -&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Development&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;kustomize build &#34;github.com/rancher/local-path-provisioner/deploy?ref=master&#34; | kubectl apply -f -&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;After installation, you should see something like the following:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ kubectl -n local-path-storage get pod&#xA;NAME                                     READY     STATUS    RESTARTS   AGE&#xA;local-path-provisioner-d744ccf98-xfcbk   1/1       Running   0          7m&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Check and follow the provisioner log using:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;kubectl -n local-path-storage logs -f -l app=local-path-provisioner&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Usage&lt;/h2&gt; &#xA;&lt;p&gt;Create a &lt;code&gt;hostPath&lt;/code&gt; backend Persistent Volume and a pod uses it:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;kubectl create -f https://raw.githubusercontent.com/rancher/local-path-provisioner/master/examples/pvc/pvc.yaml&#xA;kubectl create -f https://raw.githubusercontent.com/rancher/local-path-provisioner/master/examples/pod/pod.yaml&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Or, use &lt;code&gt;kustomize&lt;/code&gt; to deploy them.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;kustomize build &#34;github.com/rancher/local-path-provisioner/examples/pod?ref=master&#34; | kubectl apply -f -&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;You should see the PV has been created:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ kubectl get pv&#xA;NAME                                       CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS    CLAIM                    STORAGECLASS   REASON    AGE&#xA;pvc-bc3117d9-c6d3-11e8-b36d-7a42907dda78   2Gi        RWO            Delete           Bound     default/local-path-pvc   local-path               4s&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The PVC has been bound:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ kubectl get pvc&#xA;NAME             STATUS    VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   AGE&#xA;local-path-pvc   Bound     pvc-bc3117d9-c6d3-11e8-b36d-7a42907dda78   2Gi        RWO            local-path     16s&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;And the Pod started running:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ kubectl get pod&#xA;NAME          READY     STATUS    RESTARTS   AGE&#xA;volume-test   1/1       Running   0          3s&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Write something into the pod&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;kubectl exec volume-test -- sh -c &#34;echo local-path-test &amp;gt; /data/test&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Now delete the pod using&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;kubectl delete -f https://raw.githubusercontent.com/rancher/local-path-provisioner/master/examples/pod/pod.yaml&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;After confirm that the pod is gone, recreated the pod using&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;kubectl create -f https://raw.githubusercontent.com/rancher/local-path-provisioner/master/examples/pod/pod.yaml&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Check the volume content:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ kubectl exec volume-test -- sh -c &#34;cat /data/test&#34;&#xA;local-path-test&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Delete the pod and pvc&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;kubectl delete -f https://raw.githubusercontent.com/rancher/local-path-provisioner/master/examples/pod/pod.yaml&#xA;kubectl delete -f https://raw.githubusercontent.com/rancher/local-path-provisioner/master/examples/pvc/pvc.yaml&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Or, use &lt;code&gt;kustomize&lt;/code&gt; to delete them.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;kustomize build &#34;github.com/rancher/local-path-provisioner/examples/pod?ref=master&#34; | kubectl delete -f -&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The volume content stored on the node will be automatically cleaned up. You can check the log of &lt;code&gt;local-path-provisioner-xxx&lt;/code&gt; for details.&lt;/p&gt; &#xA;&lt;p&gt;Now you&#39;ve verified that the provisioner works as expected.&lt;/p&gt; &#xA;&lt;h2&gt;Configuration&lt;/h2&gt; &#xA;&lt;h3&gt;Customize the ConfigMap&lt;/h3&gt; &#xA;&lt;p&gt;The configuration of the provisioner is a json file &lt;code&gt;config.json&lt;/code&gt;, a Pod template &lt;code&gt;helperPod.yaml&lt;/code&gt; and two bash scripts &lt;code&gt;setup&lt;/code&gt; and &lt;code&gt;teardown&lt;/code&gt;, stored in a config map, e.g.:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;kind: ConfigMap&#xA;apiVersion: v1&#xA;metadata:&#xA;  name: local-path-config&#xA;  namespace: local-path-storage&#xA;data:&#xA;  config.json: |-&#xA;        {&#xA;                &#34;nodePathMap&#34;:[&#xA;                {&#xA;                        &#34;node&#34;:&#34;DEFAULT_PATH_FOR_NON_LISTED_NODES&#34;,&#xA;                        &#34;paths&#34;:[&#34;/opt/local-path-provisioner&#34;]&#xA;                },&#xA;                {&#xA;                        &#34;node&#34;:&#34;yasker-lp-dev1&#34;,&#xA;                        &#34;paths&#34;:[&#34;/opt/local-path-provisioner&#34;, &#34;/data1&#34;]&#xA;                },&#xA;                {&#xA;                        &#34;node&#34;:&#34;yasker-lp-dev3&#34;,&#xA;                        &#34;paths&#34;:[]&#xA;                }&#xA;                ]&#xA;        }&#xA;  setup: |-&#xA;        #!/bin/sh&#xA;        set -eu&#xA;        mkdir -m 0777 -p &#34;$VOL_DIR&#34;&#xA;  teardown: |-&#xA;        #!/bin/sh&#xA;        set -eu&#xA;        rm -rf &#34;$VOL_DIR&#34;&#xA;  helperPod.yaml: |-&#xA;        apiVersion: v1&#xA;        kind: Pod&#xA;        metadata:&#xA;          name: helper-pod&#xA;        spec:&#xA;          containers:&#xA;          - name: helper-pod&#xA;            image: busybox&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;&lt;code&gt;config.json&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;h5&gt;Definition&lt;/h5&gt; &#xA;&lt;p&gt;&lt;code&gt;nodePathMap&lt;/code&gt; is the place user can customize where to store the data on each node.&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;If one node is not listed on the &lt;code&gt;nodePathMap&lt;/code&gt;, and Kubernetes wants to create volume on it, the paths specified in &lt;code&gt;DEFAULT_PATH_FOR_NON_LISTED_NODES&lt;/code&gt; will be used for provisioning.&lt;/li&gt; &#xA; &lt;li&gt;If one node is listed on the &lt;code&gt;nodePathMap&lt;/code&gt;, the specified paths in &lt;code&gt;paths&lt;/code&gt; will be used for provisioning. &#xA;  &lt;ol&gt; &#xA;   &lt;li&gt;If one node is listed but with &lt;code&gt;paths&lt;/code&gt; set to &lt;code&gt;[]&lt;/code&gt;, the provisioner will refuse to provision on this node.&lt;/li&gt; &#xA;   &lt;li&gt;If more than one path was specified, the path would be chosen randomly when provisioning.&lt;/li&gt; &#xA;  &lt;/ol&gt; &lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;&lt;code&gt;sharedFileSystemPath&lt;/code&gt; allows the provisioner to use a filesystem that is mounted on all nodes at the same time. In this case all access modes are supported: &lt;code&gt;ReadWriteOnce&lt;/code&gt;, &lt;code&gt;ReadOnlyMany&lt;/code&gt; and &lt;code&gt;ReadWriteMany&lt;/code&gt; for storage claims.&lt;/p&gt; &#xA;&lt;p&gt;In addition &lt;code&gt;volumeBindingMode: Immediate&lt;/code&gt; can be used in StorageClass definition.&lt;/p&gt; &#xA;&lt;p&gt;Please note that &lt;code&gt;nodePathMap&lt;/code&gt; and &lt;code&gt;sharedFileSystemPath&lt;/code&gt; are mutually exclusive. If &lt;code&gt;sharedFileSystemPath&lt;/code&gt; is used, then &lt;code&gt;nodePathMap&lt;/code&gt; must be set to &lt;code&gt;[]&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h5&gt;Rules&lt;/h5&gt; &#xA;&lt;p&gt;The configuration must obey following rules:&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;&lt;code&gt;config.json&lt;/code&gt; must be a valid json file.&lt;/li&gt; &#xA; &lt;li&gt;A path must start with &lt;code&gt;/&lt;/code&gt;, a.k.a an absolute path.&lt;/li&gt; &#xA; &lt;li&gt;Root directory(&lt;code&gt;/&lt;/code&gt;) is prohibited.&lt;/li&gt; &#xA; &lt;li&gt;No duplicate paths allowed for one node.&lt;/li&gt; &#xA; &lt;li&gt;No duplicate node allowed.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h4&gt;Scripts &lt;code&gt;setup&lt;/code&gt; and &lt;code&gt;teardown&lt;/code&gt; and the &lt;code&gt;helperPod.yaml&lt;/code&gt; template&lt;/h4&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;The &lt;code&gt;setup&lt;/code&gt; script is run before the volume is created, to prepare the volume directory on the node.&lt;/li&gt; &#xA; &lt;li&gt;The &lt;code&gt;teardown&lt;/code&gt; script is run after the volume is deleted, to cleanup the volume directory on the node.&lt;/li&gt; &#xA; &lt;li&gt;The &lt;code&gt;helperPod.yaml&lt;/code&gt; template is used to create a helper Pod that runs the &lt;code&gt;setup&lt;/code&gt; or &lt;code&gt;teardown&lt;/code&gt; script.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;The scripts receive their input as environment variables:&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Environment variable&lt;/th&gt; &#xA;   &lt;th&gt;Description&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;VOL_DIR&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Volume directory that should be created or removed.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;VOL_MODE&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;The PersistentVolume mode (&lt;code&gt;Block&lt;/code&gt; or &lt;code&gt;Filesystem&lt;/code&gt;).&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;VOL_SIZE_BYTES&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Requested volume size in bytes.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;h4&gt;Reloading&lt;/h4&gt; &#xA;&lt;p&gt;The provisioner supports automatic configuration reloading. Users can change the configuration using &lt;code&gt;kubectl apply&lt;/code&gt; or &lt;code&gt;kubectl edit&lt;/code&gt; with config map &lt;code&gt;local-path-config&lt;/code&gt;. There is a delay between when the user updates the config map and the provisioner picking it up.&lt;/p&gt; &#xA;&lt;p&gt;When the provisioner detects the configuration changes, it will try to load the new configuration. Users can observe it in the log&lt;/p&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;time=&#34;2018-10-03T05:56:13Z&#34; level=debug msg=&#34;Applied config: {&#34;nodePathMap&#34;:[{&#34;node&#34;:&#34;DEFAULT_PATH_FOR_NON_LISTED_NODES&#34;,&#34;paths&#34;:[&#34;/opt/local-path-provisioner&#34;]},{&#34;node&#34;:&#34;yasker-lp-dev1&#34;,&#34;paths&#34;:[&#34;/opt&#34;,&#34;/data1&#34;]},{&#34;node&#34;:&#34;yasker-lp-dev3&#34;}]}&#34;&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;p&gt;If the reload fails, the provisioner will log the error and &lt;strong&gt;continue using the last valid configuration for provisioning in the meantime&lt;/strong&gt;.&lt;/p&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;time=&#34;2018-10-03T05:19:25Z&#34; level=error msg=&#34;failed to load the new config file: fail to load config file /etc/config/config.json: invalid character &#39;#&#39; looking for beginning of object key string&#34;&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;time=&#34;2018-10-03T05:20:10Z&#34; level=error msg=&#34;failed to load the new config file: config canonicalization failed: path must start with / for path opt on node yasker-lp-dev1&#34;&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;time=&#34;2018-10-03T05:23:35Z&#34; level=error msg=&#34;failed to load the new config file: config canonicalization failed: duplicate path /data1 on node yasker-lp-dev1&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;time=&#34;2018-10-03T06:39:28Z&#34; level=error msg=&#34;failed to load the new config file: config canonicalization failed: duplicate node yasker-lp-dev3&#34;&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;h3&gt;Volume Types&lt;/h3&gt; &#xA;&lt;p&gt;To specify the type of volume you want the provisioner to create, add either of the following annotations;&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;PVC:&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;annotations:&#xA;  volumeType: &amp;lt;local or hostPath&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;StorageClass:&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;annotations:&#xA;  defaultVolumeType: &amp;lt;local or hostPath&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;A few things to note; the annotation for the &lt;code&gt;StorageClass&lt;/code&gt; will apply to all volumes using it and is superseded by the annotation on the PVC if one is provided. If neither of the annotations was provided then we default to &lt;code&gt;hostPath&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h3&gt;Storage classes&lt;/h3&gt; &#xA;&lt;p&gt;If more than one &lt;code&gt;paths&lt;/code&gt; are specified in the &lt;code&gt;nodePathMap&lt;/code&gt; the path is chosen randomly. To make the provisioner choose a specific path, use a &lt;code&gt;storageClass&lt;/code&gt; defined with a parameter called &lt;code&gt;nodePath&lt;/code&gt;. Note that this path should be defined in the &lt;code&gt;nodePathMap&lt;/code&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;apiVersion: storage.k8s.io/v1&#xA;kind: StorageClass&#xA;metadata:&#xA;  name: ssd-local-path&#xA;provisioner: cluster.local/local-path-provisioner&#xA;parameters:&#xA;  nodePath: /data/ssd&#xA;volumeBindingMode: WaitForFirstConsumer&#xA;reclaimPolicy: Delete&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Here the provisioner will use the path &lt;code&gt;/data/ssd&lt;/code&gt; when storage class &lt;code&gt;ssd-local-path&lt;/code&gt; is used.&lt;/p&gt; &#xA;&lt;h2&gt;Uninstall&lt;/h2&gt; &#xA;&lt;p&gt;Before uninstallation, make sure the PVs created by the provisioner have already been deleted. Use &lt;code&gt;kubectl get pv&lt;/code&gt; and make sure no PV with StorageClass &lt;code&gt;local-path&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;To uninstall, execute:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Stable&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;kubectl delete -f https://raw.githubusercontent.com/rancher/local-path-provisioner/v0.0.24/deploy/local-path-storage.yaml&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Development&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;kubectl delete -f https://raw.githubusercontent.com/rancher/local-path-provisioner/master/deploy/local-path-storage.yaml&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Debug&lt;/h2&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;it providers a out-of-cluster debug env for developers&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;h3&gt;debug&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-Bash&#34;&gt;git clone https://github.com/rancher/local-path-provisioner.git&#xA;cd local-path-provisioner&#xA;go build&#xA;kubectl apply -f debug/config.yaml&#xA;./local-path-provisioner --debug start --service-account-name=default&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;example&lt;/h3&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://raw.githubusercontent.com/rancher/local-path-provisioner/master/#usage&#34;&gt;Usage&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h3&gt;clear&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code&gt;kubectl delete -f debug/config.yaml&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;License&lt;/h2&gt; &#xA;&lt;p&gt;Copyright (c) 2014-2020 &lt;a href=&#34;http://rancher.com/&#34;&gt;Rancher Labs, Inc.&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;Licensed under the Apache License, Version 2.0 (the &#34;License&#34;); you may not use this file except in compliance with the License. You may obtain a copy of the License at&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;http://www.apache.org/licenses/LICENSE-2.0&#34;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an &#34;AS IS&#34; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.&lt;/p&gt;</summary>
  </entry>
</feed>