<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Go Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2024-04-03T01:27:40Z</updated>
  <subtitle>Daily Trending of Go in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>fullstorydev/grpcui</title>
    <updated>2024-04-03T01:27:40Z</updated>
    <id>tag:github.com,2024-04-03:/fullstorydev/grpcui</id>
    <link href="https://github.com/fullstorydev/grpcui" rel="alternate"></link>
    <summary type="html">&lt;p&gt;An interactive web UI for gRPC, along the lines of postman&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;gRPC UI&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://circleci.com/gh/fullstorydev/grpcui/tree/master&#34;&gt;&lt;img src=&#34;https://circleci.com/gh/fullstorydev/grpcui/tree/master.svg?style=svg&#34; alt=&#34;Build Status&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://goreportcard.com/report/github.com/fullstorydev/grpcui&#34;&gt;&lt;img src=&#34;https://goreportcard.com/badge/github.com/fullstorydev/grpcui&#34; alt=&#34;Go Report Card&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;grpcui&lt;/code&gt; is a command-line tool that lets you interact with gRPC servers via a browser. It&#39;s sort of like &lt;a href=&#34;https://www.getpostman.com/&#34;&gt;Postman&lt;/a&gt;, but for gRPC APIs instead of REST.&lt;/p&gt; &#xA;&lt;p&gt;In some ways, this is like an extension to &lt;a href=&#34;https://github.com/fullstorydev/grpcurl&#34;&gt;grpcurl&lt;/a&gt;. Whereas &lt;code&gt;grpcurl&lt;/code&gt; is a command-line interface, &lt;code&gt;grpcui&lt;/code&gt; provides a web/browser-based GUI. This lets you interactively construct requests to send to a gRPC server.&lt;/p&gt; &#xA;&lt;p&gt;With this tool you can also browse the schema for gRPC services, which is presented as a list of available endpoints. This is enabled either by querying a server that supports &lt;a href=&#34;https://github.com/grpc/grpc/raw/master/src/proto/grpc/reflection/v1alpha/reflection.proto&#34;&gt;server reflection&lt;/a&gt;, by reading proto source files, or by loading in compiled &#34;protoset&#34; files (files that contain encoded file &lt;a href=&#34;https://github.com/google/protobuf/raw/master/src/google/protobuf/descriptor.proto&#34;&gt;descriptor protos&lt;/a&gt;). In fact, the way the tool transforms JSON request data into a binary encoded protobuf is using that very same schema. So, if the server you interact with does not support reflection, you will either need the proto source files that define the service or need protoset files that &lt;code&gt;grpcui&lt;/code&gt; can use.&lt;/p&gt; &#xA;&lt;p&gt;This repo also provides two library packages&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;&lt;code&gt;github.com/fullstorydev/grpcui&lt;/code&gt;: This package contains the building blocks for embedding a gRPC web form into any Go HTTP server. It has functions for accessing the HTML form, the JavaScript code that powers it, as well as a sample CSS file, for styling the form.&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;github.com/fullstorydev/grpcui/standalone&lt;/code&gt;: This package goes a step further and supplies a single, simple HTTP handler that provides the entire gRPC web UI. You can just wire this handler into your HTTP server to embed a gRPC web page that looks exactly like the one you see when you use the &lt;code&gt;grpcui&lt;/code&gt; command-line program. This single handler uses the above package but also supplies the enclosing HTML page, some other script dependencies (jQuery and jQuery-UI), and additional CSS and image resources.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h2&gt;Features&lt;/h2&gt; &#xA;&lt;p&gt;&lt;code&gt;grpcui&lt;/code&gt; supports all kinds of RPC methods, including streaming methods. However, it requires you to construct the entire stream of request messages all at once and then renders the entire resulting stream of response messages all at once (so you can&#39;t interact with bidirectional streams the way that &lt;code&gt;grpcurl&lt;/code&gt; can).&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;grpcui&lt;/code&gt; supports both plain-text and TLS servers and has numerous options for TLS configuration. It also supports mutual TLS, where the client is required to present a client certificate.&lt;/p&gt; &#xA;&lt;p&gt;As mentioned above, &lt;code&gt;grpcui&lt;/code&gt; works seamlessly if the server supports the reflection service. If not, you can supply the &lt;code&gt;.proto&lt;/code&gt; source files or you can supply protoset files (containing compiled descriptors, produced by &lt;code&gt;protoc&lt;/code&gt;) to &lt;code&gt;grpcui&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;The web UI allows you to set request metadata in addition to defining the request message data. When defining request message data, it uses a dynamic HTML form that supports data entry for all possible kinds of protobuf messages, including rich support for well-known types (such as &lt;code&gt;google.protobuf.Timestamp&lt;/code&gt;), one ofs, and maps.&lt;/p&gt; &#xA;&lt;p&gt;In addition to entering the data via HTML form, you can also enter the data in JSON format, by typing or pasting the entire JSON request body into a text form.&lt;/p&gt; &#xA;&lt;p&gt;Upon issuing an RPC, the web UI shows all gRPC response metadata, including both headers and trailers sent by the server. And, of course, it shows a human-comprehensible response body, in the form of an HTML table.&lt;/p&gt; &#xA;&lt;h2&gt;Installation&lt;/h2&gt; &#xA;&lt;h3&gt;Homebrew (MacOS or Linux)&lt;/h3&gt; &#xA;&lt;p&gt;Install with &lt;code&gt;homebrew&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;brew install grpcui&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;From Source&lt;/h3&gt; &#xA;&lt;p&gt;You can use the &lt;code&gt;go&lt;/code&gt; tool to install &lt;code&gt;grpcui&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;go install github.com/fullstorydev/grpcui/cmd/grpcui@latest&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;This installs the command into the &lt;code&gt;bin&lt;/code&gt; sub-folder of wherever your &lt;code&gt;$GOPATH&lt;/code&gt; environment variable points. If this directory is already in your &lt;code&gt;$PATH&lt;/code&gt;, then you should be good to go.&lt;/p&gt; &#xA;&lt;p&gt;If you have already pulled down this repo to a location that is not in your &lt;code&gt;$GOPATH&lt;/code&gt; and want to build from the sources, you can &lt;code&gt;cd&lt;/code&gt; into the repo and then run &lt;code&gt;make install&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;If you encounter compile errors, you could have out-dated versions of &lt;code&gt;grpcui&lt;/code&gt;&#39;s dependencies. You can update the dependencies by running &lt;code&gt;make updatedeps&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h3&gt;Running without install&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code&gt;go run ./cmd/grpcui/grpcui.go -plaintext localhost:9019&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Usage&lt;/h2&gt; &#xA;&lt;p&gt;The usage doc for the tool explains the numerous options:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;grpcui -help&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Most of the flags control how the program connects to the gRPC server that to which requests will be sent. However, there is one flag that controls &lt;code&gt;grpcui&lt;/code&gt; itself: the &lt;code&gt;-port&lt;/code&gt; flag controls what port the HTTP server should use to expose the web UI. If no port is specified, an ephemeral port will be used (so likely a different port each time it is run, allocated by the operating system).&lt;/p&gt; &#xA;&lt;h3&gt;Web Form&lt;/h3&gt; &#xA;&lt;p&gt;When you run &lt;code&gt;grpcui&lt;/code&gt;, it will show you a URL to put into a browser in order to access the web UI.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ grpcui -plaintext localhost:12345&#xA;gRPC Web UI available at http://127.0.0.1:60551/...&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;When you navigate to this URL, you are presented with the user interface:&lt;/p&gt; &#xA;&lt;p align=&#34;center&#34;&gt; &lt;img alt=&#34;web UI screenshots&#34; width=&#34;888&#34; src=&#34;https://raw.githubusercontent.com/fullstorydev/grpcui/master/doc-images/grpc-web-ui.png&#34;&gt; &lt;/p&gt; &#xA;&lt;p&gt;The top two listboxes allow you to select the service and method of the RPC to issue. Once a selection is made, the panel below will show a form that allows you to define an RPC request. The form is constructed, dynamically, based on the actual request message structure of the selected RPC.&lt;/p&gt; &#xA;&lt;p&gt;You&#39;ll notice a second tab that lets you view (and edit) the raw JSON value for the request data. This can be useful to copy+paste a large request message, without having to point-and-click to define each field value, one at a time.&lt;/p&gt; &#xA;&lt;p&gt;The third tab shows the response data. This tab is grayed out and disabled until you actually click the &#34;Invoke&#34; button, which can be found at the bottom of the page.&lt;/p&gt; &#xA;&lt;h3&gt;Request Form&lt;/h3&gt; &#xA;&lt;p&gt;The first thing to note about the form is that it will generally be a table, where each row is a field. The table has three important columns:&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;The first column shows the name and type of the field.&lt;/li&gt; &#xA; &lt;li&gt;The second columns indicates the &#34;cardinality&#34; of the field. Typical fields are optional. The second column for optional fields is a checkbox indicating whether the field is present or not. If the field is not present, its default value is assumed. Repeated fields show buttons in this column for adding and deletig values. The green &#34;+&#34; allows you to add values to the repeated field. The red &#34;x&#34; next to a value will remove that value. Finally, if the field is required (only supported in syntax &#34;proto2&#34;), the column will contain only an asterisk.&lt;/li&gt; &#xA; &lt;li&gt;The third column shows the value of the field. If the field is absent, this will show the default value for the field. Fields that are nested messages show &#34;unset&#34;, but scalar types show their default (usually the type&#39;s zero value, but default values are configurable when using syntax &#34;proto2&#34;). Absent fields are also not editable -- you must first check the box in column two to make the field present before editing its value. Repeated fields show a nested table that occupies columns two and three and allows for adding and removing values.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;Fields whose type is a nested message will include a nested table in column three. This nested table has its own three columns and one row per field therein.&lt;/p&gt; &#xA;&lt;p&gt;One-ofs are rendered a little differently. Instead of two columns indicating the presence and value of the field, they include a nested table showing all of the possible fields in the one-of. However, the middle column is a radio button instead of a checkbox, so that only one of the fields can be present at any given time. In addition to a row for each field in the one-of, there is also an option named &lt;em&gt;None&lt;/em&gt;, which indicates a one-of where no value is set.&lt;/p&gt; &#xA;&lt;p&gt;Here&#39;s an example form for a message that has two required fields (&lt;code&gt;id&lt;/code&gt; and &lt;code&gt;name&lt;/code&gt;), one repeated field (&lt;code&gt;labels&lt;/code&gt;), a handful of normal optional fields, and a single one-of that has four options. In the first image, no values are present (except, of course, for the required fields at the top). In the second, several field values are present.&lt;/p&gt; &#xA;&lt;p align=&#34;center&#34;&gt; &lt;img alt=&#34;web UI message fields&#34; width=&#34;408&#34; align=&#34;top&#34; src=&#34;https://raw.githubusercontent.com/fullstorydev/grpcui/master/doc-images/fields.png&#34;&gt; &lt;img alt=&#34;web UI message fields, with some values&#34; width=&#34;420&#34; align=&#34;top&#34; src=&#34;https://raw.githubusercontent.com/fullstorydev/grpcui/master/doc-images/fields-filled-out.png&#34;&gt; &lt;/p&gt; &#xA;&lt;p&gt;For RPCs that accept a &lt;em&gt;stream&lt;/em&gt; of requests, the web form allows the user to define multiple messages in the stream. It defaults to a single request, but the user can remove it to send none or can send many. A stream resembles a repeated field, but the repeated &#34;thing&#34; is the entire request:&lt;/p&gt; &#xA;&lt;p align=&#34;center&#34;&gt; &lt;img alt=&#34;web UI request stream&#34; width=&#34;380&#34; src=&#34;https://raw.githubusercontent.com/fullstorydev/grpcui/master/doc-images/streams-repeated.png&#34;&gt; &lt;/p&gt; &#xA;&lt;p&gt;That last example also shows how well-known message types get special treatment. In that example, the request type is &lt;code&gt;google.protobuf.StringValue&lt;/code&gt;. Instead of showing a form for a message with a single field named &lt;code&gt;value&lt;/code&gt; with type &lt;code&gt;string&lt;/code&gt;, the UI is simple and the &#34;boxing&#34; ceremony is elided. It instead just shows a simple textbox for entering the string value.&lt;/p&gt; &#xA;&lt;p&gt;A more interesting example of how well-known message types are treated is &lt;code&gt;google.protobuf.Timestamp&lt;/code&gt;, where a date picker is shown:&lt;/p&gt; &#xA;&lt;p align=&#34;center&#34;&gt; &lt;img alt=&#34;web UI request stream&#34; width=&#34;640&#34; src=&#34;https://raw.githubusercontent.com/fullstorydev/grpcui/master/doc-images/timestamp.png&#34;&gt; &lt;/p&gt; &#xA;&lt;h3&gt;Raw Request JSON&lt;/h3&gt; &#xA;&lt;p&gt;The second tab lets you view the JSON representation of the request data you have defined on the first tab. You can also directly edit the JSON data -- including pasting in an entire JSON message.&lt;/p&gt; &#xA;&lt;p&gt;The JSON representation uses the standard &lt;a href=&#34;https://developers.google.com/protocol-buffers/docs/proto3#json&#34;&gt;JSON mapping for Protocol Buffers&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p align=&#34;center&#34;&gt; &lt;img alt=&#34;web UI request JSON&#34; width=&#34;600&#34; src=&#34;https://raw.githubusercontent.com/fullstorydev/grpcui/master/doc-images/raw-json.png&#34;&gt; &lt;/p&gt; &#xA;&lt;p&gt;When working with an RPC that has a streaming request, the JSON data will be a JSON array, where each element is a single message in the stream.&lt;/p&gt; &#xA;&lt;h3&gt;Responses&lt;/h3&gt; &#xA;&lt;p&gt;When the &#34;Invoke&#34; button is pressed, the request data is sent to the server and the selected RPC method is invoked. The web form will then navigate to the third tab to show the server&#39;s response.&lt;/p&gt; &#xA;&lt;p&gt;The response tab has three sections:&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Response Headers: Any response header metadata is shown here.&lt;/li&gt; &#xA; &lt;li&gt;Response Data: Any response messages are shown here as are any error messages. RPC methods with a streaming response may show both message data &lt;em&gt;and&lt;/em&gt; an error. Error messages show the gRPC status code and the server-defined message text.&lt;/li&gt; &#xA; &lt;li&gt;Response Trailers: Finally, any response trailer metadata is shown.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p align=&#34;center&#34;&gt; &lt;img alt=&#34;web UI response&#34; width=&#34;500&#34; src=&#34;https://raw.githubusercontent.com/fullstorydev/grpcui/master/doc-images/response.png&#34;&gt; &lt;/p&gt; &#xA;&lt;p&gt;Each of these three sections is a table of data. Response messages are the most interesting, and their structure closely resembles how messages are structured on the &#34;Request Form&#34; tab. Fields that have nested messages will include a nested table.&lt;/p&gt; &#xA;&lt;h2&gt;Descriptor Sources&lt;/h2&gt; &#xA;&lt;p&gt;The &lt;code&gt;grpcui&lt;/code&gt; tool can operate on a variety of sources for descriptors. The descriptors are required, in order for &lt;code&gt;grpcui&lt;/code&gt; to understand the RPC schema, translate inputs into the protobuf binary format as well as translate responses from the binary format into text. The sections below document the supported sources and what command-line flags are needed to use them.&lt;/p&gt; &#xA;&lt;h3&gt;Server Reflection&lt;/h3&gt; &#xA;&lt;p&gt;Without any additional command-line flags, &lt;code&gt;grpcui&lt;/code&gt; will try to use &lt;a href=&#34;https://github.com/grpc/grpc/raw/master/src/proto/grpc/reflection/v1alpha/reflection.proto&#34;&gt;server reflection&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;Examples for how to set up server reflection can be found &lt;a href=&#34;https://github.com/grpc/grpc/raw/master/doc/server-reflection.md#known-implementations&#34;&gt;here&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h3&gt;Proto Source Files&lt;/h3&gt; &#xA;&lt;p&gt;To use &lt;code&gt;grpcui&lt;/code&gt; on servers that do not support reflection, you can use &lt;code&gt;.proto&lt;/code&gt; source files.&lt;/p&gt; &#xA;&lt;p&gt;In addition to using &lt;code&gt;-proto&lt;/code&gt; flags to point &lt;code&gt;grpcui&lt;/code&gt; at the relevant proto source file(s), you may also need to supply &lt;code&gt;-import-path&lt;/code&gt; flags to tell &lt;code&gt;grpcui&lt;/code&gt; the folders from which dependencies can be imported.&lt;/p&gt; &#xA;&lt;p&gt;Just like when compiling with &lt;code&gt;protoc&lt;/code&gt;, you do &lt;em&gt;not&lt;/em&gt; need to provide an import path for the location of the standard protos included with &lt;code&gt;protoc&lt;/code&gt; (which contain various &#34;well-known types&#34; with a package definition of &lt;code&gt;google.protobuf&lt;/code&gt;). These files are &#34;known&#34; by &lt;code&gt;grpcui&lt;/code&gt; as a snapshot of their descriptors is built into the &lt;code&gt;grpcui&lt;/code&gt; binary.&lt;/p&gt; &#xA;&lt;h3&gt;Protoset Files&lt;/h3&gt; &#xA;&lt;p&gt;You can also use compiled protoset files with &lt;code&gt;grpcui&lt;/code&gt;. Protoset files contain binary encoded &lt;code&gt;google.protobuf.FileDescriptorSet&lt;/code&gt; protos. To create a protoset file, invoke &lt;code&gt;protoc&lt;/code&gt; with the &lt;code&gt;*.proto&lt;/code&gt; files that define the service:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;protoc --proto_path=. \&#xA;    --descriptor_set_out=myservice.protoset \&#xA;    --include_imports \&#xA;    my/custom/server/service.proto&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The &lt;code&gt;--descriptor_set_out&lt;/code&gt; argument is what tells &lt;code&gt;protoc&lt;/code&gt; to produce a protoset, and the &lt;code&gt;--include_imports&lt;/code&gt; argument is necessary for the protoset to contain everything that &lt;code&gt;grpcui&lt;/code&gt; needs to process and understand the schema.&lt;/p&gt;</summary>
  </entry>
</feed>