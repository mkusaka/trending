<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Go Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2025-01-21T01:44:49Z</updated>
  <subtitle>Daily Trending of Go in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>google/osv-scalibr</title>
    <updated>2025-01-21T01:44:49Z</updated>
    <id>tag:github.com,2025-01-21:/google/osv-scalibr</id>
    <link href="https://github.com/google/osv-scalibr" rel="alternate"></link>
    <summary type="html">&lt;p&gt;&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;OSV-SCALIBR&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://pkg.go.dev/github.com/google/osv-scalibr&#34;&gt;&lt;img src=&#34;https://pkg.go.dev/badge/github.com/google/osv-scalibr.svg?sanitize=true&#34; alt=&#34;Go Reference&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; The code in this repo is subject to change in the near future as we&#39;re merging SCALIBR with &lt;a href=&#34;https://github.com/google/osv-scanner&#34;&gt;OSV-scanner&lt;/a&gt; to provide a single tool that unifies the two scanners&#39; extraction and vuln scanning capabilities.&lt;/p&gt; &#xA;&lt;p&gt;SCALIBR (Software Composition Analysis Library) is an extensible file system scanner used to extract software inventory data (e.g. installed language packages) and detect vulnerabilities.&lt;/p&gt; &#xA;&lt;p&gt;The scanner can either be used as a standalone binary to scan the local machine or as a library with a custom wrapper to perform scans on e.g. container images or remote hosts. It comes with built-in plugins for inventory extraction and vulnerability detection and it also allows users to run their custom plugins.&lt;/p&gt; &#xA;&lt;p&gt;See the &lt;a href=&#34;https://raw.githubusercontent.com/google/osv-scalibr/main/docs/supported_inventory_types.md&#34;&gt;list of currently supported software inventory types&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Prerequisites&lt;/h2&gt; &#xA;&lt;p&gt;To build SCALIBR, you&#39;ll need to have &lt;code&gt;go&lt;/code&gt; installed. Follow &lt;a href=&#34;https://go.dev/doc/install&#34;&gt;https://go.dev/doc/install&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;How to use&lt;/h2&gt; &#xA;&lt;h3&gt;As a standalone binary&lt;/h3&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; This binary is a thin wrapper around the OSV-SCALIBR library. In the near future the &lt;a href=&#34;https://github.com/google/osv-scanner&#34;&gt;&lt;code&gt;osv-scanner&lt;/code&gt;&lt;/a&gt; CLI will make all capabilities of OSV-SCALIBR available with convenience features such as vuln matching through OSV.dev.&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;&lt;code&gt;go install github.com/google/osv-scalibr/binary/scalibr@latest&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;scalibr --result=result.textproto&lt;/code&gt;&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;See the &lt;a href=&#34;https://raw.githubusercontent.com/google/osv-scalibr/main/binary/proto/scan_result.proto&#34;&gt;result proto definition&lt;/a&gt; for details about the scan result format.&lt;/p&gt; &#xA;&lt;p&gt;Run &lt;code&gt;scalibr --help&lt;/code&gt; for a list of additional CLI args.&lt;/p&gt; &#xA;&lt;h3&gt;As a library:&lt;/h3&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Import &lt;code&gt;github.com/google/osv-scalibr&lt;/code&gt; into your Go project&lt;/li&gt; &#xA; &lt;li&gt;Create a new &lt;a href=&#34;https://raw.githubusercontent.com/google/osv-scalibr/main/scalibr.go#L36&#34;&gt;scalibr.ScanConfig&lt;/a&gt; struct, configure the extraction and detection plugins to run&lt;/li&gt; &#xA; &lt;li&gt;Call &lt;code&gt;scalibr.New().Scan()&lt;/code&gt; with the config&lt;/li&gt; &#xA; &lt;li&gt;Parse the returned &lt;a href=&#34;https://raw.githubusercontent.com/google/osv-scalibr/main/scalibr.go#L50&#34;&gt;scalibr.ScanResults&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;See below for an example code snippet.&lt;/p&gt; &#xA;&lt;h3&gt;On a container image&lt;/h3&gt; &#xA;&lt;p&gt;Add the &lt;code&gt;--remote-image&lt;/code&gt; flag to scan a remote container image. Example:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;scalibr --result=result.textproto --remote-image=alpine@sha256:0a4eaa0eecf5f8c050e5bba433f58c052be7587ee8af3e8b3910ef9ab5fbe9f5&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;SPDX generation&lt;/h3&gt; &#xA;&lt;p&gt;SCALIBR supports generating the result of inventory extraction as an SPDX v2.3 file in json, yaml or tag-value format. Example usage:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;scalibr -o spdx23-json=result.spdx.json&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Some fields in the generated SPDX can be overwritten:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;scalibr -spdx-document-name=&#34;Custom name&#34; --spdx-document-namespace=&#34;Custom-namespace&#34; --spdx-creators=Organization:Google -o spdx23-json=result.spdx.json&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Running built-in plugins&lt;/h2&gt; &#xA;&lt;h3&gt;With the standalone binary&lt;/h3&gt; &#xA;&lt;p&gt;The binary runs SCALIBR&#39;s &#34;recommended&#34; internal plugins by default. You can enable more plugins with the &lt;code&gt;--extractors=&lt;/code&gt; and &lt;code&gt;--detectors=&lt;/code&gt; flags. See the definition files for a list of all built-in plugins and their CLI flags (&lt;a href=&#34;https://raw.githubusercontent.com/google/osv-scalibr/main/extractor/filesystem/list/list.go#L26&#34;&gt;extractors (fs)&lt;/a&gt;, &lt;a href=&#34;https://raw.githubusercontent.com/google/osv-scalibr/main/detector/list/list.go#L26&#34;&gt;detectors&lt;/a&gt;).&lt;/p&gt; &#xA;&lt;h3&gt;With the library&lt;/h3&gt; &#xA;&lt;p&gt;A collection of all built-in plugin modules can be found in the definition files (&lt;a href=&#34;https://raw.githubusercontent.com/google/osv-scalibr/main/extractor/filesystem/list/list.go#L26&#34;&gt;extractors&lt;/a&gt;, &lt;a href=&#34;https://raw.githubusercontent.com/google/osv-scalibr/main/detector/list/list.go#L26&#34;&gt;detectors&lt;/a&gt;). To enable them, just import the module and add the appropriate plugins to the scan config, e.g.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;import (&#xA;  scalibr &#34;github.com/google/osv-scalibr&#34;&#xA;  el &#34;github.com/google/osv-scalibr/extractor/filesystem/list&#34;&#xA;  dl &#34;github.com/google/osv-scalibr/detector/list&#34;&#xA;)&#xA;cfg := &amp;amp;scalibr.ScanConfig{&#xA;  Root:                 &#34;/&#34;,&#xA;  FilesystemExtractors: el.Python,&#xA;  Detectors:            dl.CIS,&#xA;}&#xA;results := scalibr.New().Scan(context.Background(), cfg)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Creating + running custom plugins&lt;/h2&gt; &#xA;&lt;p&gt;Custom plugins can only be run when using SCALIBR as a library.&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Create an implementation of the SCALIBR &lt;a href=&#34;https://raw.githubusercontent.com/google/osv-scalibr/main/extractor/filesystem/extractor.go#L30&#34;&gt;Extractor&lt;/a&gt; or &lt;a href=&#34;https://raw.githubusercontent.com/google/osv-scalibr/main/detector/detector.go#L28&#34;&gt;Detector&lt;/a&gt; interface.&lt;/li&gt; &#xA; &lt;li&gt;Add the newly created struct to the scan config and run the scan, e.g.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code&gt;import (&#xA;  &#34;github.com/google/osv-scalibr/extractor/filesystem&#34;&#xA;  scalibr &#34;github.com/google/osv-scalibr&#34;&#xA;)&#xA;cfg := &amp;amp;scalibr.ScanConfig{&#xA;  Root:                 &#34;/&#34;,&#xA;  FilesystemExtractors: []extractor.Extractor{&amp;amp;myExtractor{}},&#xA;}&#xA;results := scalibr.New().Scan(context.Background(), cfg)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;A note on cross-platform&lt;/h3&gt; &#xA;&lt;p&gt;SCALIBR is compatible with Linux and has experimental support for Windows and Mac. When a new plugin is implemented for SCALIBR, we need to ensure that it will not break other platforms. Our runners will generally catch compatibility issue, but to ensure everything is easy when implementing a plugin, here are a few recommendations to keep in mind:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Ensure you work with file paths using the &lt;code&gt;filepath&lt;/code&gt; library. For example, avoid using &lt;code&gt;/my/path&lt;/code&gt; but prefer &lt;code&gt;filepath.Join(&#39;my&#39;, &#39;path&#39;)&lt;/code&gt; instead.&lt;/li&gt; &#xA; &lt;li&gt;If the plugin can only support one system (e.g. a windows-specific detector), the layout will generally be to have two versions of the file: &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;code&gt;file_system.go&lt;/code&gt;: where &lt;code&gt;system&lt;/code&gt; is the targeted system (e.g. &lt;code&gt;file_windows.go&lt;/code&gt;) that contains the code specific to the target system. It must also contain the adequate go build constraint.&lt;/li&gt; &#xA;   &lt;li&gt;&lt;code&gt;file_dummy.go&lt;/code&gt;: contains the code for every other system. It generally does nothing and just ensures that the code compiles on that system;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;Because of the way our internal automation works, we generally require unit tests to be defined for every platform and be filtered out dynamically if not compatible. In other words, a test should be filtered in/out using &lt;code&gt;if runtime.GOOS&lt;/code&gt; rather than a &lt;code&gt;//go:build&lt;/code&gt; constraint. Here is an &lt;a href=&#34;https://github.com/google/osv-scalibr/commit/7a87679f5c688e7bac4527d29c1823597a52bb40#diff-72efad005e0fbfe34c60e496dfb55ec15fc50f4b12be0934f08a3acaf7733616L79&#34;&gt;example&lt;/a&gt;.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Custom logging&lt;/h2&gt; &#xA;&lt;p&gt;You can make the SCALIBR library log using your own custom logger by passing an implementation of the &lt;a href=&#34;https://raw.githubusercontent.com/google/osv-scalibr/main/log/log.go#L22&#34;&gt;&lt;code&gt;log.Logger&lt;/code&gt;&lt;/a&gt; interface to &lt;code&gt;log.SetLogger()&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;import (&#xA;  customlog &#34;path/to/custom/log&#34;&#xA;  &#34;github.com/google/osv-scalibr/log&#34;&#xA;  scalibr &#34;github.com/google/osv-scalibr&#34;&#xA;)&#xA;cfg := &amp;amp;scalibr.ScanConfig{ScanRoot: &#34;/&#34;}&#xA;log.SetLogger(&amp;amp;customlog.Logger{})&#xA;results := scalibr.New().Scan(context.Background(), cfg)&#xA;log.Info(results)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Contributing&lt;/h2&gt; &#xA;&lt;p&gt;Read how to &lt;a href=&#34;https://raw.githubusercontent.com/google/osv-scalibr/main/CONTRIBUTING.md&#34;&gt;contribute to SCALIBR&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;To build and test your local changes, run &lt;code&gt;make&lt;/code&gt; and &lt;code&gt;make test&lt;/code&gt;. A local &lt;code&gt;scalibr&lt;/code&gt; binary will be generated in the repo base.&lt;/p&gt; &#xA;&lt;p&gt;Some of your code contributions might require regenerating protos. This can happen when, say, you want to contribute a new inventory type. For such cases, you&#39;ll need install a few dependencies&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;protoc&lt;/code&gt;: Install the appropriate &lt;a href=&#34;https://grpc.io/docs/protoc-installation/#install-pre-compiled-binaries-any-os&#34;&gt;precompiled protoc binary&lt;/a&gt;. &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;For Mac, you can also &lt;a href=&#34;https://grpc.io/docs/protoc-installation/#install-using-a-package-manager&#34;&gt;install via HomeBrew&lt;/a&gt;.&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;protoc-gen-go&lt;/code&gt;: Run &lt;code&gt;go install google.golang.org/protobuf/cmd/protoc-gen-go&lt;/code&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;and then run &lt;code&gt;make protos&lt;/code&gt; or &lt;code&gt;./build_protos.sh&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Disclaimers&lt;/h2&gt; &#xA;&lt;p&gt;SCALIBR is not an official Google product.&lt;/p&gt;</summary>
  </entry>
</feed>