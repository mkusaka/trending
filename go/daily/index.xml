<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Go Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2024-08-09T01:29:47Z</updated>
  <subtitle>Daily Trending of Go in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>gabriel-vasile/mimetype</title>
    <updated>2024-08-09T01:29:47Z</updated>
    <id>tag:github.com,2024-08-09:/gabriel-vasile/mimetype</id>
    <link href="https://github.com/gabriel-vasile/mimetype" rel="alternate"></link>
    <summary type="html">&lt;p&gt;A fast Golang library for media type and file extension detection, based on magic numbers&lt;/p&gt;&lt;hr&gt;&lt;h1 align=&#34;center&#34;&gt; mimetype &lt;/h1&gt; &#xA;&lt;h4 align=&#34;center&#34;&gt; A package for detecting MIME types and extensions based on magic numbers &lt;/h4&gt; &#xA;&lt;h6 align=&#34;center&#34;&gt; Goroutine safe, extensible, no C bindings &lt;/h6&gt; &#xA;&lt;p align=&#34;center&#34;&gt; &lt;a href=&#34;https://pkg.go.dev/github.com/gabriel-vasile/mimetype&#34;&gt; &lt;img alt=&#34;Go Reference&#34; src=&#34;https://pkg.go.dev/badge/github.com/gabriel-vasile/mimetype.svg?sanitize=true&#34;&gt; &lt;/a&gt; &lt;a href=&#34;https://goreportcard.com/report/github.com/gabriel-vasile/mimetype&#34;&gt; &lt;img alt=&#34;Go report card&#34; src=&#34;https://goreportcard.com/badge/github.com/gabriel-vasile/mimetype&#34;&gt; &lt;/a&gt; &lt;a href=&#34;https://raw.githubusercontent.com/gabriel-vasile/mimetype/master/LICENSE&#34;&gt; &lt;img alt=&#34;License&#34; src=&#34;https://img.shields.io/badge/License-MIT-green.svg?sanitize=true&#34;&gt; &lt;/a&gt; &lt;/p&gt; &#xA;&lt;h2&gt;Features&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;fast and precise MIME type and file extension detection&lt;/li&gt; &#xA; &lt;li&gt;long list of &lt;a href=&#34;https://raw.githubusercontent.com/gabriel-vasile/mimetype/master/supported_mimes.md&#34;&gt;supported MIME types&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;possibility to &lt;a href=&#34;https://pkg.go.dev/github.com/gabriel-vasile/mimetype#example-package-Extend&#34;&gt;extend&lt;/a&gt; with other file formats&lt;/li&gt; &#xA; &lt;li&gt;common file formats are prioritized&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://pkg.go.dev/github.com/gabriel-vasile/mimetype#example-package-TextVsBinary&#34;&gt;text vs. binary files differentiation&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;safe for concurrent usage&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Install&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;go get github.com/gabriel-vasile/mimetype&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Usage&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;mtype := mimetype.Detect([]byte)&#xA;// OR&#xA;mtype, err := mimetype.DetectReader(io.Reader)&#xA;// OR&#xA;mtype, err := mimetype.DetectFile(&#34;/path/to/file&#34;)&#xA;fmt.Println(mtype.String(), mtype.Extension())&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;See the &lt;a href=&#34;https://pkg.go.dev/github.com/gabriel-vasile/mimetype#pkg-overview&#34;&gt;runnable Go Playground examples&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Usage&#39;&lt;/h2&gt; &#xA;&lt;p&gt;Only use libraries like &lt;strong&gt;mimetype&lt;/strong&gt; as a last resort. Content type detection using magic numbers is slow, inaccurate, and non-standard. Most of the times protocols have methods for specifying such metadata; e.g., &lt;code&gt;Content-Type&lt;/code&gt; header in HTTP and SMTP.&lt;/p&gt; &#xA;&lt;h2&gt;FAQ&lt;/h2&gt; &#xA;&lt;p&gt;Q: My file is in the list of &lt;a href=&#34;https://raw.githubusercontent.com/gabriel-vasile/mimetype/master/supported_mimes.md&#34;&gt;supported MIME types&lt;/a&gt; but it is not correctly detected. What should I do?&lt;/p&gt; &#xA;&lt;p&gt;A: Some file formats (often Microsoft Office documents) keep their signatures towards the end of the file. Try increasing the number of bytes used for detection with:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;mimetype.SetLimit(1024*1024) // Set limit to 1MB.&#xA;// or&#xA;mimetype.SetLimit(0) // No limit, whole file content used.&#xA;mimetype.DetectFile(&#34;file.doc&#34;)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If increasing the limit does not help, please &lt;a href=&#34;https://github.com/gabriel-vasile/mimetype/issues/new?assignees=&amp;amp;labels=&amp;amp;template=mismatched-mime-type-detected.md&amp;amp;title=&#34;&gt;open an issue&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Structure&lt;/h2&gt; &#xA;&lt;p&gt;&lt;strong&gt;mimetype&lt;/strong&gt; uses a hierarchical structure to keep the MIME type detection logic. This reduces the number of calls needed for detecting the file type. The reason behind this choice is that there are file formats used as containers for other file formats. For example, Microsoft Office files are just zip archives, containing specific metadata files. Once a file has been identified as a zip, there is no need to check if it is a text file, but it is worth checking if it is an Microsoft Office file.&lt;/p&gt; &#xA;&lt;p&gt;To prevent loading entire files into memory, when detecting from a &lt;a href=&#34;https://pkg.go.dev/github.com/gabriel-vasile/mimetype#DetectReader&#34;&gt;reader&lt;/a&gt; or from a &lt;a href=&#34;https://pkg.go.dev/github.com/gabriel-vasile/mimetype#DetectFile&#34;&gt;file&lt;/a&gt; &lt;strong&gt;mimetype&lt;/strong&gt; limits itself to reading only the header of the input.&lt;/p&gt; &#xA;&lt;div align=&#34;center&#34;&gt; &#xA; &lt;img alt=&#34;how project is structured&#34; src=&#34;https://raw.githubusercontent.com/gabriel-vasile/mimetype/master/testdata/gif.gif&#34; width=&#34;88%&#34;&gt; &#xA;&lt;/div&gt; &#xA;&lt;h2&gt;Performance&lt;/h2&gt; &#xA;&lt;p&gt;Thanks to the hierarchical structure, searching for common formats first, and limiting itself to file headers, &lt;strong&gt;mimetype&lt;/strong&gt; matches the performance of stdlib &lt;code&gt;http.DetectContentType&lt;/code&gt; while outperforming the alternative package.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;                            mimetype  http.DetectContentType      filetype&#xA;BenchmarkMatchTar-24       250 ns/op         400 ns/op           3778 ns/op&#xA;BenchmarkMatchZip-24       524 ns/op         351 ns/op           4884 ns/op&#xA;BenchmarkMatchJpeg-24      103 ns/op         228 ns/op            839 ns/op&#xA;BenchmarkMatchGif-24       139 ns/op         202 ns/op            751 ns/op&#xA;BenchmarkMatchPng-24       165 ns/op         221 ns/op           1176 ns/op&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Contributing&lt;/h2&gt; &#xA;&lt;p&gt;See &lt;a href=&#34;https://raw.githubusercontent.com/gabriel-vasile/mimetype/master/CONTRIBUTING.md&#34;&gt;CONTRIBUTING.md&lt;/a&gt;.&lt;/p&gt;</summary>
  </entry>
</feed>