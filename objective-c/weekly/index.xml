<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Objective-C Weekly Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2024-12-31T01:54:03Z</updated>
  <subtitle>Weekly Trending of Objective-C in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>SelfControlApp/selfcontrol</title>
    <updated>2024-12-31T01:54:03Z</updated>
    <id>tag:github.com,2024-12-31:/SelfControlApp/selfcontrol</id>
    <link href="https://github.com/SelfControlApp/selfcontrol" rel="alternate"></link>
    <summary type="html">&lt;p&gt;ðŸ’€ Mac app to block your own access to distracting websites etc for a predetermined period of time. It can not be undone by the app or by a restart â€“ you must wait for the timer to run out.&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;&lt;a href=&#34;https://selfcontrolapp.com/&#34;&gt;SelfControl&lt;/a&gt;&lt;/h1&gt; &#xA;&lt;p align=&#34;center&#34;&gt; &lt;img src=&#34;https://raw.githubusercontent.com/SelfControlApp/selfcontrol/master/.github/docs/screenshot.png&#34;&gt; &lt;/p&gt; &#xA;&lt;h2&gt;About&lt;/h2&gt; &#xA;&lt;p&gt;SelfControl is a free and open-source application for macOS that lets you block &lt;strong&gt;your own&lt;/strong&gt; access to distracting websites, your mail servers, or anything else on the Internet. Just set a period of time to block for, add sites to your blocklist, and click &#34;Start Block&#34;. Until that timer expires, you will be unable to access those sitesâ€”even if you restart your computer or delete the application.&lt;/p&gt; &#xA;&lt;h2&gt;Credits&lt;/h2&gt; &#xA;&lt;p&gt;Developed by &lt;a href=&#34;http://charliestigler.com&#34;&gt;Charlie Stigler&lt;/a&gt;, &lt;a href=&#34;http://visitsteve.com&#34;&gt;Steve Lambert&lt;/a&gt;, and &lt;a href=&#34;https://github.com/SelfControlApp/selfcontrol/graphs/contributors&#34;&gt;others&lt;/a&gt;. Your contributions very welcome!&lt;/p&gt; &#xA;&lt;p&gt;SelfControl is now available in 12 languages thanks to &lt;a href=&#34;https://github.com/SelfControlApp/selfcontrol/wiki/Translation-Credits&#34;&gt;the fine translators credited here&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;License&lt;/h2&gt; &#xA;&lt;p&gt;SelfControl is free software under the GPL. See &lt;a href=&#34;https://raw.githubusercontent.com/SelfControlApp/selfcontrol/master/COPYING&#34;&gt;this file&lt;/a&gt; for more details.&lt;/p&gt; &#xA;&lt;h2&gt;Building For Development&lt;/h2&gt; &#xA;&lt;p&gt;Users should always download the latest version of SelfControl from &lt;a href=&#34;https://selfcontrolapp.com/&#34;&gt;our website&lt;/a&gt;. If you want to contribute to SelfControl, you&#39;ll need to learn to build it for development. This can only be done on a Mac running a modern version of macOS.&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Clone the SelfControl repo from GitHub.&lt;/li&gt; &#xA; &lt;li&gt;Make sure you have a recent version of Xcode and the Xcode command-line tools installed.&lt;/li&gt; &#xA; &lt;li&gt;Install &lt;a href=&#34;https://cocoapods.org/&#34;&gt;CocoaPods&lt;/a&gt;: &lt;code&gt;sudo gem install cocoapods&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;Install the SelfControl dependencies using CocoaPods: &lt;code&gt;pod install&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;Open the &lt;code&gt;selfcontrol.xcworkspace&lt;/code&gt; file (&lt;strong&gt;NOT&lt;/strong&gt; &lt;code&gt;selfcontrol.xcodeproj&lt;/code&gt;)&lt;/li&gt; &#xA; &lt;li&gt;Build and run (you may need to update/remove code signing settings to make it build properly)&lt;/li&gt; &#xA;&lt;/ol&gt;</summary>
  </entry>
  <entry>
    <title>jonreid/OCMockito</title>
    <updated>2024-12-31T01:54:03Z</updated>
    <id>tag:github.com,2024-12-31:/jonreid/OCMockito</id>
    <link href="https://github.com/jonreid/OCMockito" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Mockito for Objective-C: creation, verification and stubbing of mock objects&lt;/p&gt;&lt;hr&gt;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/mockito/mockito.github.io/master/img/logo.png&#34; alt=&#34;mockito&#34;&gt;&lt;/p&gt; &#xA;&lt;h1&gt;OCMockito&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/jonreid/OCMockito/actions/workflows/build.yml&#34;&gt;&lt;img src=&#34;https://github.com/jonreid/OCMockito/actions/workflows/build.yml/badge.svg?sanitize=true&#34; alt=&#34;Build Status&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://coveralls.io/r/jonreid/OCMockito&#34;&gt;&lt;img src=&#34;https://coveralls.io/repos/jonreid/OCMockito/badge.svg?sanitize=true&#34; alt=&#34;Coverage Status&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://swiftpackageindex.com/jonreid/OCMockito&#34;&gt;&lt;img src=&#34;https://img.shields.io/endpoint?url=https%3A%2F%2Fswiftpackageindex.com%2Fapi%2Fpackages%2Fjonreid%2FOCMockito%2Fbadge%3Ftype%3Dplatforms&#34; alt=&#34;Swift Package Index Platform Compatibility&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/Carthage/Carthage&#34;&gt;&lt;img src=&#34;https://img.shields.io/badge/Carthage-compatible-4BC51D.svg?style=flat&#34; alt=&#34;Carthage compatible&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://cocoapods.org/pods/OCMockito&#34;&gt;&lt;img src=&#34;https://img.shields.io/cocoapods/v/OCMockito.svg?style=flat&#34; alt=&#34;CocoaPods Version&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://iosdev.space/@qcoding&#34;&gt;&lt;img src=&#34;https://img.shields.io/mastodon/follow/109765011064804734?domain=https%3A%2F%2Fiosdev.space&#34; alt=&#34;Mastodon Follow&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;OCMockito is an Objective-C implementation of Mockito, supporting creation, verification and stubbing of mock objects.&lt;/p&gt; &#xA;&lt;p&gt;Key differences from other mocking frameworks:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;Mock objects are always &#34;nice,&#34; recording their calls instead of throwing exceptions about unspecified invocations. This makes tests less fragile.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;No expect-run-verify, making tests more readable. Mock objects record their calls, then you verify the methods you want.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Verification failures are reported as unit test failures, identifying specific lines instead of throwing exceptions. This makes it easier to identify failures.&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;!-- toc --&gt; &#xA;&lt;h2&gt;Contents&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#lets-verify-some-behavior&#34;&gt;Let&#39;s verify some behavior!&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#how-about-some-stubbing&#34;&gt;How about some stubbing?&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#how-do-you-mock-a-class-object&#34;&gt;How do you mock a class object?&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#how-do-you-mock-a-protocol&#34;&gt;How do you mock a protocol?&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#how-do-you-mock-an-object-that-also-implements-a-protocol&#34;&gt;How do you mock an object that also implements a protocol?&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#how-do-you-stub-methods-that-return-primitives&#34;&gt;How do you stub methods that return primitives?&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#how-do-you-stub-methods-that-return-structs&#34;&gt;How do you stub methods that return structs?&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#how-do-you-stub-a-property-so-that-kvo-works&#34;&gt;How do you stub a property so that KVO works?&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#argument-matchers&#34;&gt;Argument matchers&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#how-do-you-specify-matchers-for-non-object-arguments&#34;&gt;How do you specify matchers for non-object arguments?&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#verifying-exact-number-of-invocations--at-least-x--never&#34;&gt;Verifying exact number of invocations / at least x / never&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#capturing-arguments-for-further-assertions&#34;&gt;Capturing arguments for further assertions&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#stubbing-consecutive-calls&#34;&gt;Stubbing consecutive calls&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#stubbing-with-blocks&#34;&gt;Stubbing with blocks&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#problems-with-dealloc&#34;&gt;Problems with dealloc&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#how-do-you-mock-a-singleton&#34;&gt;How do you mock a singleton?&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#how-do-i-add-ocmockito-to-my-project&#34;&gt;How do I add OCMockito to my project?&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#swift-package-manager&#34;&gt;Swift Package Manager&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#cocoapods&#34;&gt;CocoaPods&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#carthage&#34;&gt;Carthage&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#prebuilt-framework&#34;&gt;Prebuilt Framework&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#build-your-own&#34;&gt;Build Your Own&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#author&#34;&gt;Author&lt;/a&gt;&#xA;  &lt;!-- endToc --&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Let&#39;s verify some behavior!&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;// mock creation&#xA;NSMutableArray *mockArray = mock([NSMutableArray class]);&#xA;&#xA;// using mock object&#xA;[mockArray addObject:@&#34;one&#34;];&#xA;[mockArray removeAllObjects];&#xA;&#xA;// verification&#xA;[verify(mockArray) addObject:@&#34;one&#34;];&#xA;[verify(mockArray) removeAllObjects];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Once created, the mock will remember all interactions. Then you can selectively verify whatever interactions you are interested in.&lt;/p&gt; &#xA;&lt;p&gt;(If Xcode complains about multiple methods with the same name, cast &lt;code&gt;verify&lt;/code&gt; to the mocked class.)&lt;/p&gt; &#xA;&lt;h2&gt;How about some stubbing?&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;// mock creation&#xA;NSArray *mockArray = mock([NSArray class]);&#xA;&#xA;// stubbing&#xA;[given([mockArray objectAtIndex:0]) willReturn:@&#34;first&#34;];&#xA;[given([mockArray objectAtIndex:1]) willThrow:[NSException exceptionWithName:@&#34;name&#34;&#xA;                                                                      reason:@&#34;reason&#34;&#xA;                                                                    userInfo:nil]];&#xA;&#xA;// following prints &#34;first&#34;&#xA;NSLog(@&#34;%@&#34;, [mockArray objectAtIndex:0]);&#xA;&#xA;// follows throws exception&#xA;NSLog(@&#34;%@&#34;, [mockArray objectAtIndex:1]);&#xA;&#xA;// following prints &#34;(null)&#34; because objectAtIndex:999 was not stubbed&#xA;NSLog(@&#34;%@&#34;, [mockArray objectAtIndex:999]);&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;How do you mock a class object?&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;__strong Class mockStringClass = mockClass([NSString class]);&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;(In the iOS 64-bit runtime, Class objects aren&#39;t strong by default. Either make it explicitly strong as shown above, or use &lt;code&gt;id&lt;/code&gt; instead.)&lt;/p&gt; &#xA;&lt;h2&gt;How do you mock a protocol?&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;id &amp;lt;MyDelegate&amp;gt; delegate = mockProtocol(@protocol(MyDelegate));&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Or, if you don&#39;t want it to contain any optional methods:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;id &amp;lt;MyDelegate&amp;gt; delegate = mockProtocolWithoutOptionals(@protocol(MyDelegate));&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;How do you mock an object that also implements a protocol?&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;UIViewController &amp;lt;CustomProtocol&amp;gt; *controller =&#xA;    mockObjectAndProtocol([UIViewController class], @protocol(CustomProtocol));&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;How do you stub methods that return primitives?&lt;/h2&gt; &#xA;&lt;p&gt;To stub methods that return primitive scalars, box the scalars into NSValues:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;[given([mockArray count]) willReturn:@3];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;How do you stub methods that return structs?&lt;/h2&gt; &#xA;&lt;p&gt;Use &lt;code&gt;willReturnStruct:objCType:&lt;/code&gt; passing a pointer to your structure and its type from the Objective-C &lt;code&gt;@encode()&lt;/code&gt; compiler directive:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;SomeStruct aStruct = {...};&#xA;[given([mockObject methodReturningStruct]) willReturnStruct:&amp;amp;aStruct&#xA;                                                   objCType:@encode(SomeStruct)];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;How do you stub a property so that KVO works?&lt;/h2&gt; &#xA;&lt;p&gt;Use &lt;code&gt;stubProperty(mock, property, stubbedValue)&lt;/code&gt;. For example, say you have a mock object named &lt;code&gt;mockEmployee&lt;/code&gt;. It has a property &lt;code&gt;firstName&lt;/code&gt;. You want to stub it to return the value &#34;FIRST-NAME&#34;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;stubProperty(mockEmployee, firstName, @&#34;FIRST-NAME&#34;);&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;This stubs the &lt;code&gt;firstName&lt;/code&gt; property, &lt;code&gt;valueForKey:&lt;/code&gt; and &lt;code&gt;valueForKeyPath:&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Argument matchers&lt;/h2&gt; &#xA;&lt;p&gt;OCMockito verifies argument values by testing for equality. But when extra flexibility is required, you can specify &lt;a href=&#34;https://github.com/hamcrest/OCHamcrest&#34;&gt;OCHamcrest&lt;/a&gt; matchers.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;// mock creation&#xA;NSMutableArray *mockArray = mock([NSMutableArray class]);&#xA;&#xA;// using mock object&#xA;[mockArray removeObject:@&#34;This is a test&#34;];&#xA;&#xA;// verification&#xA;[verify(mockArray) removeObject:startsWith(@&#34;This is&#34;)];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;OCHamcrest matchers can be specified as arguments for both verification and stubbing.&lt;/p&gt; &#xA;&lt;p&gt;Typed arguments will issue a warning that the matcher is the wrong type. Just cast the matcher to &lt;code&gt;id&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;How do you specify matchers for non-object arguments?&lt;/h2&gt; &#xA;&lt;p&gt;To stub a method that takes a non-object argument but specify a matcher, invoke the method with a dummy argument, then call &lt;code&gt;-withMatcher:forArgument:&lt;/code&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;[[given([mockArray objectAtIndex:0]) withMatcher:anything() forArgument:0]&#xA; willReturn:@&#34;foo&#34;];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;This is particularly useful for ignoring &lt;code&gt;NSError **&lt;/code&gt; parameters: pass in &lt;code&gt;NULL&lt;/code&gt;, but override it with an &lt;code&gt;anything()&lt;/code&gt; matcher.&lt;/p&gt; &#xA;&lt;p&gt;Use the shortcut &lt;code&gt;-withMatcher:&lt;/code&gt; to specify a matcher for a single argument:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;[[given([mockArray objectAtIndex:0]) withMatcher:anything()]&#xA; willReturn:@&#34;foo&#34;];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;These methods are also available to specify matchers for verification. Just call them after &lt;code&gt;verify(â€¦)&lt;/code&gt; but before the invocation you want to verify:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;[[verify(mockArray) withMatcher:greaterThan(@5])] removeObjectAtIndex:0];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Verifying exact number of invocations / at least x / never&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;// using mock&#xA;[mockArray addObject:@&#34;once&#34;];&#xA;&#xA;[mockArray addObject:@&#34;twice&#34;];&#xA;[mockArray addObject:@&#34;twice&#34;];&#xA;&#xA;// the following two verifications work exactly the same&#xA;[verify(mockArray) addObject:@&#34;once&#34;];&#xA;[verifyCount(mockArray, times(1)) addObject:@&#34;once&#34;];&#xA;&#xA;// verify exact number of invocations&#xA;[verifyCount(mockArray, times(2)) addObject:@&#34;twice&#34;];&#xA;[verifyCount(mockArray, times(3)) addObject:@&#34;three times&#34;];&#xA;&#xA;// verify using never(), which is an alias for times(0)&#xA;[verifyCount(mockArray, never()) addObject:@&#34;never happened&#34;];&#xA;&#xA;// verify using atLeast()/atMost()&#xA;[verifyCount(mockArray, atLeastOnce()) addObject:@&#34;at least once&#34;];&#xA;[verifyCount(mockArray, atLeast(2)) addObject:@&#34;at least twice&#34;];&#xA;[verifyCount(mockArray, atMost(5)) addObject:@&#34;at most five times&#34;];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Capturing arguments for further assertions&lt;/h2&gt; &#xA;&lt;p&gt;OCMockito verifies argument values using OCHamcrest matchers; non-matcher arguments are implicitly wrapped in the &lt;code&gt;equalTo&lt;/code&gt; matcher to test for equality. In some situations though, it&#39;s helpful to capture an argument so you can send it another message.&lt;/p&gt; &#xA;&lt;p&gt;OCHamcrest provides a special matcher for this purpose: HCArgumentCaptor. Specify it as an argument, then query it with either the &lt;code&gt;value&lt;/code&gt; or &lt;code&gt;allValues&lt;/code&gt; properties.&lt;/p&gt; &#xA;&lt;p&gt;For example, you may want to send the captured argument a message to query its state:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;HCArgumentCaptor *argument = [[HCArgumentCaptor alloc] init];&#xA;[verify(mockObject) doSomething:(id)argument];&#xA;assertThat([argument.value nameAtIndex:0], is(@&#34;Jon&#34;));&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Capturing arguments is especially handy for block arguments. Capture the argument, cast it to the block type, then invoke the block directly to simulate the ways it will be called by production code:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;HCArgumentCaptor *argument = [[HCArgumentCaptor alloc] init];&#xA;[verify(mockArray) sortUsingComparator:(id)argument];&#xA;NSComparator block = argument.value;&#xA;assertThat(@(block(@&#34;a&#34;, @&#34;z&#34;)), is(@(NSOrderedAscending)));&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Stubbing consecutive calls&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;[[given([mockObject someMethod:@&#34;some arg&#34;])&#xA;    willThrow:[NSException exceptionWithName:@&#34;name&#34; reason:@&#34;reason&#34; userInfo:nil]]&#xA;    willReturn:@&#34;foo&#34;];&#xA;&#xA;// First call: throws exception&#xA;[mockObject someMethod:@&#34;some arg&#34;];&#xA;&#xA;// Second call: prints &#34;foo&#34;&#xA;NSLog(@&#34;%@&#34;, [mockObject someMethod:@&#34;some arg&#34;]);&#xA;&#xA;// Any consecutive call: prints &#34;foo&#34; as well. (Last stubbing wins.)&#xA;NSLog(@&#34;%@&#34;, [mockObject someMethod:@&#34;some arg&#34;]);&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Stubbing with blocks&lt;/h2&gt; &#xA;&lt;p&gt;We recommend using simple stubbing with &lt;code&gt;willReturn:&lt;/code&gt; or &lt;code&gt;willThrow:&lt;/code&gt; only. But &lt;code&gt;willDo:&lt;/code&gt; using a block can sometimes be helpful. The block can easily access invocation arguments by calling &lt;code&gt;mkt_arguments&lt;/code&gt; from NSInvocation+OCMockito.h. Whatever the block returns will be used as the stubbed return value.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;[given([mockObject someMethod:anything()]) willDo:^id (NSInvocation *invocation){&#xA;    NSArray *args = [invocation mkt_arguments];&#xA;    return @([args[0] intValue] * 2);&#xA;}];&#xA;&#xA;// Following prints 4&#xA;NSLog(@&#34;%@&#34;, [mockObject someMethod:@2]);&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;You can stub a void method with a block by using &lt;code&gt;givenVoid&lt;/code&gt; instead of &lt;code&gt;given&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Problems with dealloc&lt;/h2&gt; &#xA;&lt;p&gt;Use &lt;code&gt;stopMocking(â€¦)&lt;/code&gt; if a &lt;code&gt;-dealloc&lt;/code&gt; of your System Under Test is trying to message an object that is mocked. It disables message handling on the mock and frees its retained arguments. This prevents retain cycles and crashes during test clean-up. See StopMockingTests.m for an example.&lt;/p&gt; &#xA;&lt;h2&gt;How do you mock a singleton?&lt;/h2&gt; &#xA;&lt;p&gt;The short answer is: Don&#39;t. Instead of your class deciding who it&#39;s going to talk to, inject those dependencies.&lt;/p&gt; &#xA;&lt;p&gt;The longer answer is: Well. Legacy code. Call &lt;code&gt;stubSingleton&lt;/code&gt; on a mock class object, specifying the name of the factory method.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;__strong Class mockUserDefaultsClass = mockClass([NSUserDefaults class]);&#xA;NSUserDefaults* mockDefaults = mock([NSUserDefaults class]);&#xA;&#xA;stubSingleton(mockUserDefaultsClass, standardUserDefaults);&#xA;[given([NSUserDefaults standardUserDefaults]) willReturn:mockDefaults];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Beware! This uses swizzling. You need to make sure the mock class object gets deallocated so that the swizzling is undone.&lt;/p&gt; &#xA;&lt;p&gt;In the example above, &lt;code&gt;mockUserDefaultsClass&lt;/code&gt; will go out scope and be destroyed. But what if you kept it in the test fixture, as an ivar or a property? According to XCTest&#39;s design, it won&#39;t be implicitly destroyed. You need to explicitly set it to nil in &lt;code&gt;-tearDown&lt;/code&gt;, or the swizzling will bleed over to your other tests, compromising their integrity.&lt;/p&gt; &#xA;&lt;p&gt;If you need more control over when the swizzling is undone, call &lt;code&gt;stopMocking(â€¦)&lt;/code&gt; on the mock class.&lt;/p&gt; &#xA;&lt;h2&gt;How do I add OCMockito to my project?&lt;/h2&gt; &#xA;&lt;p&gt;The &lt;a href=&#34;https://github.com/jonreid/OCMockito/tree/main/Examples&#34;&gt;Examples&lt;/a&gt; folder shows projects ready to use OCMockito via Swift Package Manager, CocoaPods, or through the prebuilt framework.&lt;/p&gt; &#xA;&lt;h3&gt;Swift Package Manager&lt;/h3&gt; &#xA;&lt;p&gt;Include an OCMockito package in your Package.swift manifest&#39;s array of &lt;code&gt;dependencies&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;!-- snippet: swiftpm-declare-dependencies --&gt; &#xA;&lt;p&gt;&lt;a id=&#34;snippet-swiftpm-declare-dependencies&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;dependencies: [&#xA;    .package(&#xA;        url: &#34;https://github.com/jonreid/OCMockito&#34;,&#xA;        .upToNextMajor(from: &#34;7.0.0&#34;)&#xA;    ),&#xA;],&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;sup&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/Examples/MacExample-SwiftPackageManager/Package.swift#L13-L20&#34; title=&#34;Snippet source file&#34;&gt;snippet source&lt;/a&gt; | &lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#snippet-swiftpm-declare-dependencies&#34; title=&#34;Start of snippet&#34;&gt;anchor&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt; &#xA;&lt;!-- endSnippet --&gt; &#xA;&lt;p&gt;Then add OCMockito to the dependencies of your &lt;code&gt;.testTarget&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;!-- snippet: swiftpm-use-dependencies --&gt; &#xA;&lt;p&gt;&lt;a id=&#34;snippet-swiftpm-use-dependencies&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;.testTarget(&#xA;    name: &#34;ExampleTests&#34;,&#xA;    dependencies: [&#xA;        &#34;Example&#34;,&#xA;        &#34;OCMockito&#34;,&#xA;    ]&#xA;),&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;sup&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/Examples/MacExample-SwiftPackageManager/Package.swift#L27-L35&#34; title=&#34;Snippet source file&#34;&gt;snippet source&lt;/a&gt; | &lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#snippet-swiftpm-use-dependencies&#34; title=&#34;Start of snippet&#34;&gt;anchor&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt; &#xA;&lt;!-- endSnippet --&gt; &#xA;&lt;h3&gt;CocoaPods&lt;/h3&gt; &#xA;&lt;p&gt;If you want to add OCMockito using Cocoapods then add the following dependency to your Podfile. Most people will want OCMockito in their test targets, and not include any pods from their main targets:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;target &#39;MyTests&#39; do&#xA;  inherit! :search_paths&#xA;  use_frameworks!&#xA;  pod &#39;OCMockito&#39;, &#39;~&amp;gt; 7.0&#39;&#xA;end&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Carthage&lt;/h3&gt; &#xA;&lt;p&gt;Add the following to your Cartfile:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;github &#34;jonreid/OCMockito&#34; ~&amp;gt; 7.0&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Then drag the the built frameworks (both OCHamcrest and OCMockito) from the appropriate Carthage/Build directory into your project, but with &#34;Copy items into destination group&#39;s folder&#34; disabled.&lt;/p&gt; &#xA;&lt;h3&gt;Prebuilt Framework&lt;/h3&gt; &#xA;&lt;p&gt;A prebuilt binary is available on GitHub for &lt;a href=&#34;https://github.com/jonreid/OCMockito/releases/&#34;&gt;OCMockito&lt;/a&gt;. You will also need &lt;a href=&#34;https://github.com/hamcrest/OCHamcrest/releases/&#34;&gt;OCHamcrest&lt;/a&gt;. The binary is packaged as OCMockito.xcframework, containing these architectures:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;macOS&lt;/li&gt; &#xA; &lt;li&gt;Mac Catalyst&lt;/li&gt; &#xA; &lt;li&gt;iOS device&lt;/li&gt; &#xA; &lt;li&gt;iOS simulator&lt;/li&gt; &#xA; &lt;li&gt;tvOS device&lt;/li&gt; &#xA; &lt;li&gt;tvOS simulator&lt;/li&gt; &#xA; &lt;li&gt;watchOS device&lt;/li&gt; &#xA; &lt;li&gt;watchOS simulator&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Drag the XCFramework into your project.&lt;/p&gt; &#xA;&lt;h3&gt;Build Your Own&lt;/h3&gt; &#xA;&lt;p&gt;If you want to build OCMockito yourself, clone the repo, then&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ cd Source&#xA;$ ./MakeDistribution.sh&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Author&lt;/h2&gt; &#xA;&lt;p&gt;Jon Reid is the author of &lt;em&gt;&lt;a href=&#34;https://iosunittestingbyexample.com&#34;&gt;iOS Unit Testing by Example&lt;/a&gt;.&lt;/em&gt; His website is &lt;a href=&#34;https://qualitycoding.org&#34;&gt;Quality Coding&lt;/a&gt;.&lt;/p&gt;</summary>
  </entry>
  <entry>
    <title>reproio/repro-ios-sdk</title>
    <updated>2024-12-31T01:54:03Z</updated>
    <id>tag:github.com,2024-12-31:/reproio/repro-ios-sdk</id>
    <link href="https://github.com/reproio/repro-ios-sdk" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Repro iOS SDK&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;repro-ios-sdk&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;http://cocoadocs.org/docsets/Repro&#34;&gt;&lt;img src=&#34;http://cocoapod-badges.herokuapp.com/v/Repro/badge.png&#34; alt=&#34;Version&#34;&gt;&lt;/a&gt; &lt;a href=&#34;http://cocoadocs.org/docsets/Repro&#34;&gt;&lt;img src=&#34;http://cocoapod-badges.herokuapp.com/p/Repro/badge.png&#34; alt=&#34;Platform&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://repro.io&#34;&gt;Repro&lt;/a&gt; is a mobile analytics tool that lets you have much deeper understanding of your users.&lt;/p&gt; &#xA;&lt;h2&gt;Get Started&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;http://docs.repro.io/en/dev/sdk/getstarted/ios.html&#34;&gt;EN&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;http://docs.repro.io/ja/dev/sdk/getstarted/ios.html&#34;&gt;JA&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Release Notes&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;http://docs.repro.io/en/releases/sdk/ios/releases.html&#34;&gt;EN&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;http://docs.repro.io/ja/releases/sdk/ios/releases.html&#34;&gt;JA&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Documentation&lt;/h2&gt; &#xA;&lt;p&gt;Read &lt;a href=&#34;http://docs.repro.io&#34;&gt;the documentation&lt;/a&gt; for further information&lt;/p&gt; &#xA;&lt;h2&gt;Author&lt;/h2&gt; &#xA;&lt;p&gt;Repro, Inc.&lt;/p&gt; &#xA;&lt;h2&gt;License&lt;/h2&gt; &#xA;&lt;p&gt;(c) 2016 Repro Inc.&lt;/p&gt;</summary>
  </entry>
</feed>