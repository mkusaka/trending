<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Objective-C Monthly Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2025-01-01T01:54:09Z</updated>
  <subtitle>Monthly Trending of Objective-C in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>jonreid/OCMockito</title>
    <updated>2025-01-01T01:54:09Z</updated>
    <id>tag:github.com,2025-01-01:/jonreid/OCMockito</id>
    <link href="https://github.com/jonreid/OCMockito" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Mockito for Objective-C: creation, verification and stubbing of mock objects&lt;/p&gt;&lt;hr&gt;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/mockito/mockito.github.io/master/img/logo.png&#34; alt=&#34;mockito&#34;&gt;&lt;/p&gt; &#xA;&lt;h1&gt;OCMockito&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/jonreid/OCMockito/actions/workflows/build.yml&#34;&gt;&lt;img src=&#34;https://github.com/jonreid/OCMockito/actions/workflows/build.yml/badge.svg?sanitize=true&#34; alt=&#34;Build Status&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://coveralls.io/r/jonreid/OCMockito&#34;&gt;&lt;img src=&#34;https://coveralls.io/repos/jonreid/OCMockito/badge.svg?sanitize=true&#34; alt=&#34;Coverage Status&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://swiftpackageindex.com/jonreid/OCMockito&#34;&gt;&lt;img src=&#34;https://img.shields.io/endpoint?url=https%3A%2F%2Fswiftpackageindex.com%2Fapi%2Fpackages%2Fjonreid%2FOCMockito%2Fbadge%3Ftype%3Dplatforms&#34; alt=&#34;Swift Package Index Platform Compatibility&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/Carthage/Carthage&#34;&gt;&lt;img src=&#34;https://img.shields.io/badge/Carthage-compatible-4BC51D.svg?style=flat&#34; alt=&#34;Carthage compatible&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://cocoapods.org/pods/OCMockito&#34;&gt;&lt;img src=&#34;https://img.shields.io/cocoapods/v/OCMockito.svg?style=flat&#34; alt=&#34;CocoaPods Version&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://iosdev.space/@qcoding&#34;&gt;&lt;img src=&#34;https://img.shields.io/mastodon/follow/109765011064804734?domain=https%3A%2F%2Fiosdev.space&#34; alt=&#34;Mastodon Follow&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;OCMockito is an Objective-C implementation of Mockito, supporting creation, verification and stubbing of mock objects.&lt;/p&gt; &#xA;&lt;p&gt;Key differences from other mocking frameworks:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;Mock objects are always &#34;nice,&#34; recording their calls instead of throwing exceptions about unspecified invocations. This makes tests less fragile.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;No expect-run-verify, making tests more readable. Mock objects record their calls, then you verify the methods you want.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Verification failures are reported as unit test failures, identifying specific lines instead of throwing exceptions. This makes it easier to identify failures.&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;!-- toc --&gt; &#xA;&lt;h2&gt;Contents&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#lets-verify-some-behavior&#34;&gt;Let&#39;s verify some behavior!&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#how-about-some-stubbing&#34;&gt;How about some stubbing?&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#how-do-you-mock-a-class-object&#34;&gt;How do you mock a class object?&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#how-do-you-mock-a-protocol&#34;&gt;How do you mock a protocol?&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#how-do-you-mock-an-object-that-also-implements-a-protocol&#34;&gt;How do you mock an object that also implements a protocol?&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#how-do-you-stub-methods-that-return-primitives&#34;&gt;How do you stub methods that return primitives?&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#how-do-you-stub-methods-that-return-structs&#34;&gt;How do you stub methods that return structs?&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#how-do-you-stub-a-property-so-that-kvo-works&#34;&gt;How do you stub a property so that KVO works?&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#argument-matchers&#34;&gt;Argument matchers&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#how-do-you-specify-matchers-for-non-object-arguments&#34;&gt;How do you specify matchers for non-object arguments?&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#verifying-exact-number-of-invocations--at-least-x--never&#34;&gt;Verifying exact number of invocations / at least x / never&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#capturing-arguments-for-further-assertions&#34;&gt;Capturing arguments for further assertions&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#stubbing-consecutive-calls&#34;&gt;Stubbing consecutive calls&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#stubbing-with-blocks&#34;&gt;Stubbing with blocks&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#problems-with-dealloc&#34;&gt;Problems with dealloc&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#how-do-you-mock-a-singleton&#34;&gt;How do you mock a singleton?&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#how-do-i-add-ocmockito-to-my-project&#34;&gt;How do I add OCMockito to my project?&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#swift-package-manager&#34;&gt;Swift Package Manager&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#cocoapods&#34;&gt;CocoaPods&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#carthage&#34;&gt;Carthage&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#prebuilt-framework&#34;&gt;Prebuilt Framework&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#build-your-own&#34;&gt;Build Your Own&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#author&#34;&gt;Author&lt;/a&gt;&#xA;  &lt;!-- endToc --&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Let&#39;s verify some behavior!&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;// mock creation&#xA;NSMutableArray *mockArray = mock([NSMutableArray class]);&#xA;&#xA;// using mock object&#xA;[mockArray addObject:@&#34;one&#34;];&#xA;[mockArray removeAllObjects];&#xA;&#xA;// verification&#xA;[verify(mockArray) addObject:@&#34;one&#34;];&#xA;[verify(mockArray) removeAllObjects];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Once created, the mock will remember all interactions. Then you can selectively verify whatever interactions you are interested in.&lt;/p&gt; &#xA;&lt;p&gt;(If Xcode complains about multiple methods with the same name, cast &lt;code&gt;verify&lt;/code&gt; to the mocked class.)&lt;/p&gt; &#xA;&lt;h2&gt;How about some stubbing?&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;// mock creation&#xA;NSArray *mockArray = mock([NSArray class]);&#xA;&#xA;// stubbing&#xA;[given([mockArray objectAtIndex:0]) willReturn:@&#34;first&#34;];&#xA;[given([mockArray objectAtIndex:1]) willThrow:[NSException exceptionWithName:@&#34;name&#34;&#xA;                                                                      reason:@&#34;reason&#34;&#xA;                                                                    userInfo:nil]];&#xA;&#xA;// following prints &#34;first&#34;&#xA;NSLog(@&#34;%@&#34;, [mockArray objectAtIndex:0]);&#xA;&#xA;// follows throws exception&#xA;NSLog(@&#34;%@&#34;, [mockArray objectAtIndex:1]);&#xA;&#xA;// following prints &#34;(null)&#34; because objectAtIndex:999 was not stubbed&#xA;NSLog(@&#34;%@&#34;, [mockArray objectAtIndex:999]);&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;How do you mock a class object?&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;__strong Class mockStringClass = mockClass([NSString class]);&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;(In the iOS 64-bit runtime, Class objects aren&#39;t strong by default. Either make it explicitly strong as shown above, or use &lt;code&gt;id&lt;/code&gt; instead.)&lt;/p&gt; &#xA;&lt;h2&gt;How do you mock a protocol?&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;id &amp;lt;MyDelegate&amp;gt; delegate = mockProtocol(@protocol(MyDelegate));&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Or, if you don&#39;t want it to contain any optional methods:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;id &amp;lt;MyDelegate&amp;gt; delegate = mockProtocolWithoutOptionals(@protocol(MyDelegate));&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;How do you mock an object that also implements a protocol?&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;UIViewController &amp;lt;CustomProtocol&amp;gt; *controller =&#xA;    mockObjectAndProtocol([UIViewController class], @protocol(CustomProtocol));&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;How do you stub methods that return primitives?&lt;/h2&gt; &#xA;&lt;p&gt;To stub methods that return primitive scalars, box the scalars into NSValues:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;[given([mockArray count]) willReturn:@3];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;How do you stub methods that return structs?&lt;/h2&gt; &#xA;&lt;p&gt;Use &lt;code&gt;willReturnStruct:objCType:&lt;/code&gt; passing a pointer to your structure and its type from the Objective-C &lt;code&gt;@encode()&lt;/code&gt; compiler directive:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;SomeStruct aStruct = {...};&#xA;[given([mockObject methodReturningStruct]) willReturnStruct:&amp;amp;aStruct&#xA;                                                   objCType:@encode(SomeStruct)];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;How do you stub a property so that KVO works?&lt;/h2&gt; &#xA;&lt;p&gt;Use &lt;code&gt;stubProperty(mock, property, stubbedValue)&lt;/code&gt;. For example, say you have a mock object named &lt;code&gt;mockEmployee&lt;/code&gt;. It has a property &lt;code&gt;firstName&lt;/code&gt;. You want to stub it to return the value &#34;FIRST-NAME&#34;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;stubProperty(mockEmployee, firstName, @&#34;FIRST-NAME&#34;);&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;This stubs the &lt;code&gt;firstName&lt;/code&gt; property, &lt;code&gt;valueForKey:&lt;/code&gt; and &lt;code&gt;valueForKeyPath:&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Argument matchers&lt;/h2&gt; &#xA;&lt;p&gt;OCMockito verifies argument values by testing for equality. But when extra flexibility is required, you can specify &lt;a href=&#34;https://github.com/hamcrest/OCHamcrest&#34;&gt;OCHamcrest&lt;/a&gt; matchers.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;// mock creation&#xA;NSMutableArray *mockArray = mock([NSMutableArray class]);&#xA;&#xA;// using mock object&#xA;[mockArray removeObject:@&#34;This is a test&#34;];&#xA;&#xA;// verification&#xA;[verify(mockArray) removeObject:startsWith(@&#34;This is&#34;)];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;OCHamcrest matchers can be specified as arguments for both verification and stubbing.&lt;/p&gt; &#xA;&lt;p&gt;Typed arguments will issue a warning that the matcher is the wrong type. Just cast the matcher to &lt;code&gt;id&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;How do you specify matchers for non-object arguments?&lt;/h2&gt; &#xA;&lt;p&gt;To stub a method that takes a non-object argument but specify a matcher, invoke the method with a dummy argument, then call &lt;code&gt;-withMatcher:forArgument:&lt;/code&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;[[given([mockArray objectAtIndex:0]) withMatcher:anything() forArgument:0]&#xA; willReturn:@&#34;foo&#34;];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;This is particularly useful for ignoring &lt;code&gt;NSError **&lt;/code&gt; parameters: pass in &lt;code&gt;NULL&lt;/code&gt;, but override it with an &lt;code&gt;anything()&lt;/code&gt; matcher.&lt;/p&gt; &#xA;&lt;p&gt;Use the shortcut &lt;code&gt;-withMatcher:&lt;/code&gt; to specify a matcher for a single argument:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;[[given([mockArray objectAtIndex:0]) withMatcher:anything()]&#xA; willReturn:@&#34;foo&#34;];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;These methods are also available to specify matchers for verification. Just call them after &lt;code&gt;verify(…)&lt;/code&gt; but before the invocation you want to verify:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;[[verify(mockArray) withMatcher:greaterThan(@5])] removeObjectAtIndex:0];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Verifying exact number of invocations / at least x / never&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;// using mock&#xA;[mockArray addObject:@&#34;once&#34;];&#xA;&#xA;[mockArray addObject:@&#34;twice&#34;];&#xA;[mockArray addObject:@&#34;twice&#34;];&#xA;&#xA;// the following two verifications work exactly the same&#xA;[verify(mockArray) addObject:@&#34;once&#34;];&#xA;[verifyCount(mockArray, times(1)) addObject:@&#34;once&#34;];&#xA;&#xA;// verify exact number of invocations&#xA;[verifyCount(mockArray, times(2)) addObject:@&#34;twice&#34;];&#xA;[verifyCount(mockArray, times(3)) addObject:@&#34;three times&#34;];&#xA;&#xA;// verify using never(), which is an alias for times(0)&#xA;[verifyCount(mockArray, never()) addObject:@&#34;never happened&#34;];&#xA;&#xA;// verify using atLeast()/atMost()&#xA;[verifyCount(mockArray, atLeastOnce()) addObject:@&#34;at least once&#34;];&#xA;[verifyCount(mockArray, atLeast(2)) addObject:@&#34;at least twice&#34;];&#xA;[verifyCount(mockArray, atMost(5)) addObject:@&#34;at most five times&#34;];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Capturing arguments for further assertions&lt;/h2&gt; &#xA;&lt;p&gt;OCMockito verifies argument values using OCHamcrest matchers; non-matcher arguments are implicitly wrapped in the &lt;code&gt;equalTo&lt;/code&gt; matcher to test for equality. In some situations though, it&#39;s helpful to capture an argument so you can send it another message.&lt;/p&gt; &#xA;&lt;p&gt;OCHamcrest provides a special matcher for this purpose: HCArgumentCaptor. Specify it as an argument, then query it with either the &lt;code&gt;value&lt;/code&gt; or &lt;code&gt;allValues&lt;/code&gt; properties.&lt;/p&gt; &#xA;&lt;p&gt;For example, you may want to send the captured argument a message to query its state:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;HCArgumentCaptor *argument = [[HCArgumentCaptor alloc] init];&#xA;[verify(mockObject) doSomething:(id)argument];&#xA;assertThat([argument.value nameAtIndex:0], is(@&#34;Jon&#34;));&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Capturing arguments is especially handy for block arguments. Capture the argument, cast it to the block type, then invoke the block directly to simulate the ways it will be called by production code:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;HCArgumentCaptor *argument = [[HCArgumentCaptor alloc] init];&#xA;[verify(mockArray) sortUsingComparator:(id)argument];&#xA;NSComparator block = argument.value;&#xA;assertThat(@(block(@&#34;a&#34;, @&#34;z&#34;)), is(@(NSOrderedAscending)));&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Stubbing consecutive calls&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;[[given([mockObject someMethod:@&#34;some arg&#34;])&#xA;    willThrow:[NSException exceptionWithName:@&#34;name&#34; reason:@&#34;reason&#34; userInfo:nil]]&#xA;    willReturn:@&#34;foo&#34;];&#xA;&#xA;// First call: throws exception&#xA;[mockObject someMethod:@&#34;some arg&#34;];&#xA;&#xA;// Second call: prints &#34;foo&#34;&#xA;NSLog(@&#34;%@&#34;, [mockObject someMethod:@&#34;some arg&#34;]);&#xA;&#xA;// Any consecutive call: prints &#34;foo&#34; as well. (Last stubbing wins.)&#xA;NSLog(@&#34;%@&#34;, [mockObject someMethod:@&#34;some arg&#34;]);&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Stubbing with blocks&lt;/h2&gt; &#xA;&lt;p&gt;We recommend using simple stubbing with &lt;code&gt;willReturn:&lt;/code&gt; or &lt;code&gt;willThrow:&lt;/code&gt; only. But &lt;code&gt;willDo:&lt;/code&gt; using a block can sometimes be helpful. The block can easily access invocation arguments by calling &lt;code&gt;mkt_arguments&lt;/code&gt; from NSInvocation+OCMockito.h. Whatever the block returns will be used as the stubbed return value.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;[given([mockObject someMethod:anything()]) willDo:^id (NSInvocation *invocation){&#xA;    NSArray *args = [invocation mkt_arguments];&#xA;    return @([args[0] intValue] * 2);&#xA;}];&#xA;&#xA;// Following prints 4&#xA;NSLog(@&#34;%@&#34;, [mockObject someMethod:@2]);&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;You can stub a void method with a block by using &lt;code&gt;givenVoid&lt;/code&gt; instead of &lt;code&gt;given&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Problems with dealloc&lt;/h2&gt; &#xA;&lt;p&gt;Use &lt;code&gt;stopMocking(…)&lt;/code&gt; if a &lt;code&gt;-dealloc&lt;/code&gt; of your System Under Test is trying to message an object that is mocked. It disables message handling on the mock and frees its retained arguments. This prevents retain cycles and crashes during test clean-up. See StopMockingTests.m for an example.&lt;/p&gt; &#xA;&lt;h2&gt;How do you mock a singleton?&lt;/h2&gt; &#xA;&lt;p&gt;The short answer is: Don&#39;t. Instead of your class deciding who it&#39;s going to talk to, inject those dependencies.&lt;/p&gt; &#xA;&lt;p&gt;The longer answer is: Well. Legacy code. Call &lt;code&gt;stubSingleton&lt;/code&gt; on a mock class object, specifying the name of the factory method.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-obj-c&#34;&gt;__strong Class mockUserDefaultsClass = mockClass([NSUserDefaults class]);&#xA;NSUserDefaults* mockDefaults = mock([NSUserDefaults class]);&#xA;&#xA;stubSingleton(mockUserDefaultsClass, standardUserDefaults);&#xA;[given([NSUserDefaults standardUserDefaults]) willReturn:mockDefaults];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Beware! This uses swizzling. You need to make sure the mock class object gets deallocated so that the swizzling is undone.&lt;/p&gt; &#xA;&lt;p&gt;In the example above, &lt;code&gt;mockUserDefaultsClass&lt;/code&gt; will go out scope and be destroyed. But what if you kept it in the test fixture, as an ivar or a property? According to XCTest&#39;s design, it won&#39;t be implicitly destroyed. You need to explicitly set it to nil in &lt;code&gt;-tearDown&lt;/code&gt;, or the swizzling will bleed over to your other tests, compromising their integrity.&lt;/p&gt; &#xA;&lt;p&gt;If you need more control over when the swizzling is undone, call &lt;code&gt;stopMocking(…)&lt;/code&gt; on the mock class.&lt;/p&gt; &#xA;&lt;h2&gt;How do I add OCMockito to my project?&lt;/h2&gt; &#xA;&lt;p&gt;The &lt;a href=&#34;https://github.com/jonreid/OCMockito/tree/main/Examples&#34;&gt;Examples&lt;/a&gt; folder shows projects ready to use OCMockito via Swift Package Manager, CocoaPods, or through the prebuilt framework.&lt;/p&gt; &#xA;&lt;h3&gt;Swift Package Manager&lt;/h3&gt; &#xA;&lt;p&gt;Include an OCMockito package in your Package.swift manifest&#39;s array of &lt;code&gt;dependencies&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;!-- snippet: swiftpm-declare-dependencies --&gt; &#xA;&lt;p&gt;&lt;a id=&#34;snippet-swiftpm-declare-dependencies&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;dependencies: [&#xA;    .package(&#xA;        url: &#34;https://github.com/jonreid/OCMockito&#34;,&#xA;        .upToNextMajor(from: &#34;7.0.0&#34;)&#xA;    ),&#xA;],&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;sup&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/Examples/MacExample-SwiftPackageManager/Package.swift#L13-L20&#34; title=&#34;Snippet source file&#34;&gt;snippet source&lt;/a&gt; | &lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#snippet-swiftpm-declare-dependencies&#34; title=&#34;Start of snippet&#34;&gt;anchor&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt; &#xA;&lt;!-- endSnippet --&gt; &#xA;&lt;p&gt;Then add OCMockito to the dependencies of your &lt;code&gt;.testTarget&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;!-- snippet: swiftpm-use-dependencies --&gt; &#xA;&lt;p&gt;&lt;a id=&#34;snippet-swiftpm-use-dependencies&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;.testTarget(&#xA;    name: &#34;ExampleTests&#34;,&#xA;    dependencies: [&#xA;        &#34;Example&#34;,&#xA;        &#34;OCMockito&#34;,&#xA;    ]&#xA;),&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;sup&gt;&lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/Examples/MacExample-SwiftPackageManager/Package.swift#L27-L35&#34; title=&#34;Snippet source file&#34;&gt;snippet source&lt;/a&gt; | &lt;a href=&#34;https://raw.githubusercontent.com/jonreid/OCMockito/main/#snippet-swiftpm-use-dependencies&#34; title=&#34;Start of snippet&#34;&gt;anchor&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt; &#xA;&lt;!-- endSnippet --&gt; &#xA;&lt;h3&gt;CocoaPods&lt;/h3&gt; &#xA;&lt;p&gt;If you want to add OCMockito using Cocoapods then add the following dependency to your Podfile. Most people will want OCMockito in their test targets, and not include any pods from their main targets:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;target &#39;MyTests&#39; do&#xA;  inherit! :search_paths&#xA;  use_frameworks!&#xA;  pod &#39;OCMockito&#39;, &#39;~&amp;gt; 7.0&#39;&#xA;end&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Carthage&lt;/h3&gt; &#xA;&lt;p&gt;Add the following to your Cartfile:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;github &#34;jonreid/OCMockito&#34; ~&amp;gt; 7.0&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Then drag the the built frameworks (both OCHamcrest and OCMockito) from the appropriate Carthage/Build directory into your project, but with &#34;Copy items into destination group&#39;s folder&#34; disabled.&lt;/p&gt; &#xA;&lt;h3&gt;Prebuilt Framework&lt;/h3&gt; &#xA;&lt;p&gt;A prebuilt binary is available on GitHub for &lt;a href=&#34;https://github.com/jonreid/OCMockito/releases/&#34;&gt;OCMockito&lt;/a&gt;. You will also need &lt;a href=&#34;https://github.com/hamcrest/OCHamcrest/releases/&#34;&gt;OCHamcrest&lt;/a&gt;. The binary is packaged as OCMockito.xcframework, containing these architectures:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;macOS&lt;/li&gt; &#xA; &lt;li&gt;Mac Catalyst&lt;/li&gt; &#xA; &lt;li&gt;iOS device&lt;/li&gt; &#xA; &lt;li&gt;iOS simulator&lt;/li&gt; &#xA; &lt;li&gt;tvOS device&lt;/li&gt; &#xA; &lt;li&gt;tvOS simulator&lt;/li&gt; &#xA; &lt;li&gt;watchOS device&lt;/li&gt; &#xA; &lt;li&gt;watchOS simulator&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Drag the XCFramework into your project.&lt;/p&gt; &#xA;&lt;h3&gt;Build Your Own&lt;/h3&gt; &#xA;&lt;p&gt;If you want to build OCMockito yourself, clone the repo, then&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ cd Source&#xA;$ ./MakeDistribution.sh&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Author&lt;/h2&gt; &#xA;&lt;p&gt;Jon Reid is the author of &lt;em&gt;&lt;a href=&#34;https://iosunittestingbyexample.com&#34;&gt;iOS Unit Testing by Example&lt;/a&gt;.&lt;/em&gt; His website is &lt;a href=&#34;https://qualitycoding.org&#34;&gt;Quality Coding&lt;/a&gt;.&lt;/p&gt;</summary>
  </entry>
  <entry>
    <title>onfido/onfido-ios-sdk</title>
    <updated>2025-01-01T01:54:09Z</updated>
    <id>tag:github.com,2025-01-01:/onfido/onfido-ios-sdk</id>
    <link href="https://github.com/onfido/onfido-ios-sdk" rel="alternate"></link>
    <summary type="html">&lt;p&gt;A Swift client for the Onfido API and a collection of UI elements to capture photos of documents.&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;Onfido Smart Capture iOS SDK&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;http://cocoapods.org/pods/Onfido&#34;&gt;&lt;img src=&#34;https://img.shields.io/cocoapods/v/Onfido.svg?style=flat&#34; alt=&#34;Version&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://swift.org/package-manager/&#34;&gt;&lt;img src=&#34;https://img.shields.io/badge/SwiftPM-compatible-brightgreen.svg?style=flat&#34; alt=&#34;SwiftPM compatible&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/Carthage/Carthage&#34;&gt;&lt;img src=&#34;https://img.shields.io/badge/Carthage-incompatible-red.svg?style=flat&#34; alt=&#34;Carthage incompatible&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://www.bitrise.io/app/d04e3a422799521b&#34;&gt;&lt;img src=&#34;https://app.bitrise.io/app/d04e3a422799521b/status.svg?token=vBI0wpdUSfh25wctd1MHfA&amp;amp;branch=master&#34; alt=&#34;Build Status&#34;&gt;&lt;/a&gt; &lt;a href=&#34;http://cocoapods.org/pods/Onfido&#34;&gt;&lt;img src=&#34;https://img.shields.io/cocoapods/l/Onfido.svg?style=flat&#34; alt=&#34;License&#34;&gt;&lt;/a&gt; &lt;a href=&#34;http://cocoapods.org/pods/Onfido&#34;&gt;&lt;img src=&#34;https://img.shields.io/cocoapods/p/Onfido.svg?style=flat&#34; alt=&#34;Platform&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Table of contents&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#overview&#34;&gt;1. Overview&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#adding-the-sdk-dependency&#34;&gt;2. Adding the SDK dependency&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#initializing-the-sdk&#34;&gt;3. Initializing the SDK&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#completing-a-session&#34;&gt;4. Completing a session&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#advanced-flow-customization&#34;&gt;Advanced flow customization&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#advanced-callbacks&#34;&gt;Advanced callbacks&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#user-analytics&#34;&gt;User analytics&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#custom-biometric-token-storage&#34;&gt;Custom biometric token storage&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#migrating&#34;&gt;Migrating&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#security&#34;&gt;Security&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#accessibility&#34;&gt;Accessibility&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#licensing&#34;&gt;Licensing&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#more-information&#34;&gt;More information&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#support&#34;&gt;Raising support issue&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Overview&lt;/h2&gt; &#xA;&lt;p&gt;The Onfido Smart Capture SDKs provide a set of screens and functionalities that enable applications to implement user identity verification flows. Each SDK contains:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Carefully designed UX to guide your customers through the different photo or video capture processes&lt;/li&gt; &#xA; &lt;li&gt;Modular design to help you seamlessly integrate the different photo or video capture processes into your application&#39;s flow&lt;/li&gt; &#xA; &lt;li&gt;Advanced image quality detection technology to ensure the quality of the captured images meets the requirement of the Onfido identity verification process, guaranteeing the best success rate&lt;/li&gt; &#xA; &lt;li&gt;Direct image upload to the Onfido service, to simplify integration&lt;/li&gt; &#xA; &lt;li&gt;A suite of advanced fraud detection signals to protect against malicious users&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;All Onfido Smart Capture SDKs are orchestrated using &lt;a href=&#34;https://documentation.onfido.com/getting-started/onfido-studio-product&#34;&gt;Onfido Studio&lt;/a&gt; workflows, with only minor customization differences between the available platforms.&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/assets/Overview.png&#34; alt=&#34;Capture Document and face&#34;&gt;&lt;/p&gt; &#xA;&lt;h3&gt;Environments and testing with the SDK&lt;/h3&gt; &#xA;&lt;p&gt;Two environments exist to support the Onfido SDK integrations:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&#39;sandbox&#39; - to be used for testing with sample documents&lt;/li&gt; &#xA; &lt;li&gt;&#39;live&#39; - to be used only with real documents and in production apps&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;The environment being used is determined by the API token that is used to generate the necessary &lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#sdk-authentication&#34;&gt;SDK token&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h3&gt;Going Live&lt;/h3&gt; &#xA;&lt;p&gt;Once you are satisfied with your integration and are ready to go live, please contact Onfido&#39;s &lt;a href=&#34;mailto:client-support@onfido.com&#34;&gt;Customer Support&lt;/a&gt; to obtain a live API token. You will have to replace the sandbox token in your code with the live token.&lt;/p&gt; &#xA;&lt;p&gt;Check that you have entered correct billing details inside your &lt;a href=&#34;https://onfido.com/dashboard/&#34;&gt;Onfido Dashboard&lt;/a&gt;, before going live.&lt;/p&gt; &#xA;&lt;h2&gt;Adding the SDK dependency&lt;/h2&gt; &#xA;&lt;p&gt;The iOS SDK supports:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;iOS 13+&lt;/li&gt; &#xA; &lt;li&gt;Xcode 15+ &lt;em&gt;(because of Swift minimum version)&lt;/em&gt;&lt;/li&gt; &#xA; &lt;li&gt;The SDK supports the following presentation styles: &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;Only full screen style for iPhones&lt;/li&gt; &#xA;   &lt;li&gt;Full screen and form sheet styles for iPads&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: The latest SDK version to support Xcode 11.5-12 is iOS SDK version 22, Xcode 14+ is iOS SDK version 29. There is a workaround for older versions of Xcode if required. Please contact Onfido&#39;s &lt;a href=&#34;mailto:support@onfido.com&#34;&gt;Customer Support team&lt;/a&gt; for more information.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: The iOS SDK requires CoreNFC to run (regardless of whether you use NFC or not). Since Xcode 12, there is a bug where &lt;code&gt;libnfshared.dylib&lt;/code&gt; is missing from simulators. Refer to &lt;a href=&#34;https://stackoverflow.com/questions/63915728/xcode12-corenfc-simulator-library-not-loaded&#34;&gt;Stack Overflow&lt;/a&gt; for a solution to this problem.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: In the event that you disable the NFC feature, Apple might ask you to provide a video to demonstrate NFC usage because NFC-related code is part of the SDK binary, regardless of runtime configuration. While we&#39;re working on a permanent solution for this problem, you can contact Onfido&#39;s &lt;a href=&#34;mailto:support@onfido.com&#34;&gt;Customer Support&lt;/a&gt; in the meantime to obtain a video.&lt;/p&gt; &#xA;&lt;h3&gt;App permissions&lt;/h3&gt; &#xA;&lt;p&gt;The SDK makes use of a user&#39;s device camera (for document and face capture) and microphone (for video and motion capture). You&#39;re required to have the following keys in your application&#39;s &lt;code&gt;Info.plist&lt;/code&gt; file:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;NSCameraUsageDescription&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;NSMicrophoneUsageDescription&lt;/code&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;key&amp;gt;NSCameraUsageDescription&amp;lt;/key&amp;gt;&#xA;&amp;lt;string&amp;gt;Required for document and face capture&amp;lt;/string&amp;gt;&#xA;&amp;lt;key&amp;gt;NSMicrophoneUsageDescription&amp;lt;/key&amp;gt;&#xA;&amp;lt;string&amp;gt;Required for video capture&amp;lt;/string&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: All keys will be required for app submission.&lt;/p&gt; &#xA;&lt;h3&gt;Adding the dependency&lt;/h3&gt; &#xA;&lt;h4&gt;Using Swift Package Manager&lt;/h4&gt; &#xA;&lt;p&gt;The SDK is available with Swift Package Manager, and you can include it in your project by adding the following package repository URL:&lt;/p&gt; &#xA;&lt;h5&gt;Swift&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;dependencies: [&#xA;    .package(url: &#34;https://github.com/onfido/onfido-ios-sdk.git&#34;, .branch(&#34;master&#34;))&#xA;]&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Using CocoaPods&lt;/h4&gt; &#xA;&lt;p&gt;The SDK is also available on CocoaPods, and you can include it in your project by adding the following to your Podfile:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;pod &#39;Onfido&#39;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Run &lt;code&gt;pod install&lt;/code&gt; to get the SDK.&lt;/p&gt; &#xA;&lt;h4&gt;Manual installation&lt;/h4&gt; &#xA;&lt;p&gt;The SDK is available in the &lt;a href=&#34;https://github.com/onfido/onfido-ios-sdk/releases&#34;&gt;GitHub Releases tab&lt;/a&gt;, where you can download the compressed framework. You can find the latest release &lt;a href=&#34;https://github.com/onfido/onfido-ios-sdk/releases/latest&#34;&gt;here&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/onfido/onfido-ios-sdk/releases/latest&#34;&gt;Download&lt;/a&gt; the compressed zip file containing the &lt;code&gt;Onfido.xcframework&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;Uncompress the zip file and then move the &lt;code&gt;Onfido.xcframework&lt;/code&gt; artefact into your project folder&lt;/li&gt; &#xA; &lt;li&gt;Open your app&#39;s project file in Xcode. Then select your app&#39;s target under target list&lt;/li&gt; &#xA; &lt;li&gt;Add &lt;code&gt;Onfido.xcframework&lt;/code&gt; located within your project to the &lt;code&gt;Embedded binaries&lt;/code&gt; section in the &lt;code&gt;General&lt;/code&gt; tab of your iOS app target&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;⚠️ Do not add the xcframework as &lt;em&gt;resources&lt;/em&gt; to your app target, as only few files are required that xcode will automatically take during build.&lt;/p&gt; &#xA;&lt;h4&gt;Non-Swift apps&lt;/h4&gt; &#xA;&lt;p&gt;If your app is not Swift based, then you must create a new Swift file inside of your project. This file is required to force Xcode to package Swift runtime libraries required for the Onfido iOS SDK to run.&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt; &lt;p&gt;Create a Swift file with the following contents:&lt;/p&gt; &lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;import Foundation&#xA;import AVFoundation&#xA;import CoreImage&#xA;import UIKit&#xA;import Vision&#xA;&#xA;func fixLibSwiftOnoneSupport() {&#xA;    // from https://stackoverflow.com/a/54511127/2982993&#xA;    print(&#34;Fixes dyld: Library not loaded: @rpath/libswiftSwiftOnoneSupport.dylib&#34;)&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Set &lt;code&gt;Always Embed Swift Standard Libraries&lt;/code&gt; to &lt;code&gt;Yes&lt;/code&gt; in your project configuration.&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h2&gt;Initializing the SDK&lt;/h2&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;⚠️ The following SDK initialization documentation applies to identity verification workflows orchestrated using Onfido Studio. For integrations where the verification steps are manually defined and configured, please refer to the &lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#advanced-flow-customization&#34;&gt;Advanced flow customization&lt;/a&gt; section below.&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;p&gt;The iOS SDK has multiple initialization and customization options that provide flexibility to your integration, while remaining easy to integrate.&lt;/p&gt; &#xA;&lt;h3&gt;Defining a workflow&lt;/h3&gt; &#xA;&lt;p&gt;Onfido Studio is the platform used to create highly reusable identity verification workflows for use with the Onfido SDKs. For an introduction to working with workflows, please refer to our &lt;a href=&#34;https://documentation.onfido.com/getting-started/general-introduction&#34;&gt;Getting Started guide&lt;/a&gt;, or the Onfido Studio &lt;a href=&#34;https://documentation.onfido.com/getting-started/onfido-studio-product&#34;&gt;product guide&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;SDK sessions are orchestrated by a session-specific &lt;code&gt;workflow_run_id&lt;/code&gt;, itself derived from a &lt;code&gt;workflow_id&lt;/code&gt;, the unique identifier of a given workflow.&lt;/p&gt; &#xA;&lt;p&gt;For details on how to generate a &lt;code&gt;workflow_run_id&lt;/code&gt;, please refer to the &lt;code&gt;POST /workflow_runs/&lt;/code&gt; endpoint definition in the Onfido &lt;a href=&#34;https://documentation.onfido.com/api/latest#workflow-runs&#34;&gt;API reference&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;callout type=&#34;warning&#34;&gt; &#xA; &lt;blockquote&gt; &#xA;  &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt; that in the context of the SDK, the &lt;code&gt;workflow_run_id&lt;/code&gt; property is referred to as &lt;code&gt;workflowRunId&lt;/code&gt;.&lt;/p&gt; &#xA; &lt;/blockquote&gt; &#xA;&lt;/callout&gt; &#xA;&lt;h4&gt;Applicant ID reuse&lt;/h4&gt; &#xA;&lt;p&gt;When defining workflows and creating identity verifications, we highly recommend saving the &lt;code&gt;applicant_id&lt;/code&gt; against a specific user for potential reuse. This helps to keep track of users should you wish to run multiple identity verifications on the same individual, or in scenarios where a user returns to and resumes a verification flow.&lt;/p&gt; &#xA;&lt;h3&gt;SDK authentication&lt;/h3&gt; &#xA;&lt;p&gt;The SDK is authenticated using SDK tokens. Onfido Studio generates and exposes SDK tokens in the workflow run payload returned by the API when a workflow run is &lt;a href=&#34;https://documentation.onfido.com/#create-workflow-run&#34;&gt;created&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;SDK tokens for Studio can only be used together with the specific workflow run they are generated for, and remain valid for a period of five weeks.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: You must never use API tokens in the frontend of your application as malicious users could discover them in your source code. You should only use them on your server.&lt;/p&gt; &#xA;&lt;h3&gt;Build a configuration object&lt;/h3&gt; &#xA;&lt;p&gt;To use the SDK, you need to obtain an instance of the client object, using your generated SDK token and workflow run ID.&lt;/p&gt; &#xA;&lt;h5&gt;Swift&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let workflowConfiguration = WorkflowConfiguration(workflowRunId: &#34;&amp;lt;WORKFLOW_RUN_ID&amp;gt;&#34;, sdkToken: &#34;&amp;lt;YOUR_SDK_TOKEN&amp;gt;&#34;)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Start the flow&lt;/h3&gt; &#xA;&lt;h5&gt;Swift&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let onfidoRun = OnfidoFlow(workflowConfiguration: orchestrationConfig)&#xA;customerViewController.present(try onfidoRun.run(), animated: true, completion: nil)&#xA;// listen for the result&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;NFC capture&lt;/h3&gt; &#xA;&lt;p&gt;Recent passports, national identity cards and residence permits contain a chip that can be accessed using Near Field Communication (NFC). The Onfido SDKs provide a set of screens and functionalities to extract this information, verify its authenticity and provide the resulting verification as part of a Document report.&lt;/p&gt; &#xA;&lt;p&gt;From version &lt;a href=&#34;https://github.com/onfido/onfido-ios-sdk/raw/master/MIGRATION.md#onfido-ios-sdk-2910-migration-guide&#34;&gt;29.1.0&lt;/a&gt; onwards of the Onfido iOS SDK, NFC is enabled by default and offered to end users when both the document and the device support NFC.&lt;/p&gt; &#xA;&lt;p&gt;For more information on how to configure NFC and the list of supported documents, please refer to the &lt;a href=&#34;https://documentation.onfido.com/guide/document-report-nfc&#34;&gt;NFC for Document Report&lt;/a&gt; guide.&lt;/p&gt; &#xA;&lt;h4&gt;Pre-requisites&lt;/h4&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;This feature requires &lt;code&gt;Near Field Communication Tag Reading&lt;/code&gt; capability in your app target. If you haven&#39;t added it before, please follow the steps in &lt;a href=&#34;https://help.apple.com/xcode/mac/current/#/dev88ff319e7&#34;&gt;Apple&#39;s documentation&lt;/a&gt;.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;To support NFC PACE documents, you need to edit app entitlements:&lt;/p&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;Add a new entry nested under the &lt;code&gt;Near Field Communication Tag Reader Session Formats&lt;/code&gt; key&lt;/li&gt; &#xA;   &lt;li&gt;Select &lt;code&gt;Password Authenticated Connection Establishment (PACE)&lt;/code&gt; from the dropdown list&lt;/li&gt; &#xA;   &lt;li&gt;Alternatively you can also edit your entitlements, with the following entries: &lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;key&amp;gt;com.apple.developer.nfc.readersession.formats&amp;lt;/key&amp;gt;&#xA;&amp;lt;array&amp;gt;&#xA;    &amp;lt;string&amp;gt;PACE&amp;lt;/string&amp;gt;&#xA;    &amp;lt;string&amp;gt;TAG&amp;lt;/string&amp;gt;&#xA;&amp;lt;/array&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;You&#39;re required to have the following key in your application&#39;s &lt;code&gt;Info.plist&lt;/code&gt; file:&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;key&amp;gt;NFCReaderUsageDescription&amp;lt;/key&amp;gt;&#xA;&amp;lt;string&amp;gt;Required to read ePassports&amp;lt;/string&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;You have to include the entries below in your app target&#39;s &lt;code&gt;Info.plist&lt;/code&gt; file to be able to read NFC tags properly.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;key&amp;gt;com.apple.developer.nfc.readersession.felica.systemcodes&amp;lt;/key&amp;gt;&#xA;&amp;lt;array&amp;gt;&#xA;  &amp;lt;string&amp;gt;12FC&amp;lt;/string&amp;gt;&#xA;&amp;lt;/array&amp;gt;&#xA;&amp;lt;key&amp;gt;com.apple.developer.nfc.readersession.iso7816.select-identifiers&amp;lt;/key&amp;gt;&#xA;&amp;lt;array&amp;gt;&#xA;  &amp;lt;string&amp;gt;A0000002471001&amp;lt;/string&amp;gt;&#xA;  &amp;lt;string&amp;gt;A0000002472001&amp;lt;/string&amp;gt;&#xA;  &amp;lt;string&amp;gt;00000000000000&amp;lt;/string&amp;gt;&#xA;  &amp;lt;string&amp;gt;D2760000850101&amp;lt;/string&amp;gt;&#xA;&amp;lt;/array&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Configuring NFC&lt;/h4&gt; &#xA;&lt;p&gt;To configure NFC using Onfido Studio, you can use one of the following options in the workflow builder:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Off: NFC reading will not be asked to the end-users&lt;/li&gt; &#xA; &lt;li&gt;If Possible (&lt;code&gt;optional&lt;/code&gt;): NFC reading will be attempted, if possible&lt;/li&gt; &#xA; &lt;li&gt;Required: NFC reading will be enforced, not allowing end-users to finish the flow without a successful reading&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;To configure NFC in code, call the &lt;code&gt;withNFC()&lt;/code&gt; function while configuring &lt;code&gt;OnfidoConfig&lt;/code&gt; (see the &lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#advanced-flow-customization&#34;&gt;Advanced flow customization&lt;/a&gt; section below) using the above options.&lt;/p&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;⚠️ When NFC is configured as &lt;code&gt;required&lt;/code&gt; with code, unlike with Studio, SDK will not filter out document types that are not NFC capable, for end-user best experience, expose only document types that are NFC capable as listed &lt;a href=&#34;https://documentation.onfido.com/guide/supported-documents-nfc&#34;&gt;here&lt;/a&gt;, or prefer using Studio&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;h3&gt;Styling customization&lt;/h3&gt; &#xA;&lt;p&gt;The iOS SDK supports the customization of colors, fonts and strings used in the SDK flow.&lt;/p&gt; &#xA;&lt;h3&gt;UI customization&lt;/h3&gt; &#xA;&lt;h4&gt;Appearance and Colors&lt;/h4&gt; &#xA;&lt;p&gt;To customize the look and feel of the SDK, you can pass the required CSS values to the &lt;code&gt;Appearance&lt;/code&gt; object, in the root of the &lt;code&gt;WorkflowConfiguration&lt;/code&gt; object.&lt;/p&gt; &#xA;&lt;h5&gt;Swift&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let appearance = Appearance()&#xA;appearance.primaryColor = &amp;lt;DESIRED_UI_COLOR_HERE&amp;gt;&#xA;appearance.primaryTitleColor = &amp;lt;DESIRED_UI_COLOR_HERE&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h5&gt;Objective-C&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-objc&#34;&gt;ONAppearance *appearance = [[ONAppearance alloc] init];&#xA;appearance.primaryColor = &amp;lt;DESIRED_UI_COLOR_HERE&amp;gt;;&#xA;appearance.primaryTitleColor = &amp;lt;DESIRED_UI_COLOR_HERE&amp;gt;;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Please refer to the &lt;a href=&#34;https://documentation.onfido.com/sdk/sdk-customization#ui-customization&#34;&gt;SDK customization documentation&lt;/a&gt; for details of the supported UI options that can be set in this property.&lt;/p&gt; &#xA;&lt;h4&gt;Dark theme&lt;/h4&gt; &#xA;&lt;p&gt;The iOS SDK supports dark theme customization. By default, the user&#39;s active device theme will be automatically applied to the Onfido SDK. However, you can opt out from dynamic theme switching at run time and instead set a theme statically at the build time as shown below. In this case, the flow will always be displayed in the selected theme regardless of the user&#39;s device theme.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;interfaceStyle&lt;/code&gt; allows you to force light or dark mode via &lt;code&gt;.dark&lt;/code&gt; and &lt;code&gt;.light&lt;/code&gt; respectively. By default, it is set to &lt;code&gt;.unspecified&lt;/code&gt;, which will follow the system&#39;s interface style.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; The previous attribute &lt;code&gt;supportDarkMode&lt;/code&gt; is now deprecated. Please use &lt;code&gt;interfaceStyle&lt;/code&gt; instead.&lt;/p&gt; &#xA;&lt;p&gt;For example, to set the interface style to &lt;code&gt;.dark&lt;/code&gt;, you can use the code below:&lt;/p&gt; &#xA;&lt;h5&gt;Swift&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let appearance = Appearance()&#xA;appearance.setUserInterfaceStyle(.dark)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h5&gt;Objective-C&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-objc&#34;&gt;ONAppearance *appearance = [ONAppearance new];&#xA;[appearance setUserInterfaceStyle:UIUserInterfaceStyleDark];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Applying the Appearance object&lt;/h4&gt; &#xA;&lt;p&gt;To apply the appearance you can use the methods below:&lt;/p&gt; &#xA;&lt;h5&gt;Swift&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let configBuilder = OnfidoConfig.builder()&#xA;configBuilder.withAppearance(appearance)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h5&gt;Objective-C&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-objc&#34;&gt;ONFlowConfigBuilder *configBuilder = [ONFlowConfig builder];&#xA;[configBuilder withAppearance:appearance];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Co-branding&lt;/h3&gt; &#xA;&lt;p&gt;The Onfido SDK allows for two co-branding options that affect the display of the Onfido logo at the bottom of the Onfido screens.&lt;/p&gt; &#xA;&lt;h4&gt;Text co-branding&lt;/h4&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;strong&gt;&lt;code&gt;cobrand {Object}&lt;/code&gt; - optional&lt;/strong&gt;&lt;/p&gt; &lt;p&gt;The most effective way to add your brand to the footer watermark is by use of the &lt;code&gt;cobrand&lt;/code&gt; property under &lt;code&gt;enterpriseFeatures&lt;/code&gt;. This property takes a &lt;code&gt;text&lt;/code&gt; parameter.&lt;/p&gt; &lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/assets/text_co_brand.png&#34; alt=&#34;Example of text cobranding&#34;&gt;&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h5&gt;Swift&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let companyName = &#34;MyCompany&#34;&#xA;let enterpriseFeatures = EnterpriseFeatures.builder()&#xA;    .withCobrandingText(companyName)&#xA;    .build()&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h5&gt;Objective-C&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-objc&#34;&gt;NSString *companyName = @&#34;MyCompany&#34;;&#xA;ONEnterpriseFeaturesBuilder *enterpriseFeatures = [ONEnterpriseFeatures builder];&#xA;[enterpriseFeatures withCobrandingText: companyName];&#xA;[enterpriseFeatures build];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;strong&gt;Please note&lt;/strong&gt;: Text co-branding must be enabled by Onfido. Please &lt;a href=&#34;mailto:client-support@onfido.com&#34;&gt;contact&lt;/a&gt; your Solutions Engineer or Customer Success Manager to activate the feature.&lt;/p&gt; &#xA;&lt;h4&gt;Logo co-branding&lt;/h4&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;strong&gt;&lt;code&gt;logoCobrand {Object}&lt;/code&gt; - optional&lt;/strong&gt;&lt;/p&gt; &lt;p&gt;As an alternative to &lt;code&gt;cobrand&lt;/code&gt;, you may specify a set of images to be defined in the &lt;code&gt;logoCobrand&lt;/code&gt; property under &lt;code&gt;enterpriseFeatures&lt;/code&gt;. You must provide the path to an image for use in &#39;dark&#39; mode and a separate image for &#39;light&#39; mode. Both images must have a resolution of 144x32.&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h5&gt;Swift&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let onfidoEnterpriseFeatures = EnterpriseFeatures.builder()&#xA;    .withCobrandingLogo(&#xA;        UIImage(named: &#34;imageName_for_lightmode&#34;)!,&#xA;        cobrandingLogoDarkMode: UIImage(named: &#34;imageName_for_darkmode&#34;)!&#xA;     )&#xA;    .build()&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h5&gt;Objective-C&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-objc&#34;&gt;ONEnterpriseFeaturesBuilder *enterpriseFeatures = [ONEnterpriseFeatures builder];&#xA;[enterpriseFeatures withCobrandingLogo:&#xA;  [UIImage imageNamed:@&#34;onfido-logo-white&#34;] cobrandingLogoDarkMode:[UIImage imageNamed:@&#34;onfido-logo-grey&#34;]&#xA;];&#xA;[enterpriseFeatures build];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;strong&gt;Please note&lt;/strong&gt;: Logo co-branding must be enabled by Onfido. Please &lt;a href=&#34;mailto:client-support@onfido.com&#34;&gt;contact&lt;/a&gt; your Solutions Engineer or Customer Success Manager to activate the feature.&lt;/p&gt; &#xA;&lt;h4&gt;Add co-branding to OnfidoConfig&lt;/h4&gt; &#xA;&lt;p&gt;To apply co-branding, add the enterprise features object to &lt;code&gt;OnfidoConfig&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;h5&gt;Swift&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let configBuilder = OnfidoConfig.builder()&#xA;configBuilder.withEnterpriseFeatures(enterpriseFeatures)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h5&gt;Objective-C&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-objc&#34;&gt;ONFlowConfigBuilder *configBuilder = [ONFlowConfig builder];&#xA;[configBuilder withEnterpriseFeatures: enterpriseFeatures];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Language localization&lt;/h3&gt; &#xA;&lt;p&gt;The Onfido SDK supports and maintains translations for over 40 languages.&lt;/p&gt; &#xA;&lt;p&gt;The strings used within the SDK can be customized by having a &lt;code&gt;Localizable.strings&lt;/code&gt; in your app for the desired language and by configuring the flow using the &lt;code&gt;withCustomLocalization()&lt;/code&gt; method on the configuration builder.&lt;/p&gt; &#xA;&lt;h5&gt;Swift&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;- (void)withCustomLocalization {&#xA;    [self.configBuilder withCustomLocalization]; // will look for localizable strings in your Localizable.strings file&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;For the list of languages supported by Onfido, please refer to our &lt;a href=&#34;https://documentation.onfido.com/sdk/sdk-customization#language-customization&#34;&gt;SDK customization documentation&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: If no language is selected, the SDK will detect and use the end user&#39;s device language setting. If the device&#39;s language is not supported, the SDK will default to English (&lt;code&gt;en_US&lt;/code&gt;).&lt;/p&gt; &#xA;&lt;h4&gt;Custom languages&lt;/h4&gt; &#xA;&lt;p&gt;The SDK can also be displayed in a custom language for locales that Onfido does not currently support. You can supply full or partial translations. For any key without a translation, the supported language default will be used.&lt;/p&gt; &#xA;&lt;p&gt;When adding custom translations, you must add the whole set of keys included in the &lt;code&gt;Localizable_EN.strings&lt;/code&gt; file (&lt;a href=&#34;https://github.com/onfido/onfido-ios-sdk/raw/master/localization/Localizable_EN.strings&#34;&gt;reference&lt;/a&gt;).&lt;/p&gt; &#xA;&lt;p&gt;You can name the strings file with the translated keys as you desire but the name of the file will have to be provided to the SDK as a parameter to the &lt;code&gt;withCustomLocalization()&lt;/code&gt; method:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;withCustomLocalization(andTableName: &#34;MY_CUSTOM_STRINGS_FILE&#34;)&lt;/code&gt; (Swift)&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;[configBuilder withCustomLocalizationWithTableName:@&#34;MY_CUSTOM_STRINGS_FILE&#34;];&lt;/code&gt; (Objective-C)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Additionally you can specify the bundle from which to read the strings file:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;withCustomLocalization(andTableName: &#34;MY_CUSTOM_STRINGS_FILE&#34;, in: myBundle)&lt;/code&gt; (Swift)&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;[configBuilder withCustomLocalizationWithTableName:@&#34;MY_CUSTOM_STRINGS_FILE&#34; in: myBundle];&lt;/code&gt; (Objective-C)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Any string translation change will result in a MINOR version release. Any custom translations you have should not be impacted by this if they have been implemented according to the guidance above&lt;/li&gt; &#xA; &lt;li&gt;You are responsible for ensuring the correct layout of any custom translations&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;To request a new language translation, or offer feedback or suggestions on the translations provided, you can get in touch with Onfido&#39;s &lt;a href=&#34;mailto:support@onfido.com&#34;&gt;Customer Support&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Completing a session&lt;/h2&gt; &#xA;&lt;h3&gt;Handling callbacks&lt;/h3&gt; &#xA;&lt;p&gt;When the Onfido SDK session concludes, a range of callback functions may be triggered.&lt;/p&gt; &#xA;&lt;p&gt;For advanced callbacks used for user analytics and returning submitted media, please refer to the &lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#advanced-callbacks&#34;&gt;Advanced Callbacks&lt;/a&gt; section of this document.&lt;/p&gt; &#xA;&lt;p&gt;To receive the result from a completed workflow, you should pass a callback to the instance of &lt;code&gt;OnfidoFlow&lt;/code&gt;. The following code is provided as an example:&lt;/p&gt; &#xA;&lt;h5&gt;Swift&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;onfidoRun.with(responseHandler: { (response: OnfidoResponse) in&#xA;    switch response {&#xA;        case .success:&#xA;        // User completed the flow&#xA;&#xA;        case .cancel(let cancellationReason):&#xA;        // Flow cancelled by user&#xA;        print(cancellationReason)&#xA;&#xA;        case .error(let error):&#xA;        // Error occurred&#xA;        print(error)&#xA;&#xA;    }&#xA;},&#xA;    dismissFlowOnCompletion: true)&#xA;    // Dismiss the whole flow when the user completes it, and return back to the integrator view&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;br&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;ATTRIBUTE&lt;/th&gt; &#xA;   &lt;th&gt;NOTES&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;.success&lt;/td&gt; &#xA;   &lt;td&gt;Callback that fires when all interactive tasks in the workflow have been completed. On success, if you have configured &lt;a href=&#34;https://documentation.onfido.com/api/latest#webhooks&#34;&gt;webhooks&lt;/a&gt;, a notification will be sent to your backend confirming the workflow run has finished. You do not need to create a check using your backend as this is handled directly by the workflow&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;.error(Error)&lt;/td&gt; &#xA;   &lt;td&gt;Callback that fires when an error occurs&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;.cancel&lt;/td&gt; &#xA;   &lt;td&gt;Callback that fires when the workflow was exited prematurely by the user. The reason can be &lt;code&gt;.userExit&lt;/code&gt; or &lt;code&gt;.consentDenied&lt;/code&gt;&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;h3&gt;Error handling&lt;/h3&gt; &#xA;&lt;p&gt;The &lt;code&gt;Error&lt;/code&gt; object returned as part of &lt;code&gt;OnfidoResponse.error(Error)&lt;/code&gt; is of type &lt;code&gt;OnfidoFlowError&lt;/code&gt;. It&#39;s an enum with multiple cases depending on the error type.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;switch response {&#xA;  case let OnfidoResponse.error(error):&#xA;    switch error {&#xA;      case OnfidoFlowError.cameraPermission:&#xA;        // This happens if the user denies permission to the SDK during the flow&#xA;      case OnfidoFlowError.failedToWriteToDisk:&#xA;        // This happens when the SDK tries to save capture to disk, maybe due to a lack of space&#xA;      case OnfidoFlowError.microphonePermission:&#xA;        // This happens when the user denies permission for microphone usage by the app during the flow&#xA;      case OnfidoFlowError.upload(let OnfidoApiError):&#xA;        // This happens when the SDK receives an error from an API call.&#xA;        // See https://documentation.onfido.com/api/latest#errors for more information&#xA;      case OnfidoFlowError.exception(withError: let error, withMessage: let message):&#xA;        // This happens when an unexpected error occurs.&#xA;        // Please email [Customer support](mailto:supportonfido.com) when this happens&#xA;      case OnfidoFlowError.versionInsufficient:&#xA;        // This happens when you are using an older version of the iOS SDK and trying&#xA;        // to access a new functionality from workflow. You can fix this by updating the SDK&#xA;&#xA;      default: // necessary because of Swift&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Generating verification reports&lt;/h3&gt; &#xA;&lt;p&gt;While the SDK is responsible for capturing and uploading the user&#39;s media and data, identity verification reports themselves are generated based on workflows created using &lt;a href=&#34;https://documentation.onfido.com/getting-started/onfido-studio-product&#34;&gt;Onfido Studio&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;For a step-by-step walkthrough of creating an identity verification using Onfido Studio and our SDKs, please refer to our &lt;a href=&#34;https://documentation.onfido.com/getting-started/quick-start-guide&#34;&gt;Quick Start Guide&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;If your application initializes the Onfido iOS SDK using the options defined in the &lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#advanced-flow-customization&#34;&gt;Advanced customization&lt;/a&gt; section of this document, you may &lt;a href=&#34;https://documentation.onfido.com/api/latest#create-check&#34;&gt;create checks&lt;/a&gt; and &lt;a href=&#34;https://documentation.onfido.com/api/latest#retrieve-report&#34;&gt;retrieve report results&lt;/a&gt; manually using the Onfido API. You may also configure &lt;a href=&#34;https://documentation.onfido.com/api/latest#webhooks&#34;&gt;webhooks&lt;/a&gt; to be notified asynchronously when the report results have been generated.&lt;/p&gt; &#xA;&lt;h2&gt;Advanced flow customization&lt;/h2&gt; &#xA;&lt;p&gt;This section on &#39;Advanced customization&#39; refers to the process of initializing the Onfido iOS SDK without the use of Onfido Studio. This process requires a manual definition of the verification steps and their configuration.&lt;/p&gt; &#xA;&lt;p&gt;These flow step parameters are mutually exclusive with &lt;code&gt;workflowRunId&lt;/code&gt;, requiring an alternative method of instantiating the client and starting the flow.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt; that this initialization process is &lt;strong&gt;not recommended&lt;/strong&gt; as the majority of new features are exclusively released for Studio workflows.&lt;/p&gt; &#xA;&lt;h3&gt;Manual SDK authentication&lt;/h3&gt; &#xA;&lt;p&gt;The SDK is authenticated using SDK tokens. As each SDK token must be specific to a given applicant and session, a new token must be generated each time you initialize the Onfido iOS SDK.&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Parameter&lt;/th&gt; &#xA;   &lt;th&gt;Notes&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;applicant_id&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;required&lt;/strong&gt; &lt;br&gt; Specifies the applicant for the SDK instance.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;application_id&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;required&lt;/strong&gt; &lt;br&gt; The application ID (for iOS &#34;application bundle ID&#34;) that was set up during development. For iOS, this is usually in the form &lt;code&gt;com.your-company.app-name&lt;/code&gt;. Make sure to use a valid &lt;code&gt;application_id&lt;/code&gt; or you&#39;ll receive a 401 error.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;p&gt;For details on how to manually generate SDK tokens, please refer to &lt;code&gt;POST /sdk_token/&lt;/code&gt; definition in the Onfido &lt;a href=&#34;https://documentation.onfido.com/#generate-sdk-token&#34;&gt;API reference&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: You must never use API tokens in the frontend of your application as malicious users could discover them in your source code. You should only use them on your server.&lt;/p&gt; &#xA;&lt;h3&gt;Managing SDK Token Expiry with &lt;code&gt;expireHandler&lt;/code&gt;&lt;/h3&gt; &#xA;&lt;p&gt;When &lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#sdk-authentication&#34;&gt;manually generating SDK tokens&lt;/a&gt;, it&#39;s important to note that they expire after 90 minutes.&lt;/p&gt; &#xA;&lt;p&gt;With this in mind, we recommend you use the optional &lt;code&gt;expireHandler&lt;/code&gt; parameter in the SDK token configuration function to generate and pass a new SDK token when it expires. This ensures the SDK continues its flow even after an SDK token has expired.&lt;/p&gt; &#xA;&lt;p&gt;For example:&lt;/p&gt; &#xA;&lt;h5&gt;Swift&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;func getSDKToken(_ completion: @escaping (String) -&amp;gt; Void) {&#xA;    // Your network request logic to retrieve SDK token goes here&#xA;    completion(myNewSDKtoken)&#xA;}&#xA;&#xA;let config = try OnfidoConfig.builder()&#xA;    .withSDKToken(&#34;&amp;lt;YOUR_SDK_TOKEN&amp;gt;&#34;, expireHandler: getSDKToken)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h5&gt;Objective-C&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-objc&#34;&gt;-(void) getSDKToken: (void(^)(NSString *)) handler {&#xA;   // &amp;lt;Your network request logic to retrieve SDK token goes here&amp;gt;&#xA;   handler(sdkToken);&#xA;}&#xA;&#xA;ONFlowConfigBuilder *configBuilder = [ONFlowConfig builder];&#xA;[configBuilder withSdkToken:@&#34;YOUR_SDK_TOKEN&#34; expireHandler:^(void (^ handler)(NSString *  expireHandler)) {&#xA;    [self getSDKToken:handler];&#xA;}];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Create the SDK configuration&lt;/h3&gt; &#xA;&lt;p&gt;Once you have &lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#add-the-sdk-dependency&#34;&gt;added the SDK dependency&lt;/a&gt;, and you have an applicant ID, you can manually configure the SDK flow steps:&lt;/p&gt; &#xA;&lt;h5&gt;Swift&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let config = try OnfidoConfig.builder()&#xA;    .withSDKToken(&#34;&amp;lt;YOUR_SDK_TOKEN&amp;gt;&#34;)&#xA;    .withWelcomeStep()&#xA;    .withDocumentStep()&#xA;    .withProofOfAddressStep()&#xA;    .withFaceStep(ofVariant: .photo(withConfiguration: nil))&#xA;    .build()&#xA;&#xA;let onfidoFlow = OnfidoFlow(withConfiguration: config)&#xA;    .with(responseHandler: { results in&#xA;        // Callback when flow ends&#xA;    })&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h5&gt;Objective-C&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-objc&#34;&gt;ONFlowConfigBuilder *configBuilder = [ONFlowConfig builder];&#xA;&#xA;[configBuilder withSdkToken:@&#34;YOUR_SDK_TOKEN&#34;];&#xA;[configBuilder withWelcomeStep];&#xA;[configBuilder withDocumentStep];&#xA;[configBuilder withProofOfAddressStep];&#xA;&#xA;NSError *variantConfigError = NULL;&#xA;Builder *variantBuilder = [ONFaceStepVariantConfig builder];&#xA;[variantBuilder withPhotoCaptureWithConfig: NULL];&#xA;[configBuilder withFaceStepOfVariant: [variantBuilder buildAndReturnError: &amp;amp;variantConfigError]];&#xA;&#xA;if (variantConfigError == NULL) {&#xA;  NSError *configError = NULL;&#xA;  ONFlowConfig *config = [configBuilder buildAndReturnError:&amp;amp;configError];&#xA;&#xA;  if (configError == NULL) {&#xA;      ONFlow *onFlow = [[ONFlow alloc] initWithFlowConfiguration:config];&#xA;      [onFlow withResponseHandler:^(ONFlowResponse *response) {&#xA;          // Callback when flow ends&#xA;      }];&#xA;  }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Start the flow&lt;/h3&gt; &#xA;&lt;h5&gt;Swift&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;try onfidoRun.run(from: yourViewController, animated: true)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h5&gt;Objective-C&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-objc&#34;&gt;NSError *runError = NULL;&#xA;[onFlow runFrom:yourViewController animated:YES error:&amp;amp;runError completion:nil];&#xA;&#xA;if (runError != NULL) {&#xA;    // do fallback logic&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Advanced UI customization&lt;/h3&gt; &#xA;&lt;h4&gt;Appearance and Colors&lt;/h4&gt; &#xA;&lt;p&gt;To customize the look and feel of the SDK, you can pass the required CSS values to the &lt;code&gt;Appearance&lt;/code&gt; object in the root of the &lt;code&gt;OnfidoConfig.builder()&lt;/code&gt; object.&lt;/p&gt; &#xA;&lt;h5&gt;Swift&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let appearance = Appearance()&#xA;appearance.primaryColor = &amp;lt;DESIRED_UI_COLOR_HERE&amp;gt;&#xA;appearance.primaryTitleColor = &amp;lt;DESIRED_UI_COLOR_HERE&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h5&gt;Objective-C&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-objc&#34;&gt;ONAppearance *appearance = [[ONAppearance alloc] init];&#xA;appearance.primaryColor = &amp;lt;DESIRED_UI_COLOR_HERE&amp;gt;;&#xA;appearance.primaryTitleColor = &amp;lt;DESIRED_UI_COLOR_HERE&amp;gt;;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To apply the appearance, you can use the methods below:&lt;/p&gt; &#xA;&lt;h5&gt;Swift&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let configBuilder = OnfidoConfig.builder()&#xA;configBuilder.withAppearance(appearance)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h5&gt;Objective-C&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-objc&#34;&gt;ONFlowConfigBuilder *configBuilder = [ONFlowConfig builder];&#xA;[configBuilder withAppearance:appearance];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Please refer to the &lt;a href=&#34;https://documentation.onfido.com/sdk/sdk-customization#ui-customization&#34;&gt;SDK customization documentation&lt;/a&gt; for details of the supported UI options that can be set in this property.&lt;/p&gt; &#xA;&lt;h3&gt;Flow customization&lt;/h3&gt; &#xA;&lt;p&gt;You can customize the flow of the SDK by adding steps to the SDK flow.&lt;/p&gt; &#xA;&lt;p&gt;The possible steps include:&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Step&lt;/th&gt; &#xA;   &lt;th&gt;Description&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;withWelcomeStep&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Welcome screen shown to the user with preliminary instructions. &lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#welcome-step&#34;&gt;Customization&lt;/a&gt; options include modification to the text elements and instructions shown to the user.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;withDocumentStep&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Set of screens that control the capture via photo or upload of the user&#39;s document. Numerous &lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#document-step&#34;&gt;customization&lt;/a&gt; options are available to define the document list presented to the user and the overall capture experience.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;withFaceStep&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Set of screens that control the capture of a selfie, video or motion capture of the user. The &lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#face-step&#34;&gt;customization&lt;/a&gt; options allow the selection of the capture variant.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;withProofOfAddressStep&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Screen where the user selects the issuing country and type of document to &lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#proof-of-address-step&#34;&gt;verify their address&lt;/a&gt;.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;h4&gt;Welcome step&lt;/h4&gt; &#xA;&lt;p&gt;This step is the introduction screen of the SDK. It introduces the process and prepares the user for the steps they will need to complete.&lt;/p&gt; &#xA;&lt;p&gt;While this screen is &lt;strong&gt;optional&lt;/strong&gt;, we only recommend its removal if you already have your own identity verification welcome screen in place.&lt;/p&gt; &#xA;&lt;p&gt;You can show the welcome screen by calling &lt;code&gt;configBuilder.withWelcomeStep()&lt;/code&gt; in Swift or &lt;code&gt;[configBuilder withWelcomeStep]&lt;/code&gt; in Objective-C.&lt;/p&gt; &#xA;&lt;h5&gt;Swift&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let config = try OnfidoConfig.builder()&#xA;    .withWelcomeStep()&#xA;    ...&#xA;    .build()&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h5&gt;Objective-C&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-objc&#34;&gt;ONFlowConfigBuilder *configBuilder = [ONFlowConfig builder];&#xA;[configBuilder withSdkToken:@&#34;YOUR_SDK_TOKEN_HERE&#34;];&#xA;...&#xA;[configBuilder withWelcomeStep];&#xA;&#xA;NSError *configError = NULL;&#xA;ONFlowConfig *config = [configBuilder buildAndReturnError:&amp;amp;configError];&#xA;&#xA;if (configError) {&#xA;    // Handle config build error&#xA;} else {&#xA;    // use config&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Consent step&lt;/h4&gt; &#xA;&lt;p&gt;This step contains the consent language required when you offer your service to US users, as well as links to Onfido&#39;s policies and terms of use. For applicants created with a &lt;a href=&#34;https://documentation.onfido.com/api/latest#location-create-applicant&#34;&gt;&lt;code&gt;location&lt;/code&gt;&lt;/a&gt; parameter value of the United States, consent collection is &lt;strong&gt;mandatory&lt;/strong&gt;.&lt;/p&gt; &#xA;&lt;p&gt;The user must click &#34;Accept&#34; to move past this step and continue with the flow. The content is available in English only, and is not translatable.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: This step does not automatically inform Onfido that the user has given their consent:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;When creating checks using API v3.3 or lower, you need to set the value of the API parameter &lt;code&gt;privacy_notices_read_consent_given&lt;/code&gt; (now deprecated) at the end of the SDK flow when &lt;a href=&#34;https://documentation.onfido.com/api/3.3.0/#create-check&#34;&gt;creating a check&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;From API v3.4 onwards, user consent is confirmed when &lt;a href=&#34;https://documentation.onfido.com/api/latest#create-applicant&#34;&gt;creating&lt;/a&gt; or &lt;a href=&#34;https://documentation.onfido.com/api/latest#update-applicant&#34;&gt;updating&lt;/a&gt; an applicant using the &lt;a href=&#34;https://documentation.onfido.com/api/latest#consents&#34;&gt;consents&lt;/a&gt; parameter&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;If you choose to disable Onfido’s SDK Consent step, you &lt;strong&gt;must&lt;/strong&gt; still incorporate the required consent language and links to Onfido&#39;s policies and terms of use into your own application&#39;s flow before your users start interacting with the Onfido SDK.&lt;/p&gt; &#xA;&lt;p&gt;For more information about this step, and how to collect user consent, please visit &lt;a href=&#34;https://documentation.onfido.com/guide/onfido-privacy-notices-and-consent&#34;&gt;Onfido Privacy Notices and Consent&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h4&gt;Document step&lt;/h4&gt; &#xA;&lt;p&gt;In the Document Capture step, an end user can select the issuing country and document type before capture. In a very limited number of cases, the end user may also be asked if they have a card or paper version of their document.&lt;/p&gt; &#xA;&lt;p&gt;This information is used to optimize the capture experience, as well as inform the end user about which documents they are allowed to use.&lt;/p&gt; &#xA;&lt;p&gt;This selection screen is dynamic, and will be automatically hidden where the end user is not required to indicate which document will be captured.&lt;/p&gt; &#xA;&lt;p&gt;By default, the country selection will be pre-populated based on the end user’s primary SIM, but the end user can select another country from the list where allowed. The selection will default to empty when no SIM is present.&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/assets/selection1.png&#34; alt=&#34;The default country selection&#34;&gt; &lt;img src=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/assets/selection2.png&#34; alt=&#34;The default country selection&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;You can specify allowed issuing countries and document types for the document capture step in one of three ways:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Onfido Studio: If you are using Onfido Studio, this is configured within the Document Capture task, as documented in the &lt;a href=&#34;https://documentation.onfido.com/getting-started/onfido-studio-product#document-capture-task&#34;&gt;Studio Product Guide&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;Otherwise, the recommended approach is to apply this configuration globally in the &lt;a href=&#34;https://dashboard.onfido.com/&#34;&gt;Dashboard&lt;/a&gt; under Accounts \ Supported Documents. This option also ensures that the list is enforced as part of the Document Report validation. Any document that has been uploaded by an end user against your guidance will result in a Document Report sub-result of &#34;rejected&#34; and be flagged as &lt;code&gt;Image Integrity &amp;gt; Supported Document&lt;/code&gt;.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h5&gt;Country and document type selection by Dashboard&lt;/h5&gt; &#xA;&lt;p&gt;Configuring the issuing country and document type selection step using your Dashboard is the recommended method of customization (available from iOS SDK version 28.0.0 and Android SDK version 16.0.0 onwards), as this configuration is also applied to your Document Reports.&lt;/p&gt; &#xA;&lt;p&gt;&lt;em&gt;We will be rolling out Dashboard-based configuration of allowed documents soon. In the meantime, contact &lt;a href=&#34;mailto:support@onfido.com&#34;&gt;support@onfido.com&lt;/a&gt; or your Customer Support Manager to request access to this feature.&lt;/em&gt;&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Open the Accounts tab on your &lt;a href=&#34;https://dashboard.onfido.com/&#34;&gt;Dashboard&lt;/a&gt; then click Supported Documents&lt;/li&gt; &#xA; &lt;li&gt;You will be presented with a list of all available countries and their associated supported documents. Make your selection, then click Save Change&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/assets/supported_documents_dashboard.png&#34; alt=&#34;The Supported Documents tab in the Dashboard&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Please note the following SDK behaviour:&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Hard coding any document type and issuing country configuration in your SDK integration will fully override the Dashboard-based settings&lt;/li&gt; &#xA; &lt;li&gt;Currently, only passport, national ID card, driving licence and residence permit are visible for document selection by the end user in the SDK. If you nominate other document types in your Dashboard (visa, for example), these will not be displayed in the user interface&lt;/li&gt; &#xA; &lt;li&gt;If you need to add other document types to the document selection screen, you can mitigate this limitation in the near-term, using the Custom Document feature&lt;/li&gt; &#xA; &lt;li&gt;If for any reason the configuration fails or is not enabled, the SDK will fallback to display the selection screen for the complete list of documents supported within the selection screens&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h5&gt;Country and document type selection - SDK integration code&lt;/h5&gt; &#xA;&lt;p&gt;If you want to use your own custom document selection UI instead of displaying the Onfido document selection screen, you will need to specify the document details during SDK initialization.&lt;/p&gt; &#xA;&lt;p&gt;The document selection screen will be skipped automatically when the single document type is specified.&lt;/p&gt; &#xA;&lt;p&gt;The SDK will accept the following:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;The Document Type is required. This controls fundamental SDK document capture behaviour&lt;/li&gt; &#xA; &lt;li&gt;The Country is optional, but recommended. This enables any optimizations the SDK may have for this specific document issued by this country&lt;/li&gt; &#xA; &lt;li&gt;The Document Format is optional, and only accepted for &lt;strong&gt;French driving licence&lt;/strong&gt;, &lt;strong&gt;Italian national identity card&lt;/strong&gt; and &lt;strong&gt;South African national identity card&lt;/strong&gt;. This defaults to &lt;code&gt;Card&lt;/code&gt;, representing modern forms of these documents. If the end user indicates that they have an older, paper version of one of these documents, use &lt;code&gt;Folded&lt;/code&gt; to ensure an optimized capture experience&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: You may still wish to configure the Dashboard-based approach to ensure that the Document Report also rejects any document that has been uploaded by an end user against your guidance.&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;strong&gt;Document type&lt;/strong&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;The list of document types visible for the user to select can be shown or hidden using this option. Each document type has its own configuration class. While configuring document type, you can optionally pass a configuration object along with the document type.&lt;/p&gt; &#xA;&lt;p&gt;The following document types are supported:&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Document Type&lt;/th&gt; &#xA;   &lt;th&gt;Configuration Class&lt;/th&gt; &#xA;   &lt;th&gt;Configurable Properties&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;passport&lt;/td&gt; &#xA;   &lt;td&gt;PassportConfiguration&lt;/td&gt; &#xA;   &lt;td&gt;- country&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;drivingLicence&lt;/td&gt; &#xA;   &lt;td&gt;DrivingLicenceConfiguration&lt;/td&gt; &#xA;   &lt;td&gt;- country&lt;br&gt; - documentFormat&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;nationalIdentityCard&lt;/td&gt; &#xA;   &lt;td&gt;NationalIdentityConfiguration&lt;/td&gt; &#xA;   &lt;td&gt;- country&lt;br&gt; - documentFormat&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;residencePermit&lt;/td&gt; &#xA;   &lt;td&gt;ResidencePermitConfiguration&lt;/td&gt; &#xA;   &lt;td&gt;- country&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;visa&lt;/td&gt; &#xA;   &lt;td&gt;VisaConfiguration&lt;/td&gt; &#xA;   &lt;td&gt;- country&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;workPermit&lt;/td&gt; &#xA;   &lt;td&gt;WorkPermitConfiguration&lt;/td&gt; &#xA;   &lt;td&gt;- country&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;generic&lt;/td&gt; &#xA;   &lt;td&gt;GenericDocumentConfiguration&lt;/td&gt; &#xA;   &lt;td&gt;- title&lt;br&gt; - subtitle&lt;br&gt; - country&lt;br&gt; - pages&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: &lt;code&gt;Generic&lt;/code&gt; document type doesn&#39;t offer an optimized capture experience for a desired document type.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; If only one document type is specified, users will not see the selection screen and will be taken directly to the capture screen.&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;strong&gt;Document country&lt;/strong&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Country configuration allows you to specify the country of origin of the document. This is optional, but recommended. This enables any optimizations the SDK may have for this specific document issued by this country.&lt;/p&gt; &#xA;&lt;p&gt;You&#39;ll need to pass the corresponding &lt;a href=&#34;https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3&#34;&gt;ISO 3166-1 alpha-3&lt;/a&gt; country code to the SDK.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: You can specify country for all document types except &lt;code&gt;passport&lt;/code&gt;. This is because passports have the same format worldwide so the SDK does not require this additional information.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;: The SDK will throw a &lt;code&gt;OnfidoConfigError.invalidCountryCode&lt;/code&gt; (&lt;code&gt;ONFlowConfigErrorInvalidCountryCode&lt;/code&gt;) error if an invalid country code is provided.&lt;/p&gt; &#xA;&lt;p&gt;For example, to only capture UK driving licenses:&lt;/p&gt; &#xA;&lt;h5&gt;Swift&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let config = try OnfidoConfig.builder()&#xA;    .withSDKToken(&#34;&amp;lt;YOUR_SDK_TOKEN_HERE&amp;gt;&#34;)&#xA;    .withDocumentStep(ofType: .drivingLicence(config: DrivingLicenceConfiguration(country: &#34;GBR&#34;)))&#xA;    .build()&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h5&gt;Objective-C&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-objc&#34;&gt;ONFlowConfigBuilder *configBuilder = [ONFlowConfig builder];&#xA;[configBuilder withSdkToken:@&#34;YOUR_SDK_TOKEN_HERE&#34;];&#xA;&#xA;NSError *documentConfigError = NULL;&#xA;DocumentConfigBuilder *documentConfigBuilder = [ONDocumentTypeConfig builder];&#xA;[documentConfigBuilder withDrivingLicenceWithConfig:[[DrivingLicenceConfiguration alloc] initWithCountry: @&#34;GBR&#34;]];&#xA;ONDocumentTypeConfig *documentTypeConfig = [documentConfigBuilder buildAndReturnError: documentConfigError];&#xA;&#xA;if (documentConfigError) {&#xA;  // Handle variant config error&#xA;} else {&#xA;  NSError *configError = NULL;&#xA;  [configBuilder withDocumentStepOfType:documentTypeConfig];&#xA;  ONFlowConfig *config = [configBuilder buildAndReturnError:&amp;amp;configError];&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;strong&gt;Document format&lt;/strong&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;The Document Format is &lt;strong&gt;optional&lt;/strong&gt;, and only accepted for &lt;strong&gt;French driving licence&lt;/strong&gt;, &lt;strong&gt;Italian national identity card&lt;/strong&gt; and &lt;strong&gt;South African national identity card&lt;/strong&gt;. This defaults to &lt;code&gt;Card&lt;/code&gt;, representing modern forms of these documents. If the end user indicates that they have an older, paper version of one of these documents, use &lt;code&gt;Folded&lt;/code&gt; to ensure an optimized capture experience.&lt;/p&gt; &#xA;&lt;p&gt;If &lt;code&gt;Folded&lt;/code&gt; is configured, the SDK will show a specific template overlay during document capture.&lt;/p&gt; &#xA;&lt;p&gt;The following document formats are supported for each document type:&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Document Type/ Document Format&lt;/th&gt; &#xA;   &lt;th&gt;card&lt;/th&gt; &#xA;   &lt;th&gt;folded&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;drivingLicence&lt;/td&gt; &#xA;   &lt;td&gt;ALL COUNTRIES&lt;/td&gt; &#xA;   &lt;td&gt;Only France (Country code &#34;FRA&#34;)&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;nationalIdentityCard&lt;/td&gt; &#xA;   &lt;td&gt;ALL COUNTRIES&lt;/td&gt; &#xA;   &lt;td&gt;Italy (Country code &#34;ITA&#34;)&lt;br&gt; South Africa (Country code &#34;ZAF&#34;)&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Document Type/ Document Format&lt;/th&gt; &#xA;   &lt;th&gt;&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;passport&lt;/td&gt; &#xA;   &lt;td&gt;NOT CONFIGURABLE&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;residencePermit&lt;/td&gt; &#xA;   &lt;td&gt;NOT CONFIGURABLE&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;visa&lt;/td&gt; &#xA;   &lt;td&gt;NOT CONFIGURABLE&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;workPermit&lt;/td&gt; &#xA;   &lt;td&gt;NOT CONFIGURABLE&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;generic&lt;/td&gt; &#xA;   &lt;td&gt;NOT CONFIGURABLE&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; If you configure the SDK with an unsupported document format, the SDK will throw an &lt;code&gt;OnfidoConfigError.invalidDocumentFormatAndCountryCombination&lt;/code&gt; (&lt;code&gt;ONFlowConfigErrorInvalidDocumentFormatAndCountryCombination&lt;/code&gt; in Objective-C) error during runtime.&lt;/p&gt; &#xA;&lt;p&gt;For example, for a folded Italian national identity card:&lt;/p&gt; &#xA;&lt;h5&gt;Swift&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let config = try OnfidoConfig.builder()&#xA;    .withSDKToken(&#34;YOUR_SDK_TOKEN_HERE&#34;)&#xA;    .withDocumentStep(ofType: .nationalIdentityCard(config: NationalIdentityConfiguration(documentFormat: .folded, country: &#34;ITA&#34;)))&#xA;    .build()&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h5&gt;Objective-C&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-objc&#34;&gt;ONFlowConfigBuilder *configBuilder = [ONFlowConfig builder];&#xA;[configBuilder withSdkToken:@&#34;YOUR_SDK_TOKEN_HERE&#34;];&#xA;&#xA;NSError *documentConfigError = NULL;&#xA;DocumentConfigBuilder *documentConfigBuilder = [ONDocumentTypeConfig builder];&#xA;[documentConfigBuilder withNationalIdentityCardWithConfig:[[NationalIdentityConfiguration alloc] initWithDocumentFormat:DocumentFormatFolded country: @&#34;ITA&#34;]];&#xA;ONDocumentTypeConfig *documentTypeConfig = [documentConfigBuilder buildAndReturnError: documentConfigError];&#xA;&#xA;if (documentConfigError) {&#xA;  // Handle variant config error&#xA;} else {&#xA;  NSError *configError = NULL;&#xA;  [configBuilder withDocumentStepOfType:documentTypeConfig];&#xA;  ONFlowConfig *config = [configBuilder buildAndReturnError:&amp;amp;configError];&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;strong&gt;Customize the issuing country and document type selection screen with pre-selected documents&lt;/strong&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;You can also customize the screen to display only a limited list of document types, using the configuration function to specify the ones you want to show.&lt;/p&gt; &#xA;&lt;p&gt;Currently you can only include &lt;code&gt;passport&lt;/code&gt;, &lt;code&gt;identityCard&lt;/code&gt;, &lt;code&gt;drivingLicence&lt;/code&gt;, &lt;code&gt;residencePermit&lt;/code&gt; in the list.&lt;/p&gt; &#xA;&lt;p&gt;For example, to show only the &lt;code&gt;passport&lt;/code&gt; and &lt;code&gt;drivingLicence&lt;/code&gt; document types:&lt;/p&gt; &#xA;&lt;h5&gt;Swift&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let config = try OnfidoConfig.builder()&#xA;    .withDocumentStep(ofSelectableTypes: [.passport, .drivingLicence])&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h5&gt;Objective-C&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-objc&#34;&gt;ONFlowConfigBuilder *configBuilder = [ONFlowConfig builder];&#xA;[configBuilder withDocumentStepWithSelectableDocumentTypes: @[@(SelectableDocumentTypePassport), @(SelectableDocumentTypeDrivingLicence)]];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;strong&gt;Adding custom documents by SDK integration code&lt;/strong&gt; You can also capture custom documents that Onfido does not fully support in the SDK by using the Generic document type.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;This can be useful for running the Document Report on documents that are supported in the Onfido platform, but are not yet present in the SDK, or for changing the default name of the document type presented to the user or the default number of sides/pages the user will be asked to capture.&lt;/p&gt; &#xA;&lt;p&gt;The Generic document type supports limited on-device image quality checks. Use the standard document types where available for an improved capture experience.&lt;/p&gt; &#xA;&lt;p&gt;A custom document consists of the following information:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Title (required): Displayed in the document selection screen&lt;/li&gt; &#xA; &lt;li&gt;Subtitle (optional): Displayed in the document selection screen below the title&lt;/li&gt; &#xA; &lt;li&gt;Country (required): To support multiple countries, create a custom document for each country&lt;/li&gt; &#xA; &lt;li&gt;Pages (required): Tells the SDK The number of document pages to be captured. Currently supporting one or two sides/pages&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;It is recommended to provide pre-translated title and subtitle strings when you initialize the SDK, as these custom strings are not translated internally.&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/assets/generic_docs.png&#34; alt=&#34;The Selection Screen with Generic Documents&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;Here are several options when adding custom documents:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Adding the custom documents per country on top of the documents we support. You can add more than one custom document. If you require documents for multiple countries, you will have to add each document for each country.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h4&gt;Swift&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let config = try! OnfidoConfig.builder()&#xA;    .withSDKToken(&#34;YOUR_SDK_TOKEN_HERE&#34;)&#xA;    .withGenericDocuments(additionalTypes: [&#xA;        .generic(config: GenericDocumentConfiguration(title: &#34;Tax ID&#34;, country: &#34;PHL&#34;, pages: .frontAndBack))&#xA;        .generic(config: GenericDocumentConfiguration(title: &#34;Voter&#39;s ID&#34;, subtitle: &#34;your voting ID&#34;, country: &#34;PHL&#34;, pages: .single))&#xA;    ])&#xA;    .build()&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Objective-C&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-objc&#34;&gt;ONFlowConfigBuilder *configBuilder = [ONFlowConfig builder];&#xA;[configBuilder withSdkToken:@&#34;YOUR_SDK_TOKEN_HERE&#34;];&#xA;&#xA;NSError *documentConfigError = NULL;&#xA;DocumentConfigBuilder * documentConfigBuilder = [ONDocumentTypeConfig builder];&#xA;[documentConfigBuilder withGenericWithConfig:[[GenericDocumentConfiguration alloc] initWithTitle: @&#34;Tax ID&#34; subtitle: nil country: @&#34;PHL&#34; pages: ONDocumentPagesFrontAndBack]];&#xA;[documentConfigBuilder withGenericWithConfig:[[GenericDocumentConfiguration alloc] initWithTitle: @&#34;Voter&#39;s ID&#34; subtitle: @&#34;your voting ID&#34; country: @&#34;PHL&#34; pages: ONDocumentPagesSingle]];&#xA;ONDocumentTypeConfig *documentTypeConfig = [documentConfigBuilder buildAndReturnError: documentConfigError];&#xA;&#xA;if (documentConfigError) {&#xA;  // Handle variant config error&#xA;} else {&#xA;  NSError *configError = NULL;&#xA;  [configBuilder withGenericDocumentsWithAdditionalTypes:documentTypeConfig];&#xA;  ONFlowConfig *config = [configBuilder buildAndReturnError:&amp;amp;configError];&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Preselect documents to show in the document selection screen and include custom documents for a specific country (custom documents will only be shown if the country configured is the same as the country selected).&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h4&gt;Swift&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let config = try! OnfidoConfig.builder()&#xA;    .withSDKToken(&#34;YOUR_SDK_TOKEN_HERE&#34;)&#xA;    .withDocumentStep(ofSelectableTypes: [.passport, .drivingLicence])&#xA;    .withGenericDocuments(additionalTypes: [&#xA;        .generic(config: GenericDocumentConfiguration(title: &#34;Tax ID&#34;, country: &#34;PHL&#34;, pages: .frontAndBack))&#xA;        .generic(config: GenericDocumentConfiguration(title: &#34;Voter&#39;s ID&#34;, subtitle: &#34;your voting ID&#34;, country: &#34;PHL&#34;, pages: .single))&#xA;    ])&#xA;    .build()&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Objective-C&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-objc&#34;&gt;ONFlowConfigBuilder *configBuilder = [ONFlowConfig builder];&#xA;[configBuilder withSdkToken:@&#34;YOUR_SDK_TOKEN_HERE&#34;];&#xA;&#xA;NSError *documentConfigError = NULL;&#xA;DocumentConfigBuilder *documentConfigBuilder = [ONDocumentTypeConfig builder];&#xA;[documentConfigBuilder withDocumentStepWithSelectableDocumentTypes: @[@(SelectableDocumentTypePassport), @(SelectableDocumentTypeDrivingLicence)]];&#xA;[documentConfigBuilder withGenericWithConfig:[[GenericDocumentConfiguration alloc] initWithTitle: @&#34;Tax ID&#34; subtitle: nil country: @&#34;PHL&#34; pages: ONDocumentPagesFrontAndBack]];&#xA;[documentConfigBuilder withGenericWithConfig:[[GenericDocumentConfiguration alloc] initWithTitle: @&#34;Voter&#39;s ID&#34; subtitle: @&#34;your voting ID&#34; country: @&#34;PHL&#34; pages: ONDocumentPagesSingle]];&#xA;ONDocumentTypeConfig *documentTypeConfig = [documentConfigBuilder buildAndReturnError: documentConfigError];&#xA;&#xA;if (documentConfigError) {&#xA;  // Handle variant config error&#xA;} else {&#xA;  NSError *configError = NULL;&#xA;  [configBuilder withGenericDocumentsWithAdditionalTypes:documentTypeConfig];&#xA;  ONFlowConfig *config = [configBuilder buildAndReturnError:&amp;amp;configError];&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Add a custom document and skip the document/country selection screen. This can only be done when adding only 1 document.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h4&gt;Swift&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let config = try! OnfidoConfig.builder()&#xA;    .withSDKToken(&#34;YOUR_SDK_TOKEN_HERE&#34;)&#xA;    .withDocumentStep(ofType:.generic(config:&#xA;        GenericDocumentConfiguration(title: &#34;Voter&#39;s ID&#34;, subtitle: &#34;your voting ID&#34;, country: &#34;PHL&#34;, pages: .single))&#xA;    )&#xA;    .build()&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Objective-C&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-objc&#34;&gt;ONFlowConfigBuilder *configBuilder = [ONFlowConfig builder];&#xA;[configBuilder withSdkToken:@&#34;YOUR_SDK_TOKEN_HERE&#34;];&#xA;&#xA;NSError *documentConfigError = NULL;&#xA;DocumentConfigBuilder *documentConfigBuilder = [ONDocumentTypeConfig builder];&#xA;[documentConfigBuilder withGenericWithConfig:[[GenericDocumentConfiguration alloc] initWithTitle: @&#34;Tax ID&#34; subtitle: nil country: @&#34;PHL&#34; pages: ONDocumentPagesSingle]];&#xA;ONDocumentTypeConfig *documentTypeConfig = [documentConfigBuilder buildAndReturnError: documentConfigError];&#xA;&#xA;if (documentConfigError) {&#xA;  // Handle variant config error&#xA;} else {&#xA;  NSError *configError = NULL;&#xA;  [configBuilder withDocumentStepOfType:documentTypeConfig];&#xA;  ONFlowConfig *config = [configBuilder buildAndReturnError:&amp;amp;configError];&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Note:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Adding an empty title will throw an error &lt;code&gt;OnfidoConfigError.invalidDocumentTitle&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;Adding duplicate documents (same title and country) will also throw an error &lt;code&gt;OnfidoConfigError.duplicateGenericDocument&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;Custom Documents are not currently compatible with the Dashboard-based configuration method or with Studio&lt;/li&gt; &#xA; &lt;li&gt;When using a Custom Document to force the single-sided capture of a document that Onfido would usually capture two sides for, the Document Report may return a Caution for &lt;a href=&#34;https://documentation.onfido.com/api/latest#conclusive-document-quality-reasons&#34;&gt;Image Integrity &amp;gt; Conclusive Document Quality &amp;gt; missing_back&lt;/a&gt;) as the back of certain documents contain expected data points or fraud features. You may wish to customize your result processing logic to accommodate this&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h4&gt;Face step&lt;/h4&gt; &#xA;&lt;p&gt;In the Face step, a user can use the front camera of their device to capture a live photo of their face (photo), a live video (video) or a motion capture using the Motion product (Motion).&lt;/p&gt; &#xA;&lt;h5&gt;Objective-C&lt;/h5&gt; &#xA;&lt;p&gt;For the &lt;strong&gt;Objective-C interface&lt;/strong&gt;, you should use &lt;code&gt;ONFaceStepVariantConfig&lt;/code&gt; as shown below.&lt;/p&gt; &#xA;&lt;p&gt;To configure for a &lt;strong&gt;live photo&lt;/strong&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;NSError * error;&#xA;Builder * variantBuilder = [ONFaceStepVariantConfig builder];&#xA;[variantBuilder withPhotoCaptureWithConfig: [[PhotoStepConfiguration alloc] initWithShowSelfieIntroScreen: YES]]];&#xA;[configBuilder withFaceStepOfVariant: [variantBuilder buildAndReturnError: &amp;amp;error]];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To configure for a &lt;strong&gt;live video&lt;/strong&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;NSError * error;&#xA;Builder * variantBuilder = [ONFaceStepVariantConfig builder];&#xA;[variantBuilder withVideoCaptureWithConfig:&#xA;   [[VideoStepConfiguration alloc] initWithShowIntroVideo: YES manualLivenessCapture: NO]];&#xA;[configBuilder withFaceStepOfVariant: [variantBuilder buildAndReturnError: &amp;amp;error]];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To configure for &lt;strong&gt;Motion&lt;/strong&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;NSError * error;&#xA;Builder * variantBuilder = [ONFaceStepVariantConfig builder];&#xA;[variantBuilder withMotionWithConfig: NULL];&#xA;[configBuilder withFaceStepOfVariant: [variantBuilder buildAndReturnError: &amp;amp;error]];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To configure for &lt;strong&gt;Motion with audio recording&lt;/strong&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;NSError * error;&#xA;Builder * variantBuilder = [ONFaceStepVariantConfig builder];&#xA;[variantBuilder withMotionWithConfig: [[MotionStepConfiguration alloc] initWithRecordAudio: YES]];&#xA;[configBuilder withFaceStepOfVariant: [variantBuilder buildAndReturnError: &amp;amp;error]];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To configure for &lt;strong&gt;Motion without intro screen&lt;/strong&gt;:&lt;/p&gt; &#xA;&lt;p&gt;The intro screens are designed to give end-users clear context on what actions they need to take and why these actions are necessary. Removing this screen could lead to confusion and higher drop-off rates, as users might not understand what is required of them and choose to abandon the process. It is crucial, especially during onboarding, to provide a similar level of guidance if the intro screen is removed, ensuring users are still well-informed. However, when re-verifying returning users who are already familiar with the flow, skipping the intro screen may enhance the user experience by streamlining the process and eliminating unnecessary steps.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;NSError * error;&#xA;Builder * variantBuilder = [ONFaceStepVariantConfig builder];&#xA;[variantBuilder withMotionWithConfig: [[MotionStepConfiguration alloc] initWithShowIntro: NO]];&#xA;[configBuilder withFaceStepOfVariant: [variantBuilder buildAndReturnError: &amp;amp;error]];&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h5&gt;Swift&lt;/h5&gt; &#xA;&lt;p&gt;The Face step has 3 variants for the &lt;strong&gt;Swift interface&lt;/strong&gt;:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;FaceStepVariant.photo(with: PhotoStepConfiguration?)&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;FaceStepVariant.video(with: VideoStepConfiguration?)&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;FaceStepVariant.motion(with: MotionStepConfiguration?)&lt;/code&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;To configure for a &lt;strong&gt;live photo&lt;/strong&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let config = try OnfidoConfig.builder()&#xA;    .withSDKToken(&#34;&amp;lt;YOUR_SDK_TOKEN_HERE&amp;gt;&#34;)&#xA;    .withWelcomeStep()&#xA;    .withDocumentStep()&#xA;    .withFaceStep(ofVariant: .photo(withConfiguration: PhotoStepConfiguration(showSelfieIntroScreen: true)))&#xA;    .build()&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To configure for a &lt;strong&gt;live video&lt;/strong&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let config = try OnfidoConfig.builder()&#xA;    .withSDKToken(&#34;&amp;lt;YOUR_SDK_TOKEN_HERE&amp;gt;&#34;)&#xA;    .withWelcomeStep()&#xA;    .withDocumentStep()&#xA;    .withFaceStep(ofVariant: .video(withConfiguration: VideoStepConfiguration(showIntroVideo: true, manualLivenessCapture: false)))&#xA;    .build()&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To configure for &lt;strong&gt;Motion&lt;/strong&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let config = try OnfidoConfig.builder()&#xA;    .withSDKToken(&#34;&amp;lt;YOUR_SDK_TOKEN_HERE&amp;gt;&#34;)&#xA;    .withWelcomeStep()&#xA;    .withDocumentStep()&#xA;    .withFaceStep(ofVariant: .motion(withConfiguration: nil))&#xA;    .build()&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To configure for &lt;strong&gt;Motion with audio recording&lt;/strong&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let config = try OnfidoConfig.builder()&#xA;    .withSDKToken(&#34;&amp;lt;YOUR_SDK_TOKEN_HERE&amp;gt;&#34;)&#xA;    .withWelcomeStep()&#xA;    .withDocumentStep()&#xA;    .withFaceStep(ofVariant: .motion(withConfiguration: MotionStepConfiguration(recordAudio: true)))&#xA;    .build()&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To configure for &lt;strong&gt;Motion without intro screen&lt;/strong&gt;:&lt;/p&gt; &#xA;&lt;p&gt;The intro screens are designed to give end-users clear context on what actions they need to take and why these actions are necessary. Removing this screen could lead to confusion and higher drop-off rates, as users might not understand what is required of them and choose to abandon the process. It is crucial, especially during onboarding, to provide a similar level of guidance if the intro screen is removed, ensuring users are still well-informed. However, when re-verifying returning users who are already familiar with the flow, skipping the intro screen may enhance the user experience by streamlining the process and eliminating unnecessary steps.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let config = try OnfidoConfig.builder()&#xA;    .withSDKToken(&#34;&amp;lt;YOUR_SDK_TOKEN_HERE&amp;gt;&#34;)&#xA;    .withWelcomeStep()&#xA;    .withDocumentStep()&#xA;    .withFaceStep(ofVariant: .motion(withConfiguration: MotionStepConfiguration(showIntro: false)))&#xA;    .build()&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Proof of Address step&lt;/h4&gt; &#xA;&lt;p&gt;In the Proof of Address step, a user picks the issuing country and type of document that proves their address before capturing the document with their device camera or uploading it.&lt;/p&gt; &#xA;&lt;h5&gt;Swift&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let config = try OnfidoConfig.builder()&#xA;    .withSDKToken(&#34;&amp;lt;YOUR_SDK_TOKEN_HERE&amp;gt;&#34;)&#xA;    .withProofOfAddressStep()&#xA;    .build()&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h5&gt;Objective-C&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-objc&#34;&gt;ONFlowConfigBuilder *configBuilder = [ONFlowConfig builder];&#xA;[configBuilder withSdkToken:@&#34;YOUR_SDK_TOKEN_HERE&#34;];&#xA;[configBuilder withProofOfAddressStep];&#xA;&#xA;NSError *configError = NULL;&#xA;ONFlowConfig *config = [configBuilder buildAndReturnError:&amp;amp;configError];&#xA;&#xA;if (configError) {&#xA;    // Handle config build error&#xA;} else {&#xA;    // use config&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Advanced callbacks&lt;/h2&gt; &#xA;&lt;h3&gt;Handling callbacks&lt;/h3&gt; &#xA;&lt;h5&gt;Swift&lt;/h5&gt; &#xA;&lt;p&gt;To receive the result from the flow, you should pass a callback to the instance of &lt;code&gt;OnfidoFlow&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;The result object passed to the callback may include the following attributes:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let responseHandler: (OnfidoResponse) -&amp;gt; Void = { response in&#xA;    switch response {&#xA;    case .error(let error):&#xA;    case .success(let results):&#xA;    case .cancel(let reason):&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Attribute&lt;/th&gt; &#xA;   &lt;th&gt;Notes&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;.success([OnfidoResult])&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;User completed the flow. You can now create a check on your backend server.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;.error(Error)&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Callback that fires when an error occurs.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;.cancel&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Flow was cancelled by the user. The reason can be &lt;code&gt;.userExit&lt;/code&gt; (when the user taps back button on the first screen) or &lt;code&gt;.deniedConsent&lt;/code&gt; (when the user denies consent on &lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#consent-step&#34;&gt;the consent screen&lt;/a&gt;) or &lt;code&gt;.requiredNFCFlowNotCompleted&lt;/code&gt; (when the NFC step is required and the user did not complete it).&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;h5&gt;Objective-C&lt;/h5&gt; &#xA;&lt;p&gt;To receive the result from the flow, you should pass a callback to the instance of &lt;code&gt;ONFlow&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;An instance of &lt;code&gt;ONFlowResponse&lt;/code&gt; is passed back to the callback with 3 properties:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-objc&#34;&gt;(^responseHandlerBlock)(ONFlowResponse *response) {&#xA;    if (response.userCanceled) {&#xA;    } else if (response.results) {&#xA;    } else if (response.error) {&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Properties&lt;/th&gt; &#xA;   &lt;th&gt;Notes&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;results&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;User completed the flow. You can now create a check on your backend server.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;error&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Callback that fires when an error occurs.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;userCanceled&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;Flow was cancelled by the user. You can check why the user cancelled using &lt;code&gt;response.userCanceled.reason&lt;/code&gt;. When &lt;code&gt;userCanceled&lt;/code&gt; is false, then &lt;code&gt;results&lt;/code&gt; or &lt;code&gt;error&lt;/code&gt; properties will be set.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;h3&gt;Success handling&lt;/h3&gt; &#xA;&lt;p&gt;Success is when the user has reached the end of the flow.&lt;/p&gt; &#xA;&lt;h5&gt;Swift&lt;/h5&gt; &#xA;&lt;p&gt;&lt;code&gt;[OnfidoResult]&lt;/code&gt; is a list with multiple results. The results are different enum values, each with its own associated value (also known as payload). This enum, &lt;code&gt;OnfidoResult&lt;/code&gt;, can have the following values:&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;&lt;code&gt;OnfidoResult.document&lt;/code&gt; and &lt;code&gt;OnfidoResult.face&lt;/code&gt;: Its payload is relevant in case you want to manipulate or preview the captures in some way.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h4&gt;Capture result payload&lt;/h4&gt; &#xA;&lt;p&gt;You shouldn&#39;t need to inspect the results of the document and face captures as the SDK handles file uploads. However, if you want to see further information, you can access the result object.&lt;/p&gt; &#xA;&lt;p&gt;Example for a document capture:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let document: Optional&amp;lt;OnfidoResult&amp;gt; = results.first { result in&#xA;    if case OnfidoResult.document = result { return true }&#xA;    return false&#xA;}&#xA;&#xA;if let document,&#xA;   case OnfidoResult.document(let documentResult) = document {&#xA;    print(document.front.id)&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To access the result object for a face capture, input the &lt;code&gt;case&lt;/code&gt; as &lt;code&gt;OnfidoResult.face&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h5&gt;Objective-C&lt;/h5&gt; &#xA;&lt;p&gt;&lt;code&gt;[ONFlowResult]&lt;/code&gt; is a list with multiple results. The result is an instance of &lt;code&gt;ONFlowResult&lt;/code&gt; containing 2 properties:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;type&lt;/code&gt;, which is an enum with values &lt;code&gt;ONFlowResultTypeDocument&lt;/code&gt;, &lt;code&gt;ONFlowResultTypeFace&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;result&lt;/code&gt;, whose instance type can be of &lt;code&gt;ONDocumentResult&lt;/code&gt; or &lt;code&gt;ONFaceResult&lt;/code&gt;. The result type can be derived by the &lt;code&gt;type&lt;/code&gt; property&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h4&gt;Capture result payload&lt;/h4&gt; &#xA;&lt;p&gt;You shouldn&#39;t need to inspect the results of the document and face captures as the SDK handles file uploads. However, if you want to see further information, you can access the result object.&lt;/p&gt; &#xA;&lt;p&gt;Example for a document capture:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-objc&#34;&gt;NSPredicate *documentResultPredicate = [NSPredicate predicateWithBlock:^BOOL(id flowResult, NSDictionary *bindings) {&#xA;    if (((ONFlowResult *)flowResult).type == ONFlowResultTypeDocument) {&#xA;        return YES;&#xA;    } else {&#xA;        return NO;&#xA;    }&#xA;}];&#xA;NSArray *flowWithDocumentResults = [results filteredArrayUsingPredicate:documentResultPredicate];&#xA;&#xA;if (flowWithDocumentResults.count &amp;gt; 0) {&#xA;    ONDocumentResult *documentResult = ((ONFlowResult *)flowWithDocumentResults[0]).result;&#xA;    NSLog(@&#34;%@&#34;, documentResult.front.id);&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Sample of instance returned by a flow with &lt;code&gt;FlowStep.document&lt;/code&gt;, &lt;code&gt;FlowStep.face&lt;/code&gt; and &lt;code&gt;FlowStep.proofOfAddress&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;Document:&#xA;        Front: DocumentSideResult(id=document_id, side=FRONT, type=DRIVING_LICENCE, issuingCounfry=GBR)&#xA;        Back: DocumentSideResult(id=document_id, side=BACK, type=DRIVING_LICENCE, issuingCounfry=GBR)&#xA;        Type: DRIVING_LICENCE&#xA;&#xA;Face:&#xA;        Face(id=face_id, variant=PHOTO)&#xA;&#xA;Proof of address:&#xA;        ProofOfAddress(type=UTILITY_BILL, front=(id=front_side_id, type=(optional)), back=(id=back_side_id, type=(optional)))&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To access the result object for a face capture, change the type to &lt;code&gt;ONFlowResultTypeFace&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h3&gt;Error handling&lt;/h3&gt; &#xA;&lt;h5&gt;Swift&lt;/h5&gt; &#xA;&lt;h4&gt;Response Handler Errors&lt;/h4&gt; &#xA;&lt;p&gt;The &lt;code&gt;Error&lt;/code&gt; object returned as part of &lt;code&gt;OnfidoResponse.error(Error)&lt;/code&gt; is of type &lt;code&gt;OnfidoFlowError&lt;/code&gt;. It&#39;s an enum with multiple cases depending on the error type.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;switch response {&#xA;case let OnfidoResponse.error(error):&#xA;    switch error {&#xA;    case OnfidoFlowError.cameraPermission:&#xA;        // Occurs if the user denies permission to the SDK during the flow&#xA;    case OnfidoFlowError.microphonePermission:&#xA;        // Occurs when the user denies permission for microphone usage by the app during the flow&#xA;    case OnfidoFlowError.failedToWriteToDisk:&#xA;        // Occurs when the SDK tries to save capture to disk, maybe due to a lack of space&#xA;    case OnfidoFlowError.upload(let OnfidoApiError):&#xA;        // Occurs when the SDK receives an error from an API call, see [https://documentation.onfido.com/api/latest#errors](https://documentation.onfido.com/api/latest#errors) for more information&#xA;    case OnfidoFlowError.exception(withError: let error, withMessage: let message):&#xA;        // Returned when an unexpected error occurs, please contact [support](mailto:support@onfido.com) when this happens&#xA;    case OnfidoFlowError.invalidImageData:&#xA;        // Occurs when the SDK tries to save capture to disk, but the image failed to compress to JPEG data&#xA;    case OnfidoFlowError.versionInsufficient:&#xA;        // Occurs when the workflow version is insufficient&#xA;    default: // necessary because swift&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: Not all errors will be passed to &lt;code&gt;OnfidoResponse.error&lt;/code&gt;. &lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#run-exceptions&#34;&gt;Run Exceptions&lt;/a&gt; and &lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#configuration-errors&#34;&gt;Configuration errors&lt;/a&gt; will be returned as an exception.&lt;/p&gt; &#xA;&lt;h4&gt;Run exceptions&lt;/h4&gt; &#xA;&lt;p&gt;When initiating the SDK there can be an exception.&lt;/p&gt; &#xA;&lt;p&gt;You can handle run exceptions in Swift with a &lt;code&gt;do/catch&lt;/code&gt; as shown below:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;do {&#xA;    try onfidoFlow.run(from: yourViewController, animated: true)&#xA;} catch let error {&#xA;    switch error {&#xA;    case OnfidoFlowError.cameraPermission:&#xA;        // do something about it here&#xA;    case OnfidoFlowError.microphonePermission:&#xA;        // do something about it here&#xA;    default:&#xA;        // should not happen, so if it does, log it and let us know&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Configuration errors&lt;/h4&gt; &#xA;&lt;p&gt;You must provide the following when configuring the Onfido iOS SDK:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;SDK token&lt;/li&gt; &#xA; &lt;li&gt;applicant&lt;/li&gt; &#xA; &lt;li&gt;at least one capture step&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Otherwise, you may encounter the following errors when calling the &lt;code&gt;build()&lt;/code&gt; function on the &lt;code&gt;OnfidoConfig.Builder&lt;/code&gt; instance:&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Error&lt;/th&gt; &#xA;   &lt;th&gt;Notes&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;OnfidoConfigError.missingSDKToken&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;When no token is provided or the token is an empty string.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;OnfidoConfigError.invalidSDKToken&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;When an invalid token is provided.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;OnfidoConfigError.missingSteps&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;When no step is provided.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;OnfidoConfigError.invalidDocumentFormatAndCountryCombination&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;When it is an unsupported document format for the specified country provided. See &lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#country-and-document-type-selection-by-dashboard&#34;&gt;Document Type Configuration&lt;/a&gt; to check supported combinations.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;OnfidoConfigError.invalidCountryCode&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;When an invalid country code is provided.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;h5&gt;Objective-C&lt;/h5&gt; &#xA;&lt;h4&gt;Response Handler Errors&lt;/h4&gt; &#xA;&lt;p&gt;The &lt;code&gt;error&lt;/code&gt; property of the &lt;code&gt;ONFlowResponse&lt;/code&gt; is of type &lt;code&gt;NSError&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;You can identify the error by comparing the &lt;code&gt;code&lt;/code&gt; property of the &lt;code&gt;NSError&lt;/code&gt; instance with &lt;code&gt;ONFlowError&lt;/code&gt;, i.e. &lt;code&gt;response.code == ONFlowErrorCameraPermission&lt;/code&gt;. You can also print or log the &lt;code&gt;userInfo&lt;/code&gt; property of the &lt;code&gt;NSError&lt;/code&gt; instance.&lt;/p&gt; &#xA;&lt;p&gt;The &lt;code&gt;NSError&lt;/code&gt; contained within the &lt;code&gt;ONFlowResponse&lt;/code&gt;&#39;s &lt;code&gt;error&lt;/code&gt; property can be handled as follows:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-objc&#34;&gt;switch (error.code) {&#xA;case ONFlowErrorCameraPermission:&#xA;    // Occurs if the user denies permission to the SDK during the flow&#xA;    break;&#xA;case ONFlowErrorMicrophonePermission:&#xA;    // Occurs when the user denies permission for microphone usage by the app during the flow&#xA;    break;&#xA;case ONFlowErrorFailedToWriteToDisk:&#xA;    // Occurs when the SDK tries to save capture to disk, maybe due to a lack of space&#xA;    break;&#xA;case ONFlowErrorUpload:&#xA;    // Occurs when the SDK receives an error from an API call, see [https://documentation.onfido.com/api/latest#errors](https://documentation.onfido.com/api/latest#errors) for more information&#xA;    // you can find out more by printing or logging userInfo from error&#xA;    break;&#xA;case ONFlowErrorException:&#xA;    // Returned when an unexpected error occurs, please contact Onfido&#39;s [Customer Support](mailto:support@onfido.com) when this happens&#xA;    break;&#xA;case ONFlowErrorInvalidImageData:&#xA;    // Occurs when the SDK tries to save capture to disk, but the image failed to compress to JPEG data&#xA;    break;&#xA;case ONFlowErrorVersionInsufficient:&#xA;    // Occurs when the workflow version is insufficient&#xA;    break;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: Not all errors which are part of &lt;code&gt;ONFlowError&lt;/code&gt; will be passed to the response handler block. &lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#run-exceptions&#34;&gt;Run Exceptions&lt;/a&gt; and &lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#configuration-errors&#34;&gt;Configuration errors&lt;/a&gt; will be returned as an exception.&lt;/p&gt; &#xA;&lt;h4&gt;Run exceptions&lt;/h4&gt; &#xA;&lt;p&gt;You can handle run exceptions as shown below:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-objc&#34;&gt;NSError *runError = NULL;&#xA;[onFlow runFrom:yourViewController animated:YES error:&amp;amp;runError completion:nil]; //`yourViewController` should be your view controller&#xA;&#xA;if (runError) {&#xA;    switch (runError.code) {&#xA;        case ONFlowErrorCameraPermission:&#xA;            // do something about it here&#xA;            break;&#xA;        case ONFlowErrorMicrophonePermission:&#xA;            // do something about it here&#xA;            break;&#xA;        default:&#xA;            // do something about it here&#xA;            break;&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Configuration errors&lt;/h4&gt; &#xA;&lt;p&gt;You must provide the following when configuring the Onfido iOS SDK:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;SDK token&lt;/li&gt; &#xA; &lt;li&gt;applicant&lt;/li&gt; &#xA; &lt;li&gt;at least one capture step&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Otherwise you may encounter the following errors when calling the &lt;code&gt;build()&lt;/code&gt; function on the &lt;code&gt;ONFlowConfigBuilder&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Error&lt;/th&gt; &#xA;   &lt;th&gt;Notes&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;ONFlowConfigErrorMissingToken&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;When no token is provided or the token is an empty string.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;ONFlowConfigErrorMissingApplicant&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;When no applicant instance is provided.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;ONFlowConfigErrorMissingSteps&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;When no step is provided.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;ONFlowConfigErrorMultipleTokenTypes&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;When both an SDK token and a Mobile token are provided.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;ONFlowConfigErrorApplicantProvidedWithSDKToken&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;When both an SDK token and an applicant are provided.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;ONFlowConfigErrorInvalidDocumentFormatAndCountryCombination&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;When it is an unsupported document format for the specified country provided. See &lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#country-and-document-type-selection-by-dashboard&#34;&gt;Document Type Configuration&lt;/a&gt; to check supported combinations.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;ONFlowConfigErrorInvalidCountryCode&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;When an invalid country code is provided.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;h3&gt;Custom Media Callbacks&lt;/h3&gt; &#xA;&lt;callout&gt; &#xA; &lt;blockquote&gt; &#xA;  &lt;p&gt;The following features must be enabled for your account before they can be used. For more information, please contact your Onfido Solution Engineer or Customer Success Manager.&lt;/p&gt; &#xA; &lt;/blockquote&gt; &#xA;&lt;/callout&gt; &#xA;&lt;h4&gt;Introduction&lt;/h4&gt; &#xA;&lt;p&gt;Onfido provides the possibility to integrate with our Smart Capture SDK, without the requirement of using this data only through the Onfido API. Media callbacks enable you to control the end user data collected by the SDK after the end user has submitted their captured media. As a result, you can leverage Onfido’s advanced on-device technology, including image quality validations, while still being able to handle end users’ data directly. This unlocks additional use cases, including compliance requirements and multi-vendor configurations, that require this additional flexibility.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;This feature must be enabled for your account.&lt;/strong&gt; Please contact your Onfido Solution Engineer or Customer Success Manager.&lt;/p&gt; &#xA;&lt;h4&gt;Implementation&lt;/h4&gt; &#xA;&lt;p&gt;To use this feature, use &lt;code&gt;.withMediaCallback&lt;/code&gt; and provide the callbacks for &lt;code&gt;MediaDocumentResult&lt;/code&gt; for documents and &lt;code&gt;MediaFile&lt;/code&gt; for live photos and live videos.&lt;/p&gt; &#xA;&lt;h5&gt;Swift&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;final class SwiftDynamicFrameworkOnfidoRunner: OnfidoRunner, MediaCallback {&#xA;    func onMediaCaptured(result: MediaResult) {&#xA;        switch result {&#xA;        case let documentResult as MediaDocumentResult:&#xA;            // Your callback code here&#xA;        case let selfieResult as SelfieResult:&#xA;            // Your callback code here&#xA;        case let livenessResult as LivenessResult:&#xA;            // Your callback code here&#xA;        default:&#xA;            break&#xA;        }&#xA;    }&#xA;&#xA;    init() {&#xA;        ...&#xA;        configBuilder.withMediaCallback(mediaCallback: self)&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;User data&lt;/h4&gt; &#xA;&lt;p&gt;The callbacks return an object including the information that the SDK normally sends directly to Onfido. The callbacks are invoked when the end user confirms submission of their image through the SDK’s user interface.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; Currently, end user data will still automatically be sent to the Onfido backend, but you are not required to use Onfido to process this data.&lt;/p&gt; &#xA;&lt;p&gt;The callback returns 3 possible objects:&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;For documents, the callback returns a &lt;code&gt;MediaDocumentResult&lt;/code&gt; object:&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;class MediaDocumentResult {&#xA;    let metadata: DocumentMetadata&#xA;    let file: MediaFile&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The &lt;code&gt;DocumentMetadata&lt;/code&gt; object contains the metadata of the captured document:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;class DocumentMetadata {&#xA;    let side: String&#xA;    let type: String&#xA;    let issuingCountry: String?&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; &lt;code&gt;issuingCountry&lt;/code&gt; is optional based on end-user selection, and can be &lt;code&gt;null&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; If a document was scanned using NFC, the callback will return the passport photo in &lt;code&gt;file&lt;/code&gt;, but no additional data.&lt;/p&gt; &#xA;&lt;ol start=&#34;2&#34;&gt; &#xA; &lt;li&gt;For live photos, the callback returns a &lt;code&gt;SelfieResult&lt;/code&gt; object:&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;class SelfieResult {&#xA;    let fileData: MediaFile&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ol start=&#34;3&#34;&gt; &#xA; &lt;li&gt;For videos, the callback returns a &lt;code&gt;LivenessResult&lt;/code&gt; object:&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;class LivenessResult {&#xA;    let fileData: MediaFile&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;And the &lt;code&gt;MediaFile&lt;/code&gt; object has:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;class MediaFile {&#xA;    let fileData: Data&#xA;    let fileName: String&#xA;    let fileType: String&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;User analytics&lt;/h2&gt; &#xA;&lt;p&gt;The SDK also allows you to track a user&#39;s journey through the Onfido verification process via a definable hook.&lt;/p&gt; &#xA;&lt;h3&gt;Overriding the hook&lt;/h3&gt; &#xA;&lt;p&gt;In order to expose a user&#39;s progress through the SDK, a hook method must be defined while creating the &lt;code&gt;OnfidoFlow.swift&lt;/code&gt; instance using a &lt;code&gt;.with(eventHandler: EventHandler)&lt;/code&gt; call. For example:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;OnfidoFlow(withConfiguration: config)&#xA;    .with(eventHandler: {&#xA;        (event: Event) -&amp;gt; () in&#xA;        // Your code here&#xA;    })&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The code inside of the defined method will now be called when a particular event is triggered, usually when the user reaches a new screen. For a full list of events see, &lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/#tracked-events&#34;&gt;tracked events&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;The parameter being passed in is an &lt;code&gt;OnfidoFlow.Event&lt;/code&gt; struct which contains the following:&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;&lt;/th&gt; &#xA;   &lt;th&gt;&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;eventName&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;string&lt;/strong&gt; &lt;br&gt; Indicates the type of event. This will always be returned as &lt;code&gt;&#34;Screen&#34;&lt;/code&gt;, as each tracked event is a user visiting a screen.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;code&gt;properties&lt;/code&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;dictionary&lt;/strong&gt; &lt;br&gt; Contains the specific details of an event. For example, the name of the screen visited.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;h3&gt;Using the data&lt;/h3&gt; &#xA;&lt;p&gt;You can use the data to keep track of how many users reach each screen in your flow. You can do this by storing the number of users that reach each screen and comparing that to the number of users who reached the &lt;code&gt;Welcome&lt;/code&gt; screen.&lt;/p&gt; &#xA;&lt;h3&gt;Tracked events&lt;/h3&gt; &#xA;&lt;p&gt;Below is the list of potential events currently being tracked by the hook:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;WELCOME - User reached the &#34;Welcome&#34; screen&#xA;USER_CONSENT - User reached &#34;User consent&#34; screen&#xA;DOCUMENT_CAPTURE - User reached the &#34;Document capture&#34; screen (for one-sided document)&#xA;DOCUMENT_CAPTURE_FRONT - User reached the &#34;Document capture&#34; screen for the front side (for two-sided document)&#xA;DOCUMENT_CAPTURE_BACK - User reached the &#34;Document capture&#34; screen for the back side (for two-sided document)&#xA;DOCUMENT_CAPTURE_CONFIRMATION - User reached the &#34;Document confirmation&#34; screen (for one-sided document)&#xA;DOCUMENT_CAPTURE_CONFIRMATION_FRONT - User reached the &#34;Document confirmation&#34; screen for the front side (for two-sided document)&#xA;DOCUMENT_CAPTURE_CONFIRMATION_BACK - User reached the &#34;Document confirmation&#34; screen for the back side (for two-sided document)&#xA;DOCUMENT_UPLOAD - User&#39;s document is uploading&#xA;FACIAL_INTRO - User reached the &#34;Selfie intro&#34; screen&#xA;FACIAL_CAPTURE - User reached the &#34;Selfie capture&#34; screen&#xA;FACIAL_CAPTURE_CONFIRMATION - User reached the &#34;Selfie confirmation&#34; screen&#xA;FACIAL_UPLOAD - User&#39;s selfie is uploading&#xA;VIDEO_FACIAL_INTRO - User reached the &#34;Liveness intro&#34; screen&#xA;VIDEO_FACIAL_CAPTURE - User reached the &#34;Liveness video capture&#34; screen&#xA;VIDEO_FACIAL_CAPTURE_STEP_1 - User reached the 1st challenge during &#34;Liveness video capture&#34;, challenge_type can be found in eventProperties&#xA;VIDEO_FACIAL_CAPTURE_STEP_2 - User reached the 1st challenge during &#34;Liveness video capture&#34;, challenge_type can be found in eventProperties&#xA;VIDEO_FACIAL_CAPTURE_CONFIRMATION - User reached the &#34;Liveness video confirmation&#34; screen&#xA;VIDEO_FACIAL_UPLOAD - User&#39;s liveness video is uploading&#xA;MOTION_FACIAL_INTRO - User reached the &#34;Motion intro&#34; screen&#xA;MOTION_FACIAL_ALIGNMENT - User reached the &#34;Motion alignment&#34; screen&#xA;MOTION_FACIAL_CAPTURE - User reached the &#34;Motion capture&#34; screen&#xA;MOTION_FACIAL_NO_FACE_DETECTED - User&#39;s face was not detected&#xA;MOTION_FACIAL_CAPTURE_ERROR_TIMEOUT - User&#39;s motion capture timed out&#xA;MOTION_FACIAL_CAPTURE_ERROR_TOO_FAST - User performed the motion head turn too fast&#xA;MOTION_FACIAL_UPLOAD - User&#39;s motion capture is uploading&#xA;MOTION_FACIAL_UPLOAD_COMPLETED - User&#39;s motion capture finished uploading&#xA;MOTION_FACIAL_CONNECTION_ERROR - User was presented the &#34;Motion connection error&#34; screen during upload&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Custom biometric token storage&lt;/h2&gt; &#xA;&lt;p&gt;When using the authentication with local storage solution, by default the SDK manages biometric token storage. The SDK also allows you to have control over the token lifecycle by exposing an API to override the default implementation to read and write the token, so it can be stored on-device, in the cloud, in a keychain or on your servers.&lt;/p&gt; &#xA;&lt;h3&gt;Implementation&lt;/h3&gt; &#xA;&lt;p&gt;You need to provide a class that conforms to the &lt;code&gt;EncryptedBiometricTokenHandler&lt;/code&gt; protocol. Note the &lt;code&gt;customerUserHash&lt;/code&gt; parameter in both functions that need to be implemented. This is a unique identifier for the user that can be used as a key for token storage. Feel free to ignore it if you have your own identifier.&lt;/p&gt; &#xA;&lt;p&gt;Example of a class handling the callbacks for when a token is generated and for when we request a token from you:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;class CustomTokenHandlerClass: EncryptedBiometricTokenHandler {&#xA;    func onTokenGenerated(customerUserHash: String, encryptedBiometricToken: String) {&#xA;        // You store `customerUserHash` and `encryptedBiometricToken` however you choose to do so&#xA;    }&#xA;&#xA;    func onTokenRequested(customerUserHash: String, completion: @escaping (String) -&amp;gt; Void) {&#xA;        // You use the `customerUserHash` to retrieve the encrypted biometric token you have stored and call `completion`, passing in this token&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Example of initialising a workflow with a class that handles tokens:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;let workflowConfiguration = WorkflowConfiguration(workflowRunId: &#34;&amp;lt;WORKFLOW_RUN_ID&amp;gt;&#34;, sdkToken: &#34;&amp;lt;YOUR_SDK_TOKEN&amp;gt;&#34;)&#xA;workflowConfiguration.withEncryptedBiometricTokenHandler(handler: self) // `self` to be replaced with a different instance if you are using a different class conforming to `EncryptedBiometricTokenHandler`&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Migrating&lt;/h2&gt; &#xA;&lt;p&gt;You can find the migration guide at &lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/MIGRATION.md&#34;&gt;MIGRATION.md&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Security&lt;/h2&gt; &#xA;&lt;h3&gt;Certificate pinning&lt;/h3&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: Certificate pinning works only on devices running on iOS 10.3 or above.&lt;/p&gt; &#xA;&lt;p&gt;You can pin any communications between our SDK and server through the &lt;code&gt;.withCertificatePinning()&lt;/code&gt; method in our &lt;code&gt;OnfidoConfig.Builder&lt;/code&gt; configuration builder. This method accepts &lt;code&gt;CertificatePinningConfiguration&lt;/code&gt; as a parameter, with sha-256 hashes of the certificate&#39;s public keys.&lt;/p&gt; &#xA;&lt;p&gt;For more information about the hashes, please email Onfido&#39;s &lt;a href=&#34;mailto:support@onfido.com&#34;&gt;Customer Support&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h5&gt;Swift&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let config = try OnfidoConfig.builder()&#xA;...&#xA;do {&#xA;    config.withCertificatePinning(try CertificatePinningConfiguration(hashes: [&#34;&amp;lt;EXAMPLE_HASH&amp;gt;&#34;]))&#xA;} catch {&#xA;    // handle CertificatePinningConfiguration initialisation failures. i.e Providing empty array causes initializer to be failed.&#xA;}&#xA;...&#xA;configBuilder.build()&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h5&gt;Objective-C&lt;/h5&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-objc&#34;&gt;ONFlowConfigBuilder * builder =[ONFlowConfig builder];&#xA;...&#xA;NSError * error = NULL;&#xA;ONCertificatePinningConfiguration * pinningConf = [[ONCertificatePinningConfiguration alloc] initWithHashes: @[@&#34;&amp;lt;EXAMPLE_HASH&amp;gt;&#34;] error: &amp;amp;error]];&#xA;if (error != NULL) {&#xA;    // handle ONCertificatePinningConfiguration initialisation failures. i.e Providing empty array causes initializer to be failed.&#xA;}&#xA;[builder withCertificatePinningConfiguration: pinningConf];&#xA;&#xA;...&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Handling certificate pinning error&lt;/h4&gt; &#xA;&lt;p&gt;To identify a certificate pinning error, check the &lt;code&gt;message&lt;/code&gt; property of the &lt;code&gt;OnfidoFlowError.exception&lt;/code&gt; object. It will return &lt;code&gt;invalid_certificate&lt;/code&gt; for certificate pinning related errors.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;let responseHandler: (OnfidoResponse) -&amp;gt; Void = { response in&#xA;  switch response {&#xA;    case let .error(error):&#xA;        // Some error happened&#xA;        if case OnfidoFlowError.exception(withError: _, withMessage: let optionalMessage) = error, let message = optionalMessage {&#xA;            if message == &#34;invalid_certificate&#34; {&#xA;                // HANDLE INVALID CERTIFICATE CASE HERE&#xA;            }&#xA;        }&#xA;    case let .success(results):&#xA;        // User completed the flow&#xA;        // You can create your check here&#xA;    case .cancel:&#xA;        // Flow cancelled by the user&#xA;  }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Accessibility&lt;/h2&gt; &#xA;&lt;p&gt;The Onfido SDKs are &lt;a href=&#34;https://www.w3.org/WAI/standards-guidelines/&#34;&gt;WCAG 2.1&lt;/a&gt; compliant to level AA. They have been optimized to provide the following accessibility support by default:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Screen reader support: accessible labels for textual and non-textual elements available to aid VoiceOver navigation, including dynamic alerts&lt;/li&gt; &#xA; &lt;li&gt;Dynamic font size support: all elements scale automatically according to the device&#39;s font size setting&lt;/li&gt; &#xA; &lt;li&gt;Sufficient color contrast: default colors have been tested to meet the recommended level of contrast&lt;/li&gt; &#xA; &lt;li&gt;Sufficient touch target size: all interactive elements have been designed to meet the recommended touch target size&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Refer to our &lt;a href=&#34;https://documentation.onfido.com/sdk/sdk-accessibility-statement&#34;&gt;accessibility statement&lt;/a&gt; for more details.&lt;/p&gt; &#xA;&lt;h2&gt;Licensing&lt;/h2&gt; &#xA;&lt;p&gt;Due to API design constraints, and to avoid possible conflicts during the integration, we bundle some of our 3rd party dependencies. For those, we include the licensing information inside our bundle and also in this repo under licenses folder, with the file named &lt;a href=&#34;https://raw.githubusercontent.com/onfido/onfido-ios-sdk/master/licenses/onfido_licenses.json&#34;&gt;onfido_licenses.json&lt;/a&gt;. This file contains a summary of our bundled dependencies and all the licensing information required, including links to the relevant license texts contained in the same folder. Integrators of our library are then responsible for keeping this information along with their integrations.&lt;/p&gt; &#xA;&lt;p&gt;Example on how to access the licenses:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let onfidoBundle = Bundle(for: OnfidoFlow.self)&#xA;guard let licensesPath = onfidoBundle.path(forResource: &#34;onfido_licenses&#34;, ofType: &#34;json&#34;, inDirectory: nil),&#xA;      let licensesData = try? Data(contentsOf: URL(fileURLWithPath: licensesPath)),&#xA;      let licensesContent = String(data: licensesData, encoding: .utf8)&#xA;else {&#xA;    return&#xA;}&#xA;&#xA;print(licensesContent)&#xA;&#xA;guard let mitLicensePath = onfidoBundle.path(forResource: &#34;onfido_licenses_mit&#34;, ofType: &#34;txt&#34;, inDirectory: nil),&#xA;      let mitLicenseData = try? Data(contentsOf: URL(fileURLWithPath: mitLicensePath)),&#xA;      let mitLicenseFileContents = String(data: mitLicenseData, encoding: .utf8)&#xA;else {&#xA;    return&#xA;}&#xA;&#xA;print(mitLicenseFileContents)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;More Information&lt;/h2&gt; &#xA;&lt;h3&gt;Sample App&lt;/h3&gt; &#xA;&lt;p&gt;We have included sample apps to show how to integrate with the Onfido iOS SDK using both Swift and Objective-C. See the &lt;code&gt;SampleApp&lt;/code&gt; and &lt;code&gt;SampleAppObjC&lt;/code&gt; directories for more information.&lt;/p&gt; &#xA;&lt;h2&gt;Support&lt;/h2&gt; &#xA;&lt;p&gt;Should you encounter any technical issues during integration, please contact Onfido’s Customer Support team via &lt;a href=&#34;mailto:support@onfido.com&#34;&gt;email&lt;/a&gt;, including the word ISSUE: at the start of the subject line.&lt;/p&gt; &#xA;&lt;p&gt;Alternatively, you can search the support documentation available via the customer experience portal, &lt;a href=&#34;http://public.support.onfido.com&#34;&gt;public.support.onfido.com&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;We recommend you update your SDK to the latest version release as frequently as possible. Customers on newer versions of the Onfido SDK consistently see better performance across user onboarding and fraud mitigation, so we strongly advise keeping your SDK integration up-to-date.&lt;/p&gt; &#xA;&lt;p&gt;You can review our full SDK versioning policy &lt;a href=&#34;https://documentation.onfido.com/sdk/sdk-version-releases&#34;&gt;here&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;Copyright 2024 Onfido, Ltd. All rights reserved.&lt;/p&gt;</summary>
  </entry>
</feed>