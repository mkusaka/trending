<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub R Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2023-09-05T01:36:01Z</updated>
  <subtitle>Daily Trending of R in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>uribo/jmastats</title>
    <updated>2023-09-05T01:36:01Z</updated>
    <id>tag:github.com,2023-09-05:/uribo/jmastats</id>
    <link href="https://github.com/uribo/jmastats" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Download Weather Data from Japan Meteorological Agency Website&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;jmastats &lt;img src=&#34;https://raw.githubusercontent.com/uribo/jmastats/main/man/figures/logo.png&#34; align=&#34;right&#34; width=&#34;120px&#34;&gt;&lt;/h1&gt; &#xA;&lt;!-- badges: start --&gt; &#xA;&lt;!-- badges: end --&gt; &#xA;&lt;p&gt;jmastats は&lt;a href=&#34;https://www.jma.go.jp/jma/index.html&#34;&gt;気象庁&lt;/a&gt;のウェブサイトで公開される気象、海洋等の各種データをR上で扱えるようにするパッケージです。&lt;/p&gt; &#xA;&lt;h2&gt;インストール&lt;/h2&gt; &#xA;&lt;p&gt;パッケージはCRANに登録されていません。次のコマンドを実行することでインストールが行われます。&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;install.packages(&#xA;   &#34;jmastats&#34;, &#xA;   repos = c(mm = &#34;https://uribo.r-universe.dev&#34;, getOption(&#34;repos&#34;)))&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;特徴&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;過去の気象データのほか、気象庁が公開するさまざまな気象ファイルをRで扱いやすい形式で読み込みます。 &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;地理空間情報が利用できる場合、適切な種類（ポイント、ライン等）のsfオブジェクトに変換します。&lt;/li&gt; &#xA;   &lt;li&gt;&lt;code&gt;parse_unit()&lt;/code&gt;関数により、気象データの単位系（SI単位系）をunitsオブジェクトに変換します。&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;取得した気象データはコンピュータ内にキャッシュとして保存されます。そのため、一度取得したデータはインターネット接続ができない状態でも参照可能です。キャッシュの利用により、取得時の気象庁ウェブサイトへの負荷も軽減されます。&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;使い方&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;library(jmastats)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;地点気象データ&lt;/h3&gt; &#xA;&lt;p&gt;取得したい対象データを&lt;code&gt;item&lt;/code&gt;引数に指定、観測所の位置する &lt;code&gt;block_no&lt;/code&gt; と対象の年 &lt;code&gt;year&lt;/code&gt; 月 &lt;code&gt;month&lt;/code&gt; 日 &lt;code&gt;day&lt;/code&gt;を必要に応じて与えて実行します。&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;jma_collect(item = &#34;hourly&#34;, block_no = 47646, year = 2022, month = 1, day = 1)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;code&gt;block_no&lt;/code&gt; が不明の時は 対象地点の緯度経度を元に&lt;code&gt;nearest_station()&lt;/code&gt;で検索できます。&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;nearest_station(longitude = 140.112, latitude = 36.083)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;台風資料&lt;/h3&gt; &#xA;&lt;p&gt;気象庁のウェブサイト、&lt;a href=&#34;https://www.jma.go.jp/jma/jma-eng/jma-center/rsmc-hp-pub-eg/trackarchives.html&#34;&gt;RMCS Tokyo&lt;/a&gt;が提供する台風のベストトラックデータを読み込むための関数があります。&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;read_rsmc_besttrack()&lt;/code&gt;関数でベストトラックのファイルが置かれたパスを指定します。&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;read_rsmc_besttrack(path = system.file(&#34;dummy/bst.txt&#34;, package = &#34;jmastats&#34;)) |&amp;gt; &#xA;  dplyr::glimpse()&#xA;#&amp;gt; Rows: 2&#xA;#&amp;gt; Columns: 22&#xA;#&amp;gt; $ datetime                                                    &amp;lt;dttm&amp;gt; 1991-09-2…&#xA;#&amp;gt; $ indicator_002                                               &amp;lt;chr&amp;gt; &#34;002&#34;, &#34;00…&#xA;#&amp;gt; $ grade                                                       &amp;lt;chr&amp;gt; &#34;5&#34;, &#34;5&#34;&#xA;#&amp;gt; $ `central_pressure(hPa)`                                     &amp;lt;dbl&amp;gt; 935, 994&#xA;#&amp;gt; $ `maximum_sustained_wind_speed(knot)`                        &amp;lt;dbl&amp;gt; 95, NA&#xA;#&amp;gt; $ `_direction_of_the_longest_radius_of_50kt_winds_or_greater` &amp;lt;chr&amp;gt; &#34;3&#34;, NA&#xA;#&amp;gt; $ `_the_longest_radius_of_50kt_winds_or_greater(nm)`          &amp;lt;chr&amp;gt; &#34;0180&#34;, NA&#xA;#&amp;gt; $ `_the_shortest_radius_of_50kt_winds_or_greater(nm)`         &amp;lt;chr&amp;gt; &#34;0140&#34;, NA&#xA;#&amp;gt; $ `_direction_of_the_longest_radius_of_30kt_winds_or_greater` &amp;lt;chr&amp;gt; &#34;3&#34;, NA&#xA;#&amp;gt; $ `_the_longest_radius_of_30kt_winds_or_greater(nm)`          &amp;lt;chr&amp;gt; &#34;0400&#34;, NA&#xA;#&amp;gt; $ `_the_shortest_radius_of_30kt_winds_or_greater(nm)`         &amp;lt;chr&amp;gt; &#34;0260&#34;, NA&#xA;#&amp;gt; $ indicator_of_landfall_or_passage                            &amp;lt;chr&amp;gt; &#34;#&#34;, NA&#xA;#&amp;gt; $ international_number                                        &amp;lt;chr&amp;gt; &#34;9119&#34;, &#34;9…&#xA;#&amp;gt; $ geometry                                                    &amp;lt;POINT [°]&amp;gt; POINT (129…&#xA;#&amp;gt; $ indicator_66666                                             &amp;lt;dbl&amp;gt; 66666, 666…&#xA;#&amp;gt; $ nrow                                                        &amp;lt;dbl&amp;gt; 1, 1&#xA;#&amp;gt; $ tropical_cyclone_number                                     &amp;lt;chr&amp;gt; &#34;0045&#34;, &#34;0…&#xA;#&amp;gt; $ international_number_copy                                   &amp;lt;chr&amp;gt; &#34;9119&#34;, &#34;9…&#xA;#&amp;gt; $ flag_last_data_line                                         &amp;lt;chr&amp;gt; &#34;0&#34;, &#34;0&#34;&#xA;#&amp;gt; $ DTM                                                         &amp;lt;dbl&amp;gt; 6, 6&#xA;#&amp;gt; $ storm_name                                                  &amp;lt;fct&amp;gt; MIRREILE, …&#xA;#&amp;gt; $ last_update                                                 &amp;lt;date&amp;gt; 1992-07-01…&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;URLを直接指定した読み込みも可能です。&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;read_rsmc_besttrack(path = &#34;https://www.jma.go.jp/jma/jma-eng/jma-center/rsmc-hp-pub-eg/Besttracks/bst2023.txt&#34;)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;code&gt;read_rsmc_besttrack()&lt;/code&gt;関数の返り値は台風の経路を記録したポイントデータ(sf)となっています。&lt;code&gt;track_combine()&lt;/code&gt;関数では、&lt;code&gt;read_rsmc_besttrack()&lt;/code&gt;関数で読み込んだベストトラックのデータについて、台風ごとの経路をラインデータとしてまとめます。&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;read_rsmc_besttrack(path = system.file(&#34;dummy/bst.txt&#34;, package = &#34;jmastats&#34;)) |&amp;gt; &#xA;  track_combine(group_vars = &#34;storm_name&#34;)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;潮汐観測資料&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;read_tide_level(&#34;https://www.data.jma.go.jp/gmd/kaiyou/data/db/tide/suisan/txt/2020/TK.txt&#34;)&#xA;&#xA;read_tide_level(.year = 2020, .month = 2, .stn = &#34;TK&#34;)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;震度データベース&lt;/h3&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://www.data.jma.go.jp/svd/eqdb/data/shindo/index.html&#34;&gt;震度データベース検索&lt;/a&gt;よりダウンロードしたcscvファイルを読み込む関数として&lt;code&gt;read_eqdb_csv()&lt;/code&gt;があります。ダミーデータを読み込む例を示します。&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;read_eqdb_csv(system.file(&#34;dummy/eqdb.csv&#34;, package = &#34;jmastats&#34;))&#xA;#&amp;gt; 地震の概要&#xA;#&amp;gt; ✖ 発生日時: 2023-01-01 00:00:00&#xA;#&amp;gt; ✖ 震央地名: 震央地名ダミー&#xA;#&amp;gt; • 緯度: 35°30.9′N&#xA;#&amp;gt; • 経度: 140°53.9′E&#xA;#&amp;gt; ! 深さ: 37 km&#xA;#&amp;gt; ! マグニチュード: 4.6&#xA;#&amp;gt; ! 最大震度: 震度２&#xA;#&amp;gt; # A tibble: 2 × 4&#xA;#&amp;gt;   都道府県       震度  観測点名       気象庁の震度観測点&#xA;#&amp;gt;   &amp;lt;chr&amp;gt;          &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;          &amp;lt;lgl&amp;gt;             &#xA;#&amp;gt; 1 震央地名ダミー 2     震央地名ダミー TRUE              &#xA;#&amp;gt; 2 震央地名ダミー 2     震央地名ダミー FALSE&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;データセット&lt;/h3&gt; &#xA;&lt;p&gt;&lt;strong&gt;気象観測地点&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;data(&#34;stations&#34;, package = &#34;jmastats&#34;)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;code&gt;station_type&lt;/code&gt; により観測種目が異なります。&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;略字&lt;/th&gt; &#xA;   &lt;th align=&#34;left&#34;&gt;観測装置の種類&lt;/th&gt; &#xA;   &lt;th align=&#34;left&#34;&gt;観測種目&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;四&lt;/td&gt; &#xA;   &lt;td align=&#34;left&#34;&gt;有線ロボット気象計&lt;/td&gt; &#xA;   &lt;td align=&#34;left&#34;&gt;降水量、気温、風向、風速、日照時間&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;三&lt;/td&gt; &#xA;   &lt;td align=&#34;left&#34;&gt;有線ロボット気象計&lt;/td&gt; &#xA;   &lt;td align=&#34;left&#34;&gt;降水量、気温、風向、風速&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;官&lt;/td&gt; &#xA;   &lt;td align=&#34;left&#34;&gt;地上気象観測装置&lt;/td&gt; &#xA;   &lt;td align=&#34;left&#34;&gt;降水量、気温、風向、風速、日照時間（一部の観測所を除く）、積雪の深さ（一部の観測所を除く）&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;雨&lt;/td&gt; &#xA;   &lt;td align=&#34;left&#34;&gt;有線ロボット気象計&lt;/td&gt; &#xA;   &lt;td align=&#34;left&#34;&gt;降水量&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;雪&lt;/td&gt; &#xA;   &lt;td align=&#34;left&#34;&gt;有線ロボット積雪計&lt;/td&gt; &#xA;   &lt;td align=&#34;left&#34;&gt;積雪量&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;h2&gt;関連するパッケージ&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://cran.r-project.org/package=worldmet&#34;&gt;worldmet&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://cran.r-project.org/package=rnoaa&#34;&gt;rnoaa&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://cran.r-project.org/package=GSODR&#34;&gt;GSODR&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://cran.r-project.org/package=stationaRy&#34;&gt;stationaRy&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://cran.r-project.org/package=rdwd&#34;&gt;rdwd&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/ropensci/weathercan&#34;&gt;weathercan&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/SevillaR/aemet&#34;&gt;aemet&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/bczernecki/climate&#34;&gt;climate&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/ropensci/rrricanes&#34;&gt;rrricanes&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt;</summary>
  </entry>
</feed>