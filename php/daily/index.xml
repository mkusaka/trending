<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub PHP Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2022-11-26T01:35:47Z</updated>
  <subtitle>Daily Trending of PHP in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>HuolalaTech/hll-wp-glog</title>
    <updated>2022-11-26T01:35:47Z</updated>
    <id>tag:github.com,2022-11-26:/HuolalaTech/hll-wp-glog</id>
    <link href="https://github.com/HuolalaTech/hll-wp-glog" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Glog is a cross platform high-performance log library developed by Huolala.&lt;/p&gt;&lt;hr&gt;&lt;h1 align=&#34;center&#34;&gt; &lt;img width=&#34;800px&#34; src=&#34;https://raw.githubusercontent.com/HuolalaTech/hll-wp-glog/master/Art/glog-logo.png&#34;&gt; &lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/HuolalaTech/Glog&#34;&gt;&lt;img src=&#34;https://img.shields.io/badge/huolala-Glog-blue&#34; alt=&#34;Glog&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://raw.githubusercontent.com/HuolalaTech/Glog/master/LICENSE&#34;&gt;&lt;img src=&#34;https://img.shields.io/badge/License-Apache%202.0-orange.svg?sanitize=true&#34; alt=&#34;License&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/HuolalaTech/Glog/pulls&#34;&gt;&lt;img src=&#34;https://img.shields.io/badge/PRs-welcome-brightgreen.svg?sanitize=true&#34; alt=&#34;PRs Welcome&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/HuolalaTech/Glog/wiki&#34;&gt;&lt;img src=&#34;https://img.shields.io/badge/platform-android%20%7C%20ios-lightgrey&#34; alt=&#34;Multi Platform&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;&lt;a href=&#34;https://github.com/huolalatech/hll-wp-glog/raw/master/README-zh.md&#34;&gt;中文文档&lt;/a&gt; | &lt;a href=&#34;https://juejin.cn/post/7168662263337861133/&#34;&gt;Introduction&lt;/a&gt;&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;hr&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;Glog: General Log&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;p&gt;Glog is a high-performance, cross-platform mobile logging component. Use mmap I/O, support synchronous/asynchronous write mode, format log with custom binary format, SDK user can choose whatever mechanism you like(eg. JSON, Protobuf). The underlaying file format is flexible, high-performance and fault-tolerant. Glog support log compression, encryption and cleanup, also includes reading module written by C++&lt;/p&gt; &#xA;&lt;h2&gt;I. WHY CHOOSE&lt;/h2&gt; &#xA;&lt;p&gt;Most of the logging component takes over the data serialization process, convert data object to binary data by JSON or other mechanism, then write binary data to file. The advantage of this is easy to use, but lack of flexible. Glog decouple the serialization process with underlaying log, remain high performance and reliable.&lt;/p&gt; &#xA;&lt;img src=&#34;https://raw.githubusercontent.com/HuolalaTech/hll-wp-glog/master/Art/log-comparison-en.png&#34; alt=&#34;comparison&#34; width=&#34;500&#34;&gt; &#xA;&lt;p&gt;Technical implementation&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;mmap I/O&lt;/li&gt; &#xA; &lt;li&gt;Customized binary file format, store each log with binary data, upper layer is responsible for serialization(Protobuf is recommended).Add sync mark to the end of each log to support fault-tolerant.&lt;/li&gt; &#xA; &lt;li&gt;Stream compression to reduce CPU usage&lt;/li&gt; &#xA; &lt;li&gt;Encrypt each log by AES CFB-128 and ECDH&lt;/li&gt; &#xA; &lt;li&gt;Support synchronous/asynchronous write mode, asynchronous mode implemented by message queue written by C++&lt;/li&gt; &#xA; &lt;li&gt;Support incremental archive(per day) and full archive(per file)&lt;/li&gt; &#xA; &lt;li&gt;Build-in read module&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Benchmark&lt;/h3&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Phone model&lt;/th&gt; &#xA;   &lt;th&gt;Log SDK&lt;/th&gt; &#xA;   &lt;th&gt;10K write&lt;/th&gt; &#xA;   &lt;th&gt;100K write&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Samsung Galaxy S10+ Android 11&lt;/td&gt; &#xA;   &lt;td&gt;glog&lt;/td&gt; &#xA;   &lt;td&gt;21 ms&lt;/td&gt; &#xA;   &lt;td&gt;182 ms&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;glog+pb&lt;/td&gt; &#xA;   &lt;td&gt;54 ms&lt;/td&gt; &#xA;   &lt;td&gt;335 ms&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;xlog&lt;/td&gt; &#xA;   &lt;td&gt;207 ms&lt;/td&gt; &#xA;   &lt;td&gt;1961 ms&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;logan&lt;/td&gt; &#xA;   &lt;td&gt;250 ms&lt;/td&gt; &#xA;   &lt;td&gt;6469 ms&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Huawei Honor Magic 2 Android 10&lt;/td&gt; &#xA;   &lt;td&gt;glog&lt;/td&gt; &#xA;   &lt;td&gt;38 ms&lt;/td&gt; &#xA;   &lt;td&gt;286 ms&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;glog+pb&lt;/td&gt; &#xA;   &lt;td&gt;84 ms&lt;/td&gt; &#xA;   &lt;td&gt;505 ms&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;xlog&lt;/td&gt; &#xA;   &lt;td&gt;263 ms&lt;/td&gt; &#xA;   &lt;td&gt;2165 ms&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;logan&lt;/td&gt; &#xA;   &lt;td&gt;242 ms&lt;/td&gt; &#xA;   &lt;td&gt;3643 ms&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Xiaomi 10 Android 11&lt;/td&gt; &#xA;   &lt;td&gt;glog&lt;/td&gt; &#xA;   &lt;td&gt;27 ms&lt;/td&gt; &#xA;   &lt;td&gt;244 ms&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;xlog&lt;/td&gt; &#xA;   &lt;td&gt;198 ms&lt;/td&gt; &#xA;   &lt;td&gt;1863 ms&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;logan&lt;/td&gt; &#xA;   &lt;td&gt;210 ms&lt;/td&gt; &#xA;   &lt;td&gt;4238 ms&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Huawei Mate 40 pro HarmonyOS 2.0.0&lt;/td&gt; &#xA;   &lt;td&gt;glog&lt;/td&gt; &#xA;   &lt;td&gt;30 ms&lt;/td&gt; &#xA;   &lt;td&gt;257 ms&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;xlog&lt;/td&gt; &#xA;   &lt;td&gt;275 ms&lt;/td&gt; &#xA;   &lt;td&gt;2484 ms&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;logan&lt;/td&gt; &#xA;   &lt;td&gt;260 ms&lt;/td&gt; &#xA;   &lt;td&gt;4020 ms&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;OPPO R11 Android 8.1.0&lt;/td&gt; &#xA;   &lt;td&gt;glog&lt;/td&gt; &#xA;   &lt;td&gt;63 ms&lt;/td&gt; &#xA;   &lt;td&gt;324 ms&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;glog+pb&lt;/td&gt; &#xA;   &lt;td&gt;234 ms&lt;/td&gt; &#xA;   &lt;td&gt;1611 ms&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;xlog&lt;/td&gt; &#xA;   &lt;td&gt;464 ms&lt;/td&gt; &#xA;   &lt;td&gt;3625 ms&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;logan&lt;/td&gt; &#xA;   &lt;td&gt;430 ms&lt;/td&gt; &#xA;   &lt;td&gt;5355 ms&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;iPhone 12 128G iOS 14.8&lt;/td&gt; &#xA;   &lt;td&gt;glog&lt;/td&gt; &#xA;   &lt;td&gt;7 ms&lt;/td&gt; &#xA;   &lt;td&gt;29 ms&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;xlog&lt;/td&gt; &#xA;   &lt;td&gt;152 ms&lt;/td&gt; &#xA;   &lt;td&gt;1079 ms&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;logan&lt;/td&gt; &#xA;   &lt;td&gt;162 ms&lt;/td&gt; &#xA;   &lt;td&gt;12821 ms&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;iPhone 8 64G iOS 13.7&lt;/td&gt; &#xA;   &lt;td&gt;glog&lt;/td&gt; &#xA;   &lt;td&gt;12 ms&lt;/td&gt; &#xA;   &lt;td&gt;50 ms&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;xlog&lt;/td&gt; &#xA;   &lt;td&gt;242 ms&lt;/td&gt; &#xA;   &lt;td&gt;2106 ms&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;logan&lt;/td&gt; &#xA;   &lt;td&gt;251 ms&lt;/td&gt; &#xA;   &lt;td&gt;38312 ms&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;h2&gt;II. HOW TO USE&lt;/h2&gt; &#xA;&lt;h3&gt;Android&lt;/h3&gt; &#xA;&lt;h4&gt;IMPORT&lt;/h4&gt; &#xA;&lt;p&gt;The latest release is available on &lt;a href=&#34;https://search.maven.org/artifact/cn.huolala.glog.android/glog-android-static/1.0.0/aar&#34;&gt;Maven Central&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-groovy&#34;&gt;allprojects {&#xA;    repositories {&#xA;        mavenCentral()&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-groovy&#34;&gt;dependencies {&#xA;    implementation &#34;cn.huolala.glog.android:glog-android-static:1.0.0&#34;&#xA;    // implementation &#34;cn.huolala.glog.android:glog-android-shared:1.0.0&#34;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;QUIC START&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public class SampleApp extends Application {&#xA;    private Glog glog;&#xA;&#xA;    @Override&#xA;    public void onCreate() {&#xA;        super.onCreate();&#xA;        // Global initialization, setup internal log level for debug&#xA;        Glog.initialize(BuildConfig.DEBUG ? InternalLogLevelDebug : InternalLogLevelInfo);&#xA;        setup();&#xA;    }&#xA;&#xA;    // initialize instance&#xA;    private void setup() {&#xA;        glog = new Glog.Builder(getApplicationContext())&#xA;                .protoName(&#34;glog_identify&#34;)         // instance identity, instance with same identity will create only once&#xA;                .encryptMode(Glog.EncryptMode.AES)  // Encryption mode&#xA;                .key(&#34;&#34;)                            // ECDH Server public key&#xA;                .incrementalArchive(true)           // Incremental archive，log within a day write to same file&#xA;                .build();&#xA;    }&#xA;&#xA;    // write log&#xA;    private void write() {&#xA;        byte[] data = serialize();                  // serizlize data&#xA;        glog.write(data);                           // write binary data&#xA;    } &#xA;&#xA;    // read log&#xA;    private void read() {&#xA;        ArrayList&amp;lt;String&amp;gt; logFiles = new ArrayList&amp;lt;&amp;gt;();&#xA;        glog.getArchiveSnapshot(logFiles, 10, 100 * 1024); // get snapshot of log files list, flush cache if log num &amp;gt;= 10 or log size &amp;gt;= 100KB in cache&#xA;        byte[] inBuffer = new byte[Glog.getSingleLogMaxLength()];&#xA;        for (String logFile : logFiles) {&#xA;            try (Glog.Reader reader = glog.openReader(logFile)) {&#xA;                while (true) {&#xA;                    int n = reader.read(inBuffer);&#xA;                    if (n &amp;lt; 0) {&#xA;                        break;&#xA;                    } else if (n == 0) { // fault-tolerant&#xA;                        continue;&#xA;                    }&#xA;                    byte[] outBuffer = new byte[n];&#xA;                    System.arraycopy(inBuffer, 0, outBuffer, 0, n);&#xA;                    deserialize(outBuffer); // deserialize binary data&#xA;                }&#xA;            } catch (IOException e) {&#xA;                e.printStackTrace();&#xA;            }&#xA;        }&#xA;    }&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;iOS&lt;/h3&gt; &#xA;&lt;h4&gt;IMPORT&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code&gt;    pod &#39;Huolala-Glog&#39;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;QUIC START&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code&gt;    // initialize default instance&#xA;    Glog *glog = [Glog defaultGlog];&#xA;    // write data&#xA;    glog.write(data);&#xA;    // get snapshot of log files list, flush cache if log num &amp;gt;= 10 or log size &amp;gt;= 100KB in cache&#xA;    NSArray *logFiles = [self.glog getArchiveSnapshot:true minLogNum:10 totalLogSize:100 * 1024];&#xA;    NSMutableArray *dataArr = [NSMutableArray new];&#xA;    for (NSString *item in logFiles) {&#xA;        GlogReader *reader = [self.glog openReader:item];&#xA;        NSInteger length = 0;&#xA;        NSData *data;&#xA;        do {&#xA;            length = [reader read:16 * 1024 data:&amp;amp;data];&#xA;            if (length == 0) { // fault-tolerant&#xA;                continue;&#xA;            } else if (length &amp;lt; 0){&#xA;                break;&#xA;            }&#xA;            if (data) {&#xA;                NSString *dataString = [[NSString alloc] initWithData:data encoding:NSASCIIStringEncoding];&#xA;                [dataArr addObject:dataString];&#xA;            }&#xA;        } while (YES);&#xA;        NSLog(@&#34;all the data: %@&#34;,dataArr);&#xA;        [self.glog closeReader:reader];&#xA;    }&#xA;    &#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;III. TOOLS&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Misc/Reader&lt;/li&gt; &#xA; &lt;li&gt;Misc/generate-ecc-key.py&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;IV. AUTHOR&lt;/h2&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://juejin.cn/user/1768489241815070&#34;&gt;HuolalaTech&lt;/a&gt;&lt;/p&gt; &#xA;&lt;img src=&#34;https://raw.githubusercontent.com/HuolalaTech/hll-wp-glog/master/Art/hll-mobile-team.png&#34; alt=&#34;hll-mobile-team&#34; width=&#34;400&#34;&gt; &#xA;&lt;h2&gt;V. LICENSE&lt;/h2&gt; &#xA;&lt;hr&gt; &#xA;&lt;pre&gt;&lt;code&gt;Copyright 2022 Huolala, Inc.&#xA;&#xA;Licensed under the Apache License, Version 2.0 (the &#34;License&#34;);&#xA;you may not use this file except in compliance with the License.&#xA;You may obtain a copy of the License at&#xA;&#xA;   http://www.apache.org/licenses/LICENSE-2.0&#xA;&#xA;Unless required by applicable law or agreed to in writing, software&#xA;distributed under the License is distributed on an &#34;AS IS&#34; BASIS,&#xA;WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&#xA;See the License for the specific language governing permissions and&#xA;limitations under the License.&#xA;&lt;/code&gt;&lt;/pre&gt;</summary>
  </entry>
</feed>