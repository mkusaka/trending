<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub PHP Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2022-12-20T01:36:21Z</updated>
  <subtitle>Daily Trending of PHP in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>joanhey/AdapterMan</title>
    <updated>2022-12-20T01:36:21Z</updated>
    <id>tag:github.com,2022-12-20:/joanhey/AdapterMan</id>
    <link href="https://github.com/joanhey/AdapterMan" rel="alternate"></link>
    <summary type="html">&lt;p&gt;AdapterMan for Workerman. Run almost any PHP app asynchronously with Workerman, without touch 1 line of code in your fw or app.&lt;/p&gt;&lt;hr&gt;&lt;p align=&#34;center&#34;&gt; &lt;img src=&#34;https://user-images.githubusercontent.com/249085/200214022-c2c45753-368c-4e28-8415-2b3cadca9907.png&#34;&gt; &lt;/p&gt; Faster and more scalable apps, also use it as Serverless. &#xA;&lt;p&gt;Run almost any PHP app with the async event driven Workerman, without touch 1 line of code in your fw or app.&lt;/p&gt; &#xA;&lt;p&gt;If your app or fw use a Front Controller, 99% that will work. Requires minimun PHP 8.0.&lt;/p&gt; &#xA;&lt;p&gt;Actually working with:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Symfony&lt;/li&gt; &#xA; &lt;li&gt;Laravel&lt;/li&gt; &#xA; &lt;li&gt;CakePHP&lt;/li&gt; &#xA; &lt;li&gt;Yii2&lt;/li&gt; &#xA; &lt;li&gt;Slim&lt;/li&gt; &#xA; &lt;li&gt;KumbiaPHP&lt;/li&gt; &#xA; &lt;li&gt;... (Your app?)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Still testing with more fws and apps. Without touch a line of code.&lt;/p&gt; &#xA;&lt;h2&gt;Performance bench&lt;/h2&gt; &#xA;&lt;p&gt;Results from &lt;strong&gt;Techempower benchmark. Without touch a line of code.&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;Follow &lt;a href=&#34;https://twitter.com/adaptermanphp&#34;&gt;https://twitter.com/adaptermanphp&lt;/a&gt; for more updates.&lt;/p&gt; &#xA;&lt;h3&gt;Symfony 6&lt;/h3&gt; &#xA;&lt;p&gt;With full ORM &lt;img src=&#34;https://user-images.githubusercontent.com/249085/200204652-95c9477a-c249-48a8-b53f-29a59ee803c8.png&#34; alt=&#34;image&#34;&gt; Latency &lt;img src=&#34;https://user-images.githubusercontent.com/249085/200204701-17a8554b-a7bc-4891-8149-fbd525701920.png&#34; alt=&#34;image&#34;&gt;&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Fw&lt;/th&gt; &#xA;   &lt;th&gt;Plaintext&lt;/th&gt; &#xA;   &lt;th&gt;Json&lt;/th&gt; &#xA;   &lt;th&gt;Single query&lt;/th&gt; &#xA;   &lt;th&gt;Multiple query&lt;/th&gt; &#xA;   &lt;th&gt;Updates&lt;/th&gt; &#xA;   &lt;th&gt;Fortunes&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Symfony&lt;/td&gt; &#xA;   &lt;td&gt;38,231&lt;/td&gt; &#xA;   &lt;td&gt;37,557&lt;/td&gt; &#xA;   &lt;td&gt;12,578&lt;/td&gt; &#xA;   &lt;td&gt;10,741&lt;/td&gt; &#xA;   &lt;td&gt;3,420&lt;/td&gt; &#xA;   &lt;td&gt;10,741&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;strong&gt;Symfony Workerman&lt;/strong&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;210,796&lt;/strong&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;197,059&lt;/strong&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;107,050&lt;/strong&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;13,401&lt;/strong&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;4,062&lt;/strong&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;71,092&lt;/strong&gt;&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;h3&gt;Laravel 8&lt;/h3&gt; &#xA;&lt;p&gt;With full ORM.&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Fw&lt;/th&gt; &#xA;   &lt;th&gt;Plaintext&lt;/th&gt; &#xA;   &lt;th&gt;Json&lt;/th&gt; &#xA;   &lt;th&gt;Single query&lt;/th&gt; &#xA;   &lt;th&gt;Multiple query&lt;/th&gt; &#xA;   &lt;th&gt;Updates&lt;/th&gt; &#xA;   &lt;th&gt;Fortunes&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Laravel&lt;/td&gt; &#xA;   &lt;td&gt;14,799&lt;/td&gt; &#xA;   &lt;td&gt;14,770&lt;/td&gt; &#xA;   &lt;td&gt;9,263&lt;/td&gt; &#xA;   &lt;td&gt;3,247&lt;/td&gt; &#xA;   &lt;td&gt;1,452&lt;/td&gt; &#xA;   &lt;td&gt;8,354&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Laravel Roadrunner&lt;/td&gt; &#xA;   &lt;td&gt;482&lt;/td&gt; &#xA;   &lt;td&gt;478&lt;/td&gt; &#xA;   &lt;td&gt;474&lt;/td&gt; &#xA;   &lt;td&gt;375&lt;/td&gt; &#xA;   &lt;td&gt;359&lt;/td&gt; &#xA;   &lt;td&gt;472&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Laravel Swoole&lt;/td&gt; &#xA;   &lt;td&gt;38,824&lt;/td&gt; &#xA;   &lt;td&gt;37,439&lt;/td&gt; &#xA;   &lt;td&gt;21,687&lt;/td&gt; &#xA;   &lt;td&gt;3,958&lt;/td&gt; &#xA;   &lt;td&gt;1,588&lt;/td&gt; &#xA;   &lt;td&gt;16,035&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Laravel Laravel s&lt;/td&gt; &#xA;   &lt;td&gt;54,617&lt;/td&gt; &#xA;   &lt;td&gt;49,372&lt;/td&gt; &#xA;   &lt;td&gt;23,677&lt;/td&gt; &#xA;   &lt;td&gt;2,917&lt;/td&gt; &#xA;   &lt;td&gt;1,255&lt;/td&gt; &#xA;   &lt;td&gt;16,696&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;strong&gt;Laravel Workerman&lt;/strong&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;103,004&lt;/strong&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;99,891&lt;/strong&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;46,001&lt;/strong&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;5,828&lt;/strong&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;1,666&lt;/strong&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;27,158&lt;/strong&gt;&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://user-images.githubusercontent.com/249085/200189417-06fa658b-92c3-4c6d-a6e4-1efb3446a513.png&#34; alt=&#34;image&#34;&gt; Latency &lt;img src=&#34;https://user-images.githubusercontent.com/249085/200189427-99977bb7-5910-4d17-a47c-7242e8f95f8f.png&#34; alt=&#34;image&#34;&gt;&lt;/p&gt; &#xA;&lt;h3&gt;Slim with Workerman&lt;/h3&gt; &#xA;&lt;p&gt;Without ORM &lt;img src=&#34;https://user-images.githubusercontent.com/249085/201919385-ad25e41b-9887-42b7-92c0-d524a5e6aeae.png&#34; alt=&#34;image&#34;&gt;&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Framework&lt;/th&gt; &#xA;   &lt;th&gt;Plaintext&lt;/th&gt; &#xA;   &lt;th&gt;JSON&lt;/th&gt; &#xA;   &lt;th&gt;1-query&lt;/th&gt; &#xA;   &lt;th&gt;20-query&lt;/th&gt; &#xA;   &lt;th&gt;Updates&lt;/th&gt; &#xA;   &lt;th&gt;Fortunes&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Slim 4&lt;/td&gt; &#xA;   &lt;td&gt;35,251&lt;/td&gt; &#xA;   &lt;td&gt;38,305&lt;/td&gt; &#xA;   &lt;td&gt;34,272&lt;/td&gt; &#xA;   &lt;td&gt;12,579&lt;/td&gt; &#xA;   &lt;td&gt;2,097&lt;/td&gt; &#xA;   &lt;td&gt;32,634&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;&lt;strong&gt;Slim 4 Workerman&lt;/strong&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;134,531&lt;/strong&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;129,393&lt;/strong&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;81,889&lt;/strong&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;15,803&lt;/strong&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;2,456&lt;/strong&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;strong&gt;73,212&lt;/strong&gt;&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Slim 4 Workerman pgsql *&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;&lt;/td&gt; &#xA;   &lt;td&gt;102,926&lt;/td&gt; &#xA;   &lt;td&gt;19,637&lt;/td&gt; &#xA;   &lt;td&gt;14,875&lt;/td&gt; &#xA;   &lt;td&gt;92,752&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Without ORM and db class optimized for Workerman&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Workerman without worker mode&lt;/h3&gt; &#xA;&lt;p&gt;We started to test it. Every request include the .php file, like with PHP-FPM.&lt;/p&gt; &#xA;&lt;p&gt;Added to the Techempower benchmark, when we have the results we&#39;ll add it here.&lt;/p&gt; &#xA;&lt;p&gt;In the meantime, a local benchmark with the json.php test with 100 concurrent connections.&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://user-images.githubusercontent.com/249085/208427435-96afab97-cccf-4e6e-9e13-52f6dddb00fb.png&#34; alt=&#34;image&#34;&gt;&lt;/p&gt; &#xA;&lt;h3&gt;Symfony demo with Workerman&lt;/h3&gt; &#xA;&lt;p&gt;Symfony initialization 0ms and half the time per request.&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://user-images.githubusercontent.com/249085/197399760-5da8311e-5cf1-426a-a89d-ec2a2de43af0.mp4&#34;&gt;https://user-images.githubusercontent.com/249085/197399760-5da8311e-5cf1-426a-a89d-ec2a2de43af0.mp4&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Installation&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code&gt;composer require joanhey/adapterman&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Automatically install Workerman too.&lt;/p&gt; &#xA;&lt;h2&gt;Tree&lt;/h2&gt; &#xA;&lt;p&gt;Where to create the files (&lt;code&gt;server.php&lt;/code&gt; and &lt;code&gt;start.php&lt;/code&gt;)&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;.&#xA;├── app(dir)&#xA;├── public(dir)&#xA;├── vendor(dir)&#xA;├── composer.json&#xA;├── server.php&#xA;└── start.php&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Server&lt;/h2&gt; &#xA;&lt;p&gt;server.php&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-php&#34;&gt;&amp;lt;?php&#xA;&#xA;require_once __DIR__ . &#39;/vendor/autoload.php&#39;;&#xA;&#xA;use Adapterman\Adapterman;&#xA;use Workerman\Worker;&#xA;&#xA;Adapterman::init();&#xA;&#xA;$http_worker                = new Worker(&#39;http://0.0.0.0:8080&#39;);&#xA;$http_worker-&amp;gt;count         = 8;&#xA;$http_worker-&amp;gt;name          = &#39;AdapterMan&#39;;&#xA;&#xA;$http_worker-&amp;gt;onWorkerStart = static function () {&#xA;    //init();&#xA;    require __DIR__.&#39;/start.php&#39;;&#xA;};&#xA;&#xA;$http_worker-&amp;gt;onMessage = static function ($connection, $request) {&#xA;&#xA;    $connection-&amp;gt;send(run());&#xA;};&#xA;&#xA;Worker::runAll();&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Front Controller&lt;/h2&gt; &#xA;&lt;p&gt;It&#39;s different for any fw and app.&lt;/p&gt; &#xA;&lt;p&gt;We are creating recipes for popular apps and frameworks.&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/joanhey/AdapterMan/master/recipes/symfony.md&#34;&gt;Symfony&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/joanhey/AdapterMan/master/recipes/laravel.md&#34;&gt;Laravel&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/joanhey/AdapterMan/master/recipes/slim.md&#34;&gt;Slim&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Recommended &lt;code&gt;start.php&lt;/code&gt; and leave &lt;code&gt;index.php&lt;/code&gt; in public.&lt;/p&gt; &#xA;&lt;p&gt;We can run the app with Workerman and with php-fpm at the same time.&lt;/p&gt; &#xA;&lt;h2&gt;Available commands in workerman&lt;/h2&gt; &#xA;&lt;p&gt;To run your app.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;php server.php start &lt;/code&gt;&lt;br&gt; &lt;code&gt;php server.php start -d &lt;/code&gt;&lt;br&gt; &lt;code&gt;php server.php status &lt;/code&gt;&lt;br&gt; &lt;code&gt;php server.php status -d &lt;/code&gt;&lt;br&gt; &lt;code&gt;php server.php connections&lt;/code&gt;&lt;br&gt; &lt;code&gt;php server.php stop &lt;/code&gt;&lt;br&gt; &lt;code&gt;php server.php stop -g &lt;/code&gt;&lt;br&gt; &lt;code&gt;php server.php restart &lt;/code&gt;&lt;br&gt; &lt;code&gt;php server.php reload &lt;/code&gt;&lt;br&gt; &lt;code&gt;php server.php reload -g &lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Workerman documentation: &lt;a href=&#34;https://github.com/walkor/workerman-manual/raw/master/english/SUMMARY.md&#34;&gt;https://github.com/walkor/workerman-manual&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;You can also select a diferent cli php.ini directly:&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;php -c cli-php.ini server.php start&lt;/code&gt;&lt;/p&gt; &#xA;&lt;h3&gt;Help with session issues&lt;/h3&gt; &#xA;&lt;p&gt;I was using this lib internally, for more than 2 years, to run legacy apps with Workerman.&lt;/p&gt; &#xA;&lt;p&gt;We made it for APIs and microservices. So the session is not well tested.&lt;/p&gt; &#xA;&lt;h4&gt;Login progress&lt;/h4&gt; &#xA;&lt;p&gt;It&#39;s working with Symfony and Laravel&lt;/p&gt; &#xA;&lt;p&gt;Laravel Orchid admin panel. &lt;img src=&#34;https://user-images.githubusercontent.com/249085/197333441-74fff586-b984-492f-8cd1-58fb69774b1f.png&#34; alt=&#34;image&#34;&gt;&lt;/p&gt; &#xA;&lt;p&gt;Drupal showing public pages. &lt;img src=&#34;https://user-images.githubusercontent.com/249085/197333512-0f840436-399f-4000-b9af-e6a05a7d30b2.png&#34; alt=&#34;image&#34;&gt;&lt;/p&gt;</summary>
  </entry>
</feed>