<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub PHP Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2024-03-27T01:33:11Z</updated>
  <subtitle>Daily Trending of PHP in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>yediyuz/laravel-cloudflare-cache</title>
    <updated>2024-03-27T01:33:11Z</updated>
    <id>tag:github.com,2024-03-27:/yediyuz/laravel-cloudflare-cache</id>
    <link href="https://github.com/yediyuz/laravel-cloudflare-cache" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Serve millions of requests by caching with Cloudflare&lt;/p&gt;&lt;hr&gt;&lt;picture&gt; &#xA; &lt;source media=&#34;(prefers-color-scheme: dark)&#34; srcset=&#34;https://banners.beyondco.de/Laravel%20Cloudflare%20Cache.png?theme=dark&amp;amp;packageManager=composer+require&amp;amp;packageName=yediyuz%2Flaravel-cloudflare-cache&amp;amp;pattern=architect&amp;amp;style=style_1&amp;amp;description=Serve+millions+of+requests+by+caching+with+Cloudflare&amp;amp;md=1&amp;amp;showWatermark=0&amp;amp;fontSize=100px&amp;amp;images=server&#34;&gt; &#xA; &lt;source media=&#34;(prefers-color-scheme: light)&#34; srcset=&#34;https://banners.beyondco.de/Laravel%20Cloudflare%20Cache.png?theme=light&amp;amp;packageManager=composer+require&amp;amp;packageName=yediyuz%2Flaravel-cloudflare-cache&amp;amp;pattern=architect&amp;amp;style=style_1&amp;amp;description=Serve+millions+of+requests+by+caching+with+Cloudflare&amp;amp;md=1&amp;amp;showWatermark=0&amp;amp;fontSize=100px&amp;amp;images=server&#34;&gt; &#xA; &lt;img alt=&#34;Package Image&#34; src=&#34;https://banners.beyondco.de/Laravel%20Cloudflare%20Cache.png?theme=light&amp;amp;packageManager=composer+require&amp;amp;packageName=yediyuz%2Flaravel-cloudflare-cache&amp;amp;pattern=architect&amp;amp;style=style_1&amp;amp;description=Serve+millions+of+requests+by+caching+with+Cloudflare&amp;amp;md=1&amp;amp;showWatermark=0&amp;amp;fontSize=100px&amp;amp;images=server&#34;&gt; &#xA;&lt;/picture&gt; &#xA;&lt;h1&gt;Laravel Cloudflare Cache&lt;/h1&gt; &#xA;&lt;p&gt; &lt;a href=&#34;https://github.com/yediyuz/laravel-cloudflare-cache/actions&#34;&gt;&lt;img src=&#34;https://img.shields.io/github/actions/workflow/status/yediyuz/laravel-cloudflare-cache/tests.yml?branch=master&amp;amp;label=tests&#34; alt=&#34;Test Status&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://packagist.org/packages/yediyuz/laravel-cloudflare-cache&#34;&gt;&lt;img src=&#34;https://img.shields.io/packagist/v/yediyuz/laravel-cloudflare-cache.svg?style=flat-square&#34; alt=&#34;Latest Release&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/mertasan/tailwindcss-variables/raw/master/LICENSE&#34;&gt;&lt;img src=&#34;https://img.shields.io/badge/License-MIT-green.svg?label=license&#34; alt=&#34;License&#34;&gt;&lt;/a&gt; &lt;/p&gt; &#xA;&lt;p&gt;You can serve millions of requests with this package. This package provides cacheable routes for Cloudflare. Thanks to Cloudflare, your static pages are served efficiently, reducing the load on your servers if they are cached for the TTL (Time to Live) duration. You can purge the cache whenever you need with this package.&lt;/p&gt; &#xA;&lt;h2&gt;Installation&lt;/h2&gt; &#xA;&lt;p&gt;You can install the package via composer:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;composer require yediyuz/laravel-cloudflare-cache&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;You can publish the config file with:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;php artisan vendor:publish --tag=&#34;cloudflare-cache-config&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Add environment variables to .env file&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-dotenv&#34;&gt;CLOUDFLARE_CACHE_EMAIL=info@example.com #Cloudflare account email address&#xA;CLOUDFLARE_CACHE_KEY=XXXXXXX #Cloudflare API_KEY&#xA;CLOUDFLARE_CACHE_IDENTIFIER=XXXXXXX #ZONE_ID&#xA;CLOUDFLARE_DEFAULT_CACHE_TTL=600 #10 minutes&#xA;CLOUDFLARE_CACHE_DEBUG=false&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Add &lt;code&gt;Rule&lt;/code&gt; on Cloudflare&lt;/h3&gt; &#xA;&lt;p&gt;To active caching on static pages, you need to add &lt;code&gt;page rule&lt;/code&gt; &lt;strong&gt;OR&lt;/strong&gt; &lt;code&gt;cache rule&lt;/code&gt; on Cloudflare.&lt;/p&gt; &#xA;&lt;p&gt;For page rule:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;If the URL matches: &lt;code&gt;www.example.com/*&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;Setting: Cache Level&lt;/li&gt; &#xA; &lt;li&gt;Value: Cache Everything&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;For the cache rule:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Field: hostname&lt;/li&gt; &#xA; &lt;li&gt;Operator: equals&lt;/li&gt; &#xA; &lt;li&gt;Value: &lt;code&gt;example.com&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;Then: Eligible for cache&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://developers.cloudflare.com/cache/how-to/cache-rules/create-dashboard/&#34;&gt;https://developers.cloudflare.com/cache/how-to/cache-rules/create-dashboard/&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Usage&lt;/h2&gt; &#xA;&lt;h3&gt;Define routes to cache&lt;/h3&gt; &#xA;&lt;p&gt;You can use cache groups for your static contents.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-php&#34;&gt;Route::cache()-&amp;gt;group(function () {&#xA;    Route::get(&#39;/content&#39;, function () {&#xA;        return &#39;content&#39;;&#xA;    });&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;You can use cache tags, so you can clear your caches easily. Specify custom ttl for expire time in seconds. When you do not pass ttl, it will use default ttl given in the config.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-php&#34;&gt;Route::cache(tags: [&#39;tag1&#39;, &#39;tag2&#39;], ttl: 600)-&amp;gt;group(function () {&#xA;    Route::get(&#39;/content_with_tags&#39;, function () {&#xA;        return &#39;content&#39;;&#xA;    });&#xA;});&#xA;&#xA;Route::cache(tags: [&#39;staticPages&#39;])-&amp;gt;group(function () {&#xA;    //&#xA;});&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;[!WARNING]&lt;br&gt; Be careful caching your routes! Do not cache your dynamic pages such as admin panel or form based pages!&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;h3&gt;Clear Cache&lt;/h3&gt; &#xA;&lt;h4&gt;Purges everything&lt;/h4&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://developers.cloudflare.com/cache/how-to/purge-cache/purge-everything/&#34;&gt;https://developers.cloudflare.com/cache/how-to/purge-cache/purge-everything/&lt;/a&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-php&#34;&gt;CloudflareCache::purgeEverything()&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Purges by urls&lt;/h4&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://developers.cloudflare.com/cache/how-to/purge-cache/purge-by-single-file/&#34;&gt;https://developers.cloudflare.com/cache/how-to/purge-cache/purge-by-single-file/&lt;/a&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-php&#34;&gt;CloudflareCache::purgeByUrls([&#xA;    &#39;https://example.com/hello&#39;,&#xA;])&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Purges by prefixes (Enterprise only)&lt;/h4&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://developers.cloudflare.com/cache/how-to/purge-cache/purge_by_prefix/&#34;&gt;https://developers.cloudflare.com/cache/how-to/purge-cache/purge_by_prefix/&lt;/a&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-php&#34;&gt;CloudflareCache::purgeByPrefixes([&#xA;    &#39;www.example.com/foo&#39;,&#xA;])&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Purges by tags (Enterprise only)&lt;/h4&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://developers.cloudflare.com/cache/how-to/purge-cache/purge-by-tags/&#34;&gt;https://developers.cloudflare.com/cache/how-to/purge-cache/purge-by-tags/&lt;/a&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-php&#34;&gt;CloudflareCache::purgeByTags([&#xA;    &#39;staticPages&#39;,&#xA;])&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Purges by hostname (Enterprise only)&lt;/h4&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://developers.cloudflare.com/cache/how-to/purge-cache/purge-by-hostname/&#34;&gt;https://developers.cloudflare.com/cache/how-to/purge-cache/purge-by-hostname/&lt;/a&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-php&#34;&gt;CloudflareCache::purgeByHosts([&#xA;    &#39;www.example.com&#39;,&#xA;    &#39;images.example.com&#39;,&#xA;])&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Post update example to clear cache&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-php&#34;&gt;&amp;lt;?php&#xA;&#xA;namespace App\Http\Controllers;&#xA;&#xA;use App\Http\Requests\UpdatePostRequest;&#xA;use App\Models\Post;&#xA;use Yediyuz\CloudflareCache\Facades\CloudflareCache;&#xA;&#xA;class PostController extends Controller&#xA;{&#xA;    public function update(Post $post, UpdatePostRequest $request)&#xA;    {&#xA;        $post-&amp;gt;update($request-&amp;gt;validated());&#xA;&#xA;        CloudflareCache::purgeByUrls([&#xA;            route(&#39;post.show&#39;, $post-&amp;gt;id)&#xA;        ]);&#xA;&#xA;        return back()-&amp;gt;with(&#39;message&#39;, &#39;Post updated and url cache purged&#39;);&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Testing&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;composer test&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Changelog&lt;/h2&gt; &#xA;&lt;p&gt;Please see &lt;a href=&#34;https://raw.githubusercontent.com/yediyuz/laravel-cloudflare-cache/master/CHANGELOG.md&#34;&gt;CHANGELOG&lt;/a&gt; for more information on what has changed recently.&lt;/p&gt; &#xA;&lt;h2&gt;Contributing&lt;/h2&gt; &#xA;&lt;p&gt;Please see &lt;a href=&#34;https://github.com/yediyuz/.github/raw/master/CONTRIBUTING.md&#34;&gt;CONTRIBUTING&lt;/a&gt; for details.&lt;/p&gt; &#xA;&lt;h2&gt;Security&lt;/h2&gt; &#xA;&lt;p&gt;If you&#39;ve found a bug regarding security please mail &lt;a href=&#34;mailto:security@yediyuz.com&#34;&gt;security@yediyuz.com&lt;/a&gt; instead of using the issue tracker.&lt;/p&gt; &#xA;&lt;h2&gt;Credits&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/emredipi&#34;&gt;Emre Dipi&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/mertasan&#34;&gt;Mert AÅŸan&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/yediyuz/contributors&#34;&gt;All Contributors&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;License&lt;/h2&gt; &#xA;&lt;p&gt;The MIT License (MIT). Please see &lt;a href=&#34;https://raw.githubusercontent.com/yediyuz/laravel-cloudflare-cache/master/LICENSE.md&#34;&gt;License File&lt;/a&gt; for more information.&lt;/p&gt;</summary>
  </entry>
</feed>