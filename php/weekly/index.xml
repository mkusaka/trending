<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub PHP Weekly Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2024-01-14T02:03:33Z</updated>
  <subtitle>Weekly Trending of PHP in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>elastic/elasticsearch-php</title>
    <updated>2024-01-14T02:03:33Z</updated>
    <id>tag:github.com,2024-01-14:/elastic/elasticsearch-php</id>
    <link href="https://github.com/elastic/elasticsearch-php" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Official PHP client for Elasticsearch.&lt;/p&gt;&lt;hr&gt;&lt;img align=&#34;right&#34; width=&#34;auto&#34; height=&#34;auto&#34; src=&#34;https://www.elastic.co/static-res/images/elastic-logo-200.png&#34;&gt; &#xA;&lt;h1&gt;Elasticsearch PHP client&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/elastic/elasticsearch-php/actions&#34;&gt;&lt;img src=&#34;https://github.com/elastic/elasticsearch-php/workflows/PHP%20test/badge.svg?sanitize=true&#34; alt=&#34;Build status&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://packagist.org/packages/elasticsearch/elasticsearch&#34;&gt;&lt;img src=&#34;https://poser.pugx.org/elasticsearch/elasticsearch/v/stable&#34; alt=&#34;Latest Stable Version&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://packagist.org/packages/elasticsearch/elasticsearch&#34;&gt;&lt;img src=&#34;https://poser.pugx.org/elasticsearch/elasticsearch/downloads&#34; alt=&#34;Total Downloads&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;This is the official PHP client for &lt;a href=&#34;https://www.elastic.co/elasticsearch/&#34;&gt;Elasticsearch&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;&lt;a href=&#34;https://www.elastic.co/downloads/elasticsearch&#34;&gt;Download the latest version of Elasticsearch&lt;/a&gt;&lt;/strong&gt; or &lt;strong&gt;&lt;a href=&#34;https://cloud.elastic.co/registration?elektra=en-ess-sign-up-page&#34;&gt;sign-up&lt;/a&gt;&lt;/strong&gt; &lt;strong&gt;for a free trial of Elastic Cloud&lt;/strong&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Contents&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/elastic/elasticsearch-php/main/#installation&#34;&gt;Installation&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/elastic/elasticsearch-php/main/#connecting&#34;&gt;Connecting&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/elastic/elasticsearch-php/main/#usage&#34;&gt;Usage&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/elastic/elasticsearch-php/main/#versioning&#34;&gt;Versioning&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/elastic/elasticsearch-php/main/#backward-incompatible-changes-boom&#34;&gt;Backward Incompatible Changes&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/elastic/elasticsearch-php/main/#mock-the-elasticsearch-client&#34;&gt;Mock the Elasticsearch client&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/elastic/elasticsearch-php/main/#faq-&#34;&gt;FAQ&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/elastic/elasticsearch-php/main/#contribute-&#34;&gt;Contribute&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/elastic/elasticsearch-php/main/#license-&#34;&gt;License&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;hr&gt; &#xA;&lt;h2&gt;Installation&lt;/h2&gt; &#xA;&lt;p&gt;Refer to the &lt;a href=&#34;https://www.elastic.co/guide/en/elasticsearch/client/php-api/current/getting-started-php.html#_installation&#34;&gt;Installation section&lt;/a&gt; of the getting started documentation.&lt;/p&gt; &#xA;&lt;h2&gt;Connecting&lt;/h2&gt; &#xA;&lt;p&gt;Refer to the &lt;a href=&#34;https://www.elastic.co/guide/en/elasticsearch/client/php-api/current/getting-started-php.html#_connecting&#34;&gt;Connecting section&lt;/a&gt; of the getting started documentation.&lt;/p&gt; &#xA;&lt;h2&gt;Usage&lt;/h2&gt; &#xA;&lt;p&gt;The &lt;code&gt;elasticsearch-php&lt;/code&gt; client offers 400+ endpoints for interacting with Elasticsearch. A list of all these endpoints is available in the &lt;a href=&#34;https://www.elastic.co/guide/en/elasticsearch/reference/current/rest-apis.html&#34;&gt;official documentation&lt;/a&gt; of Elasticsearch APIs.&lt;/p&gt; &#xA;&lt;p&gt;Here we reported the basic operation that you can perform with the client: index, search and delete.&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://www.elastic.co/guide/en/elasticsearch/client/php-api/current/getting-started-php.html#_creating_an_index&#34;&gt;Creating an index&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://www.elastic.co/guide/en/elasticsearch/client/php-api/current/getting-started-php.html#_indexing_documents&#34;&gt;Indexing a document&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://www.elastic.co/guide/en/elasticsearch/client/php-api/current/getting-started-php.html#_getting_documents&#34;&gt;Getting documents&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://www.elastic.co/guide/en/elasticsearch/client/php-api/current/getting-started-php.html#_searching_documents&#34;&gt;Searching documents&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://www.elastic.co/guide/en/elasticsearch/client/php-api/current/getting-started-php.html#_updating_documents&#34;&gt;Updating documents&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://www.elastic.co/guide/en/elasticsearch/client/php-api/current/getting-started-php.html#_deleting_documents&#34;&gt;Deleting documents&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://www.elastic.co/guide/en/elasticsearch/client/php-api/current/getting-started-php.html#_deleting_an_index&#34;&gt;Deleting an index&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Versioning&lt;/h3&gt; &#xA;&lt;p&gt;This client is versioned and released alongside Elasticsearch server.&lt;/p&gt; &#xA;&lt;p&gt;To guarantee compatibility, use the most recent version of this library within the major version of the corresponding Enterprise Search implementation.&lt;/p&gt; &#xA;&lt;p&gt;For example, for Elasticsearch &lt;code&gt;7.16&lt;/code&gt;, use &lt;code&gt;7.16&lt;/code&gt; of this library or above, but not &lt;code&gt;8.0&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Backward Incompatible Changes &lt;span&gt;💥&lt;/span&gt;&lt;/h2&gt; &#xA;&lt;p&gt;The 8.0.0 version of &lt;code&gt;elasticsearch-php&lt;/code&gt; contains a new implementation compared with 7.x. It supports &lt;a href=&#34;https://www.php-fig.org/psr/psr-7/&#34;&gt;PSR-7&lt;/a&gt; for HTTP messages and &lt;a href=&#34;https://www.php-fig.org/psr/psr-18/&#34;&gt;PSR-18&lt;/a&gt; for HTTP client communications.&lt;/p&gt; &#xA;&lt;p&gt;We tried to reduce the BC breaks as much as possible with &lt;code&gt;7.x&lt;/code&gt; but there are some (big) differences:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;we changed the namespace, now everything is under &lt;code&gt;Elastic\Elasticsearch&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;we used the &lt;a href=&#34;https://github.com/elastic/elastic-transport-php&#34;&gt;elastic-transport-php&lt;/a&gt; library for HTTP communications;&lt;/li&gt; &#xA; &lt;li&gt;we changed the &lt;code&gt;Exception&lt;/code&gt; model, using the namespace &lt;code&gt;Elastic\Elasticsearch\Exception&lt;/code&gt;. All the exceptions extends the &lt;code&gt;ElasticsearchException&lt;/code&gt; interface, as in 7.x&lt;/li&gt; &#xA; &lt;li&gt;we changed the response type of each endpoints using an &lt;a href=&#34;https://raw.githubusercontent.com/elastic/elasticsearch-php/main/src/Response/Elasticsearch.php&#34;&gt;Elasticsearch&lt;/a&gt; response class. This class wraps a a &lt;a href=&#34;https://www.php-fig.org/psr/psr-7/&#34;&gt;PSR-7&lt;/a&gt; response allowing the access of the body response as array or object. This means you can access the API response as in 7.x, no BC break here! &lt;span&gt;👼&lt;/span&gt;&lt;/li&gt; &#xA; &lt;li&gt;we changed the &lt;code&gt;ConnectionPool&lt;/code&gt; in &lt;code&gt;NodePool&lt;/code&gt;. The &lt;code&gt;connection&lt;/code&gt; naming was ambigous since the objects are nodes (hosts)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;You can have a look at the &lt;a href=&#34;https://raw.githubusercontent.com/elastic/elasticsearch-php/main/BREAKING_CHANGES.md&#34;&gt;BREAKING_CHANGES&lt;/a&gt; file for more information.&lt;/p&gt; &#xA;&lt;h2&gt;Mock the Elasticsearch client&lt;/h2&gt; &#xA;&lt;p&gt;If you need to mock the Elasticsearch client you just need to mock a &lt;a href=&#34;https://www.php-fig.org/psr/psr-18/&#34;&gt;PSR-18&lt;/a&gt; HTTP Client.&lt;/p&gt; &#xA;&lt;p&gt;For instance, you can use the &lt;a href=&#34;https://github.com/php-http/mock-client&#34;&gt;php-http/mock-client&lt;/a&gt; as follows:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-php&#34;&gt;use Elastic\Elasticsearch\ClientBuilder;&#xA;use Elastic\Elasticsearch\Response\Elasticsearch;&#xA;use Http\Mock\Client;&#xA;use Nyholm\Psr7\Response;&#xA;&#xA;$mock = new Client(); // This is the mock client&#xA;&#xA;$client = ClientBuilder::create()&#xA;    -&amp;gt;setHttpClient($mock)&#xA;    -&amp;gt;build();&#xA;&#xA;// This is a PSR-7 response&#xA;$response = new Response(&#xA;    200, &#xA;    [Elasticsearch::HEADER_CHECK =&amp;gt; Elasticsearch::PRODUCT_NAME],&#xA;    &#39;This is the body!&#39;&#xA;);&#xA;$mock-&amp;gt;addResponse($response);&#xA;&#xA;$result = $client-&amp;gt;info(); // Just calling an Elasticsearch endpoint&#xA;&#xA;echo $result-&amp;gt;asString(); // This is the body!&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;We are using the &lt;code&gt;ClientBuilder::setHttpClient()&lt;/code&gt; to set the mock client. You can specify the response that you want to have using the &lt;code&gt;addResponse($response)&lt;/code&gt; function. As you can see the &lt;code&gt;$response&lt;/code&gt; is a PSR-7 response object. In this example we used the &lt;code&gt;Nyholm\Psr7\Response&lt;/code&gt; object from the &lt;a href=&#34;https://github.com/Nyholm/psr7&#34;&gt;nyholm/psr7&lt;/a&gt; project. If you are using &lt;a href=&#34;https://phpunit.de/&#34;&gt;PHPUnit&lt;/a&gt; you can even mock the &lt;code&gt;ResponseInterface&lt;/code&gt; as follows:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-php&#34;&gt;$response = $this-&amp;gt;createMock(&#39;Psr\Http\Message\ResponseInterface&#39;);&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;strong&gt;Notice&lt;/strong&gt;: we added a special header in the HTTP response. This is the product check header, and it is required for guarantee that &lt;code&gt;elasticsearch-php&lt;/code&gt; is communicating with an Elasticsearch server 8.0+.&lt;/p&gt; &#xA;&lt;p&gt;For more information you can read the &lt;a href=&#34;https://docs.php-http.org/en/latest/clients/mock-client.html&#34;&gt;Mock client&lt;/a&gt; section of PHP-HTTP documentation.&lt;/p&gt; &#xA;&lt;h2&gt;FAQ 🔮&lt;/h2&gt; &#xA;&lt;h3&gt;Where do I report issues with the client?&lt;/h3&gt; &#xA;&lt;p&gt;If something is not working as expected, please open an &lt;a href=&#34;https://github.com/elastic/elasticsearch-php/issues/new&#34;&gt;issue&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h3&gt;Where else can I go to get help?&lt;/h3&gt; &#xA;&lt;p&gt;You can checkout the &lt;a href=&#34;https://discuss.elastic.co/&#34;&gt;Elastic community discuss forums&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Contribute 🚀&lt;/h2&gt; &#xA;&lt;p&gt;We welcome contributors to the project. Before you begin, some useful info...&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;If you want to contribute to this project you need to subscribe to a &lt;a href=&#34;https://www.elastic.co/contributor-agreement&#34;&gt;Contributor Agreement&lt;/a&gt;.&lt;/li&gt; &#xA; &lt;li&gt;Before opening a pull request, please create an issue to &lt;a href=&#34;https://github.com/elastic/elasticsearch-php/issues&#34;&gt;discuss the scope of your proposal&lt;/a&gt;.&lt;/li&gt; &#xA; &lt;li&gt;If you want to send a PR for version &lt;code&gt;8.0&lt;/code&gt; please use the &lt;code&gt;8.0&lt;/code&gt; branch, for &lt;code&gt;8.1&lt;/code&gt; use the &lt;code&gt;8.1&lt;/code&gt; branch and so on.&lt;/li&gt; &#xA; &lt;li&gt;Never send PR to &lt;code&gt;master&lt;/code&gt; unless you want to contribute to the development version of the client (&lt;code&gt;master&lt;/code&gt; represents the next major version).&lt;/li&gt; &#xA; &lt;li&gt;Each PR should include a &lt;strong&gt;unit test&lt;/strong&gt; using &lt;a href=&#34;https://phpunit.de/&#34;&gt;PHPUnit&lt;/a&gt;. If you are not familiar with PHPUnit you can have a look at the &lt;a href=&#34;https://phpunit.readthedocs.io/en/9.5/&#34;&gt;reference&lt;/a&gt;.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Thanks in advance for your contribution! &lt;span&gt;❤️&lt;/span&gt;&lt;/p&gt; &#xA;&lt;h2&gt;License 📗&lt;/h2&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://raw.githubusercontent.com/elastic/elasticsearch-php/main/LICENSE&#34;&gt;MIT&lt;/a&gt; © &lt;a href=&#34;https://www.elastic.co/&#34;&gt;Elastic&lt;/a&gt;&lt;/p&gt;</summary>
  </entry>
</feed>