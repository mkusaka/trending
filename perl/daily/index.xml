<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Perl Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2024-01-15T01:38:15Z</updated>
  <subtitle>Daily Trending of Perl in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>genesis-community/genesis</title>
    <updated>2024-01-15T01:38:15Z</updated>
    <id>tag:github.com,2024-01-15:/genesis-community/genesis</id>
    <link href="https://github.com/genesis-community/genesis" rel="alternate"></link>
    <summary type="html">&lt;p&gt;A BOSH Deployment Paradigm&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;Genesis - A BOSH Deployment Paradigm&lt;/h1&gt; &#xA;&lt;p&gt;Website: &lt;a href=&#34;https://genesisproject.io&#34;&gt;https://genesisproject.io&lt;/a&gt; Slack: &lt;a href=&#34;https://join.slack.com/t/genesisprojectio/shared_invite/enQtMzk3NTIxMjY1ODk0LTQyNzFhNzkxNjhlYzY0ODAxYWFhYzIwYzMwNzY5N2Y3NDQ0ODBjMWViMzJlOGI5YWNiN2NiYzM4NDdkNzFlOWU&#34;&gt;genesisproject&lt;/a&gt; The #help channel is available for any questions about Genesis. The #announcements channel mostly contains links and info about the monthly Genesis roadmap call, which anybody is welcome to join.&lt;/p&gt; &#xA;&lt;h2&gt;Genesis v2&lt;/h2&gt; &#xA;&lt;p&gt;Genesis v2 is the first version of Genesis to fully support BOSH v2. It is primarily geared to deployments that make use of Cloud Config, and Runtime Config. The BOSH v2 CLI is also a requirement of Genesis v2.&lt;/p&gt; &#xA;&lt;p&gt;Genesis v2 builds upon the previous generation of Genesis, eliminating the vast majority of YAML files all over the place, leading to confusion and questions like &#34;Where do I put property X - properties.yml, networking.yml, or credentials.yml?&#34;&lt;/p&gt; &#xA;&lt;p&gt;It also supports the next generation of Genesis deployment templates - Kits. In the old genesis, deployment templates were pulled in once, forked from their upstream, and likely never reconciled. With kits, you can keep upgrading the kit, pulling in newer versions of your deployment to make life much easier down the road.&lt;/p&gt; &#xA;&lt;h3&gt;Credential Rotation Built-in&lt;/h3&gt; &#xA;&lt;p&gt;Genesis v2 makes use of Vault as a back-end for storing credentials, most easily deployed&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;managed via the &lt;a href=&#34;https://github.com/genesis-community/vault-genesis-kit&#34;&gt;Vault kit&lt;/a&gt;, and the &lt;a href=&#34;https://github.com/starkandwayne/safe&#34;&gt;safe CLI&lt;/a&gt;. Each kit will auto-generate credentials where appropriate, ensuring that each environment has unique and secure credentials. Secrets can be manually or automatically rotated at the drop of hat with the &lt;code&gt;genesis rotate-secrets&lt;/code&gt; command. Kits will define certain credentials as fixed, indicating that they should not be rotated under normal circumstances, as that would have ill effects on the deployment (the CF db encryption key for example).&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;The New Tiered Architecture&lt;/h3&gt; &#xA;&lt;p&gt;In Genesis v2, the data that was previously stored in &lt;code&gt;global&lt;/code&gt; and &lt;code&gt;site&lt;/code&gt; by and large go away. Most of &lt;code&gt;global&lt;/code&gt; is provided via Kits. Most of &lt;code&gt;site&lt;/code&gt; is now moved into Cloud Config. As a result, we can stick most of the customization into a single file per environment, and the directory structure has been flattened. To share information between environments, and reduce config repitition, you can create files based on shared prefixes of the environment. For example, &lt;code&gt;us-west-1&lt;/code&gt; and &lt;code&gt;us-west-2&lt;/code&gt; share both &lt;code&gt;us&lt;/code&gt;, and &lt;code&gt;us-west&lt;/code&gt; prefixes, and could share configuration in files named as such).&lt;/p&gt; &#xA;&lt;p&gt;Here&#39;s what the new layout looks like:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;.&#xA;├── ci.yml&#xA;├── us-boshlite-alpha.yml&#xA;├── us-east-dev.yml&#xA;├── us-east-prod.yml&#xA;├── us.yml # shared with us-*.yml&#xA;├── LICENSE&#xA;└── README.md&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Using Kits&lt;/h3&gt; &#xA;&lt;p&gt;When using a kit with Genesis v2, Genesis will automatically download the latest (or specified) version of a kit, when you initialize your deployment repo. Any new versions of the kit can be retrieved with &lt;code&gt;genesis download&lt;/code&gt;. Each deployment environment must have at some point in its merge-path, a &lt;code&gt;kit&lt;/code&gt; section, indicating what kit + version should be deployed. It will look something like this:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;---&#xA;kit:&#xA;  name: jumpbox&#xA;  version: 2.0&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To get the full benefit of CI, operators should place this in a file that is shared across all environments, so that upgrades can be vetted in the deployment pipeline in non-production environments, before going to production.&lt;/p&gt; &#xA;&lt;h3&gt;Flexible Deployment Pipelines&lt;/h3&gt; &#xA;&lt;p&gt;The pipeline strategy of Genesis v2 is much more flexible than the previous approach. Operators are able to define what environments should trigger, which should not, as well as which environments are gateways to deploying in later environments. Stemcell management is built-in, as are locking mechanisms to ensure that your BOSH isn&#39;t upgraded while it&#39;s in the middle of deploying something.&lt;/p&gt; &#xA;&lt;p&gt;For a full run-down on Genesis v2 + deployment pipelines, see our &lt;a href=&#34;https://raw.githubusercontent.com/genesis-community/genesis/v2.8.x-dev/docs/PIPELINES.md&#34;&gt;pipeline documentation&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Installation&lt;/h2&gt; &#xA;&lt;p&gt;On Ubuntu/Debian you can install &lt;code&gt;genesis&lt;/code&gt; and all its dependencies:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;wget -q -O - https://raw.githubusercontent.com/starkandwayne/homebrew-cf/master/public.key | apt-key add -&#xA;echo &#34;deb http://apt.starkandwayne.com stable main&#34; | tee /etc/apt/sources.list.d/starkandwayne.list&#xA;apt-get update&#xA;apt-get install genesis -y&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;On OS X/Mac:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;brew tap starkandwayne/cf&#xA;brew tap cloudfoundry/tap&#xA;brew install genesis spruce safe bosh-cli vault git&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;On Centos 7 / Amazon Linux&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;# Install Dependencies&#xA;sudo yum install -y perl perl-Data-Dumper perl-Time-Local perl-Time-Piece \&#xA;  perl-local-lib perl-Carp perl-PathTools perl-Digest perl-File-Temp perl-Socket&#xA;&#xA;# Grab latest url from releases page&#xA;wget https://github.com/starkandwayne/genesis/releases/download/${GENESIS_VERSION}/genesis&#xA;chmod 0755 genesis&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;code&gt;genesis&lt;/code&gt; requires Perl. But Perl is everywhere.&lt;/p&gt; &#xA;&lt;p&gt;You will need to set up Git:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;git config --global user.name &#34;Your Name&#34;&#xA;git config --global user.email your@email.com&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Using Genesis&lt;/h2&gt; &#xA;&lt;p&gt;Here are a few thoughts on the Genesis CLI.&lt;/p&gt; &#xA;&lt;p&gt;Global options should be recognized for all commands:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;-D&lt;/code&gt; / &lt;code&gt;--debug&lt;/code&gt; - Enable debugging mode, wherein Genesis prints messages to standard error, detailing what tasks it is doing, what commands it is running, return values, etc.&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;-T&lt;/code&gt; / &lt;code&gt;--trace&lt;/code&gt; - Enable debugging mode in all called utilities, like &lt;code&gt;spruce&lt;/code&gt; and &lt;code&gt;bosh&lt;/code&gt;, where available.&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;-C PATH&lt;/code&gt; - Perform all operations from &lt;code&gt;PATH&lt;/code&gt; as the current working directory.&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;-y&lt;/code&gt; / &lt;code&gt;--yes&lt;/code&gt; - Answer &#34;yes&#34; to all questions, automatically, on behalf of the user. This means, for example, running &lt;code&gt;bosh -n&lt;/code&gt;, instead of just &lt;code&gt;bosh&lt;/code&gt;.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Initialize a Genesis repo:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;genesis init --kit shield&#xA;genesis init --kit shield/1.2.3&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Create a new deployment named us-west-1-sandbox:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;genesis new us-west-1-sandbox&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Generate a manifest for an environment:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;# Using the live the cloud-config from the BOSH director&#xA;genesis manifest my-sandbox&#xA;# or, using the local file cached-cloud-config.yml:&#xA;genesis manifest -c cached-cloud-config.yml&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Deploy a deployment, manually:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;genesis deploy us-west-1-sandbox&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Rotate credentials for a deployment:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;genesis secrets us-west-1-sandbox&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Summarize the current state of deployments and what kits they are using:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;genesis summary&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Download version 1.3.4 of the SHIELD kit:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;genesis download shield 1.3.4&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Deploy the Genesis CI/CD pipeline configuration to Concourse:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;genesis repipe&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Describe a given pipeline, in words:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;genesis describe&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Draw a pretty picture of a pipeline, using &lt;code&gt;dot&lt;/code&gt;, suitable for embedding in documentation and putting on your blog:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;genesis graph pipelines/aws&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Embed the calling Genesis script in the Genesis repo:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;genesis embed&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Transitioning to Genesis v2&lt;/h2&gt; &#xA;&lt;p&gt;Due to the sweeping changes involved in Genesis v2, it is recommended to start with a fresh deployment repo, and migrate existing deployments slowly but surely over to Genesis v2 using the appropriate kits, or if necessary, a &lt;code&gt;dev&lt;/code&gt; kit (see &lt;a href=&#34;https://raw.githubusercontent.com/genesis-community/genesis/v2.8.x-dev/docs/AUTHORING-KITS.md&#34;&gt;Authoring Kits&lt;/a&gt; for more info). The &lt;code&gt;genesis&lt;/code&gt; command will auto-detect if you are running inside a Genesis v1 repo, and switch to a &lt;code&gt;v1&lt;/code&gt; mode, for compatibility.&lt;/p&gt; &#xA;&lt;h2&gt;Design Notes + Genesis Developer Resources&lt;/h2&gt; &#xA;&lt;p&gt;Genesis v2 design documentation that was previously found here has moved.&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/genesis-community/genesis/v2.8.x-dev/docs/DESIGN.md&#34;&gt;Design Notes&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/genesis-community/genesis/v2.8.x-dev/docs/PIPELINES.md&#34;&gt;Pipelines&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/genesis-community/genesis/v2.8.x-dev/docs/AUTHORING-KITS.md&#34;&gt;Authoring Kits&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/genesis-community/genesis/v2.8.x-dev/docs/PARAMS.md&#34;&gt;Environment Parameters&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt;</summary>
  </entry>
</feed>