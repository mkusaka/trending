<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Perl Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2023-08-21T01:35:15Z</updated>
  <subtitle>Daily Trending of Perl in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>Kong/lua-resty-counter</title>
    <updated>2023-08-21T01:35:15Z</updated>
    <id>tag:github.com,2023-08-21:/Kong/lua-resty-counter</id>
    <link href="https://github.com/Kong/lua-resty-counter" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Lock-free counter for OpenResty&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;Name&lt;/h1&gt; &#xA;&lt;p&gt;lua-resty-counter - Lock-free counter for OpenResty.&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://travis-ci.com/kong/lua-resty-counter.svg?branch=master&#34; alt=&#34;Build Status&#34;&gt; &lt;img src=&#34;https://img.shields.io/luarocks/v/kong/lua-resty-counter?color=%232c3e67&#34; alt=&#34;luarocks&#34;&gt;&lt;/p&gt; &#xA;&lt;h1&gt;Table of Contents&lt;/h1&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Kong/lua-resty-counter/master/#description&#34;&gt;Description&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Kong/lua-resty-counter/master/#status&#34;&gt;Status&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Kong/lua-resty-counter/master/#api&#34;&gt;API&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Kong/lua-resty-counter/master/#todo&#34;&gt;TODO&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Kong/lua-resty-counter/master/#copyright-and-license&#34;&gt;Copyright and License&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Kong/lua-resty-counter/master/#see-also&#34;&gt;See Also&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h1&gt;Description&lt;/h1&gt; &#xA;&lt;p&gt;When number of workers increase, the penalty of acquiring a lock becomes noticable. This library implements a lock-free counter that does incrementing operation in worker&#39;s Lua VM. Each worker then sync its local counter to a shared dict timely.&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Kong/lua-resty-counter/master/#table-of-contents&#34;&gt;Back to TOC&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h1&gt;Status&lt;/h1&gt; &#xA;&lt;p&gt;Production&lt;/p&gt; &#xA;&lt;h1&gt;API&lt;/h1&gt; &#xA;&lt;h2&gt;counter.new&lt;/h2&gt; &#xA;&lt;p&gt;&lt;strong&gt;syntax&lt;/strong&gt;: &lt;em&gt;c, err = counter.new(shdict_name, sync_interval?)&lt;/em&gt;&lt;/p&gt; &#xA;&lt;p&gt;Create a new counter instance. Take first argument as the shared dict name in string. And an optional second argument as interval to sync local state to shared dict in number. If second argument is omitted, local counter will not be synced automatically, user are responsible to call &lt;code&gt;counter:sync&lt;/code&gt; on each worker.&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Kong/lua-resty-counter/master/#table-of-contents&#34;&gt;Back to TOC&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;counter.sync&lt;/h2&gt; &#xA;&lt;p&gt;&lt;strong&gt;syntax&lt;/strong&gt;: &lt;em&gt;ok = counter:sync()&lt;/em&gt;&lt;/p&gt; &#xA;&lt;p&gt;Sync current worker&#39;s local counter to shared dict. Not needed if a counter is created with &lt;code&gt;sync_interval&lt;/code&gt; not set to &lt;code&gt;nil&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Kong/lua-resty-counter/master/#table-of-contents&#34;&gt;Back to TOC&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;counter.incr&lt;/h2&gt; &#xA;&lt;p&gt;&lt;strong&gt;syntax&lt;/strong&gt;: &lt;em&gt;counter:incr(key, step?)&lt;/em&gt;&lt;/p&gt; &#xA;&lt;p&gt;Increase counter of key &lt;code&gt;k&lt;/code&gt; with a step of &lt;code&gt;step&lt;/code&gt;. If &lt;code&gt;step&lt;/code&gt; is omitted, it&#39;s default to &lt;code&gt;1&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Kong/lua-resty-counter/master/#table-of-contents&#34;&gt;Back to TOC&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;counter.reset&lt;/h2&gt; &#xA;&lt;p&gt;&lt;strong&gt;syntax&lt;/strong&gt;: &lt;em&gt;newval, err, forcible? = counter:reset(key, number)&lt;/em&gt;&lt;/p&gt; &#xA;&lt;p&gt;Reset the counter in shdict with a decrease of &lt;code&gt;number&lt;/code&gt;. This function is a wrapper of &lt;code&gt;ngx.shared.DICT:incr(key, -number, number)&lt;/code&gt;, please refer to &lt;a href=&#34;https://github.com/openresty/lua-nginx-module#ngxshareddictincr&#34;&gt;lua-nginx-module doc&lt;/a&gt; for return values.&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Kong/lua-resty-counter/master/#table-of-contents&#34;&gt;Back to TOC&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;counter.get&lt;/h2&gt; &#xA;&lt;p&gt;&lt;strong&gt;syntax&lt;/strong&gt;: &lt;em&gt;value = counter:get(key)&lt;/em&gt;&lt;/p&gt; &#xA;&lt;p&gt;Get the value of counter from shared dict.&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Kong/lua-resty-counter/master/#table-of-contents&#34;&gt;Back to TOC&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;counter.get_keys&lt;/h2&gt; &#xA;&lt;p&gt;&lt;strong&gt;syntax&lt;/strong&gt;: &lt;em&gt;keys = counter:get_keys(max_count?)&lt;/em&gt;&lt;/p&gt; &#xA;&lt;p&gt;Get the keys of counters in shared dict. This function is a wrapper of &lt;code&gt;ngx.shared.DICT:get_keys&lt;/code&gt;, please refer to &lt;a href=&#34;https://github.com/openresty/lua-nginx-module#ngxshareddictget_keys&#34;&gt;lua-nginx-module doc&lt;/a&gt; for return values.&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Kong/lua-resty-counter/master/#table-of-contents&#34;&gt;Back to TOC&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h1&gt;TODO&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Kong/lua-resty-counter/master/#table-of-contents&#34;&gt;Back to TOC&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h1&gt;Copyright and License&lt;/h1&gt; &#xA;&lt;p&gt;This module is licensed under the Apache 2.0 license.&lt;/p&gt; &#xA;&lt;p&gt;Copyright (C) 2019, Kong Inc.&lt;/p&gt; &#xA;&lt;p&gt;All rights reserved.&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Kong/lua-resty-counter/master/#table-of-contents&#34;&gt;Back to TOC&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h1&gt;See Also&lt;/h1&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/openresty/lua-nginx-module&#34;&gt;lua-nginx-module&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://raw.githubusercontent.com/Kong/lua-resty-counter/master/#table-of-contents&#34;&gt;Back to TOC&lt;/a&gt;&lt;/p&gt;</summary>
  </entry>
</feed>