<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Perl Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2022-10-30T01:39:11Z</updated>
  <subtitle>Daily Trending of Perl in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>aleksandr-oliferuk/pcap2squid</title>
    <updated>2022-10-30T01:39:11Z</updated>
    <id>tag:github.com,2022-10-30:/aleksandr-oliferuk/pcap2squid</id>
    <link href="https://github.com/aleksandr-oliferuk/pcap2squid" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Recieve raw network trafic dump in pcap-format and parse it to squid-proxy log. Then generate report for lightsquid and shows it in Web UI&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;pcap-dump parser to squid-proxy log format&lt;/h1&gt; &#xA;&lt;h2&gt;Description&lt;/h2&gt; &#xA;&lt;p&gt;Recieve raw network trafic dump in &lt;a href=&#34;https://en.wikipedia.org/wiki/Pcap&#34;&gt;pcap-format&lt;/a&gt; and parse it to &lt;a href=&#34;http://www.squid-cache.org/&#34;&gt;squid-proxy&lt;/a&gt; log. Then generate report for &lt;a href=&#34;http://lightsquid.sourceforge.net/&#34;&gt;lightsquid&lt;/a&gt; and shows it in Web UI.&lt;/p&gt; &#xA;&lt;p&gt;This implementation get traffic from &lt;a href=&#34;https://wiki.mikrotik.com/wiki/Manual:Tools/Packet_Sniffer&#34;&gt;mikrotik sniffer&lt;/a&gt; on udp port 37008 and parse it with &lt;a href=&#34;http://www.mikrotik.com/download/trafr.tgz&#34;&gt;trafr&lt;/a&gt; program. You could rebuild &lt;a href=&#34;https://raw.githubusercontent.com/aleksandr-oliferuk/pcap2squid/main/parser/Dockerfile&#34;&gt;parser&lt;/a&gt; image without it and recieve trafic just with &lt;a href=&#34;https://www.tcpdump.org/manpages/tcpdump.1.html&#34;&gt;tcpdump&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;p&gt;With this tool you will get statistics, which sites and when watch users of your LAN. But it doesn&#39;t give you actual trafic amount.&lt;/p&gt; &#xA;&lt;h2&gt;Usage&lt;/h2&gt; &#xA;&lt;p&gt;Clone this project, complete &lt;a href=&#34;https://raw.githubusercontent.com/aleksandr-oliferuk/pcap2squid/main/.env&#34;&gt;.env&lt;/a&gt; with your values, then run it with &lt;code&gt;docker-compose up -d&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;After that you should setup your &lt;a href=&#34;https://en.wikipedia.org/wiki/Cron&#34;&gt;cron&lt;/a&gt; on host machine with something like this:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;*/5 * * * * docker exec pcap2squid_lightsquid_1 ./lightparser.pl today 2&amp;gt;&amp;gt; $PROJ_PATH/errors.log&#xA;59 23 * * * echo &#39;&#39; &amp;gt; $PROJ_PATH/log/access.log&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Report will appear at &lt;code&gt;http://$LIGHTSQUID_ADDR:$LIGHTSQUID_LISTEN_PORT&lt;/code&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Environment example&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code&gt;# Path, where you download this project&#xA;PROJ_PATH=&#34;/srv/pcap2squid&#34;&#xA;&#xA;# Lightsquid vars&#xA;LIGHTSQUID_ADDR=&#34;192.168.1.1&#34;&#xA;LIGHTSQUID_LISTEN_PORT=80&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Some advices&lt;/h2&gt; &#xA;&lt;p&gt;The best way to use &lt;a href=&#34;https://en.wikipedia.org/wiki/Tmpfs&#34;&gt;ramdisk&lt;/a&gt; for all processed files. E.g. of fstab:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;tmpfs   $PROJ_PATH/dump   tmpfs   rw,size=500M    0       0&#xA;tmpfs   $PROJ_PATH/log   tmpfs   rw,size=5G        0       0&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To change language of lightsquid report just change &lt;code&gt;$lang&lt;/code&gt; parameter in &lt;a href=&#34;https://raw.githubusercontent.com/aleksandr-oliferuk/pcap2squid/main/lightsquid/lightsquid-1.8/lightsquid.cfg&#34;&gt;lightsquid.cfg&lt;/a&gt; and rebuild &lt;a href=&#34;https://raw.githubusercontent.com/aleksandr-oliferuk/pcap2squid/main/lightsquid/Dockerfile&#34;&gt;lightsquid&lt;/a&gt; image.&lt;/p&gt; &#xA;&lt;p&gt;If you are using &lt;a href=&#34;https://phpipam.net/&#34;&gt;phpIPAM&lt;/a&gt;, you could use my &lt;a href=&#34;https://raw.githubusercontent.com/aleksandr-oliferuk/pcap2squid/main/get-names.py&#34;&gt;script&lt;/a&gt; to complete lightsquid report with real names of ip-addrs owners (realname.cfg).&lt;/p&gt;</summary>
  </entry>
</feed>