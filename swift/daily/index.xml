<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Swift Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2022-06-10T01:55:18Z</updated>
  <subtitle>Daily Trending of Swift in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>kevinzhow/wechatpay-swift</title>
    <updated>2022-06-10T01:55:18Z</updated>
    <id>tag:github.com,2022-06-10:/kevinzhow/wechatpay-swift</id>
    <link href="https://github.com/kevinzhow/wechatpay-swift" rel="alternate"></link>
    <summary type="html">&lt;p&gt;微信支付 V3 API 的 Swift 服务端 SDK&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;wechatpay-swift&lt;/h1&gt; &#xA;&lt;p&gt;微信支付 V3 API 的 Swift SDK，自动化了加密 &amp;amp; 解密过程&lt;/p&gt; &#xA;&lt;p&gt;目前支持了 H5API&lt;/p&gt; &#xA;&lt;h2&gt;使用&lt;/h2&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;初始化 WechatPay&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let wechatPay = WechatPay(&#xA;    apiV3Secret: &#34;&#34;,&#xA;    certificatePath: &#34;&#34;,&#xA;    wxCertificatePath: &#34;&#34;,&#xA;    mchid: &#34;&#34;,&#xA;    serialNo: &#34;&#34;)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ol start=&#34;2&#34;&gt; &#xA; &lt;li&gt;调用 H5API 进行下单&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;let request = WechatPay.H5API.PrepayRequest(&#xA;    mchid: &#34;&#34;,&#xA;    description: &#34;Test Product&#34;,&#xA;    outTradeNo: &#34;&#34;,&#xA;    notifyURL: &#34;&#34;,&#xA;    amount:  WechatPay.H5API.PrepayRequest.Amount(total: 6800),&#xA;    appid: &#34;&#34;,&#xA;    sceneInfo: WechatPay.H5API.PrepayRequest.SceneInfo(&#xA;                payerClientIp: &#34;127.0.0.1&#34;,&#xA;                h5Info: WechatPay.H5API.PrepayRequest.SceneInfo.H5Info(type: &#34;Wap&#34;)))&#xA;&#xA;let client = WechatPay.H5API(wechatPay: wechatPay)&#xA;&#xA;let h5Response = try await client.prepayWithRequestPayment(request: request)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Cert&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;下载微信平台证书 downloadCertificates&lt;/li&gt; &#xA; &lt;li&gt;解密证书内容 decodeCert&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;H5API&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;预下单 prepayWithRequestPayment&lt;/li&gt; &#xA; &lt;li&gt;查询订单 queryTransactionWithTradeNo&lt;/li&gt; &#xA; &lt;li&gt;解析微信支付通知 decodeNotification&lt;/li&gt; &#xA;&lt;/ul&gt;</summary>
  </entry>
  <entry>
    <title>KhaosT/MacVM</title>
    <updated>2022-06-10T01:55:18Z</updated>
    <id>tag:github.com,2022-06-10:/KhaosT/MacVM</id>
    <link href="https://github.com/KhaosT/MacVM" rel="alternate"></link>
    <summary type="html">&lt;p&gt;macOS VM for Apple Silicon using Virtualization API&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;MacVM&lt;/h1&gt; &#xA;&lt;p&gt;macOS Monterey added support for virtualizing macOS with Apple silicon host.&lt;/p&gt; &#xA;&lt;p&gt;This project provides an example project for the setup.&lt;/p&gt; &#xA;&lt;img width=&#34;771&#34; alt=&#34;Config&#34; src=&#34;https://user-images.githubusercontent.com/1725664/124231369-04456000-dac5-11eb-895c-af933a08a5d7.png&#34;&gt; &#xA;&lt;img width=&#34;769&#34; alt=&#34;Install&#34; src=&#34;https://user-images.githubusercontent.com/1725664/124231322-f68fda80-dac4-11eb-91b8-e29301f50430.png&#34;&gt; &#xA;&lt;img width=&#34;767&#34; alt=&#34;Run&#34; src=&#34;https://user-images.githubusercontent.com/1725664/124231661-6dc56e80-dac5-11eb-9fea-b6bcd4fb5db6.png&#34;&gt;</summary>
  </entry>
  <entry>
    <title>apple/sample-food-truck</title>
    <updated>2022-06-10T01:55:18Z</updated>
    <id>tag:github.com,2022-06-10:/apple/sample-food-truck</id>
    <link href="https://github.com/apple/sample-food-truck" rel="alternate"></link>
    <summary type="html">&lt;p&gt;SwiftUI sample code from WWDC22&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;Food Truck: Building a SwiftUI multiplatform app&lt;/h1&gt; &#xA;&lt;p&gt;Create a single codebase and app target for Mac, iPad, and iPhone.&lt;/p&gt; &#xA;&lt;h2&gt;Overview&lt;/h2&gt; &#xA;&lt;p&gt;Using the Food Truck app, someone who operates a food truck can keep track of orders, discover the most-popular menu items, and check the weather at their destination. The sample implements the new &lt;a href=&#34;https://developer.apple.com/documentation/swiftui/navigationsplitview&#34;&gt;&lt;code&gt;NavigationSplitView&lt;/code&gt;&lt;/a&gt; to manage the app&#39;s views, &lt;a href=&#34;https://developer.apple.com/documentation/swiftui/layout&#34;&gt;&lt;code&gt;Layout&lt;/code&gt;&lt;/a&gt; to show the main interface and pending orders, &lt;a href=&#34;https://developer.apple.com/documentation/charts&#34;&gt;&lt;code&gt;Charts&lt;/code&gt;&lt;/a&gt; to show trends, and &lt;a href=&#34;https://developer.apple.com/documentation/weatherkit/weatherservice&#34;&gt;&lt;code&gt;WeatherService&lt;/code&gt;&lt;/a&gt; to get weather data.&lt;/p&gt; &#xA;&lt;p&gt;You can access the source code for this sample on &lt;a href=&#34;https://github.com/apple/sample-food-truck&#34;&gt;GitHub&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Note: This sample code project is associated with WWDC22 session &lt;a href=&#34;https://developer.apple.com/wwdc22/110492/&#34;&gt;110492: State of the Union&lt;/a&gt;.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;The Food Truck sample project contains two types of app targets:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;Simple app target you can build using &lt;a href=&#34;https://help.apple.com/xcode/mac/11.4/#/dev17411c009&#34;&gt;personal team&lt;/a&gt; signing. This app runs in Simulator, and only requires a standard Apple ID to install on a device. It includes in-app purchase, and a widget extension that enable users to add a widget to their iOS Home Screen or the macOS Notification Center.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Full-featured Food Truck All app target. The full app runs in Simulator, and on devices with an Apple Developer membership. It also allows you to create and sign in with passkeys.&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Configure the sample code project&lt;/h2&gt; &#xA;&lt;p&gt;To configure the Food Truck app without an Apple Developer account, follow these steps:&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;In the Food Truck target&#39;s Signing &amp;amp; Capabilities panes click Add Account, and log in with your Apple ID.&lt;/li&gt; &#xA; &lt;li&gt;Chose Your Name (Personal Team) from the team menu for the Food Truck and Widgets targets.&lt;/li&gt; &#xA; &lt;li&gt;Build and run your app.&lt;/li&gt; &#xA; &lt;li&gt;On iOS and iPadOS devices navigate to Settings &amp;gt; General &amp;gt; VPN &amp;amp; Device Management and trust your developer certificate.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;To configure the Food Truck All app to run on your devices, follow these steps:&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Open the sample with Xcode 14 or later.&lt;/li&gt; &#xA; &lt;li&gt;Select the top-level Food Truck project.&lt;/li&gt; &#xA; &lt;li&gt;For all targets, choose your team from the Team menu in the Signing &amp;amp; Capabilities pane, so Xcode can automatically manage your provisioning profile.&lt;/li&gt; &#xA; &lt;li&gt;Add the Associated Domains capability, and specify your domain with the &lt;code&gt;webcredentials&lt;/code&gt; service. For more information about the &lt;code&gt;webcredentials&lt;/code&gt; service, see &lt;a href=&#34;https://developer.apple.com/documentation/bundleresources/entitlements/com_apple_developer_associated-domains&#34;&gt;Associated Domains Entitlement&lt;/a&gt;.&lt;/li&gt; &#xA; &lt;li&gt;Ensure an &lt;code&gt;apple-app-site-association&lt;/code&gt; (AASA) file is present on your domain, in the &lt;code&gt;.well-known&lt;/code&gt; directory, and it contains an entry for this app’s App ID for the &lt;code&gt;webcredentials&lt;/code&gt; service. For more information about the &lt;code&gt;apple-app-site-association&lt;/code&gt; file, see &lt;a href=&#34;https://developer.apple.com/documentation/xcode/supporting-associated-domains&#34;&gt;Supporting Associated Domains&lt;/a&gt;.&lt;/li&gt; &#xA; &lt;li&gt;In the &lt;code&gt;AccountManager.swift&lt;/code&gt; file, replace all occurrences of &lt;code&gt;example.com&lt;/code&gt; with the name of your domain.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Note: To use the weather forecast feature in the sample, you need to perform additional steps to configure WeatherKit, as described in the Configure the project for WeatherKit section below, or the sample will detect an error and use static data included in the project.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Create a multiplatform app&lt;/h2&gt; &#xA;&lt;p&gt;Food Truck is a multiplatform app, and there are no separate targets to run on macOS or iOS. Instead, there is only one app target that builds for macOS, iPadOS, and iOS.&lt;/p&gt; &#xA;&lt;h2&gt;Define a default navigation destination&lt;/h2&gt; &#xA;&lt;p&gt;The sample&#39;s navigation interface consists of a &lt;a href=&#34;https://developer.apple.com/documentation/swiftui/navigationsplitview&#34;&gt;&lt;code&gt;NavigationSplitView&lt;/code&gt;&lt;/a&gt; with a &lt;code&gt;Sidebar&lt;/code&gt; view, and a &lt;a href=&#34;https://developer.apple.com/documentation/swiftui/navigationstack&#34;&gt;&lt;code&gt;NavigationStack&lt;/code&gt;&lt;/a&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;NavigationSplitView {&#xA;    Sidebar(selection: $selection)&#xA;} detail: {&#xA;    NavigationStack(path: $path) {&#xA;        DetailColumn(selection: $selection, model: model)&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;At app launch, the sample presents the &lt;code&gt;TruckView&lt;/code&gt; as the default view. The &lt;code&gt;Panel&lt;/code&gt; enum encodes the views the user can select in the sidebar, and hence appear in the detail view. The value corresponding to &lt;code&gt;TruckView&lt;/code&gt; is &lt;code&gt;.truck&lt;/code&gt;, and the app sets this to be the default selection.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;@State private var selection: Panel? = Panel.truck&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Construct a dynamic layout&lt;/h2&gt; &#xA;&lt;p&gt;In the Truck view, the New Orders panel shows the five most-recent orders, and each order shows a &lt;code&gt;DonutStackView&lt;/code&gt;, which is a diagonal stack of donut thumbnails. The &lt;a href=&#34;https://developer.apple.com/documentation/swiftui/layout&#34;&gt;&lt;code&gt;Layout&lt;/code&gt;&lt;/a&gt; protocol allows the app to define a &lt;code&gt;DiagonalDonutStackLayout&lt;/code&gt; that arranges the donut thumbnails into the diagonal layout. The layout&#39;s &lt;a href=&#34;https://developer.apple.com/documentation/swiftui/layout/placesubviews(in:proposal:subviews:cache:)&#34;&gt;&lt;code&gt;placeSubviews(in:proposal:subviews:cache:)&lt;/code&gt;&lt;/a&gt; implementation calculates the donuts&#39; positions.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;for index in subviews.indices {&#xA;    switch (index, subviews.count) {&#xA;    case (_, 1):&#xA;        subviews[index].place(&#xA;            at: center,&#xA;            anchor: .center,&#xA;            proposal: ProposedViewSize(size)&#xA;        )&#xA;        &#xA;    case (_, 2):&#xA;        let direction = index == 0 ? -1.0 : 1.0&#xA;        let offsetX = minBound * direction * 0.15&#xA;        let offsetY = minBound * direction * 0.20&#xA;        subviews[index].place(&#xA;            at: CGPoint(x: center.x + offsetX, y: center.y + offsetY),&#xA;            anchor: .center,&#xA;            proposal: ProposedViewSize(CGSize(width: size.width * 0.7, height: size.height * 0.7))&#xA;        )&#xA;    case (1, 3):&#xA;        subviews[index].place(&#xA;            at: center,&#xA;            anchor: .center,&#xA;            proposal: ProposedViewSize(CGSize(width: size.width * 0.65, height: size.height * 0.65))&#xA;        )&#xA;        &#xA;    case (_, 3):&#xA;        let direction = index == 0 ? -1.0 : 1.0&#xA;        let offsetX = minBound * direction * 0.15&#xA;        let offsetY = minBound * direction * 0.23&#xA;        subviews[index].place(&#xA;            at: CGPoint(x: center.x + offsetX, y: center.y + offsetY),&#xA;            anchor: .center,&#xA;            proposal: ProposedViewSize(CGSize(width: size.width * 0.7, height: size.height * 0.65))&#xA;        )&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Display a chart of popular items&lt;/h2&gt; &#xA;&lt;p&gt;The sample contains several charts. The most popular items are shown on the &lt;code&gt;TopFiveDonutsView&lt;/code&gt;. This chart is implemented in &lt;code&gt;TopDonutSalesChart&lt;/code&gt;, which uses a &lt;a href=&#34;https://developer.apple.com/documentation/charts/barmark&#34;&gt;&lt;code&gt;BarMark&lt;/code&gt;&lt;/a&gt; to construct a bar chart.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;Chart {&#xA;    ForEach(sortedSales) { sale in&#xA;        BarMark(&#xA;            x: .value(&#34;Donut&#34;, sale.donut.name),&#xA;            y: .value(&#34;Sales&#34;, sale.sales)&#xA;        )&#xA;        .cornerRadius(6, style: .continuous)&#xA;        .foregroundStyle(.linearGradient(colors: [Color(&#34;BarBottomColor&#34;), .accentColor], startPoint: .bottom, endPoint: .top))&#xA;        .annotation(position: .top, alignment: .top) {&#xA;            Text(sale.sales.formatted())&#xA;                .padding(.vertical, 4)&#xA;                .padding(.horizontal, 8)&#xA;                .background(.quaternary.opacity(0.5), in: Capsule())&#xA;                .background(in: Capsule())&#xA;                .font(.caption)&#xA;        }&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The &lt;em&gt;x&lt;/em&gt; axis of the chart shows labels with the names and thumbnails of the items that correspond to each data point.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;.chartXAxis {&#xA;    AxisMarks { value in&#xA;        AxisValueLabel {&#xA;            let donut = donutFromAxisValue(for: value)&#xA;            VStack {&#xA;                DonutView(donut: donut)&#xA;                    .frame(height: 35)&#xA;                    &#xA;                Text(donut.name)&#xA;                    .lineLimit(2, reservesSpace: true)&#xA;                    .multilineTextAlignment(.center)&#xA;            }&#xA;            .frame(idealWidth: 80)&#xA;            .padding(.horizontal, 4)&#xA;            &#xA;        }&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Obtain a weather forecast&lt;/h2&gt; &#xA;&lt;p&gt;The app shows a forecasted temperature graph in the Forecast panel in the Truck view. The app obtains this data from the &lt;a href=&#34;https://developer.apple.com/documentation/weatherkit/weatherservice&#34;&gt;&lt;code&gt;WeatherKit&lt;/code&gt;&lt;/a&gt; framework.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-swift&#34;&gt;.task(id: city.id) {&#xA;    for parkingSpot in city.parkingSpots {&#xA;        do {&#xA;            let weather = try await WeatherService.shared.weather(for: parkingSpot.location)&#xA;            condition = weather.currentWeather.condition&#xA;            willRainSoon = weather.minuteForecast?.contains(where: { $0.precipitationChance &amp;gt;= 0.3 })&#xA;            cloudCover = weather.currentWeather.cloudCover&#xA;            temperature = weather.currentWeather.temperature&#xA;            symbolName = weather.currentWeather.symbolName&#xA;            &#xA;            let attribution = try await WeatherService.shared.attribution&#xA;            attributionLink = attribution.legalPageURL&#xA;            attributionLogo = colorScheme == .light ? attribution.combinedMarkLightURL : attribution.combinedMarkDarkURL&#xA;            &#xA;            if willRainSoon == false {&#xA;                spot = parkingSpot&#xA;                break&#xA;            }&#xA;        } catch {&#xA;            print(&#34;Could not gather weather information...&#34;, error.localizedDescription)&#xA;            condition = .clear&#xA;            willRainSoon = false&#xA;            cloudCover = 0.15&#xA;        }&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Configure the project for WeatherKit&lt;/h2&gt; &#xA;&lt;p&gt;The data from the &lt;a href=&#34;https://developer.apple.com/documentation/weatherkit/weatherservice&#34;&gt;&lt;code&gt;WeatherService&lt;/code&gt;&lt;/a&gt; instance in WeatherKit requires additional configuration for the Food Truck All target. If you don&#39;t configure WeatherKit, the sample will detect an error and use static data in the project instead.&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Create a unique App ID on the &lt;a href=&#34;https://developer.apple.com/account/resources/certificates/list&#34;&gt;Provisioning Portal&lt;/a&gt;, and select the WeatherKit service on the App Services tab.&lt;/li&gt; &#xA; &lt;li&gt;In Xcode, for the Food Truck All target on the Signing &amp;amp; Capabilities tab, change the bundle ID to be the same as the App ID from step 1, and add the WeatherKit capability.&lt;/li&gt; &#xA; &lt;li&gt;For the Widgets target on the Signing &amp;amp; Capabilities tab, change the bundle ID to make the part before &lt;code&gt;.Widgets&lt;/code&gt; the same as the bundle ID for the Food Truck All target.&lt;/li&gt; &#xA; &lt;li&gt;Wait 30 minutes while the service registers your app&#39;s bundle ID.&lt;/li&gt; &#xA; &lt;li&gt;Build and run the Food Truck All target.&lt;/li&gt; &#xA;&lt;/ol&gt;</summary>
  </entry>
</feed>