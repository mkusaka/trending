<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub C Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2023-01-10T01:32:32Z</updated>
  <subtitle>Daily Trending of C in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>openshwprojects/OpenBK7231T_App</title>
    <updated>2023-01-10T01:32:32Z</updated>
    <id>tag:github.com,2023-01-10:/openshwprojects/OpenBK7231T_App</id>
    <link href="https://github.com/openshwprojects/OpenBK7231T_App" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Open source firmware (Tasmota/Esphome replacement) for BK7231T, BK7231N, BL2028N, T34, XR809, W800/W801, W600/W601 and BL602&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;Introduction&lt;/h1&gt; &#xA;&lt;p&gt;OpenBK7231T/OpenBeken is a Tasmota/Esphome replacement for new Tuya modules featuring MQTT and Home Assistant compatibility. This repository is named &#34;OpenBK7231T_App&#34;, but now it&#39;s a multiplatform app, supporting build for multiple separate chips:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;BK7231T (&lt;a href=&#34;https://developer.tuya.com/en/docs/iot/wb3s-module-datasheet?id=K9dx20n6hz5n4&#34;&gt;WB3S&lt;/a&gt;, &lt;a href=&#34;https://developer.tuya.com/en/docs/iot/wb2s-module-datasheet?id=K9ghecl7kc479&#34;&gt;WB2S&lt;/a&gt;, WB2L, etc)&lt;/li&gt; &#xA; &lt;li&gt;BK7231N (&lt;a href=&#34;https://developer.tuya.com/en/docs/iot/cb2s-module-datasheet?id=Kafgfsa2aaypq&#34;&gt;CB2S&lt;/a&gt;, &lt;a href=&#34;https://developer.tuya.com/en/docs/iot/cb2l-module-datasheet?id=Kai2eku1m3pyl&#34;&gt;CB2L&lt;/a&gt;, WB2L_M1, etc)&lt;/li&gt; &#xA; &lt;li&gt;T34 (&lt;a href=&#34;https://developer.tuya.com/en/docs/iot/t34-module-datasheet?id=Ka0l4h5zvg6j8&#34;&gt;T34 is based on BK7231N&lt;/a&gt;)&lt;/li&gt; &#xA; &lt;li&gt;BL2028N (&lt;a href=&#34;https://www.elektroda.com/rtvforum/viewtopic.php?p=20262533#20262533&#34;&gt;BL2028N is a Belon version of BK7231N&lt;/a&gt;)&lt;/li&gt; &#xA; &lt;li&gt;XR809 (&lt;a href=&#34;https://developer.tuya.com/en/docs/iot/xr3-datasheet?id=K98s9168qi49g&#34;&gt;XR3&lt;/a&gt;, etc)&lt;/li&gt; &#xA; &lt;li&gt;BL602&lt;/li&gt; &#xA; &lt;li&gt;W800 (W800-C400, WinnerMicro WiFi &amp;amp; Bluetooth), W801&lt;/li&gt; &#xA; &lt;li&gt;W600 (WinnerMicro chip), W601&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Please use automatically compiled binaries from the Releases tab. To build yourself for a given platform, just checkout first our version of SDK and then checkout this app repository into it, details later.&lt;/p&gt; &#xA;&lt;h1&gt;&lt;a href=&#34;https://openbekeniot.github.io/webapp/devicesList.html&#34;&gt;Supported Devices List&lt;/a&gt; (Teardown + Flashing Guide + Detailed photos + Template)&lt;/h1&gt; &#xA;&lt;p&gt;We have our own interactive devices database that is maintained by users. The database is also accessible from inside our firmware (but requires internet connection to fetch). Have a not listed device? HELP US, submit a teardown &lt;a href=&#34;https://www.elektroda.com/rtvforum/forum507.html&#34;&gt;here&lt;/a&gt;. NOTE: Obviously almost any device with supported chip (BK7231, BL602, W600, etc is potentially supported and it&#39;s not possible to list all available devices in the market, so feel free to try even if your device is not listed - &lt;em&gt;we are here to help and guide you step by step&lt;/em&gt;!)&lt;/p&gt; &#xA;&lt;h1&gt;Features&lt;/h1&gt; &#xA;&lt;p&gt;OpenBeken features:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Tasmota-like setup, configuration and experience on all supported platforms&lt;/li&gt; &#xA; &lt;li&gt;OTA firwmare upgrade system (for Beken chips); to use OTA, drag and drop RBL file (always RBL file) on OTA field on new Web App Javascript Console&lt;/li&gt; &#xA; &lt;li&gt;MQTT compatibility with Home Assistant&lt;/li&gt; &#xA; &lt;li&gt;Support for multiple relays, buttons, leds, inputs and PWMs&lt;/li&gt; &#xA; &lt;li&gt;Driver system for custom peripherals, including TuyaMCU, I2C bus and BL0942, BL0937 power metering chips&lt;/li&gt; &#xA; &lt;li&gt;Supports multiple I2C devices, like TC74 temperature sensor, MCP23017 port expander, PCF8574T LCD 2x16 (or other?), etc&lt;/li&gt; &#xA; &lt;li&gt;NTP time from network (can be used with TH06 and other TuyaMCU devices)&lt;/li&gt; &#xA; &lt;li&gt;basic support for TuyaMCU Battery Powered devices protocol (TuyaMCU enables WiFi module only to report the state, eg. for door sensors, water sensors)&lt;/li&gt; &#xA; &lt;li&gt;RGBCW LED lighting control compatible with Home Assistant (both PWM LEDs, SM2135 LEDs and BP5758 LEDs)&lt;/li&gt; &#xA; &lt;li&gt;LittleFS integration for large files (resides in OTA memory, so you have to backup it every time you OTA)&lt;/li&gt; &#xA; &lt;li&gt;Command line system for starting and configuring drivers&lt;/li&gt; &#xA; &lt;li&gt;Short startup command (up to 512 characters) storage in flash config, so you can easily init your drivers (eg. BL0942) without LittleFS&lt;/li&gt; &#xA; &lt;li&gt;Simple scripting and events system (allows you to mirror Tasmota rules, for example catch button click, double click, hold)&lt;/li&gt; &#xA; &lt;li&gt;Automatic reconnect when WiFi network goes out&lt;/li&gt; &#xA; &lt;li&gt;and much more&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h1&gt;Wiki&lt;/h1&gt; &#xA;&lt;p&gt;For more Information refer to the &lt;a href=&#34;https://github.com/openshwprojects/OpenBK7231T_App/wiki/Wiki-Home&#34;&gt;WIKI&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h1&gt;FAQ (Frequently Asked Questions)&lt;/h1&gt; &#xA;&lt;p&gt;&lt;em&gt;Q: How do I enable more logging? How to make more logs visible?&lt;/em&gt;&lt;br&gt; A: First type &#34;loglevel x&#34; in console, where x is 0 to 7, default value is 3 (log all up to info), value 4 will also log debug logs, and value 5 will include &#34;extradebug&#34;. Then, on online panel, also switch filter to &#34;All&#34; (both steps must be done for logs to show up)&lt;/p&gt; &#xA;&lt;p&gt;&lt;em&gt;Q: I entered wrong SSID and my device is not accessible. How to recover?&lt;/em&gt;&lt;br&gt; A: Do five short power on/power off cycles (but not too short, because device might have capacitors and they need to discharge every time). Device will go back to AP mode (aka Safe Mode)&lt;/p&gt; &#xA;&lt;p&gt;&lt;em&gt;Q: I somehow lost my MAC address and I am unable to change it in Options! My MAC ends with 000000, how to fix?&lt;/em&gt;&lt;br&gt; A: You have most likely overwrote the TLV header of RF partition of BK7231. For BK7231T, we have a way to restore it - open Web App, go to Flash tab, and press &#34;Restore RF Config&#34;&lt;/p&gt; &#xA;&lt;p&gt;&lt;em&gt;Q: How do I setup single button to control two relays (first on click, second on double click)?&lt;/em&gt;&lt;br&gt; A: If you set a pin role to &#34;Button&#34;, you will get a second textbox after saving pins. First checkbox is a channel to toggle on single click, and second textbox is a channel to toggle on double click.&lt;/p&gt; &#xA;&lt;p&gt;&lt;em&gt;Q: My wall touch switch reacts slowly! It&#39;s laggy, how to make it react instantly?&lt;/em&gt;&lt;br&gt; A: It&#39;s like with Tasmota - go to our Options/General-Flags and set flag &#34;6 - [BTN] Instant touch reaction instead of waiting for release (aka SetOption 13)&#34;&lt;/p&gt; &#xA;&lt;p&gt;&lt;em&gt;Q: How to enter multiple startup commands? For example, to start both NTP and BL0942 drivers?&lt;/em&gt;&lt;br&gt; A: Use backlog - like in Tasmota. Open Config-&amp;gt;Short startup command, and enter, for example: backlog startDriver BL0942; startDriver NTP; ntp_setServer 217.147.223.78&lt;/p&gt; &#xA;&lt;p&gt;&lt;em&gt;Q: How to configure ping watchdog to do a relay cycle when given IP does not respond for a given amount of time?&lt;/em&gt;&lt;br&gt; A: See the following example there: &lt;a href=&#34;https://www.elektroda.com/rtvforum/viewtopic.php?p=20368812#20368812&#34;&gt;https://www.elektroda.com/rtvforum/viewtopic.php?p=20368812#20368812&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h1&gt;Building&lt;/h1&gt; &#xA;&lt;p&gt;OpenBeken supports online builds for all platforms (BK7231T, BK7231N, XR809, BL602, W800), but if you want to compile it yourself, see &lt;a href=&#34;https://github.com/openshwprojects/OpenBK7231T_App/raw/main/BUILDING.md&#34;&gt;BUILDING.md&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h1&gt;Flashing for BK7231 (BK7231T and BK7231N) on Windows - easy method for beginners&lt;/h1&gt; &#xA;&lt;p&gt;Use our new BK7231 GUI Flash tool: &lt;a href=&#34;https://github.com/openshwprojects/BK7231GUIFlashTool&#34;&gt;https://github.com/openshwprojects/BK7231GUIFlashTool&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h1&gt;Flashing for BK7231T (alternate method)&lt;/h1&gt; &#xA;&lt;h2&gt;UART (obsolete method; Windows only)&lt;/h2&gt; &#xA;&lt;p&gt;get BKwriter 1.60 exe (extract zip) from &lt;a href=&#34;https://github.com/openshwprojects/OpenBK7231T/raw/master/bk_writer1.60.zip&#34;&gt;here&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;Use USB to TTL converter with 3.3V logic levels, like HW 597&lt;/p&gt; &#xA;&lt;p&gt;connect the PC to TX1 and RX1 on the bk7231 (TX2 and RX2 are optional, only for log)&lt;/p&gt; &#xA;&lt;p&gt;start flash in BKwriter 1.60 (select COM port, etc) then re-power the device (or reset with CEN by temporary connecting CEN to ground) until the flashing program continues, repeat if required.&lt;/p&gt; &#xA;&lt;h2&gt;UART (obsolete method; multiplatform method, Python required)&lt;/h2&gt; &#xA;&lt;p&gt;clone the repo &lt;a href=&#34;https://github.com/OpenBekenIOT/hid_download_py&#34;&gt;https://github.com/OpenBekenIOT/hid_download_py&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;Use USB to TTL converter with 3.3V logic levels, like HW 597&lt;/p&gt; &#xA;&lt;p&gt;connect the PC to TX1 and RX1 on the bk7231 (TX2 and RX2 are optional, only for log)&lt;/p&gt; &#xA;&lt;p&gt;start flash using: &lt;code&gt;python uartprogram &amp;lt;sdk folder&amp;gt;\apps\&amp;lt;folder&amp;gt;\output\1.0.0\&amp;lt;appname&amp;gt;_UA_&amp;lt;appversion&amp;gt;.bin -d &amp;lt;port&amp;gt; -w&lt;/code&gt; then re-power the device (or reset with CEN temporary connecting CEN to ground) until the flashing program continues, repeat if required.&lt;/p&gt; &#xA;&lt;p&gt;e.g. &lt;code&gt;python uartprogram C:\DataNoBackup\tuya\tuya-iotos-embeded-sdk-wifi-ble-bk7231t\apps\my_alpha_demo\output\1.0.0\my_alpha_demo_UA_1.0.0.bin -d com4 -w&lt;/code&gt;&lt;/p&gt; &#xA;&lt;h2&gt;SPI&lt;/h2&gt; &#xA;&lt;p&gt;see &lt;a href=&#34;https://github.com/OpenBekenIOT/hid_download_py/raw/master/SPIFlash.md&#34;&gt;https://github.com/OpenBekenIOT/hid_download_py/blob/master/SPIFlash.md&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;SPI (new, tested tool for BK7231 SPI mode)&lt;/h2&gt; &#xA;&lt;p&gt;See: &lt;a href=&#34;https://github.com/openshwprojects/BK7231_SPI_Flasher&#34;&gt;https://github.com/openshwprojects/BK7231_SPI_Flasher&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;OTA&lt;/h2&gt; &#xA;&lt;p&gt;Once the firmware has been flashed for the first time, it can be flashed over wifi.&lt;/p&gt; &#xA;&lt;p&gt;Go to &#34;Open Web Application&#34;, OTA tab, drag and drop proper RBL file on the field, press a button to start OTA proccess&lt;/p&gt; &#xA;&lt;h2&gt;First run&lt;/h2&gt; &#xA;&lt;p&gt;At first boot, if the new firmware does not find your wifi SSID and password in the Tuya flash, it will start as an access point.&lt;/p&gt; &#xA;&lt;p&gt;The access point will come up on 192.168.4.1, however some machines may not get an ip from it - you may need to configure your connecting for a staitc IP on that network, e.g. 192.168.4.10&lt;/p&gt; &#xA;&lt;p&gt;Once you are connected and have an IP, go to &lt;a href=&#34;http://192.168.4.1/index&#34;&gt;http://192.168.4.1/index&lt;/a&gt; , select config then wifi, and setup your wifi.&lt;/p&gt; &#xA;&lt;p&gt;After a reboot, the device should connect to your lan.&lt;/p&gt; &#xA;&lt;h1&gt;Flashing for BK7231N (obsolete method)&lt;/h1&gt; &#xA;&lt;p&gt;BKwriter 1.60 doesn&#39;t work for BK7231N for me, in BK7231 mode it errors with &#34;invalid CRC&#34; and in BK7231N mode it fails to unprotect the device. For BK7231N, one should use:&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/OpenBekenIOT/hid_download_py&#34;&gt;https://github.com/OpenBekenIOT/hid_download_py&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;Flash BK7231N QIO binary, like that:&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;python uartprogram W:\GIT\OpenBK7231N\apps\OpenBK7231N_App\output\1.0.0\OpenBK7231N_app_QIO_1.0.0.bin --unprotect -d com10 -w --startaddr 0x0&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Remember - QIO binary with --unprotect and --startaddr 0x0, this is for N chip, not for T.&lt;/p&gt; &#xA;&lt;p&gt;You can see an example of detailed teardown and BK7231N flashing here: &lt;a href=&#34;https://www.elektroda.com/rtvforum/topic3874289.html&#34;&gt;https://www.elektroda.com/rtvforum/topic3874289.html&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h1&gt;Flashing for XR809&lt;/h1&gt; &#xA;&lt;p&gt;Get USB to UART converter, start phoenixMC.exe from OpenXR809 repository and follow this guide: &lt;a href=&#34;https://www.elektroda.com/rtvforum/topic3806769.html&#34;&gt;https://www.elektroda.com/rtvforum/topic3806769.html&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h1&gt;Building and flashing for BL602&lt;/h1&gt; &#xA;&lt;p&gt;Follow the BL602 guide: &lt;a href=&#34;https://www.elektroda.com/rtvforum/topic3889041.html&#34;&gt;https://www.elektroda.com/rtvforum/topic3889041.html&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h1&gt;Flashing for W800/W801&lt;/h1&gt; &#xA;&lt;p&gt;Use wm_tool.exe, command line utility from this SDK &lt;a href=&#34;https://github.com/openshwprojects/OpenW800&#34;&gt;https://github.com/openshwprojects/OpenW800&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;wm_tool.exe -c COM9 -dl W:\GIT\wm_sdk_w800\bin\w800\w800.fls&lt;/p&gt; &#xA;&lt;p&gt;wm_tool.exe will then wait for device reset. Repower it or connect RESET to ground, then it will start the flashing&lt;/p&gt; &#xA;&lt;h1&gt;OTA for W800/W801&lt;/h1&gt; &#xA;&lt;p&gt;Create a HTTP server (maybe with Node-Red), then use the update mechanism by HTTP link. Give link to w800_ota.img file from the build. The second OTA mechanism (on javascript panel, by drag and drop) is not ready yet for W800/W801. Wait for device to restart, do not repower it manually.&lt;/p&gt; &#xA;&lt;h1&gt;Building for Windows&lt;/h1&gt; &#xA;&lt;p&gt;It is also possible to build OpenBeken for Windows. Entire OBK builds correctly, along with script support, but MQTT from LWIP library on Windows is currently a stub and there a minor issue in Winsock code which breaks Tasmota Control compatibility. To build for Windows, open openBeken_win32_mvsc2017 in Microsoft Visual Studio Community 2017 and select configuration Debug Windows or Debug Windows Scriptonly and press build. This should make development and testing easier. LittleFS works in Windows build, it operates on 2MB memory saved in file, so you can even test scripting, etc&lt;/p&gt; &#xA;&lt;h1&gt;Pin roles&lt;/h1&gt; &#xA;&lt;p&gt;You can set pin roles in &#34;Configure Module&#34; section or use one of predefined templates from &#34;Quick config&#34; subpage. For each pin, you also set coresponding channel value. This is needed for modules with multiple relays. If you have 3 relays and 3 buttons, you need to use channel values like 1, 2, and 3. Just enter &#39;1&#39; in the text field, etc. Currently available pin roles:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Button - a typical button of Tuya device with active-low state (a button that connects IO pin to ground when pressed and also has a 10k or so pull up resistor)&lt;/li&gt; &#xA; &lt;li&gt;Button_n (as Button but pin logical value is inversed)&lt;/li&gt; &#xA; &lt;li&gt;Relay - an active-high relay. This relay is closed when a logical 1 value is on linked channel&lt;/li&gt; &#xA; &lt;li&gt;Relay_n (as Relay but pin logical value is inversed)&lt;/li&gt; &#xA; &lt;li&gt;LED - an active-high LED. The internals of &#34;LED&#34; are the same as of &#34;Relay&#34;. Names are just separate to make it easier for users.&lt;/li&gt; &#xA; &lt;li&gt;LED_n (as Led but pin logical value is inversed)&lt;/li&gt; &#xA; &lt;li&gt;Button Toggle All - this button toggles all channels at once&lt;/li&gt; &#xA; &lt;li&gt;Button Toggle All_n (as above but pin logical value is inversed)&lt;/li&gt; &#xA; &lt;li&gt;PWM - pulse width modulation output for LED dimmers (with MQTT dimming support from Home Assistant)&lt;/li&gt; &#xA; &lt;li&gt;PWM_n - as above, but percentage of duty is inversed. This might be useful for some special LED drivers that are using single PWM to choose between Cool white and Warm white (it also needs setting a special flag in General options)&lt;/li&gt; &#xA; &lt;li&gt;WiFi LED - special LED to indicate WLan connection state. LED states are following: LED on = client mode successfully connected to your Router. Half a second blink - connecting to your router, please wait (or connection problem). Fast blink (200ms) - open access point mode. In safe mode (after failed boots), LED might not work.&lt;/li&gt; &#xA; &lt;li&gt;DigitalInput - this is a simple digital input pin, it sets the linked channel to current logical value on it, just like digitalRead( ) from Arduino. This input has a internal pull up resistor.&lt;/li&gt; &#xA; &lt;li&gt;DigitalInput_n (as above but inversed)&lt;/li&gt; &#xA; &lt;li&gt;ToggleChannelOnToggle - this pin will toggle target channel when a value on this pin changes (with debouncing). you can connect simple two position switch here and swapping the switch will toggle target channel relay on or off&lt;/li&gt; &#xA; &lt;li&gt;DigitalInput_NoPullUp - same as DigitalInput but with no programmable pull up resistor. This is used for, for example, XR809 water sensor and door sensor.&lt;/li&gt; &#xA; &lt;li&gt;DigitalInput_NoPullUp_n (as above but inversed)&lt;/li&gt; &#xA; &lt;li&gt;ADC (Analog to Digital converter) - converts voltage to channel value which is later published by MQTT and also can be used to trigger scriptable events&lt;/li&gt; &#xA; &lt;li&gt;AlwaysHigh - always outputs 1&lt;/li&gt; &#xA; &lt;li&gt;AlwaysLow - always outputs 0&lt;/li&gt; &#xA; &lt;li&gt;Btn_NextColor (and _n) - for RGB strip with buttons; sets next predefined color&lt;/li&gt; &#xA; &lt;li&gt;Btn_NextDimmer (and _n) - for RGB strip with buttons; when hold, adjusts the brightness&lt;/li&gt; &#xA; &lt;li&gt;IRRecv - IR receiver&lt;/li&gt; &#xA; &lt;li&gt;IRSend - IR sender&lt;/li&gt; &#xA; &lt;li&gt;PWM_n - as PWM, but inversed value&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h1&gt;Safe mode&lt;/h1&gt; &#xA;&lt;p&gt;Device is counting full boots (full boot is a boot after which device worked for 30 seconds). If you power off and on device multiple times, it will enter open access point mode and safe mode (safe mode means even pin systems are not initialized). Those modes are used to recover devices from bad configs and errors.&lt;/p&gt; &#xA;&lt;h1&gt;Console Commands&lt;/h1&gt; &#xA;&lt;p&gt;There are multiple console commands that allow you to automate your devices. Commands can be entered manually in command line, can be send by HTTP (just like in Tasmota), can be send by MQTT and also can be scripted.&lt;/p&gt; &#xA;&lt;h2&gt;&lt;a href=&#34;https://github.com/openshwprojects/OpenBK7231T_App/raw/main/docs/commands.md&#34;&gt;Autogenerated Complete Commands List&lt;/a&gt;&lt;/h2&gt; &#xA;&lt;h2&gt;&lt;a href=&#34;https://github.com/openshwprojects/OpenBK7231T_App/raw/main/docs/commands-extended.md&#34;&gt;Autogenerated Complete Commands List - Extended Info&lt;/a&gt;&lt;/h2&gt; &#xA;&lt;p&gt;There is also a conditional exec command. Example: if MQTTOn then &#34;backlog led_dimmer 100; led_enableAll&#34; else &#34;backlog led_dimmer 10; led_enableAll&#34;&lt;/p&gt; &#xA;&lt;h1&gt;Console Command Examples&lt;/h1&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Command&lt;/th&gt; &#xA;   &lt;th align=&#34;right&#34;&gt;Description&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;addRepeatingEvent 15 -1 SendGet &lt;a href=&#34;http://192.168.0.112/cm?cmnd=Power0%20Toggle&#34;&gt;http://192.168.0.112/cm?cmnd=Power0%20Toggle&lt;/a&gt;&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;This will send a Tasmota HTTP Toggle command every 15 seconds to given device. Repeats value here is &#34;-1&#34; because we want this event to stay forever.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;addEventHandler OnClick 8 SendGet &lt;a href=&#34;http://192.168.0.112/cm?cmnd=Power0%20Toggle&#34;&gt;http://192.168.0.112/cm?cmnd=Power0%20Toggle&lt;/a&gt;&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;This will send a Tasmota HTTP Toggle command to given device when a button on pin 8 is clicked (pin 8, NOT channel 8)&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;addChangeHandler Channel1 != 0 SendGet &lt;a href=&#34;http://192.168.0.112/cm?cmnd=Power0%20On&#34;&gt;http://192.168.0.112/cm?cmnd=Power0%20On&lt;/a&gt;&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;This will set a Tasmota HTTP Power0 ON command when a channel 1 value become non-zero&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;addChangeHandler Channel1 == 0 SendGet &lt;a href=&#34;http://192.168.0.112/cm?cmnd=Power0%20Off&#34;&gt;http://192.168.0.112/cm?cmnd=Power0%20Off&lt;/a&gt;&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;This will set a Tasmota HTTP Power0 OFF command when a channel 1 value become zero&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;addChangeHandler Channel1 == 1 addRepeatingEvent 60 1 setChannel 1 0&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;This will create a new repeating events with 1 repeat count and 60 seconds delay everytime Channel1 becomes 1. Basically, it will automatically turn off the light 60 seconds after you turn it on. TODO: clear previous event instance?&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;addRepeatingEvent 5 -1 led_enableAll !$led_enableAll&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;This simple timer will toggle LED state every 5 seconds. -1 hear means infinite repeats. The ! stands for negation and $led_enableAll is a constant that you can read to get 0 or 1. It works like $CH11, $CH4 etc (any number) for accessing channel value&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;h1&gt;Console Command argument expansion&lt;/h1&gt; &#xA;&lt;p&gt;Every console command that takes an integer argument supports following constant expansion:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;$CH[CHANNEL_NUMBER] - so, $CH0 is a channel 0 value, etc, so SetChannel 1 $CH2 will get current value of Channel2 and set it to Channel 1&lt;/li&gt; &#xA; &lt;li&gt;$led_enableAll - this is the state of led driver, returns 1 or 0&lt;/li&gt; &#xA; &lt;li&gt;$led_hue&lt;/li&gt; &#xA; &lt;li&gt;$led_saturation&lt;/li&gt; &#xA; &lt;li&gt;$led_dimmer&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h1&gt;Example configurations (example autoexec.bat files for LittleFS system)&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://www.elektroda.com/rtvforum/topic3929151.html&#34;&gt;Configuration for EDM-01AA-EU dimmer with TuyaMCU&lt;/a&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;startDriver TuyaMCU&#xA;setChannelType 1 toggle&#xA;setChannelType 2 dimmer&#xA;tuyaMcu_setBaudRate 115200&#xA;tuyaMcu_setDimmerRange 1 1000&#xA;// linkTuyaMCUOutputToChannel dpId verType tgChannel&#xA;linkTuyaMCUOutputToChannel 1 bool 1&#xA;linkTuyaMCUOutputToChannel 2 val 2&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://www.elektroda.com/rtvforum/topic3895301.html&#34;&gt;Configuration for QIACHIP Universal WIFI Ceiling Fan Light Remote Control Kit - BK7231N - CB2S with TuyaMCU&lt;/a&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;// start MCU driver&#xA;startDriver TuyaMCU&#xA;// let&#39;s say that channel 1 is dpid1 - fan on/off&#xA;setChannelType 1 toggle&#xA;// map dpid1 to channel1, var type 1 (boolean)&#xA;linkTuyaMCUOutputToChannel 1 1 1&#xA;// let&#39;s say that channel 2 is dpid9 - light on/off&#xA;setChannelType 2 toggle&#xA;// map dpid9 to channel2, var type 1 (boolean)&#xA;linkTuyaMCUOutputToChannel 9 1 2&#xA;//channel 3 is dpid3 - fan speed&#xA;setChannelType 3 LowMidHigh&#xA;// map dpid3 to channel3, var type 4 (enum)&#xA;linkTuyaMCUOutputToChannel 3 4 3&#xA;//dpId 17 = beep on/off&#xA;setChannelType 4 toggle&#xA;linkTuyaMCUOutputToChannel 17 1 4&#xA;//&#xA;//&#xA;//dpId 6, dataType 4-DP_TYPE_ENUM = set timer&#xA;setChannelType 5 TextField&#xA;linkTuyaMCUOutputToChannel 6 4 5&#xA;//&#xA;//&#xA;//dpId 7, dataType 2-DP_TYPE_VALUE = timer remaining&#xA;setChannelType 6 ReadOnly&#xA;linkTuyaMCUOutputToChannel 7 2 6&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h1&gt;Scripting engine&lt;/h1&gt; &#xA;&lt;p&gt;Our scripting engine is able to process script files from LittleFS file system. Each script execution acts like a separate thread (but that&#39;s not a real RTOS thread, of course) and can process console commands, conditionals and delays.&lt;/p&gt; &#xA;&lt;p&gt;To create script, go to secondary web panel (JavaScript App), go to LittleFS tab, click &#34;create file&#34; and enter some content. Use buttons to stop all scripts or to save and run the one you are writing. From a console, you can also use &#39;startScript fileName label&#39; syntax.&lt;/p&gt; &#xA;&lt;p&gt;&lt;br&gt;&lt;b&gt;Script example 1:&lt;/b&gt;&lt;br&gt; Loop demo. Features a &#39;goto&#39; script command (for use within script) and, obviously, a label.&lt;br&gt; Requirements: &lt;br&gt;&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;channel 1 - output relay&lt;br&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;again:&#xA;&#x9;echo &#34;Step 1&#34;&#xA;&#x9;setChannel 1 0&#xA;&#x9;echo &#34;Step 2&#34;&#xA;&#x9;delay_s 2&#xA;&#x9;echo &#34;Step 3&#34;&#xA;&#x9;setChannel 1 1&#xA;&#x9;echo &#34;Step 4&#34;&#xA;&#x9;delay_s 2&#xA;&#x9;goto again&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;br&gt;&lt;b&gt;Script example 2:&lt;/b&gt; &lt;br&gt; Loop &amp;amp; if demo&lt;br&gt; This example shows how you can use a dummy channel as a variable to create a loop&lt;br&gt; Requirements: &lt;br&gt;&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;channel 1 - output relay&lt;br&gt;&lt;/li&gt; &#xA; &lt;li&gt;channel 11 - loop variable counter&lt;br&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;restart:&#xA;&#x9;// Channel 11 is a counter variable and starts at 0&#xA;&#x9;setChannel 11 0&#xA;again:&#xA;&#xA;&#x9;// If channel 11 value reached 10, go to done&#xA;&#x9;if $CH11&amp;gt;=10 then goto done&#xA;&#x9;// otherwise toggle channel 1, wait and loop&#xA;&#x9;toggleChannel 1&#xA;&#x9;addChannel 11 1&#xA;&#x9;delay_ms 250&#xA;&#x9;goto again&#xA;done:&#xA;&#x9;toggleChannel 1&#xA;&#x9;delay_s 1&#xA;&#x9;toggleChannel 1&#xA;&#x9;delay_s 1&#xA;&#x9;toggleChannel 1&#xA;&#x9;delay_s 1&#xA;&#x9;toggleChannel 1&#xA;&#x9;delay_s 1&#xA;&#x9;goto restart&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;br&gt;&lt;b&gt;Script example 3:&lt;/b&gt; &lt;br&gt; Thread cancelation demo and exclude self demo&lt;br&gt; This example shows how you can create a script thread with an unique ID and use this ID to cancel the thread later&lt;br&gt; Requirements: &lt;br&gt;&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;channel 1 - output relay&lt;br&gt;&lt;/li&gt; &#xA; &lt;li&gt;pin 8 - button&lt;br&gt;&lt;/li&gt; &#xA; &lt;li&gt;pin 9 - button&lt;br&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;// &#39;this&#39; is a special keyword - it mean search for script/label in this file&#xA;// 123 and 456 are unique script thread names&#xA;addEventHandler OnClick 8 startScript this label1 123&#xA;addEventHandler OnClick 9 startScript this label2 456&#xA;&#xA;label1:&#xA;&#x9;// stopScript ID bExcludeSelf&#xA;&#x9;// this will stop all other instances&#xA;&#x9;stopScript 456 1&#xA;&#x9;stopScript 123 1&#xA;&#x9;setChannel 1 0&#xA;&#x9;delay_s 1&#xA;&#x9;setChannel 1 1&#xA;&#x9;delay_s 1&#xA;&#x9;setChannel 1 0&#xA;&#x9;delay_s 1&#xA;&#x9;setChannel 1 1&#xA;&#x9;delay_s 1&#xA;&#x9;setChannel 1 0&#xA;&#x9;delay_s 1&#xA;&#x9;setChannel 1 1&#xA;&#x9;delay_s 1&#xA;&#x9;exit;&#xA;label2:&#xA;&#x9;// stopScript ID bExcludeSelf&#xA;&#x9;// this will stop all other instances&#xA;&#x9;stopScript 456 1&#xA;&#x9;stopScript 123 1&#xA;&#x9;setChannel 1 0&#xA;&#x9;delay_s 0.25&#xA;&#x9;setChannel 1 1&#xA;&#x9;delay_s 0.25&#xA;&#x9;setChannel 1 0&#xA;&#x9;delay_s 0.25&#xA;&#x9;setChannel 1 1&#xA;&#x9;delay_s 0.25&#xA;&#x9;setChannel 1 0&#xA;&#x9;delay_s 0.25&#xA;&#x9;setChannel 1 1&#xA;&#x9;delay_s 0.25&#xA;&#x9;setChannel 1 0&#xA;&#x9;delay_s 0.25&#xA;&#x9;exit;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;br&gt;&lt;b&gt;Script example 4:&lt;/b&gt; &lt;br&gt; Using channel value as a variable demo&lt;br&gt; Requirements: &lt;br&gt;&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;channel 1 - output relay&lt;br&gt;&lt;/li&gt; &#xA; &lt;li&gt;channel 11 - you may use it as ADC, or just use setChannel 11 100 or setChannel 11 500 in console to change delay&lt;br&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;&#xA;// set default value&#xA;setChannel 11 500&#xA;// if you don&#39;t have ADC, use this to force-display 11 as a slider on GUI&#xA;setChannelType 11 dimmer1000&#xA;&#xA;looper:&#xA;&#x9;setChannel 1 0&#xA;&#x9;delay_ms $CH11&#xA;&#x9;setChannel 1 1&#xA;&#x9;delay_ms $CH11&#xA;&#x9;goto looper&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h1&gt;Channel Types&lt;/h1&gt; &#xA;&lt;p&gt;Channel types are often not required and don&#39;t have to be configured, but in some cases they are required for better device control from OpenBeken web panel. Channel types describes the kind of value stored in channel, for example, if you have a Tuya Fan Controller with 3 speeds control, you can set the channel type to LowMidHigh and it will display the correct UI radiobutton on OpenBeken panel.&lt;/p&gt; &#xA;&lt;p&gt;Some channels have &#34;_div10&#34; or &#34;_div100&#34; sufixes. This is for TuyaMCU. This is needed because TuyaMCU sends values as integers, so it sends, for example, 215 for 21.5C temperature, and we store it internally as 215 and only convert to float for display.&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;CodeName&lt;/th&gt; &#xA;   &lt;th align=&#34;center&#34;&gt;Description&lt;/th&gt; &#xA;   &lt;th align=&#34;right&#34;&gt;Screenshot&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Toggle&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;Simple on/off Toggle&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;TODO&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;LowMidHigh&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;3 options - Low (0), Mid (1), High (2). Used for TuyaMCU Fan Controller.&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;TODO&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;OffLowMidHigh&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;4 options - Off(0), Low (1), Mid (2), High (3). Used for TuyaMCU Fan Controller.&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;TODO&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;OffLowestLowMidHighHighest&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;6 options. Used for TuyaMCU Fan Controller.&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;TODO&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;LowestLowMidHighHighest&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;5 options. Used for TuyaMCU Fan Controller.&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;TODO&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Dimmer&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;Display slider for TuyaMCU dimmer.&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;TODO&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;TextField&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;Display textfield so you can enter any number. Used for testing, can be also used for time countdown on TuyaMCU devices.&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;TODO&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;ReadOnly&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;Display a read only value on web panel.&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;TODO&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Temperature&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;Display a text value with &#39;C suffix, I am using it with I2C TC74 temperature sensor&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;TODO&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;temperature_div10&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;First divide given value by 10, then display result value with &#39;C suffix. This is for TuyaMCU LCD/Clock/Calendar/Temperature Sensor/Humidity meter&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;TODO&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;OpenClosed&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;Read only value, displays &#34;Open&#34; if 0 and &#34;Closed&#34; if 1.&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;TODO&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;OpenClosed_Inv&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;Read only value, displays &#34;Open&#34; if 1 and &#34;Closed&#34; if 0.&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;TODO&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;humidity&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;Display value as a % humidity.&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;TODO&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;humidity_div10&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;Divide by 10 and display value as a % humidity.&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;TODO&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Frequency_div100&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;Divide by 100 and display value as a Hz frequency.&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;TODO&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Voltage_div100&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;Divide by 100 and display value as a V voltage.&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;TODO&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Power&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;Power in W.&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;TODO&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Voltage_div10&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;Divide by 10 and display value as a V voltage.&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;TODO&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Current_div100&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;Divide by 100 and display value as a A current.&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;TODO&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;Current_div1000&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;Divide by 1000 and display value as a A current.&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;TODO&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;h1&gt;Simple TCP command server for scripting&lt;/h1&gt; &#xA;&lt;p&gt;You can enable a simple TCP server in device Generic/Flags option, which will listen by default on port 100. Server can accept single connection at time from Putty in RAW mode (raw TCP connection) and accepts text commands for OpenBeken console. In future, we may add support for multiple connections at time. Server will close connection if client does nothing for some time.&lt;/p&gt; &#xA;&lt;p&gt;There are some extra short commands for TCP console:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;GetChannel [index]&lt;/li&gt; &#xA; &lt;li&gt;GetReadings - returns voltage, current and power&lt;/li&gt; &#xA; &lt;li&gt;ShortName the commands above return a single ASCII string as a reply so it&#39;s easy to parse.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h1&gt;MQTT topics of published variables&lt;/h1&gt; &#xA;&lt;p&gt;Some MQTT variables are being published only at the startup, some are published periodically (if you enable &#34;broadcast every minute&#34; flag), some are published only when a given value is changed. Below is the table of used publish topics (TODO: add full descriptions)&lt;/p&gt; &#xA;&lt;p&gt;Hint: in HA, you can use MQTT wildcard to listen to publishes. OBK_DEV_NAME/#&lt;/p&gt; &#xA;&lt;p&gt;Publishes send by OBK device:&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Topic&lt;/th&gt; &#xA;   &lt;th align=&#34;center&#34;&gt;Sample Value&lt;/th&gt; &#xA;   &lt;th align=&#34;right&#34;&gt;Description&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;OBK_DEV_NAME/connected&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;&#34;online&#34;&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;Send on connect.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;OBK_DEV_NAME/sockets&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;&#34;5&#34;&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;Send on connect and every minute (if enabled)&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;OBK_DEV_NAME/rssi&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;&#34;-70&#34;&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;Send on connect and every minute (if enabled)&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;OBK_DEV_NAME/uptime&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;&#34;653&#34;&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;Send on connect and every minute (if enabled)&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;OBK_DEV_NAME/freeheap&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;&#34;95168&#34;&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;Send on connect and every minute (if enabled)&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;OBK_DEV_NAME/ip&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;&#34;192.168.0.123&#34;&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;Send on connect and every minute (if enabled)&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;OBK_DEV_NAME/datetime&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;&#34;&#34;&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;Send on connect and every minute (if enabled)&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;OBK_DEV_NAME/mac&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;&#34;84:e3:42:65:d1:87 &#34;&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;Send on connect and every minute (if enabled)&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;OBK_DEV_NAME/build&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;&#34;Build on Nov 12 2022 12:39:44 version 1.0.0&#34;&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;Send on connect and every minute (if enabled)&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;OBK_DEV_NAME/host&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;&#34;obk_t_fourRelays&#34;&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;Send on connect and every minute (if enabled)&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;OBK_DEV_NAME/voltage/get&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;&#34;221&#34;&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;voltage from BL0942/BL0937 etc&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;OBK_DEV_NAME/led_enableAll/get&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;&#34;1&#34;&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;send when LED On/Off changes or when periodic broadcast is enabled&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;OBK_DEV_NAME/led_basecolor_rgb/get&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;&#34;FFAABB&#34;&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;send when LED color changes or when periodic broadcast is enabled.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;OBK_DEV_NAME/led_dimmer/get&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;&#34;100&#34;&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;send when LED dimmer changes or when periodic broadcast is enabled&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;p&gt;Publishes received by OBK device:&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;Topic&lt;/th&gt; &#xA;   &lt;th align=&#34;center&#34;&gt;Sample Value&lt;/th&gt; &#xA;   &lt;th align=&#34;right&#34;&gt;Description&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;OBK_DEV_NAME/INDEX/set&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;&#34;1&#34;&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;Sets the channel of INDEX to given value. This can set relays and also provide DIRECT PWM access. If channel is mapped to TuyaMCU, TuyaMCU will also be updated&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;todo&lt;/td&gt; &#xA;   &lt;td align=&#34;center&#34;&gt;&#34;100&#34;&lt;/td&gt; &#xA;   &lt;td align=&#34;right&#34;&gt;tooodo&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;h1&gt;RGBCW Tuya 5 PWMs LED bulb control compatible with Home Assistant&lt;/h1&gt; &#xA;&lt;p&gt;RGBCW light bulbs are now supported and they are compatible with HA by rgb_command_template, brightness_value_template, color_temp_value_template commands. Please follow the guide below showing how to flash, setup and pair them with HA by MQTT:&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://www.elektroda.com/rtvforum/topic3880540.html#19938487&#34;&gt;https://www.elektroda.com/rtvforum/topic3880540.html#19938487&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h1&gt;TuyaMCU example with QIACHIP Universal WIFI Ceiling Fan Light Remote Control Kit - BK7231N - CB2S&lt;/h1&gt; &#xA;&lt;p&gt;Home Assistant and Node Red. Please refer to this example:&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://www.elektroda.com/rtvforum/viewtopic.php?p=20031489#20031489&#34;&gt;https://www.elektroda.com/rtvforum/viewtopic.php?p=20031489#20031489&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h1&gt;TuyaMCU example with Tuya 5 Speed Fan Controller by TEQOOZ - BK7231T - WB3S&lt;/h1&gt; &#xA;&lt;p&gt;Home Assistant Yaml examples. Please refer to this example:&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://www.elektroda.com/rtvforum/topic3908093.html&#34;&gt;https://www.elektroda.com/rtvforum/topic3908093.html&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h1&gt;TuyaMCU WB2S &#34;Moes House&#34; Dimmer configuration example with Home Assistant, see here:&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://www.elektroda.com/rtvforum/topic3898502.html&#34;&gt;https://www.elektroda.com/rtvforum/topic3898502.html&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h1&gt;I2C drivers system with support for MCP23017 bus expander, TC74 temperature sensor and more&lt;/h1&gt; &#xA;&lt;p&gt;Detailed description and step by step tutorial on Elektroda.com is coming soon.&lt;/p&gt; &#xA;&lt;h1&gt;BL0942 power metering plug (UART communication mode) support and calibration process&lt;/h1&gt; &#xA;&lt;p&gt;Please refer to this step by step guide: &lt;a href=&#34;https://www.elektroda.com/rtvforum/topic3887748.html&#34;&gt;https://www.elektroda.com/rtvforum/topic3887748.html&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h1&gt;ZN268131 example, a smart switch that allows you to connect a bistable button&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://www.elektroda.com/rtvforum/topic3895572.html&#34;&gt;https://www.elektroda.com/rtvforum/topic3895572.html&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h1&gt;How to set relay state on device boot? (PowerOnState)&lt;/h1&gt; &#xA;&lt;p&gt;There are two ways.&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt; &lt;p&gt;Go to Config -&amp;gt; Startup state and set it from GUI here.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Use use short startup command from Options or create &#34;autoexec.bat&#34; in LittleFS file system in web panel and execute commands from there.&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;For example, for RGBCW LED, you can do startup command:&lt;/p&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;backlog led_dimmer 100; led_basecolor_rgb #FF00FF; led_enableAll 1&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;p&gt;For simple relay, in this example on channel number 5, you can do:&lt;/p&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;backlog SetChannel 5 1&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;p&gt;For direct PWM access (for single-color strips etc) you can do:&lt;/p&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;backlog SetChannel 5 90&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;h1&gt;HomeAssistant Integration&lt;/h1&gt; &#xA;&lt;p&gt;MQTT based integration with Home Assistant is possible in 2 ways from the Home Assistant configuration page (&lt;code&gt;Config &amp;gt; Generate Home Assistant cfg&lt;/code&gt;).&lt;/p&gt; &#xA;&lt;p&gt;One can paste the generated &lt;a href=&#34;https://www.home-assistant.io/docs/configuration/yaml/&#34;&gt;yaml&lt;/a&gt; configuration into Home Assistant configuration manually.&lt;/p&gt; &#xA;&lt;p&gt;Or add the devices automatically via discovery. To do click the &lt;code&gt;Start Home Assistant Discovery&lt;/code&gt; button which sends outs &lt;a href=&#34;https://www.home-assistant.io/docs/mqtt/discovery/&#34;&gt;MQTT discovery&lt;/a&gt; messages, one for each entity (switch, light).&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;The discovery topic should match the &lt;code&gt;discovery_prefix&lt;/code&gt; defined in Home Assistant, the default value is &lt;code&gt;homeassistant&lt;/code&gt;.&lt;/li&gt; &#xA; &lt;li&gt;More details about Home Assistant discovery can be found &lt;a href=&#34;https://www.home-assistant.io/docs/mqtt/discovery/&#34;&gt;here&lt;/a&gt;.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Note: Currently, discovery is only implemented for light and relay entities.&lt;/p&gt; &#xA;&lt;h1&gt;Detailed flashing guides along with device teardowns&lt;/h1&gt; &#xA;&lt;p&gt;I have prepared several detailed teardowns and flashing guides for multiple supported devices. Each comes in two languages - English and Polish.&lt;/p&gt; &#xA;&lt;p&gt;Outdoor two relays smart switch CCWFIO232PK (BK7231T): &lt;a href=&#34;https://www.elektroda.com/rtvforum/topic3875654.html&#34;&gt;https://www.elektroda.com/rtvforum/topic3875654.html&lt;/a&gt; &lt;a href=&#34;https://www.elektroda.pl/rtvforum/viewtopic.php?p=19906670#19906670&#34;&gt;https://www.elektroda.pl/rtvforum/viewtopic.php?p=19906670#19906670&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;Australian Double Power Point DETA 6922HA-Series 2 (BK7231T) (English only) &lt;a href=&#34;https://community.home-assistant.io/t/detailed-guide-on-how-to-flash-the-new-tuya-beken-chips-with-openbk7231t/437276&#34;&gt;https://community.home-assistant.io/t/detailed-guide-on-how-to-flash-the-new-tuya-beken-chips-with-openbk7231t/437276&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;Qiachip Smart Switch module (BK7231N/CB2S): &lt;a href=&#34;https://www.elektroda.com/rtvforum/topic3874289.html&#34;&gt;https://www.elektroda.com/rtvforum/topic3874289.html&lt;/a&gt; &lt;a href=&#34;https://www.elektroda.pl/rtvforum/viewtopic.php?t=3874289&amp;amp;highlight=&#34;&gt;https://www.elektroda.pl/rtvforum/viewtopic.php?t=3874289&amp;amp;highlight=&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;Tuya RGBCW 12W light bulb (raw PWMs, no I2C, BK7231N) &lt;a href=&#34;https://www.elektroda.com/rtvforum/topic3880540.html#19938487&#34;&gt;https://www.elektroda.com/rtvforum/topic3880540.html#19938487&lt;/a&gt; &lt;a href=&#34;https://www.elektroda.pl/rtvforum/viewtopic.php?t=3880540&amp;amp;highlight=&#34;&gt;https://www.elektroda.pl/rtvforum/viewtopic.php?t=3880540&amp;amp;highlight=&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;LSPA9 CB2S + BL0942 power metering plug: &lt;a href=&#34;https://www.elektroda.com/rtvforum/topic3887748.html&#34;&gt;https://www.elektroda.com/rtvforum/topic3887748.html&lt;/a&gt; &lt;a href=&#34;https://www.elektroda.pl/rtvforum/viewtopic.php?t=3887748&amp;amp;highlight=&#34;&gt;https://www.elektroda.pl/rtvforum/viewtopic.php?t=3887748&amp;amp;highlight=&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;XR3/XR809 water sensor guide: &lt;a href=&#34;https://www.elektroda.com/rtvforum/topic3890640.html&#34;&gt;https://www.elektroda.com/rtvforum/topic3890640.html&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://www.elektroda.pl/rtvforum/viewtopic.php?t=3890640&amp;amp;highlight=&#34;&gt;https://www.elektroda.pl/rtvforum/viewtopic.php?t=3890640&amp;amp;highlight=&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;SM2135 LED configuration &lt;a href=&#34;https://www.elektroda.com/rtvforum/topic3906898.html&#34;&gt;https://www.elektroda.com/rtvforum/topic3906898.html&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://www.elektroda.pl/rtvforum/viewtopic.php?t=3906898&#34;&gt;https://www.elektroda.pl/rtvforum/viewtopic.php?t=3906898&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h1&gt;Troubles programming by UART?&lt;/h1&gt; &#xA;&lt;p&gt;I had some reports from users saying that they are unable to flash BK7231T with CP2102 but CH340 works. So, maybe try different USB to UART dongle. Some of them might not be reliable enough for flashing.&lt;/p&gt; &#xA;&lt;h1&gt;Futher reading&lt;/h1&gt; &#xA;&lt;p&gt;For technical insights and generic SDK information related to Bekken and XRadio modules, please refer:&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://www.elektroda.com/rtvforum/topic3850712.html&#34;&gt;https://www.elektroda.com/rtvforum/topic3850712.html&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://www.elektroda.com/rtvforum/topic3866123.html&#34;&gt;https://www.elektroda.com/rtvforum/topic3866123.html&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://www.elektroda.com/rtvforum/topic3806769.html&#34;&gt;https://www.elektroda.com/rtvforum/topic3806769.html&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h1&gt;Support project&lt;/h1&gt; &#xA;&lt;p&gt;If you want to support project, please donate at: &lt;a href=&#34;https://www.paypal.com/paypalme/openshwprojects&#34;&gt;https://www.paypal.com/paypalme/openshwprojects&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;Special thanks for Tasmota/Esphome/etc contributors for making a great reference for implementing Tuya module drivers&lt;/p&gt;</summary>
  </entry>
  <entry>
    <title>google/android-emulator-hypervisor-driver</title>
    <updated>2023-01-10T01:32:32Z</updated>
    <id>tag:github.com,2023-01-10:/google/android-emulator-hypervisor-driver</id>
    <link href="https://github.com/google/android-emulator-hypervisor-driver" rel="alternate"></link>
    <summary type="html">&lt;p&gt;&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;Android Emulator Hypervisor Driver&lt;/h1&gt; &#xA;&lt;p&gt;Android Emulator Hypervisor Driver is a hypervisor to accelerate &lt;a href=&#34;https://developer.android.com/studio/index.html&#34;&gt;Android Emulator&lt;/a&gt;. It is made by porting KVM to Windows (Windows 7 or later, 64bit).&lt;/p&gt; &#xA;&lt;p&gt;Android Emulator Hypervisor Driver runs as a Windows driver. User space support for Android Emulator Hypervisor Driver is available from Android Emulator.&lt;/p&gt; &#xA;&lt;h2&gt;Notice of the repository name change&lt;/h2&gt; &#xA;&lt;p&gt;Android Emulator Hypervisor Driver for AMD Processors has been renamed to Android Emulator Hypervisor Driver to reflect the fact that it supports both Intel and AMD Processors. In fact, it supports Intel from version 1.0. The old name was chosen because Intel users were expected to continue using Intel HAXM.&lt;/p&gt; &#xA;&lt;h2&gt;Download and Install&lt;/h2&gt; &#xA;&lt;p&gt;Android Emulator Hypervisor Driver is released through &lt;a href=&#34;https://developer.android.com/studio/index.html&#34;&gt;android-studio&lt;/a&gt;. However, only Android Studio with version 4.0 canary 5 or above can both download and install/update the driver. Otherwise, the Android Studio will only download the driver package without performing installation. In the latter case, users are required to install the driver manually.&lt;/p&gt; &#xA;&lt;p&gt;Prerequisite:&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;CPU has virtualization extension and BIOS has NOT disabled the extension.&lt;/li&gt; &#xA; &lt;li&gt;Hyper-V must be disabled. Refer to &lt;a href=&#34;https://github.com/google/android-emulator-hypervisor-driver-for-amd-processors/wiki/Is-Hyper-V-really-disabled%3F&#34;&gt;this page&lt;/a&gt; for more information.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;Install Instruction:&lt;/p&gt; &#xA;&lt;p&gt;Use an administrator command console to execute &#34;silent_install.bat&#34; inside the driver package. Make sure you see the desired output from the installer: STATE: 4 RUNNING&lt;/p&gt; &#xA;&lt;h2&gt;For Windows 7 users&lt;/h2&gt; &#xA;&lt;p&gt;According to Microsoft, SHA1 driver signing is deprecated (Read more &lt;a href=&#34;https://docs.microsoft.com/en-us/windows-hardware/drivers/install/deprecation-of-software-publisher-certificates-and-commercial-release-certificates&#34;&gt;here&lt;/a&gt; ). Version 1.8 (or above) cannot be loaded on Windows 7 by default. Please use version 1.7 instead. Users may disable driver signature enforcement in order to use version 1.8 or above.&lt;/p&gt; &#xA;&lt;h2&gt;Contributing&lt;/h2&gt; &#xA;&lt;p&gt;If you would like to contribute a patch to the code base, please read &lt;a href=&#34;https://raw.githubusercontent.com/google/android-emulator-hypervisor-driver/master/CONTRIBUTING.md&#34;&gt;these guidelines&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Reporting an Issue&lt;/h2&gt; &#xA;&lt;p&gt;You are welcome to file an issue at &lt;a href=&#34;https://issuetracker.google.com/issues?q=componentid:192727&#34;&gt;Issuetracker&lt;/a&gt;. Please remember to supply your OS information, CPU model in addition to details on the issue.&lt;/p&gt; &#xA;&lt;h2&gt;Notes&lt;/h2&gt; &#xA;&lt;p&gt;A patched QEMU can be found here at &lt;a href=&#34;https://github.com/qemu-gvm/qemu-gvm&#34;&gt;github&lt;/a&gt;. However, there is no support for it. Use at your own risk.&lt;/p&gt;</summary>
  </entry>
  <entry>
    <title>Maldev-Academy/HellHall</title>
    <updated>2023-01-10T01:32:32Z</updated>
    <id>tag:github.com,2023-01-10:/Maldev-Academy/HellHall</id>
    <link href="https://github.com/Maldev-Academy/HellHall" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Performing Indirect Clean Syscalls&lt;/p&gt;&lt;hr&gt;&lt;h2&gt;HellsHall - Another Way To Fetch Clean Syscalls&lt;/h2&gt; &#xA;&lt;p&gt;HellsHall is a combination of &lt;a href=&#34;https://github.com/am0nsec/HellsGate&#34;&gt;HellsGate&lt;/a&gt; and indirect syscalls.&lt;/p&gt; &#xA;&lt;br&gt; &#xA;&lt;h2&gt;How it works&lt;/h2&gt; &#xA;&lt;p&gt;First, HellsHall checks whether the &lt;em&gt;syscall address&lt;/em&gt; is hooked and tries to retrieve the syscall number by checking the presence of the following bytes:&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;0x4C, 0x8B, 0xD1, 0xB8&lt;/code&gt; which represent &lt;code&gt;mov r10,rcx &amp;amp;&amp;amp; mov eax,SSn&lt;/code&gt;. This is how every syscall should start.&lt;/p&gt; &#xA;&lt;p&gt;At this point, HellsGate simply grabs the Syscall SSn (Syscall Number) and uses it &lt;strong&gt;directly&lt;/strong&gt; resulting in a syscall being called from outside of the address space of &lt;code&gt;ntdll.dll&lt;/code&gt;. This is an IoC in itself and can be used to detect such syscalls. Detection Examples:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;a href=&#34;https://winternl.com/detecting-manual-syscalls-from-user-mode/&#34;&gt;Detecting Manual Syscalls from User Mode&lt;/a&gt;&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;a href=&#34;https://passthehashbrowns.github.io/detecting-direct-syscalls-with-frida&#34;&gt;Detecting Direct Syscalls with Frida&lt;/a&gt;&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;HellsHall however will search for a &lt;code&gt;syscall&lt;/code&gt; instruction near the address of the syscall function and then save this &lt;em&gt;syscall&#39;s instruction&#39;s address&lt;/em&gt; to a global variable which will be jumped to later on rather than executing this instruction directly from the &lt;code&gt;asm&lt;/code&gt; file. This will cause the syscall function to be executed from inside of &lt;code&gt;ntdll.dll&lt;/code&gt; address space with the only difference being that it&#39;s unhooked.&lt;/p&gt; &#xA;&lt;h2&gt;Enhancement&lt;/h2&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/trickster0/TartarusGate&#34;&gt;TartarusGate&lt;/a&gt; can be used to further enhance this technique.&lt;/p&gt; &#xA;&lt;br&gt; &#xA;&lt;h2&gt;HellsGate&lt;/h2&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://user-images.githubusercontent.com/111295429/210207400-594383fb-158f-415c-9e3a-2d3d43198644.png&#34; alt=&#34;image&#34;&gt;&lt;/p&gt; &#xA;&lt;br&gt; &#xA;&lt;h2&gt;HellsHall&lt;/h2&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://user-images.githubusercontent.com/111295429/210207411-f6dca820-dbfe-4c87-bb33-60e0d036bd73.png&#34; alt=&#34;image&#34;&gt;&lt;/p&gt; &#xA;&lt;br&gt; &#xA;&lt;h2&gt;Profit&lt;/h2&gt; &#xA;&lt;p&gt;Bypassing The Below EDR using &lt;a href=&#34;https://github.com/Maldev-Academy/HellHall/raw/main/Hell&#39;sHall-Clang%26NoCrt.zip&#34;&gt;This HellsHall Implementation&lt;/a&gt; That is Using &lt;code&gt;NtAllocateVirtualMemory&lt;/code&gt;, &lt;code&gt;NtProtectVirtualMemory&lt;/code&gt;, and &lt;code&gt;NtCreateThreadEx&lt;/code&gt; syscalls with an &lt;code&gt;RWX&lt;/code&gt; section.&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://user-images.githubusercontent.com/111295429/210299245-d366566a-0e14-4622-8bb0-91fd645a9d2e.png&#34; alt=&#34;image&#34;&gt;&lt;/p&gt; &#xA;&lt;br&gt; &#xA;&lt;h2&gt;Code&lt;/h2&gt; &#xA;&lt;p&gt;The Github repo can be found &lt;a href=&#34;https://github.com/Maldev-Academy/HellHall&#34;&gt;here&lt;/a&gt;&lt;/p&gt; &#xA;&lt;br&gt; &#xA;&lt;h2&gt;Authors&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;ORCA (@ORCx41)&lt;/li&gt; &#xA; &lt;li&gt;mr.d0x (@mrd0x)&lt;/li&gt; &#xA;&lt;/ul&gt;</summary>
  </entry>
</feed>