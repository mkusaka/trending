<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub C Weekly Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2024-06-23T01:41:22Z</updated>
  <subtitle>Weekly Trending of C in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>nginx/njs</title>
    <updated>2024-06-23T01:41:22Z</updated>
    <id>tag:github.com,2024-06-23:/nginx/njs</id>
    <link href="https://github.com/nginx/njs" rel="alternate"></link>
    <summary type="html">&lt;p&gt;A subset of JavaScript language to use in nginx&lt;/p&gt;&lt;hr&gt;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/nginx/njs/master/NGINX-js-1660x332.png&#34; alt=&#34;NGINX JavaScript Banner&#34; title=&#34;NGINX JavaScript Banner&#34;&gt;&lt;/p&gt; &#xA;&lt;h1&gt;NGINX JavaScript&lt;/h1&gt; &#xA;&lt;p&gt;NGINX JavaScript, also known as &lt;a href=&#34;https://nginx.org/en/docs/njs/&#34;&gt;NJS&lt;/a&gt;, is a dynamic module for &lt;a href=&#34;https://nginx.org/en/download.html&#34;&gt;NGINX&lt;/a&gt; that enables the extension of built-in functionality using familiar JavaScript syntax. The NJS language is a subset of JavaScript, compliant with &lt;a href=&#34;https://262.ecma-international.org/5.1/&#34;&gt;ES5&lt;/a&gt; (ECMAScript 5.1 &lt;a href=&#34;https://262.ecma-international.org/5.1/#sec-4.2.2&#34;&gt;Strict Variant&lt;/a&gt;) with some &lt;a href=&#34;https://262.ecma-international.org/6.0/&#34;&gt;ES6&lt;/a&gt; (ECMAScript 6) and newer extensions. See &lt;a href=&#34;https://nginx.org/en/docs/njs/compatibility.html&#34;&gt;compatibility&lt;/a&gt; for more details.&lt;/p&gt; &#xA;&lt;h1&gt;Table of Contents&lt;/h1&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/#how-it-works&#34;&gt;How it works&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/#downloading-and-installing&#34;&gt;Downloading and installing&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/#provisioning-the-nginx-package-repository&#34;&gt;Provisioning the NGINX package repository&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/#installing-the-nginx-javascipt-modules&#34;&gt;Installing the NGINX JavaScript modules&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/#installed-files-and-locations&#34;&gt;Installed files and locations&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/#getting-started-with-nginx-javascript&#34;&gt;Getting started with NGINX JavaScript&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/#verify-nginx-is-running&#34;&gt;Verify NGINX is running&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/#enabling-the-nginx-javascipt-modules&#34;&gt;Enabling the NGINX JavaScript modules&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/#basics-of-writing-js-script-files&#34;&gt;Basics of writing .js script files&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/#reference-of-custom-objects-methods-and-properties&#34;&gt;Reference of custom objects, methods, and properties&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/#hello-world&#34;&gt;Example: Hello World&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/#the-njs-command-line-interface-cli&#34;&gt;The NJS command line interface (CLI)&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/#building-from-source&#34;&gt;Building from source&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/#installing-dependencies&#34;&gt;Installing dependencies&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/#cloning-the-nginx-javascript-github-repository&#34;&gt;Cloning the NGINX JavaScript GitHub repository&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/#building-standalone-command-line-interface-utility-optional&#34;&gt;Building standalone command line interface utility (optional)&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/#cloning-the-nginx-github-repository&#34;&gt;Cloning the NGINX GitHub repository&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/#building-nginx-javascript-as-a-module-of-nginx&#34;&gt;Building NGINX JavaScript as a module of NGINX&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/#nginx-javascript-technical-specifications&#34;&gt;NGINX JavaScript technical specifications&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/#supported-distributions&#34;&gt;Supported distributions&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/#supported-deployment-environments&#34;&gt;Supported deployment environments&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/#supported-nginx-versions&#34;&gt;Supported NGINX versions&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/#sizing-recommendations&#34;&gt;Sizing recommendations&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/#asking-questions-reporting-issues-and-contributing&#34;&gt;Asking questions, reporting issues, and contributing&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/#change-log&#34;&gt;Change log&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/#license&#34;&gt;License&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h1&gt;How it works&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://nginx.org/en/docs/njs/&#34;&gt;NGINX JavaScript&lt;/a&gt; is provided as two &lt;a href=&#34;https://nginx.org/en/linux_packages.html#dynmodules&#34;&gt;dynamic modules&lt;/a&gt; for NGINX (&lt;a href=&#34;https://nginx.org/en/docs/http/ngx_http_js_module.html&#34;&gt;ngx_http_js_module&lt;/a&gt; and &lt;a href=&#34;https://nginx.org/en/docs/stream/ngx_stream_js_module.html&#34;&gt;ngx_stream_js_module&lt;/a&gt;) and can be added to any supported &lt;a href=&#34;https://nginx.org/en/download.html&#34;&gt;NGINX Open Source&lt;/a&gt; or &lt;a href=&#34;https://www.f5.com/products/nginx/nginx-plus&#34;&gt;NGINX Plus&lt;/a&gt; installation without recompilation.&lt;/p&gt; &#xA;&lt;p&gt;The NJS module allows NGINX administrators to:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Add complex access control and security checks before requests reach upstream servers&lt;/li&gt; &#xA; &lt;li&gt;Manipulate response headers&lt;/li&gt; &#xA; &lt;li&gt;Write flexible, asynchronous content handlers, filters, and more!&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;See &lt;a href=&#34;https://github.com/nginx/njs-examples/&#34;&gt;examples&lt;/a&gt; and our various projects developed with NJS:&lt;/p&gt; &#xA;&lt;h4&gt;&lt;a href=&#34;https://github.com/nginxinc/nginx-openid-connect&#34;&gt;https://github.com/nginxinc/nginx-openid-connect&lt;/a&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Extends NGINX Plus functionality to communicate directly with OIDC-compatible Identity Providers, authenticating users and authorizing content delivered by NGINX Plus.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;a href=&#34;https://github.com/nginxinc/nginx-saml&#34;&gt;https://github.com/nginxinc/nginx-saml&lt;/a&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Reference implementation of NGINX Plus as a service provider for SAML authentication.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;a href=&#34;https://github.com/nginxinc/njs-prometheus-module&#34;&gt;https://github.com/nginxinc/njs-prometheus-module&lt;/a&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Exposes Prometheus metrics endpoint directly from NGINX Plus.&lt;/p&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;[!TIP] NJS can also be used with the &lt;a href=&#34;https://unit.nginx.org/&#34;&gt;NGINX Unit&lt;/a&gt; application server. Learn more about NGINX Unit&#39;s &lt;a href=&#34;https://unit.nginx.org/controlapi/&#34;&gt;Control API&lt;/a&gt; and how to &lt;a href=&#34;https://unit.nginx.org/scripting/&#34;&gt;define function calls with NJS&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;h1&gt;Downloading and installing&lt;/h1&gt; &#xA;&lt;p&gt;Follow these steps to download and install precompiled NGINX and NGINX JavaScript Linux binaries. You may also choose to &lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/#building-from-source&#34;&gt;build the module locally from source code&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Provisioning the NGINX package repository&lt;/h2&gt; &#xA;&lt;p&gt;Follow &lt;a href=&#34;https://nginx.org/en/linux_packages.html&#34;&gt;this guide&lt;/a&gt; to add the official NGINX package repository to your system and install NGINX Open Source. If you already have NGINX Open Source or NGINX Plus installed, skip the NGINX installation portion in the last step.&lt;/p&gt; &#xA;&lt;h2&gt;Installing the NGINX JavaScript modules&lt;/h2&gt; &#xA;&lt;p&gt;Once the repository has been provisioned, you may install NJS by issuing the following command:&lt;/p&gt; &#xA;&lt;h3&gt;Ubuntu or Debian based systems&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;sudo apt install nginx-module-njs&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;RHEL, RedHat and its derivatives&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;sudo yum install nginx-module-njs&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Alpine or similar systems&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;sudo apk add nginx-module-njs@nginx&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;SuSE, SLES or similar systems&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;sudo zypper install nginx-module-njs&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;[!TIP] The package repository includes an alternate module that enables debug symbols. Although not recommended for production environments, this module may be helpful when developing NJS-based configurations. To download and install the debug version of the module, replace the module name in the previous command with &lt;code&gt;nginx-module-njs-dbg&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;h2&gt;Installed files and locations&lt;/h2&gt; &#xA;&lt;p&gt;The package installation scripts install two modules, supporting NGINX &lt;a href=&#34;https://nginx.org/en/docs/http/ngx_http_core_module.html#http&#34;&gt;&lt;code&gt;http&lt;/code&gt;&lt;/a&gt; and &lt;a href=&#34;https://nginx.org/en/docs/stream/ngx_stream_core_module.html#stream&#34;&gt;&lt;code&gt;stream&lt;/code&gt;&lt;/a&gt; contexts.&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;a href=&#34;https://nginx.org/en/docs/http/ngx_http_js_module.html&#34;&gt;ngx_http_js_module&lt;/a&gt;&lt;/p&gt; &lt;p&gt;This NJS module enables manipulation of data transmitted over HTTP.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;a href=&#34;https://nginx.org/en/docs/stream/ngx_stream_js_module.html&#34;&gt;ngx_stream_js_module&lt;/a&gt;&lt;/p&gt; &lt;p&gt;This NJS module enables manipulation of data transmitted via stream protocols such as TCP and UDP.&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;By default, both modules are installed into the &lt;code&gt;/etc/nginx/modules&lt;/code&gt; directory.&lt;/p&gt; &#xA;&lt;h1&gt;Getting started with NGINX JavaScript&lt;/h1&gt; &#xA;&lt;p&gt;Usage of NJS involves enabling the module, adding JavaScript files with defined functions, and invoking exported functions in NGINX configuration files.&lt;/p&gt; &#xA;&lt;h2&gt;Verify NGINX is running&lt;/h2&gt; &#xA;&lt;p&gt;NGINX JavaScript is a module for NGINX Open Source or NGINX Plus. If you haven&#39;t done so already, follow these steps to install &lt;a href=&#34;https://docs.nginx.com/nginx/admin-guide/installing-nginx/installing-nginx-open-source/&#34;&gt;NGINX Open Source&lt;/a&gt; or &lt;a href=&#34;https://docs.nginx.com/nginx/admin-guide/installing-nginx/installing-nginx-plus/&#34;&gt;NGINX Plus&lt;/a&gt;. Once installed, ensure the NGINX instance is running and able to respond to HTTP requests.&lt;/p&gt; &#xA;&lt;h3&gt;Starting NGINX&lt;/h3&gt; &#xA;&lt;p&gt;Issue the following command to start NGINX:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;sudo nginx&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Verify NGINX is responding to HTTP requests&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;curl -I 127.0.0.1&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;You should see the following response:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;HTTP/1.1 200 OK&#xA;Server: nginx/1.25.5&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Enabling the NGINX JavaScript modules&lt;/h2&gt; &#xA;&lt;p&gt;Once installed, either (or both) NJS module(s) must be included in the NGINX configuration file. On most systems, the NGINX configuration file is located at &lt;code&gt;/etc/nginx/nginx.conf&lt;/code&gt; by default.&lt;/p&gt; &#xA;&lt;h3&gt;Edit the NGINX configuration file&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;sudo vi /etc/nginx/nginx.conf&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Enable dynamic loading of NJS modules&lt;/h3&gt; &#xA;&lt;p&gt;Use the &lt;a href=&#34;https://nginx.org/en/docs/ngx_core_module.html#load_module&#34;&gt;load_module&lt;/a&gt; directive in the top-level (“main”) context to enable either (or both) module(s).&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-nginx&#34;&gt;load_module modules/ngx_http_js_module.so;&#xA;load_module modules/ngx_stream_js_module.so;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Basics of writing .js script files&lt;/h2&gt; &#xA;&lt;p&gt;NJS script files are typically named with a .js extension and placed in the &lt;code&gt;/etc/nginx/njs/&lt;/code&gt; directory. They are usually comprised of functions that are then exported, making them available in NGINX configuration files.&lt;/p&gt; &#xA;&lt;h2&gt;Reference of custom objects, methods, and properties&lt;/h2&gt; &#xA;&lt;p&gt;NJS provides a collection of objects with associated methods and properties that are not part of ECMAScript definitions. See the &lt;a href=&#34;https://nginx.org/en/docs/njs/reference.html&#34;&gt;complete reference&lt;/a&gt; to these objects and how they can be used to further extend and customize NGINX.&lt;/p&gt; &#xA;&lt;h2&gt;Example: Hello World&lt;/h2&gt; &#xA;&lt;p&gt;Here&#39;s a basic &#34;Hello World&#34; example.&lt;/p&gt; &#xA;&lt;h3&gt;example.js&lt;/h3&gt; &#xA;&lt;p&gt;The &lt;code&gt;hello&lt;/code&gt; function in this file returns an HTTP 200 OK status response code along with the string &#34;Hello World!&#34;, followed by a line feed. The function is then exported for use in an NGINX configuration file.&lt;/p&gt; &#xA;&lt;p&gt;Add this file to the &lt;code&gt;/etc/nginx/njs&lt;/code&gt; directory:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-JavaScript&#34;&gt;function hello(r) {&#xA;  r.return(200, &#34;Hello world!\n&#34;);&#xA;}&#xA;&#xA;export default {hello}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;nginx.conf&lt;/h3&gt; &#xA;&lt;p&gt;We modify our NGINX configuration (&lt;code&gt;/etc/nginx/nginx.conf&lt;/code&gt;) to import the JavaScript file and execute the function under specific circumstances.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-nginx&#34;&gt;# Load the ngx_http_js_module module&#xA;load_module modules/ngx_http_js_module.so;&#xA;&#xA;events {}&#xA;&#xA;http {&#xA;  # Set the path to our njs JavaScript files&#xA;  js_path &#34;/etc/nginx/njs/&#34;;&#xA;&#xA;  # Import our JavaScript file into the variable &#34;main&#34;&#xA;  js_import main from http/hello.js;&#xA;&#xA;  server {&#xA;    listen 80;&#xA;&#xA;    location / {&#xA;      # Execute the &#34;hello&#34; function defined in our JavaScript file on all HTTP requests&#xA;      # and respond with the contents of our function.&#xA;      js_content main.hello;&#xA;    }&#xA;  }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;For a full list of njs directives, see the &lt;a href=&#34;https://nginx.org/en/docs/http/ngx_http_js_module.html&#34;&gt;ngx_http_js_module&lt;/a&gt; and &lt;a href=&#34;https://nginx.org/en/docs/stream/ngx_stream_js_module.html&#34;&gt;ngx_stream_js_module&lt;/a&gt; module documentation pages.&lt;/p&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;[!TIP] A more detailed version of this and other examples can be found in the official &lt;a href=&#34;https://github.com/nginx/njs-examples/tree/master&#34;&gt;njs-examples repository&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;h2&gt;The NJS command line interface (CLI)&lt;/h2&gt; &#xA;&lt;p&gt;NGINX JavaScript installs with a command line interface utility. The interface can be opened as an interactive shell or used to process JavaScript syntax from predefined files or standard input. Since the utility runs independently, NGINX-specific objects such as &lt;a href=&#34;https://nginx.org/en/docs/njs/reference.html#http&#34;&gt;HTTP&lt;/a&gt; and &lt;a href=&#34;https://nginx.org/en/docs/njs/reference.html#http&#34;&gt;Stream&lt;/a&gt; are not available within its runtime.&lt;/p&gt; &#xA;&lt;h3&gt;Example usage of the interactive CLI&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-JavaScript&#34;&gt;$ njs&#xA;&amp;gt;&amp;gt; globalThis&#xA;global {&#xA;  njs: njs {&#xA;    version: &#39;0.8.4&#39;&#xA;  },&#xA;  global: [Circular],&#xA;  process: process {&#xA;    argv: [&#39;/usr/bin/njs&#39;],&#xA;    env: {&#xA;      PATH: &#39;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&#39;,&#xA;      HOSTNAME: &#39;f777c149d4f8&#39;,&#xA;      TERM: &#39;xterm&#39;,&#xA;      NGINX_VERSION: &#39;1.25.5&#39;,&#xA;      NJS_VERSION: &#39;0.8.4&#39;,&#xA;      PKG_RELEASE: &#39;1~buster&#39;,&#xA;      HOME: &#39;/root&#39;&#xA;    }&#xA;  },&#xA;  console: {&#xA;    log: [Function: native],&#xA;    dump: [Function: native],&#xA;    time: [Function: native],&#xA;    timeEnd: [Function: native]&#xA;  },&#xA;  print: [Function: native]&#xA;}&#xA;&amp;gt;&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Example usage of the non-interactive CLI&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ echo &#34;2**3&#34; | njs -q&#xA;8&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h1&gt;Building from source&lt;/h1&gt; &#xA;&lt;p&gt;The following steps can be used to build NGINX JavaScript as a dynamic module to be integrated into NGINX or a standalone binary for use as a command line interface utility.&lt;/p&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;[!IMPORTANT] To build the module for use with NGINX, you will also need to clone, configure and build NGINX by following the steps outlined in this document.&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;h2&gt;Installing dependencies&lt;/h2&gt; &#xA;&lt;p&gt;Most Linux distributions will require several dependencies to be installed in order to build NGINX and NGINX JavaScript. The following instructions are specific to the &lt;code&gt;apt&lt;/code&gt; package manager, widely available on most Ubuntu/Debian distributions and their derivatives.&lt;/p&gt; &#xA;&lt;h3&gt;Installing compiler and make utility&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;sudo apt install gcc make&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Installing dependency libraries&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;sudo apt install libpcre3-dev zlib1g-dev libssl-dev libxml2-dev libxslt-dev&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;[!WARNING] This is the minimal set of dependency libraries needed to build NGINX and NJS. Other dependencies may be required if you choose to build NGINX with additional modules. Monitor the output of the &lt;code&gt;configure&lt;/code&gt; command discussed in the following sections for information on which modules may be missing.&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;h2&gt;Cloning the NGINX JavaScript GitHub repository&lt;/h2&gt; &#xA;&lt;p&gt;Using your preferred method, clone the NGINX JavaScript repository into your development directory. See &lt;a href=&#34;https://docs.github.com/en/repositories/creating-and-managing-repositories/cloning-a-repository&#34;&gt;Cloning a GitHub Repository&lt;/a&gt; for additional help.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;https://github.com/nginx/njs.git&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Building the standalone command line interface utility (Optional)&lt;/h2&gt; &#xA;&lt;p&gt;The following steps are optional and only needed if you choose to build NJS as a standalone utility.&lt;/p&gt; &#xA;&lt;h3&gt;Install dependencies&lt;/h3&gt; &#xA;&lt;p&gt;To use the NJS interactive shell, you will need to install the libedit-dev library&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;sudo apt install libedit-dev&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Configure and build&lt;/h3&gt; &#xA;&lt;p&gt;Run the following commands from the root directory of your cloned repository:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;./configure&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Build NGINX JavaScript:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;make&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The utility should now be available at &lt;code&gt;&amp;lt;NJS_SRC_ROOT_DIR&amp;gt;/build/njs&lt;/code&gt;. See &lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/#the-njs-command-line-interface-cli&#34;&gt;The NJS Command Line Interface (CLI)&lt;/a&gt; for information on usage.&lt;/p&gt; &#xA;&lt;h2&gt;Cloning the NGINX GitHub repository&lt;/h2&gt; &#xA;&lt;p&gt;Clone the NGINX source code repository in a directory outside of the previously cloned NJS source repository.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;https://github.com/nginx/nginx.git&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Building NGINX JavaScript as a module of NGINX&lt;/h2&gt; &#xA;&lt;p&gt;To build NGINX JavaScript as a dynamic module, execute the following commands from the NGINX source code repository&#39;s root directory:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;auto/configure --add-dynamic-module=&amp;lt;NJS_SRC_ROOT_DIR&amp;gt;/nginx&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;[!WARNING] By default, this method will only build the &lt;code&gt;ngx_http_js_module&lt;/code&gt; module. To use NJS with the NGINX Stream module, you&#39;ll need to enable it during the &lt;code&gt;configure&lt;/code&gt; step so it builds with the NGINX binary. Doing so will automatically compile the &lt;code&gt;ngx_stream_js_module&lt;/code&gt; module when NJS is added to the build. One way of accomplishing this is to alter the &lt;code&gt;configure&lt;/code&gt; step to:&lt;/p&gt; &#xA; &lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;auto/configure --with-stream --add-dynamic-module=&amp;lt;NJS_SRC_ROOT_DIR&amp;gt;/nginx&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;p&gt;Compile the module&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;make&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;[!TIP] To build NGINX with NGINX JavaScript embedded into a single binary, alter the &lt;code&gt;configure&lt;/code&gt; step to the following:&lt;/p&gt; &#xA; &lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;auto/configure --add-module=&amp;lt;NJS_SRC_ROOT_DIR&amp;gt;/nginx&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;h3&gt;Install module&lt;/h3&gt; &#xA;&lt;p&gt;If built as a dynamic module(s), the NGINX JavaScript module(s) will be available in the &lt;code&gt;&amp;lt;NGINX_SRC_ROOT_DIR&amp;gt;/objs/&lt;/code&gt; directory. The module(s) can then be copied to an existing NGINX installation and enabled. See &lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/#enabling-the-nginx-javascipt-modules&#34;&gt;Enabling the NGINX JavaScript Modules&lt;/a&gt; for details.&lt;/p&gt; &#xA;&lt;h3&gt;Install compiled NGINX and NGINX JavaScript binaries&lt;/h3&gt; &#xA;&lt;p&gt;Alternatively, you may choose to install the built NGINX and NGINX JavaScript binaries by issuing the following command:&lt;/p&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;[!IMPORTANT] If built into the NGINX binary as a standard (not dynamic) module, this will be the easiest method of installation&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;make install&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;By default, the NGINX binary will be installed into &lt;code&gt;/usr/local/nginx/sbin/nginx&lt;/code&gt;. The NGINX JavaScript module(s) will be copied to &lt;code&gt;/usr/local/nginx/modules/&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h1&gt;NGINX JavaScript technical specifications&lt;/h1&gt; &#xA;&lt;p&gt;Technical specifications for NJS are identical to those of NGINX.&lt;/p&gt; &#xA;&lt;h2&gt;Supported distributions&lt;/h2&gt; &#xA;&lt;p&gt;See &lt;a href=&#34;https://nginx.org/en/#tested_os_and_platforms&#34;&gt;Tested Operating Systems and Platforms&lt;/a&gt; for a complete list of supported distributions.&lt;/p&gt; &#xA;&lt;h2&gt;Supported deployment environments&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Container&lt;/li&gt; &#xA; &lt;li&gt;Public cloud (AWS, Google Cloud Platform, Microsoft Azure)&lt;/li&gt; &#xA; &lt;li&gt;Virtual machine&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Supported NGINX versions&lt;/h2&gt; &#xA;&lt;p&gt;NGINX JavaScript is supported by all NGINX Open Source versions starting with nginx-1.14 and all NGINX Plus versions starting with NGINX Plus R15.&lt;/p&gt; &#xA;&lt;h1&gt;Asking questions, reporting issues, and contributing&lt;/h1&gt; &#xA;&lt;p&gt;We encourage you to engage with us. Please see the &lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/CONTRIBUTING.md&#34;&gt;Contributing&lt;/a&gt; guide for information on how to ask questions, report issues and contribute code.&lt;/p&gt; &#xA;&lt;h1&gt;Change log&lt;/h1&gt; &#xA;&lt;p&gt;See our &lt;a href=&#34;https://nginx.org/en/docs/njs/changes.html&#34;&gt;release page&lt;/a&gt; to keep track of updates.&lt;/p&gt; &#xA;&lt;h1&gt;License&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://raw.githubusercontent.com/nginx/njs/master/LICENSE&#34;&gt;2-clause BSD-like license&lt;/a&gt;&lt;/p&gt; &#xA;&lt;hr&gt; &#xA;&lt;p&gt;Additional documentation available at: &lt;a href=&#34;https://nginx.org/en/docs/njs/&#34;&gt;https://nginx.org/en/docs/njs/&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;©2024 F5, Inc. All rights reserved. &lt;a href=&#34;https://www.f5.com/products/nginx&#34;&gt;https://www.f5.com/products/nginx&lt;/a&gt;&lt;/p&gt;</summary>
  </entry>
</feed>