<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub C Weekly Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2024-07-28T01:36:26Z</updated>
  <subtitle>Weekly Trending of C in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>strongtz/i915-sriov-dkms</title>
    <updated>2024-07-28T01:36:26Z</updated>
    <id>tag:github.com,2024-07-28:/strongtz/i915-sriov-dkms</id>
    <link href="https://github.com/strongtz/i915-sriov-dkms" rel="alternate"></link>
    <summary type="html">&lt;p&gt;dkms module of Linux i915 driver with SR-IOV support&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;Linux i915 driver (dkms module) with SR-IOV support for linux 6.1 ~ linux 6.9&lt;/h1&gt; &#xA;&lt;p&gt;Originally from &lt;a href=&#34;https://github.com/intel/linux-intel-lts/tree/lts-v5.15.49-adl-linux-220826T092047Z/drivers/gpu/drm/i915&#34;&gt;linux-intel-lts&lt;/a&gt; Update to &lt;a href=&#34;https://github.com/intel/linux-intel-lts/tree/lts-v6.1.12-linux-230415T124447Z/drivers/gpu/drm/i915&#34;&gt;6.1.12&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Update Notice&lt;/h2&gt; &#xA;&lt;p&gt;The i915 module parameter to enable SR-IOV functionality has changed since &lt;a href=&#34;https://github.com/strongtz/i915-sriov-dkms/commit/092d1cf126f31eca3c1de4673e537c3c5f1e6ab4&#34;&gt;commit #092d1cf&lt;/a&gt;. If you are updating from previous version, please modify &lt;code&gt;i915.enable_guc=7&lt;/code&gt; to &lt;strong&gt;&lt;code&gt;i915.enable_guc=3 i915.max_vfs=7&lt;/code&gt;&lt;/strong&gt; in your kernel command line or in the corresponding modprobe config file.&lt;/p&gt; &#xA;&lt;h2&gt;Warning&lt;/h2&gt; &#xA;&lt;p&gt;This package is &lt;strong&gt;highly experimental&lt;/strong&gt;, you should only use it when you know what you are doing.&lt;/p&gt; &#xA;&lt;p&gt;You need to install this dkms module in &lt;strong&gt;both host and guest!&lt;/strong&gt;&lt;/p&gt; &#xA;&lt;p&gt;For Arch Linux users, it is available in AUR. &lt;a href=&#34;https://aur.archlinux.org/packages/i915-sriov-dkms-git&#34;&gt;i915-sriov-dkms-git&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;Tested kernel versions:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Proxmox VE Host: &lt;code&gt;pve-kernel-6.1.0-1-pve ~ 6.2.9-1-pve&lt;/code&gt;, &lt;code&gt;proxmox-kernel-6.5.13-3-pve ~ 6.8.8-2-pve&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;Debian 12 VM Guest: &lt;code&gt;linux-image-6.5.0-0.deb12.4-amd64 ~ 6.7.12+bpo&lt;/code&gt; (6.1 requires custom kernel, see below)&lt;/li&gt; &#xA; &lt;li&gt;Ubuntu 22.04 VM Guest: &lt;code&gt;linux-image-6.2.0-39-generic ~ 6.5.0-44-generic&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;Gentoo VM Guest: &lt;code&gt;gentoo-sources-6.1.19-gentoo ~ 6.2.11-gentoo&lt;/code&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Tested usages:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;VA-API video acceleration in VM (need to remove any other display device such as virtio-gpu)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Required Kernel Parameters&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code&gt;intel_iommu=on i915.enable_guc=3 i915.max_vfs=7&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Creating Virtual Functions (VF)&lt;/h2&gt; &#xA;&lt;pre&gt;&lt;code&gt;echo 2 &amp;gt; /sys/devices/pci0000:00/0000:00:02.0/sriov_numvfs&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;You can create up to 7 VFs on Intel UHD Graphics&lt;/p&gt; &#xA;&lt;h2&gt;PVE Host Installation Steps (Tested Kernel 6.5 and 6.8)&lt;/h2&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Clone this repo&lt;/li&gt; &#xA; &lt;li&gt;Install build tools: &lt;code&gt;apt install build-* dkms&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;Install the kernel and headers for desired version: &lt;code&gt;apt install proxmox-headers-6.8.8-2-pve proxmox-kernel-6.8.8-2-pve&lt;/code&gt; (for unsigned kernel).&lt;/li&gt; &#xA; &lt;li&gt;Change into the root of the cloned repository and run &lt;code&gt;dkms add .&lt;/code&gt;.&lt;/li&gt; &#xA; &lt;li&gt;Execute the command &lt;code&gt;dkms install -m i915-sriov-dkms -v 2024.07.19 --force&lt;/code&gt; or &lt;code&gt;dkms install -m i915-sriov-dkms -v $(cat VERSION) --force&lt;/code&gt; for a version-independent command.&lt;/li&gt; &#xA; &lt;li&gt;Once finished, the kernel commandline needs to be adjusted: &lt;code&gt;nano /etc/default/grub&lt;/code&gt; and change &lt;code&gt;GRUB_CMDLINE_LINUX_DEFAULT&lt;/code&gt; to &lt;code&gt;intel_iommu=on i915.enable_guc=3 i915.max_vfs=7&lt;/code&gt;, or add to it if you have other arguments there already.&lt;/li&gt; &#xA; &lt;li&gt;Optionally pin the kernel version and update the boot config via &lt;code&gt;proxmox-boot-tool&lt;/code&gt;.&lt;/li&gt; &#xA; &lt;li&gt;In order to enable the VFs, a &lt;code&gt;sysfs&lt;/code&gt; attribute must be set. Install &lt;code&gt;sysfsutils&lt;/code&gt;, then do &lt;code&gt;echo &#34;devices/pci0000:00/0000:00:02.0/sriov_numvfs = 7&#34; &amp;gt; /etc/sysfs.conf&lt;/code&gt;, assuming your iGPU is on 00:02 bus. If not, use &lt;code&gt;lspci | grep VGA&lt;/code&gt; to find the PCIe bus your iGPU is on.&lt;/li&gt; &#xA; &lt;li&gt;Reboot the system.&lt;/li&gt; &#xA; &lt;li&gt;When the system is back up again, you should see the number of VFs under 02:00.1 - 02:00.7. Again, assuming your iGPU is on 00:02 bus.&lt;/li&gt; &#xA; &lt;li&gt;You can passthrough the VFs to LXCs or VMs. However, never touch the PF which is 02:00.0 under any circumstances.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h2&gt;PVE Host Installation Steps (Tested Kernel 6.1 and 6.2)&lt;/h2&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Clone this repo&lt;/li&gt; &#xA; &lt;li&gt;Install some tools. &lt;code&gt;apt install build-* dkms&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;Go inside the repo, edit the &lt;code&gt;dkms.conf&lt;/code&gt;file, change the &lt;code&gt;PACKAGE_NAME&lt;/code&gt; to &lt;code&gt;i915-sriov-dkms&lt;/code&gt;, and change the &lt;code&gt;PACKAGE_VERSION&lt;/code&gt; to &lt;code&gt;6.1&lt;/code&gt;. Save the file.&lt;/li&gt; &#xA; &lt;li&gt;Move the entire content of the repository to &lt;code&gt;/usr/src/i915-sriov-dkms-6.1&lt;/code&gt;. The folder name will be the DKMS package name.&lt;/li&gt; &#xA; &lt;li&gt;Execute command &lt;code&gt;dkms install -m i915-sriov-dkms -v 6.1 --force&lt;/code&gt;. &lt;code&gt;-m&lt;/code&gt; argument denotes the package name, and it should be the same as the folder name which contains the package content. &lt;code&gt;-v&lt;/code&gt; argument denotes the package version, which we have specified in the &lt;code&gt;dkms.conf&lt;/code&gt; as &lt;code&gt;6.1&lt;/code&gt;. &lt;code&gt;--force&lt;/code&gt; argument will reinstall the module even if a module with same name has been already installed.&lt;/li&gt; &#xA; &lt;li&gt;The kernel module should begin building.&lt;/li&gt; &#xA; &lt;li&gt;Once finished, we need to make a few changes to the kernel commandline. &lt;code&gt;nano /etc/default/grub&lt;/code&gt; and change &lt;code&gt;GRUB_CMDLINE_LINUX_DEFAULT&lt;/code&gt; to &#39;intel_iommu=on i915.enable_guc=3 i915.max_vfs=7`, or add to it if you have other arguments there already.&lt;/li&gt; &#xA; &lt;li&gt;Update &lt;code&gt;grub&lt;/code&gt; and &lt;code&gt;initramfs&lt;/code&gt; by executing &lt;code&gt;update-grub&lt;/code&gt; and &lt;code&gt;update-initramfs -u&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;In order to enable the VFs, we need to modify some variables in the &lt;code&gt;sysfs&lt;/code&gt;. Install &lt;code&gt;sysfsutils&lt;/code&gt;, then do &lt;code&gt;echo &#34;devices/pci0000:00/0000:00:02.0/sriov_numvfs = 7&#34; &amp;gt; /etc/sysfs.conf&lt;/code&gt;, assuming your iGPU is on 00:02 bus. If not, use &lt;code&gt;lspci | grep VGA&lt;/code&gt; to find the PCIe bus your iGPU is on.&lt;/li&gt; &#xA; &lt;li&gt;Reboot the system.&lt;/li&gt; &#xA; &lt;li&gt;When the system is back up again, you should see the number of VFs you specified show up under 02:00.1 - 02:00.7. Again, assuming your iGPU is on 00:02 bus.&lt;/li&gt; &#xA; &lt;li&gt;You can passthrough the VFs to LXCs or VMs. However, never touch the PF which is 02:00.0 under any circumstances.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h2&gt;Linux Guest Installation Steps (Tested Kernel 6.2)&lt;/h2&gt; &#xA;&lt;p&gt;We will need to run the same driver under Linux guests. We can repeat the steps for installing the driver. However, when modifying command line defaults, we use &lt;code&gt;i915.enable_guc=3&lt;/code&gt; instead of &lt;code&gt;i915.enable_guc=3 i915.max_vfs=7&lt;/code&gt;. Furthermore, we don&#39;t need to use &lt;code&gt;sysfsutils&lt;/code&gt; to create any more VFs since we ARE using a VF. Once that&#39;s done, update &lt;code&gt;grub&lt;/code&gt; and &lt;code&gt;initramfs&lt;/code&gt;, then reboot. Once the VM is back up again, do &lt;code&gt;dmesg | grep i915&lt;/code&gt; to see if your VF is recognized by the kernel. Optionally, install &lt;code&gt;vainfo&lt;/code&gt;, then do &lt;code&gt;vainfo&lt;/code&gt; to see if the iGPU has been picked up by the VAAPI.&lt;/p&gt; &#xA;&lt;h2&gt;Windows Guest&lt;/h2&gt; &#xA;&lt;p&gt;It is required to set the host CPU type in Proxmox to &#34;host&#34;. I was able to get it working without further fiddling in the config files but your mileage may vary (i5-12500T with UHD 770). I&#39;ve used Intel gfx version 4316 to get it working. Here&#39;s a link to download it. (&lt;a href=&#34;https://www.intel.com/content/www/us/en/download/741626/780560/intel-arc-pro-graphics-windows.html&#34;&gt;https://www.intel.com/content/www/us/en/download/741626/780560/intel-arc-pro-graphics-windows.html&lt;/a&gt;)&lt;/p&gt; &#xA;&lt;h2&gt;Debian Guest Installation&lt;/h2&gt; &#xA;&lt;p&gt;Debian poses some additional challenges because not all of the necessary modules are compiled in by default. That leads us to building a custom kernel with a modified version of their configuration. The following steps were tested on Debian 11.6 &#34;bullseye&#34; which includes the 5.10.0 kernel out-of-the-box. We need, at minimum, the 6.1 kernel&lt;/p&gt; &#xA;&lt;p&gt;First, the VM configuration:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;BIOS: OVMF (UEFI)&lt;/li&gt; &#xA; &lt;li&gt;Display: Default&lt;/li&gt; &#xA; &lt;li&gt;Machine: q35&lt;/li&gt; &#xA; &lt;li&gt;Secure boot must be disabled in the UEFI BIOS, otherwise the new, unsigned, kernel will not start.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;With the 6.1 kernel not being available in the stable repository, the testing repository must be added. The following steps are based on &lt;a href=&#34;https://serverfault.com/questions/22414/how-can-i-run-debian-stable-but-install-some-packages-from-testing&#34;&gt;these instructions&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; All of these commands were run by the root user. Run as a regular user by prepending &lt;code&gt;sudo&lt;/code&gt;, if you prefer.&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Create &lt;code&gt;/etc/apt/preferences.d/stable.pref&lt;/code&gt;:&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;cat &amp;lt;&amp;lt;EOT &amp;gt;&amp;gt; /etc/apt/preferences.d/stable.pref&#xA;# 500 &amp;lt;= P &amp;lt; 990: causes a version to be installed unless there is a&#xA;# version available belonging to the target release or the installed&#xA;# version is more recent&#xA;Package: *&#xA;Pin: release a=stable&#xA;Pin-Priority: 900&#xA;EOT&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Create &lt;code&gt;/etc/apt/preferences.d/testing.pref&lt;/code&gt;:&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;cat &amp;lt;&amp;lt;EOT &amp;gt;&amp;gt; /etc/apt/preferences.d/testing.pref&#xA;# 100 &amp;lt;= P &amp;lt; 500: causes a version to be installed unless there is a&#xA;# version available belonging to some other distribution or the installed&#xA;# version is more recent&#xA;Package: *&#xA;Pin: release a=testing&#xA;Pin-Priority: 400&#xA;EOT&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Move &lt;code&gt;/etc/apt/sources.list&lt;/code&gt; to &lt;code&gt;/etc/apt/sources.list.d/stable.list&lt;/code&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;mv /etc/apt/sources.list /etc/apt/sources.list.d/stable.list&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Create &lt;code&gt;/etc/apt/sources.list.d/testing.list&lt;/code&gt; as follows:&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;sed &#39;s/bullseye/testing/g&#39; /etc/apt/sources.list.d/stable.list &amp;gt; /etc/apt/sources.list.d/testing.list&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Now the process of building and installing a new kernel begins&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Use &lt;code&gt;apt&lt;/code&gt; to fully update the system.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;apt update &amp;amp;&amp;amp; apt -y dist-upgrade &amp;amp;&amp;amp; apt -y autoremove&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Find the latest version of the 6.1 kernel and install it&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;apt search &#39;^linux-image-6.*-amd64&#39;&#xA;  linux-image-6.1.0-7-amd64/testing 6.1.20-1 amd64&#xA;    Linux 6.1 for 64-bit PCs (signed)&#xA;apt -y install linux-image-6.1.0-7-amd64&#xA;reboot&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Install the 6.1 kernel source and configure it.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;apt -y install dkms dwarves git linux-source-6.1 pahole vainfo&#xA;cd /usr/src&#xA;tar xJvf linux-source-6.1.tar.xz&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Copy Debian&#39;s original build configuration into the source tree:&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;cp /boot/config-6.1.*-amd64 /usr/src/linux-source-6.1/.config&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Edit &lt;code&gt;/usr/src/linux-source-6.1/.config&lt;/code&gt; and ensure the following parameters exist:&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;CONFIG_INTEL_MEI_PXP=m&#xA;CONFIG_DRM_I915_PXP=y&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Build and install the kernel&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;cd /usr/src/linux-source-6.1&#xA;make deb-pkg LOCALVERSION=-sriov KDEB_PKGVERSION=$(make kernelversion)-1&#xA;&#xA;    ...four hours later...&#xA;&#xA;dpkg -i /usr/src/*.deb&#xA;reboot&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Verify the new kernel is indeed running:&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;uname -r&#xA;6.1.15-sriov&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Build and install the i915-sriov module&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;cd /usr/src&#xA;git clone https://github.com/strongtz/i915-sriov-dkms i915-sriov-dkms-6.1&#xA;&#xA;    edit /usr/src/i915-sriov-dkms-6.1/dkms.conf with the following:&#xA;    PACKAGE_NAME=&#34;i915-sriov-dkms&#34;&#xA;    PACKAGE_VERSION=&#34;6.1&#34;&#xA;&#xA;dkms install --force -m i915-sriov-dkms -v 6.1&#xA;&#xA;    edit /etc/default/grub with the following:&#xA;    GRUB_CMDLINE_LINUX_DEFAULT=&#34;quiet i915.enable_guc=3&#34;&#xA;&#xA;update-grub&#xA;update-initramfs -u&#xA;poweroff&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;In Proxmox, add one of the 0000:00:02.x devices to the VM, then start the VM&lt;/li&gt; &#xA; &lt;li&gt;Log into the machine and verify that the module has loaded&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code&gt;# lspci | grep -i vga&#xA;06:10.0 VGA compatible controller: Intel Corporation Alder Lake-S GT1 [UHD Graphics 730] (rev 0c)&#xA;&#xA;# lspci -vs 06:10.0&#xA;06:10.0 VGA compatible controller: Intel Corporation Alder Lake-S GT1 [UHD Graphics 730] (rev 0c) (prog-if 00 [VGA controller])&#xA;&#x9;Subsystem: ASRock Incorporation Alder Lake-S GT1 [UHD Graphics 730]&#xA;&#x9;Physical Slot: 16-2&#xA;&#x9;Flags: bus master, fast devsel, latency 0, IRQ 42&#xA;&#x9;Memory at c1000000 (64-bit, non-prefetchable) [size=16M]&#xA;&#x9;Memory at 800000000 (64-bit, prefetchable) [size=512M]&#xA;&#x9;Capabilities: [ac] MSI: Enable+ Count=1/1 Maskable+ 64bit-&#xA;&#x9;Kernel driver in use: i915&#xA;&#x9;Kernel modules: i915&#xA;&#xA;# dmesg | grep i915&#xA;[    6.461702] i915: loading out-of-tree module taints kernel.&#xA;[    6.462463] i915: module verification failed: signature and/or required key missing - tainting kernel&#xA;[    6.591228] i915 0000:06:10.0: Running in SR-IOV VF mode&#xA;[    6.592001] i915 0000:06:10.0: GuC interface version 0.1.0.0&#xA;[    6.592212] i915 0000:06:10.0: [drm] VT-d active for gfx access&#xA;[    6.592225] i915 0000:06:10.0: [drm] Using Transparent Hugepages&#xA;[    6.593437] i915 0000:06:10.0: GuC interface version 0.1.0.0&#xA;[    6.593564] i915 0000:06:10.0: GuC firmware PRELOADED version 1.0 submission:SR-IOV VF&#xA;[    6.593565] i915 0000:06:10.0: HuC firmware PRELOADED&#xA;[    6.595883] i915 0000:06:10.0: [drm] Protected Xe Path (PXP) protected content support initialized&#xA;[    6.595886] i915 0000:06:10.0: [drm] PMU not supported for this GPU.&#xA;[    6.595951] [drm] Initialized i915 1.6.0 20201103 for 0000:06:10.0 on minor 1&#xA;&#xA;# ls /dev/dri/render*&#xA;crw-rw---- 1 root render 226, 128 Jan 00 00:00 renderD128&#xA;&#xA;# vainfo&#xA;libva info: VA-API version 1.17.0&#xA;libva info: Trying to open /usr/lib/x86_64-linux-gnu/dri/iHD_drv_video.so&#xA;libva info: Found init function __vaDriverInit_1_17&#xA;libva info: va_openDriver() returns 0&#xA;vainfo: VA-API version: 1.17 (libva 2.12.0)&#xA;vainfo: Driver version: Intel iHD driver for Intel(R) Gen Graphics - 23.1.1 ()&#xA;vainfo: Supported profile and entrypoints&#xA;&#xA;    ... List of all the compression formats and profiles ...&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;The kernel DEB installation files can be copied to other, similar, Debian systems for use without recompiling.&lt;/li&gt; &#xA;&lt;/ul&gt;</summary>
  </entry>
  <entry>
    <title>aircrack-ng/aircrack-ng</title>
    <updated>2024-07-28T01:36:26Z</updated>
    <id>tag:github.com,2024-07-28:/aircrack-ng/aircrack-ng</id>
    <link href="https://github.com/aircrack-ng/aircrack-ng" rel="alternate"></link>
    <summary type="html">&lt;p&gt;WiFi security auditing tools suite&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;Aircrack-ng&lt;/h1&gt; &#xA;&lt;h2&gt;Badges&lt;/h2&gt; &#xA;&lt;h3&gt;GitHub CI&lt;/h3&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/almalinux.yml&#34;&gt;&lt;img src=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/almalinux.yml/badge.svg?event=push&#34; alt=&#34;Alma Linux CI&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/alpine.yml&#34;&gt;&lt;img src=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/alpine.yml/badge.svg?event=push&#34; alt=&#34;Alpine Linux&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/dragonflybsd.yml&#34;&gt;&lt;img src=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/dragonflybsd.yml/badge.svg?event=push&#34; alt=&#34;DragonFlyBSD CI&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/freebsd.yml&#34;&gt;&lt;img src=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/freebsd.yml/badge.svg?event=push&#34; alt=&#34;FreeBSD CI&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/gentoo.yml&#34;&gt;&lt;img src=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/gentoo.yml/badge.svg?sanitize=true&#34; alt=&#34;Gentoo CI&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/kali.yml&#34;&gt;&lt;img src=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/kali.yml/badge.svg?event=push&#34; alt=&#34;Kali Linux CI&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/linux.yml&#34;&gt;&lt;img src=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/linux.yml/badge.svg?event=push&#34; alt=&#34;Linux CI&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/linux-pcre.yml&#34;&gt;&lt;img src=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/linux-pcre.yml/badge.svg?event=push&#34; alt=&#34;Linux PCRE CI&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/macos.yml&#34;&gt;&lt;img src=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/macos.yml/badge.svg?event=push&#34; alt=&#34;macOS CI&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/netbsd.yml&#34;&gt;&lt;img src=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/netbsd.yml/badge.svg?event=push&#34; alt=&#34;NetBSD CI&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/openbsd.yml&#34;&gt;&lt;img src=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/openbsd.yml/badge.svg?event=push&#34; alt=&#34;OpenBSD CI&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/windows.yml&#34;&gt;&lt;img src=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/windows.yml/badge.svg?event=push&#34; alt=&#34;Windows CI&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h3&gt;Others&lt;/h3&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/scanbuild.yml&#34;&gt;&lt;img src=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/scanbuild.yml/badge.svg?sanitize=true&#34; alt=&#34;Clang Scan-build&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/codespell.yml&#34;&gt;&lt;img src=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/codespell.yml/badge.svg?sanitize=true&#34; alt=&#34;Codespell&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/coverity.yml&#34;&gt;&lt;img src=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/coverity.yml/badge.svg?sanitize=true&#34; alt=&#34;Coverity Scan&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/docker.yml&#34;&gt;&lt;img src=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/docker.yml/badge.svg?event=push&#34; alt=&#34;Docker (git) push to DockerHub&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/markdown-link.yml&#34;&gt;&lt;img src=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/markdown-link.yml/badge.svg?event=push&#34; alt=&#34;Markdown link&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/pvs-studio.yml&#34;&gt;&lt;img src=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/pvs-studio.yml/badge.svg?event=push&#34; alt=&#34;PVS-Studio Analysis&#34;&gt;&lt;/a&gt; &lt;a href=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/style.yml&#34;&gt;&lt;img src=&#34;https://github.com/aircrack-ng/aircrack-ng/actions/workflows/style.yml/badge.svg?event=push&#34; alt=&#34;Style &amp;amp; Consistency&#34;&gt;&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h3&gt;Repository versions&lt;/h3&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://img.shields.io/archlinux/v/extra/x86_64/aircrack-ng&#34; alt=&#34;Arch Linux package&#34;&gt; &lt;img src=&#34;https://img.shields.io/debian/v/aircrack-ng/stable?label=debian%20stable&#34; alt=&#34;Debian package&#34;&gt; &lt;img src=&#34;https://img.shields.io/debian/v/aircrack-ng/testing?label=debian%20testing&#34; alt=&#34;Debian package&#34;&gt; &lt;img src=&#34;https://img.shields.io/docker/v/aircrackng/git?color=blue&amp;amp;label=Docker%20Tag%20%7C%20git&#34; alt=&#34;Docker Image Version (latest by date)&#34;&gt; &lt;img src=&#34;https://img.shields.io/fedora/v/aircrack-ng&#34; alt=&#34;Fedora package&#34;&gt; &lt;img src=&#34;https://img.shields.io/homebrew/v/aircrack-ng&#34; alt=&#34;homebrew version&#34;&gt; &lt;img src=&#34;https://img.shields.io/ubuntu/v/aircrack-ng/bionic?label=Ubuntu%2018.04&#34; alt=&#34;Ubuntu package&#34;&gt; &lt;img src=&#34;https://img.shields.io/ubuntu/v/aircrack-ng/focal?label=Ubuntu%2020.04&#34; alt=&#34;Ubuntu package&#34;&gt; &lt;img src=&#34;https://img.shields.io/ubuntu/v/aircrack-ng/jammy?label=Ubuntu%2022.04&#34; alt=&#34;Ubuntu package&#34;&gt; &lt;img src=&#34;https://img.shields.io/ubuntu/v/aircrack-ng/kinetic?label=Ubuntu%2022.10&#34; alt=&#34;Ubuntu package&#34;&gt; &lt;img src=&#34;https://img.shields.io/ubuntu/v/aircrack-ng/lunar?label=Ubuntu%2023.04&#34; alt=&#34;Ubuntu package&#34;&gt; &lt;img src=&#34;https://img.shields.io/ubuntu/v/aircrack-ng/mantic?label=Ubuntu%2023.10&#34; alt=&#34;Ubuntu package&#34;&gt; &lt;img src=&#34;https://img.shields.io/ubuntu/v/aircrack-ng/noble?label=Ubuntu%2024.04&#34; alt=&#34;Ubuntu package&#34;&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Description&lt;/h2&gt; &#xA;&lt;p&gt;Aircrack-ng is a complete suite of tools to assess WiFi network security.&lt;/p&gt; &#xA;&lt;p&gt;It focuses on different areas of WiFi security:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Monitoring: Packet capture and export of data to text files for further processing by third party tools.&lt;/li&gt; &#xA; &lt;li&gt;Attacking: Replay attacks, deauthentication, fake access points and others via packet injection.&lt;/li&gt; &#xA; &lt;li&gt;Testing: Checking WiFi cards and driver capabilities (capture and injection).&lt;/li&gt; &#xA; &lt;li&gt;Cracking: WEP and WPA PSK (WPA 1 and 2).&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;All tools are command line which allows for heavy scripting. A lot of GUIs have taken advantage of this feature. It works primarily on Linux but also Windows, macOS, FreeBSD, OpenBSD, NetBSD, as well as Solaris and even eComStation 2.&lt;/p&gt; &#xA;&lt;h1&gt;Building&lt;/h1&gt; &#xA;&lt;h2&gt;Requirements&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Autoconf&lt;/li&gt; &#xA; &lt;li&gt;Automake&lt;/li&gt; &#xA; &lt;li&gt;Libtool&lt;/li&gt; &#xA; &lt;li&gt;shtool&lt;/li&gt; &#xA; &lt;li&gt;OpenSSL development package or libgcrypt development package.&lt;/li&gt; &#xA; &lt;li&gt;Airmon-ng (Linux) requires ethtool, usbutils, and often pciutils.&lt;/li&gt; &#xA; &lt;li&gt;On Windows, cygwin has to be used and it also requires w32api package.&lt;/li&gt; &#xA; &lt;li&gt;On Windows, if using clang, libiconv and libiconv-devel&lt;/li&gt; &#xA; &lt;li&gt;Linux: LibNetlink 1 or 3. It can be disabled by passing --disable-libnl to configure.&lt;/li&gt; &#xA; &lt;li&gt;pkg-config (pkgconf on FreeBSD, DragonFlyBSD, OpenBSD and NetBSD)&lt;/li&gt; &#xA; &lt;li&gt;FreeBSD, DragonFlyBSD, OpenBSD, NetBSD, Solaris and OS X with Macports: gmake&lt;/li&gt; &#xA; &lt;li&gt;Linux/Cygwin: make and Standard C++ Library development package (Debian: libstdc++-dev)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Note: Airmon-ng only requires pciutils if the system has a PCI/PCIe bus and it is populated. Such bus can be present even if not physically visible. For example, it is present, and populated on the Raspberry Pi 4, therefore pciutils is required on that device.&lt;/p&gt; &#xA;&lt;h2&gt;Optional stuff&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;If you want SSID filtering with regular expression in airodump-ng (--essid-regex) PCRE or PCRE2 development package is required.&lt;/li&gt; &#xA; &lt;li&gt;If you want to use airolib-ng and &#39;-r&#39; option in aircrack-ng, SQLite development package &amp;gt;= 3.3.17 (3.6.X version or better is recommended)&lt;/li&gt; &#xA; &lt;li&gt;If you want to use Airpcap, the &#39;developer&#39; directory from the CD/ISO/SDK is required.&lt;/li&gt; &#xA; &lt;li&gt;In order to build &lt;code&gt;besside-ng&lt;/code&gt;, &lt;code&gt;besside-ng-crawler&lt;/code&gt;, &lt;code&gt;easside-ng&lt;/code&gt;, &lt;code&gt;tkiptun-ng&lt;/code&gt; and &lt;code&gt;wesside-ng&lt;/code&gt;, libpcap development package is required (on Cygwin, use the Airpcap SDK instead; see above)&lt;/li&gt; &#xA; &lt;li&gt;rfkill&lt;/li&gt; &#xA; &lt;li&gt;If you want Airodump-ng to log GPS coordinates, gpsd is needed&lt;/li&gt; &#xA; &lt;li&gt;For best performance on SMP machines, ensure the hwloc library and headers are installed. It is strongly recommended on high core count systems, it may give a serious speed boost&lt;/li&gt; &#xA; &lt;li&gt;CMocka and expect for testing&lt;/li&gt; &#xA; &lt;li&gt;For integration testing on Linux only: tcpdump, HostAPd, WPA Supplicant and screen&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Installing required and optional dependencies&lt;/h2&gt; &#xA;&lt;p&gt;Below are instructions for installing the basic requirements to build &lt;code&gt;aircrack-ng&lt;/code&gt; for a number of operating systems.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: CMocka, tcpdump, screen, HostAPd and WPA Supplicant should not be dependencies when packaging Aircrack-ng.&lt;/p&gt; &#xA;&lt;h3&gt;Linux&lt;/h3&gt; &#xA;&lt;h4&gt;Arch Linux&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code&gt;sudo pacman -Sy base-devel libnl openssl ethtool util-linux zlib libpcap sqlite pcre2 hwloc cmocka hostapd wpa_supplicant tcpdump screen iw usbutils pciutils expect&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Debian/Ubuntu&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code&gt;sudo apt-get install build-essential autoconf automake libtool pkg-config libnl-3-dev libnl-genl-3-dev libssl-dev ethtool shtool rfkill zlib1g-dev libpcap-dev libsqlite3-dev libpcre2-dev libhwloc-dev libcmocka-dev hostapd wpasupplicant tcpdump screen iw usbutils expect&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Fedora&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code&gt;sudo yum install libtool pkgconfig sqlite-devel autoconf automake openssl-devel libpcap-devel pcre2-devel rfkill libnl3-devel gcc gcc-c++ ethtool hwloc-devel libcmocka-devel make file expect hostapd wpa_supplicant iw usbutils tcpdump screen zlib-devel expect&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;CentOS/RHEL 7&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code&gt;sudo yum install epel-release&#xA;sudo ./centos_autotools.sh&#xA;# Remove older installation of automake/autoconf&#xA;sudo yum remove autoconf automake&#xA;sudo yum install sqlite-devel openssl-devel libpcap-devel pcre2-devel rfkill libnl3-devel ethtool hwloc-devel libcmocka-devel make file expect hostapd wpa_supplicant iw usbutils tcpdump screen zlib-devel&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: autoconf, automake, libtool, and pkgconfig in the repositories are too old. The script centos_autotools.sh automatically installs dependencies to compile then install the tools.&lt;/p&gt; &#xA;&lt;h4&gt;CentOS/RHEL 8&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code&gt;sudo yum config-manager --set-enabled powertools&#xA;sudo yum install epel-release&#xA;sudo yum install libtool pkgconfig sqlite-devel autoconf automake openssl-devel libpcap-devel pcre2-devel rfkill libnl3-devel gcc gcc-c++ ethtool hwloc-devel libcmocka-devel make file expect hostapd wpa_supplicant iw usbutils tcpdump screen zlib-devel&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;openSUSE&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code&gt;sudo zypper install autoconf automake libtool pkg-config libnl3-devel libopenssl-1_1-devel zlib-devel libpcap-devel sqlite3-devel pcre2-devel hwloc-devel libcmocka-devel hostapd wpa_supplicant tcpdump screen iw gcc-c++ gcc ethtool pciutils usbutils expect&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Mageia&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code&gt;sudo urpmi autoconf automake libtool pkgconfig libnl3-devel libopenssl-devel zlib-devel libpcap-devel sqlite3-devel pcre2-devel hwloc-devel libcmocka-devel hostapd wpa_supplicant tcpdump screen iw gcc-c++ gcc make expect&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;Alpine&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code&gt;sudo apk add gcc g++ make autoconf automake libtool libnl3-dev openssl-dev ethtool libpcap-dev cmocka-dev hostapd wpa_supplicant tcpdump screen iw pkgconf util-linux sqlite-dev pcre2-dev linux-headers zlib-dev pciutils usbutils expect&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: Community repository needs to be enabled for iw&lt;/p&gt; &#xA;&lt;h4&gt;Clear Linux&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code&gt;sudo swupd bundle-add c-basic devpkg-openssl devpkg-libgcrypt devpkg-libnl devpkg-hwloc devpkg-libpcap devpkg-pcre2 devpkg-sqlite-autoconf ethtool wget network-basic software-testing sysadmin-basic wpa_supplicant os-testsuite&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: hostapd must be compiled manually, it is not present in the repository&lt;/p&gt; &#xA;&lt;h3&gt;BSD&lt;/h3&gt; &#xA;&lt;h4&gt;FreeBSD&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code&gt;pkg install pkgconf shtool libtool gcc9 automake autoconf pcre2 sqlite3 openssl gmake hwloc cmocka&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;DragonflyBSD&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code&gt;pkg install pkgconf shtool libtool gcc8 automake autoconf pcre2 sqlite3 libgcrypt gmake cmocka&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;OpenBSD&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code&gt;pkg_add pkgconf shtool libtool gcc automake autoconf pcre2 sqlite3 openssl gmake cmocka&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;NetBSD&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code&gt;pkg_add pkgconf libtool gcc7 automake autoconf pcre2 sqlite3 openssl gmake cmocka&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;macOS&lt;/h3&gt; &#xA;&lt;p&gt;XCode, Xcode command line tools and HomeBrew are required.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;brew install autoconf automake libtool openssl shtool pkg-config hwloc pcre2 sqlite3 libpcap cmocka&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Windows&lt;/h3&gt; &#xA;&lt;h4&gt;Cygwin&lt;/h4&gt; &#xA;&lt;p&gt;Cygwin requires the full path to the &lt;code&gt;setup.exe&lt;/code&gt; utility, in order to automate the installation of the necessary packages. In addition, it requires the location of your installation, a path to the cached packages download location, and a mirror URL.&lt;/p&gt; &#xA;&lt;p&gt;An example of automatically installing all the dependencies is as follows:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;c:\cygwin\setup-x86.exe -qnNdO -R C:/cygwin -s http://cygwin.mirror.constant.com -l C:/cygwin/var/cache/setup -P autoconf -P automake -P bison -P gcc-core -P gcc-g++ -P mingw-runtime -P mingw-binutils -P mingw-gcc-core -P mingw-gcc-g++ -P mingw-pthreads -P mingw-w32api -P libtool -P make -P python -P gettext-devel -P gettext -P intltool -P libiconv -P pkg-config -P git -P wget -P curl -P libpcre2-devel -P libssl-devel -P libsqlite3-devel&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h4&gt;MSYS2&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code&gt;pacman -Sy autoconf automake-wrapper libtool msys2-w32api-headers msys2-w32api-runtime gcc pkg-config git python openssl-devel openssl libopenssl msys2-runtime-devel gcc binutils make pcre2-devel libsqlite-devel&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;GNU/Hurd&lt;/h3&gt; &#xA;&lt;h4&gt;Debian&lt;/h4&gt; &#xA;&lt;pre&gt;&lt;code&gt;apt-get install build-essential autoconf automake libtool pkg-config libssl-dev shtool zlib1g-dev libpcap-dev libsqlite3-dev libpcre2-dev libhwloc-dev libcmocka-dev screen expect libbsd-dev&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Docker containers&lt;/h2&gt; &#xA;&lt;p&gt;We have two repositories on DockerHub:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://hub.docker.com/r/aircrackng/release&#34;&gt;aircrackng/release&lt;/a&gt;: Each release&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://hub.docker.com/r/aircrackng/git&#34;&gt;aircrackng/git&lt;/a&gt;: every commit in the git repository&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Base command for the &lt;code&gt;git&lt;/code&gt; version:&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;sudo docker run --rm -it aircrackng/git&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Available platforms/CPU architectures:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;linux/386 (base image: debian:unstable-slim)&lt;/li&gt; &#xA; &lt;li&gt;linux/amd64 (base image: debian:unstable-slim)&lt;/li&gt; &#xA; &lt;li&gt;linux/arm/v5 (base image: debian:unstable-slim)&lt;/li&gt; &#xA; &lt;li&gt;linux/arm/v6 (base image: alpine:3)&lt;/li&gt; &#xA; &lt;li&gt;linux/arm/v7 (base image: debian:unstable-slim)&lt;/li&gt; &#xA; &lt;li&gt;linux/arm64/v8 (base image: debian:unstable-slim)&lt;/li&gt; &#xA; &lt;li&gt;linux/mips64le (base image: debian:unstable-slim)&lt;/li&gt; &#xA; &lt;li&gt;linux/ppc64le (base image: debian:unstable-slim)&lt;/li&gt; &#xA; &lt;li&gt;linux/riscv64 (base image: debian:unstable-slim)&lt;/li&gt; &#xA; &lt;li&gt;linux/s390x (base image: debian:unstable-slim)&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Compiling&lt;/h2&gt; &#xA;&lt;p&gt;To build &lt;code&gt;aircrack-ng&lt;/code&gt;, the Autotools build system is utilized. Autotools replaces the older method of compilation.&lt;/p&gt; &#xA;&lt;p&gt;&lt;strong&gt;NOTE&lt;/strong&gt;: If utilizing a developer version, eg: one checked out from source control, you will need to run a pre-&lt;code&gt;configure&lt;/code&gt; script. The script to use is one of the following: &lt;code&gt;autoreconf -i&lt;/code&gt; or &lt;code&gt;env NOCONFIGURE=1 ./autogen.sh&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;First, &lt;code&gt;./configure&lt;/code&gt; the project for building with the appropriate options specified for your environment:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;./configure &amp;lt;options&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;strong&gt;TIP&lt;/strong&gt;: If the above fails, please see above about developer source control versions.&lt;/p&gt; &#xA;&lt;p&gt;Next, compile the project (respecting if &lt;code&gt;make&lt;/code&gt; or &lt;code&gt;gmake&lt;/code&gt; is needed):&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;Compilation:&lt;/p&gt; &lt;p&gt;&lt;code&gt;make&lt;/code&gt;&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Compilation on *BSD or Solaris:&lt;/p&gt; &lt;p&gt;&lt;code&gt;gmake&lt;/code&gt;&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Finally, the additional targets listed below may be of use in your environment:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;Execute all unit testing:&lt;/p&gt; &lt;p&gt;&lt;code&gt;make check&lt;/code&gt;&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Execute all integration testing (requires root):&lt;/p&gt; &lt;p&gt;&lt;code&gt;make integration&lt;/code&gt;&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Installing:&lt;/p&gt; &lt;p&gt;&lt;code&gt;make install&lt;/code&gt;&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Uninstall:&lt;/p&gt; &lt;p&gt;&lt;code&gt;make uninstall&lt;/code&gt;&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;&lt;code&gt;./configure&lt;/code&gt; flags&lt;/h3&gt; &#xA;&lt;p&gt;When configuring, the following flags can be used and combined to adjust the suite to your choosing:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;strong&gt;with-airpcap=DIR&lt;/strong&gt;: needed for supporting airpcap devices on Windows (Cygwin or MSYS2 only). Replace DIR above with the absolute location to the root of the extracted source code from the Airpcap CD or downloaded SDK available online. Required on Windows to build &lt;code&gt;besside-ng&lt;/code&gt;, &lt;code&gt;besside-ng-crawler&lt;/code&gt;, &lt;code&gt;easside-ng&lt;/code&gt;, &lt;code&gt;tkiptun-ng&lt;/code&gt; and &lt;code&gt;wesside-ng&lt;/code&gt; when building experimental tools. The developer pack (Compatible with version 4.1.1 and 4.1.3) can be downloaded at &lt;a href=&#34;https://support.riverbed.com/content/support/software/steelcentral-npm/airpcap.html&#34;&gt;https://support.riverbed.com/content/support/software/steelcentral-npm/airpcap.html&lt;/a&gt;&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;strong&gt;with-experimental&lt;/strong&gt;: needed to compile &lt;code&gt;tkiptun-ng&lt;/code&gt;, &lt;code&gt;easside-ng&lt;/code&gt;, &lt;code&gt;buddy-ng&lt;/code&gt;, &lt;code&gt;buddy-ng-crawler&lt;/code&gt;, &lt;code&gt;airventriloquist&lt;/code&gt; and &lt;code&gt;wesside-ng&lt;/code&gt;. libpcap development package is also required to compile most of the tools. If not present, not all experimental tools will be built. On Cygwin, libpcap is not present and the Airpcap SDK replaces it. See --with-airpcap option above.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;strong&gt;with-ext-scripts&lt;/strong&gt;: needed to build &lt;code&gt;airoscript-ng&lt;/code&gt;, &lt;code&gt;versuck-ng&lt;/code&gt;, &lt;code&gt;airgraph-ng&lt;/code&gt; and &lt;code&gt;airdrop-ng&lt;/code&gt;. Note: Each script has its own dependencies.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;strong&gt;with-gcrypt&lt;/strong&gt;: Use libgcrypt crypto library instead of the default OpenSSL. And also use internal fast sha1 implementation (borrowed from GIT). Dependency (Debian): libgcrypt20-dev&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;strong&gt;with-duma&lt;/strong&gt;: Compile with DUMA support. DUMA is a library to detect buffer overruns and underruns. Dependency (Debian): duma&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;strong&gt;disable-libnl&lt;/strong&gt;: Set up the project to be compiled without libnl (1 or 3). Linux option only.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;strong&gt;without-opt&lt;/strong&gt;: Do not enable -O3 optimizations.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;strong&gt;enable-shared&lt;/strong&gt;: Make OSdep a shared library.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;strong&gt;disable-shared&lt;/strong&gt;: When combined with &lt;strong&gt;enable-static&lt;/strong&gt;, it will statically compile Aircrack-ng.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;strong&gt;with-avx512&lt;/strong&gt;: On x86, add support for AVX512 instructions in aircrack-ng. Only use it when the current CPU supports AVX512.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;strong&gt;with-static-simd=&#xA;    &lt;simd&gt;&lt;/simd&gt;&lt;/strong&gt;: Compile a single optimization in aircrack-ng binary. Useful when compiling statically and/or for space-constrained devices. Valid SIMD options: x86-sse2, x86-avx, x86-avx2, x86-avx512, ppc-altivec, ppc-power8, arm-neon, arm-asimd. Must be used with --enable-static --disable-shared. When using those 2 options, the default is to compile the generic optimization in the binary. --with-static-simd merely allows to choose another one.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;strong&gt;enable-maintainer-mode&lt;/strong&gt;: It is important to enable this flag when developing with Aircrack-ng. This flag enables additional compile warnings and safety features.&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h4&gt;Examples:&lt;/h4&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;Configure and compiling:&lt;/p&gt; &lt;pre&gt;&lt;code&gt;./configure --with-experimental&#xA;make&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Compiling with gcrypt:&lt;/p&gt; &lt;pre&gt;&lt;code&gt;./configure --with-gcrypt&#xA;make&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Installing:&lt;/p&gt; &lt;p&gt;&lt;code&gt;make install&lt;/code&gt;&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Installing (strip binaries):&lt;/p&gt; &lt;p&gt;&lt;code&gt;make install-strip&lt;/code&gt;&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Installing, with external scripts:&lt;/p&gt; &lt;pre&gt;&lt;code&gt;./configure --with-experimental --with-ext-scripts&#xA;make&#xA;make install&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Testing (with sqlite, experimental and pcre2)&lt;/p&gt; &lt;pre&gt;&lt;code&gt;./configure --with-experimental&#xA;make&#xA;make check&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Compiling on OS X with macports (and all options):&lt;/p&gt; &lt;pre&gt;&lt;code&gt;./configure --with-experimental&#xA;gmake&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Compiling on macOS running on M1/AARCH64 and Homebrew:&lt;/p&gt; &lt;pre&gt;&lt;code&gt;autoreconf -vif&#xA;env CPPFLAGS=&#34;-Wno-deprecated-declarations&#34; ./configure --with-experimental&#xA;make&#xA;make check&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Compiling on OS X 10.10 with XCode 7.1 and Homebrew:&lt;/p&gt; &lt;pre&gt;&lt;code&gt;env CC=gcc-4.9 CXX=g++-4.9 ./configure&#xA;make&#xA;make check&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;p&gt;&lt;em&gt;NOTE&lt;/em&gt;: Older XCode ships with a version of LLVM that does not support CPU feature detection; which causes the &lt;code&gt;./configure&lt;/code&gt; to fail. To work around this older LLVM, it is required that a different compile suite is used, such as GCC or a newer LLVM from Homebrew.&lt;/p&gt; &lt;p&gt;If you wish to use OpenSSL from Homebrew, you may need to specify the location to its installation. To figure out where OpenSSL lives, run:&lt;/p&gt; &lt;p&gt;&lt;code&gt;brew --prefix openssl&lt;/code&gt;&lt;/p&gt; &lt;p&gt;Use the output above as the DIR for &lt;code&gt;--with-openssl=DIR&lt;/code&gt; in the &lt;code&gt;./configure&lt;/code&gt; line:&lt;/p&gt; &lt;pre&gt;&lt;code&gt;env CC=gcc-4.9 CXX=g++-4.9 ./configure --with-openssl=DIR&#xA;make&#xA;make check&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Compiling on FreeBSD with gcc9&lt;/p&gt; &lt;pre&gt;&lt;code&gt;env CC=gcc9 CXX=g++9 MAKE=gmake ./configure&#xA;gmake&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Compiling on Cygwin with Airpcap (assuming Airpcap devpack is unpacked in Aircrack-ng directory)&lt;/p&gt; &lt;pre&gt;&lt;code&gt;cp -vfp Airpcap_Devpack/bin/x86/airpcap.dll src&#xA;cp -vfp Airpcap_Devpack/bin/x86/airpcap.dll src/aircrack-osdep&#xA;cp -vfp Airpcap_Devpack/bin/x86/airpcap.dll src/aircrack-crypto&#xA;cp -vfp Airpcap_Devpack/bin/x86/airpcap.dll src/aircrack-util&#xA;dlltool -D Airpcap_Devpack/bin/x86/airpcap.dll -d build/airpcap.dll.def -l Airpcap_Devpack/bin/x86/libairpcap.dll.a&#xA;autoreconf -i&#xA;./configure --with-experimental --with-airpcap=$(pwd)&#xA;make&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Compiling on DragonflyBSD with gcrypt using GCC 8&lt;/p&gt; &lt;pre&gt;&lt;code&gt;autoreconf -i&#xA;env CC=gcc8 CXX=g++8 MAKE=gmake ./configure --with-experimental --with-gcrypt&#xA;gmake&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Compiling on OpenBSD (with autoconf 2.69 and automake 1.16)&lt;/p&gt; &lt;pre&gt;&lt;code&gt;export AUTOCONF_VERSION=2.69&#xA;export AUTOMAKE_VERSION=1.16&#xA;autoreconf -i&#xA;env MAKE=gmake CC=cc CXX=c++ ./configure&#xA;gmake&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;Compiling and debugging aircrack-ng&lt;/p&gt; &lt;pre&gt;&lt;code&gt;export CFLAGS=&#39;-O0 -g&#39;&#xA;export CXXFLAGS=&#39;-O0 -g&#39;&#xA;./configure --with-experimental --enable-maintainer-mode --without-opt&#xA;make&#xA;LD_LIBRARY_PATH=.libs gdb --args ./aircrack-ng [PARAMETERS]&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h1&gt;IDE development&lt;/h1&gt; &#xA;&lt;h2&gt;VS Code - devcontainers&lt;/h2&gt; &#xA;&lt;p&gt;A VS Code development environment is provided, as is, for rapid setup of a development environment. This additionally adds support for GitHub Codespaces.&lt;/p&gt; &#xA;&lt;h3&gt;Requirements&lt;/h3&gt; &#xA;&lt;p&gt;The first requirement is a working &lt;a href=&#34;https://docs.docker.com/engine/install/&#34;&gt;Docker Engine&lt;/a&gt; environment.&lt;/p&gt; &#xA;&lt;p&gt;Next, an installation of &lt;a href=&#34;https://code.visualstudio.com/&#34;&gt;VS Code&lt;/a&gt; with the following extension(s):&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers&#34;&gt;&lt;code&gt;Remote - Containers&lt;/code&gt;&lt;/a&gt; by Microsoft.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;The &#34;Remote - Containers&#34; extension will refuse to work with OSS Code.&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;h3&gt;Usage&lt;/h3&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;Clone this repository to your working folder:&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ git clone --recursive https://github.com/aircrack-ng/aircrack-ng.git&#xA;$ cd aircrack-ng&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ol start=&#34;2&#34;&gt; &#xA; &lt;li&gt;After cloning this repository, open the folder inside VS Code.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;pre&gt;&lt;code&gt;$ code .&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;IMPORTANT: You should answer &#34;Yes&#34;, if it asks if the folder should be opened inside a remote container. If it does not ask, then press &lt;code&gt;Ctrl+Shift+P&lt;/code&gt; and type &lt;code&gt;open in container&lt;/code&gt;. This should bring up the correct command, for which pressing enter will run said command.&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;ol start=&#34;3&#34;&gt; &#xA; &lt;li&gt;A number of warnings might appear about a missing &lt;code&gt;compile_commands.json&lt;/code&gt; file. These are safe to ignore for a moment, as this file is automatically generated after the initial compilation.&lt;/li&gt; &#xA; &lt;li&gt;Now build the entire project by pressing &lt;code&gt;Ctrl+R&lt;/code&gt; and selecting &lt;code&gt;Build Full&lt;/code&gt; from the pop-up menu that appears.&lt;/li&gt; &#xA; &lt;li&gt;VS Code should detect the &lt;code&gt;compile_commands.json&lt;/code&gt; file and ask if it should be used; selecting &#34;Yes, always&#34; will complete the initial setup of a fully working IDE.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;IMPORTANT: If it doesn&#39;t detect the file, pressing &lt;code&gt;Ctrl+Shift+P&lt;/code&gt; and typing &lt;code&gt;reload window&lt;/code&gt; will bring up the selection to fully reload the environment.&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;ol start=&#34;6&#34;&gt; &#xA; &lt;li&gt;At this point, nearly all features of VS Code will function; from Intellisense, auto-completion, live documentation, to code formatting. Additionally, there are pre-configured tasks for builds and tests, as well as an example GDB/LLDB configuration for debugging &lt;code&gt;aircrack-ng&lt;/code&gt;.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h1&gt;Packaging&lt;/h1&gt; &#xA;&lt;p&gt;Automatic detection of CPU optimization is done at run time. This behavior &lt;strong&gt;is&lt;/strong&gt; desirable when packaging Aircrack-ng (for a Linux or other distribution.)&lt;/p&gt; &#xA;&lt;p&gt;Also, in some cases it may be desired to provide your own flags completely and not having the suite auto-detect a number of optimizations. To do this, add the additional flag &lt;code&gt;--without-opt&lt;/code&gt; to the &lt;code&gt;./configure&lt;/code&gt; line:&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;./configure --without-opt&lt;/code&gt;&lt;/p&gt; &#xA;&lt;h1&gt;Using pre-compiled binaries&lt;/h1&gt; &#xA;&lt;h2&gt;Linux/BSD&lt;/h2&gt; &#xA;&lt;p&gt;Aircrack-ng is available in most distributions repositories. However, it is not always up-to-date.&lt;/p&gt; &#xA;&lt;h2&gt;Windows&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Install the appropriate &#34;monitor&#34; driver for your card; standard drivers don&#39;t work for capturing data.&lt;/li&gt; &#xA; &lt;li&gt;Aircrack-ng suite is command line tools. So, you have to open a command-line &lt;code&gt;Start menu -&amp;gt; Run... -&amp;gt; cmd.exe&lt;/code&gt; then use them&lt;/li&gt; &#xA; &lt;li&gt;Run the executables without any parameters to have help&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h1&gt;Documentation&lt;/h1&gt; &#xA;&lt;p&gt;Some more information is present in the &lt;a href=&#34;https://raw.githubusercontent.com/aircrack-ng/aircrack-ng/master/README&#34;&gt;README&lt;/a&gt; file.&lt;/p&gt; &#xA;&lt;p&gt;Documentation, tutorials, ... can be found on &lt;a href=&#34;https://aircrack-ng.org&#34;&gt;https://aircrack-ng.org&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;Support is available in the &lt;a href=&#34;https://github.com/aircrack-ng/aircrack-ng/discussions&#34;&gt;GitHub Discussions&lt;/a&gt; and on IRC (in #aircrack-ng on Libera Chat).&lt;/p&gt; &#xA;&lt;p&gt;Every tool has its own manpage. For aircrack-ng, &lt;code&gt;man aircrack-ng&lt;/code&gt;&lt;/p&gt; &#xA;&lt;h1&gt;Infrastructure sponsors&lt;/h1&gt;</summary>
  </entry>
  <entry>
    <title>bol-van/zapret</title>
    <updated>2024-07-28T01:36:26Z</updated>
    <id>tag:github.com,2024-07-28:/bol-van/zapret</id>
    <link href="https://github.com/bol-van/zapret" rel="alternate"></link>
    <summary type="html">&lt;p&gt;DPI bypass multi platform&lt;/p&gt;&lt;hr&gt;&lt;p&gt;zapret v.60&lt;/p&gt; &#xA;&lt;h2&gt;English&lt;/h2&gt; &#xA;&lt;p&gt;For english version refer to docs/readme.eng.txt&lt;/p&gt; &#xA;&lt;h2&gt;   &lt;/h2&gt; &#xA;&lt;p&gt;,    ,   DPI.        http(s),   tcp  udp ,     VPN.&lt;/p&gt; &#xA;&lt;p&gt;      embedded  - ,   openwrt.   Linux , FreeBSD, OpenBSD,  MacOS.          .&lt;/p&gt; &#xA;&lt;p&gt;     windows.&lt;/p&gt; &#xA;&lt;h2&gt;  &lt;/h2&gt; &#xA;&lt;p&gt; docs/quick_start.txt  linux  openwrt, docs/quick_start_windows.txt  windows.&lt;/p&gt; &#xA;&lt;h2&gt;  &lt;/h2&gt; &#xA;&lt;p&gt;         DPI.  DPI     ,    ,      .   &#34;&#34;,  DPI   RST,     http redirect.       ,       iptables   RST /      ,       .       .   DPI   RST     ,        .   -     .  iptables   .        ,     .&lt;/p&gt; &#xA;&lt;p&gt; DPI           ,     TCP     ,  .&lt;/p&gt; &#xA;&lt;p&gt;      ?  ,   DPI            .&lt;/p&gt; &#xA;&lt;p&gt; DPI    http ,     TCP . ,   &#34;GET / HTTP/1.1\r\nHost: kinozal.tv......&#34;   2  :   &#34;GET &#34;,  &#34;/ HTTP/1.1\r\nHost: kinozal.tv.....&#34;.  DPI ,   &#34;Host:&#34;     : , &#34;host:&#34;. -       : &#34;GET /&#34; =&amp;gt; &#34;GET /&#34;        : &#34;Host: kinozal.tv.&#34;&lt;/p&gt; &#xA;&lt;p&gt;    ,    DPI   .&lt;/p&gt; &#xA;&lt;p&gt;  DPI : &lt;a href=&#34;https://habr.com/ru/post/335436&#34;&gt;https://habr.com/ru/post/335436&lt;/a&gt; &lt;a href=&#34;https://geneva.cs.umd.edu/papers/geneva_ccs19.pdf&#34;&gt;https://geneva.cs.umd.edu/papers/geneva_ccs19.pdf&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;    &lt;/h2&gt; &#xA;&lt;p&gt; ,     ,    DPI  . -  , - .    iptables  .   DPI ,  -      DPI  .        DPI.     ,         -,    .     ip  (  )   (VPN).    IP    ,     .       ,      DPI.&lt;/p&gt; &#xA;&lt;h2&gt;       linux&lt;/h2&gt; &#xA;&lt;p&gt; ,        :&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt; DPI,   RST .       iptables.  rutracker   &#34;  -  &#34;      .     .       ,        .&lt;/li&gt; &#xA; &lt;li&gt; TCP    .   proxy  transparent proxy.&lt;/li&gt; &#xA; &lt;li&gt; TCP    .     NFQUEUE  raw .&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;  2  3   tpws  nfqws .   ,              iptables  nftables.&lt;/p&gt; &#xA;&lt;p&gt;  tcp   transparent proxy     :&lt;/p&gt; &#xA;&lt;p&gt;  : iptables -t nat -I PREROUTING -i &amp;lt;_&amp;gt; -p tcp --dport 80 -j DNAT --to 127.0.0.127:988   : iptables -t nat -I OUTPUT -o &amp;lt;_&amp;gt; -p tcp --dport 80 -m owner ! --uid-owner tpws -j DNAT --to 127.0.0.127:988&lt;/p&gt; &#xA;&lt;p&gt;DNAT  localhost    OUTPUT,      PREROUTING    route_localnet :&lt;/p&gt; &#xA;&lt;p&gt;sysctl -w net.ipv4.conf.&amp;lt;_&amp;gt;.route_localnet=1&lt;/p&gt; &#xA;&lt;p&gt;  &#34;-j REDIRECT --to-port 988&#34;  DNAT ,      transparent proxy    ip       .    -       .    () ,        ,     .      .  route_localnet      .    ,    127.0.0.0/8    &amp;lt;_&amp;gt;.     127.0.0.1,    iptables    127.0.0.1    lo,   tpws    IP   127.0.0.0/8,   127.0.0.127,      lo    IP.&lt;/p&gt; &#xA;&lt;p&gt;iptables -A INPUT ! -i lo -d 127.0.0.127 -j ACCEPT iptables -A INPUT ! -i lo -d 127.0.0.0/8 -j DROP&lt;/p&gt; &#xA;&lt;p&gt;  owner         tpws. tpws    &#34;tpws&#34;,     .&lt;/p&gt; &#xA;&lt;p&gt;tpws     socks proxy.    iptables  ,    socks    (, ),     . transparent proxy   socks  ,    transparent     .&lt;/p&gt; &#xA;&lt;p&gt;    NFQUEUE             :&lt;/p&gt; &#xA;&lt;p&gt;iptables -t mangle -I POSTROUTING -o &amp;lt;_&amp;gt; -p tcp --dport 80 -j NFQUEUE --queue-num 200 --queue-bypass&lt;/p&gt; &#xA;&lt;p&gt;      ,     ,    IP     ipset zapret,      :&lt;/p&gt; &#xA;&lt;p&gt;iptables -t mangle -I POSTROUTING -o &amp;lt;_&amp;gt; -p tcp --dport 80 -m set --match-set zapret dst -j NFQUEUE --queue-num 200 --queue-bypass&lt;/p&gt; &#xA;&lt;p&gt;DPI     http ,     keep-alive .      ,     .&lt;/p&gt; &#xA;&lt;p&gt;iptables -t mangle -I POSTROUTING -o &amp;lt;_&amp;gt; -p tcp --dport 80 -m connbytes --connbytes-dir=original --connbytes-mode=packets --connbytes 1:6 -m mark ! --mark 0x40000000/0x40000000 -m set --match-set zapret dst -j NFQUEUE --queue-num 200 --queue-bypass&lt;/p&gt; &#xA;&lt;p&gt;  mark      ,   nfqws.     connbytes 1:6,     iptables    mark.      ,     .&lt;/p&gt; &#xA;&lt;p&gt;    DPI          :&lt;/p&gt; &#xA;&lt;p&gt;iptables -t mangle -I PREROUTING -i &amp;lt;_&amp;gt; -p tcp --sport 80 -m connbytes --connbytes-dir=reply --connbytes-mode=packets --connbytes 1:6 -m set --match-set zapret src -j NFQUEUE --queue-num 200 --queue-bypass&lt;/p&gt; &#xA;&lt;p&gt;      ,   IP ,     .&lt;/p&gt; &#xA;&lt;p&gt; ,  NAT,      iptables.  nftables.&lt;/p&gt; &#xA;&lt;p&gt;      (flow offloading, hardware nat, hardware acceleration),  iptables   .   offloading       netfilter.    ,    .&lt;/p&gt; &#xA;&lt;p&gt;   (   , openwrt    4.14)  software flow offloading (SFO). ,   SFO,        iptables.   SFO  DNAT/REDIRECT (tpws).     offloading. ,     SFO,  NFQUEUE        flowtable.   ,  nfqws    window size changing,         . Offload    target  iptables &#34;FLOWOFFLOAD&#34;.       offload.    offload ,     tpws  nfqws. openwrt     offload.   zapret      offload  openwrt.&lt;/p&gt; &#xA;&lt;h2&gt;  ip6tables&lt;/h2&gt; &#xA;&lt;p&gt;ip6tables     ,   ipv4,     .  DNAT    --to   .  :&lt;/p&gt; &#xA;&lt;p&gt;ip6tables -t nat -I OUTPUT -o &amp;lt;_&amp;gt; -p tcp --dport 80 -m owner ! --uid-owner tpws -j DNAT --to [::1]:988&lt;/p&gt; &#xA;&lt;p&gt; route_localnet    ipv6. DNAT  localhost (::1)     OUTPUT.   PREROUTING DNAT    global address   link local address   ,   . NFQUEUE   .&lt;/p&gt; &#xA;&lt;h2&gt;  nftables&lt;/h2&gt; &#xA;&lt;p&gt;     nftables       docs/nftables_notes.txt  ,   nftables     ip       RAM.         nftables.&lt;/p&gt; &#xA;&lt;p&gt;  nft 1.0.2  .    ,  .  nft   .&lt;/p&gt; &#xA;&lt;p&gt;    /  nft   .  ,  ubuntu 18.04   4.15  .  20.04 - .&lt;/p&gt; &#xA;&lt;p&gt;       nftables. ,  iptables     nfqws  NAT. ,   NAT   ,    NAT.  nftables    ,       ,      ,    iptables.  iptables  ,     MASQUERDADE.&lt;/p&gt; &#xA;&lt;h2&gt;    &lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;  DNS.     .&lt;/li&gt; &#xA; &lt;li&gt;    IP.&lt;/li&gt; &#xA; &lt;li&gt;    ,   TCP ,     . ,    squid.      tcpip  ,      . Squid ,     ,   . .   squid      ,    .     DPI,       .    ,   DPI   IP  &#34;&#34; ,    DPI    .      DPI  ,    ,       ,  -   .        ,    ,      DPI.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;nfqws&lt;/h2&gt; &#xA;&lt;p&gt;  -      NFQUEUE.  BSD     - dvtws,      (. bsd.txt).&lt;/p&gt; &#xA;&lt;p&gt;--debug=0|1 ; 1=   --daemon ;   --pidfile=&#xA; &lt;file&gt;&#xA;   ;  PID   --user=&#xA;  &lt;username&gt;&#xA;    ;  uid  --uid=uid[:gid] ;  uid  --qnum=N ;   N --bind-fix4 ;          ipv4  --bind-fix6 ;          ipv6  --wsize=&#xA;   &lt;winsize&gt;&#xA;    [:&amp;lt;scale_factor&amp;gt;] ;  tcp window size     SYN,ACK.    scale_factor,     ( !) --wssize=&#xA;    &lt;winsize&gt;&#xA;     [:&amp;lt;scale_factor&amp;gt;] ;  tcp window size      . scale_factor   0. (. conntrack !) --wssize-cutoff=[n|d|s]N ;  server window size    (n),   (d),  sequence (s)    N --ctrack-timeouts=S:E:F[:U] ;   conntrack   SYN, ESTABLISHED, FIN,  udp.   60:300:60:60 --hostcase ;    &#34;Host:&#34;    &#34;host:&#34;. --hostnospace ;    &#34;Host:&#34;       &#34;User-Agent:&#34;     --hostspell=HoST ;    Host ( &#34;HOST&#34;  &#34;HoSt&#34;).   --hostcase --domcase ;   Host:   : TeSt.cOm --dpi-desync=[&#xA;     &lt;mode0&gt;&#xA;      ,]&#xA;      &lt;mode&gt;&#xA;       [,&amp;lt;mode2] ;    DPI. mode : synack syndata fake fakeknown rst rstack hopbyhop destopt ipfrag1 disorder disorder2 split split2 ipfrag2 udplen tamper --dpi-desync-fwmark=&amp;lt;int|0xHEX&amp;gt; ;  fwmark    ,       . default = 0x40000000 --dpi-desync-ttl=&#xA;       &lt;int&gt;&#xA;         ;  ttl    --dpi-desync-ttl6=&#xA;        &lt;int&gt;&#xA;          ;  ipv6 hop limit   .   ,   ttl --dpi-desync-autottl=[&#xA;         &lt;delta&gt;&#xA;          [:&#xA;          &lt;min&gt;&#xA;           [-&#xA;           &lt;max&gt;&#xA;            ]]] ;  auto ttl  ipv4  ipv6.  : 1:3-20. delta=0  . --dpi-desync-autottl6=[&#xA;            &lt;delta&gt;&#xA;             [:&#xA;             &lt;min&gt;&#xA;              [-&#xA;              &lt;max&gt;&#xA;               ]]] ;     ipv6 --dpi-desync-fooling=&#xA;               &lt;fooling&gt;&#xA;                 ;    ,       . none md5sig badseq badsum datanoack hopbyhop hopbyhop2 --dpi-desync-repeats=&#xA;                &lt;n&gt;&#xA;                  ;     nfqws  N  (    ) --dpi-desync-skip-nosni=0| 1 ; 1(default)=  dpi desync    hostname  SNI,    ESNI --dpi-desync-split-pos=&amp;lt;1..1500&amp;gt; ; (  split*, disorder*)      --dpi-desync-split-http-req=method|host ;  http request     --dpi-desync-split-tls=sni|sniext ;  tls client hello     --dpi-desync-split-seqovl=&#xA;                 &lt;int&gt;&#xA;                   ;  sequence overlap     tcp  --dpi-desync-split-seqovl-pattern=&#xA;                  &lt;filename&gt;&#xA;                   |0xHEX ;     overlap --dpi-desync-badseq-increment=&amp;lt;int|0xHEX&amp;gt; ;  sequence number  badseq.   -10000 --dpi-desync-badack-increment=&amp;lt;int|0xHEX&amp;gt; ;  ack sequence number  badseq.   -66000 --dpi-desync-any-protocol=0|1 ; 0(default)=   http request  tls clienthello 1=     --dpi-desync-fake-http=&#xA;                   &lt;filename&gt;&#xA;                    |0xHEX ; ,   http   dpi-desync=fake,    &#xA;                    &lt;a href=&#34;http://www.iana.org&#34;&gt;www.iana.org&lt;/a&gt; --dpi-desync-fake-tls=&#xA;                    &lt;filename&gt;&#xA;                     |0xHEX ; ,   tls clienthello  dpi-desync=fake,    &#xA;                     &lt;a href=&#34;http://www.iana.org&#34;&gt;www.iana.org&lt;/a&gt; --dpi-desync-fake-unknown=&#xA;                     &lt;filename&gt;&#xA;                      |0xHEX ; ,       dpi-desync=fake,     256  --dpi-desync-fake-syndata=&#xA;                      &lt;filename&gt;&#xA;                       |0xHEX ; ,     SYN    syndata --dpi-desync-fake-quic=&#xA;                       &lt;filename&gt;&#xA;                        |0xHEX ; ,   QUIC Initial --dpi-desync-fake-dht=&#xA;                        &lt;filename&gt;&#xA;                         |0xHEX ; ,    DHT   dpi-desync=fake,     64  --dpi-desync-fake-unknown-udp=&#xA;                         &lt;filename&gt;&#xA;                          |0xHEX ; ,     udp   dpi-desync=fake,     64  --dpi-desync-udplen-increment=&#xA;                          &lt;int&gt;&#xA;                            ;    udp    udplen --dpi-desync-udplen-pattern=&#xA;                           &lt;filename&gt;&#xA;                            |0xHEX ;   udp    udplen.   -  --dpi-desync-start=[n|d|s]N ;  dpi desync     (n),   (d),  sequence (s)      N --dpi-desync-cutoff=[n|d|s]N ;  dpi desync     (n),   (d),  sequence (s)    N --hostlist=&#xA;                            &lt;filename&gt;&#xA;                              ;       .    ,  .    =   --hostlist-exclude=&#xA;                             &lt;filename&gt;&#xA;                               ;       .    ,   --hostlist-auto=&#xA;                              &lt;filename&gt;&#xA;                                ;       hostlist (   ) --hostlist-auto-fail-threshold=&#xA;                               &lt;int&gt;&#xA;                                 ;     ,   ,      ( : 3) --hostlist-auto-fail-time=&#xA;                                &lt;int&gt;&#xA;                                  ;           ( : 60) --hostlist-auto-retrans-threshold=&#xA;                                 &lt;int&gt;&#xA;                                   ;      ( : 3) --hostlist-auto-debug=&#xA;                                  &lt;logfile&gt;&#xA;                                    ;     autohostlist.      .&#xA;                                  &lt;/logfile&gt;&#xA;                                 &lt;/int&gt;&#xA;                                &lt;/int&gt;&#xA;                               &lt;/int&gt;&#xA;                              &lt;/filename&gt;&#xA;                             &lt;/filename&gt;&#xA;                            &lt;/filename&gt;&#xA;                           &lt;/filename&gt;&#xA;                          &lt;/int&gt;&#xA;                         &lt;/filename&gt;&#xA;                        &lt;/filename&gt;&#xA;                       &lt;/filename&gt;&#xA;                      &lt;/filename&gt;&#xA;                     &lt;/filename&gt;&#xA;                    &lt;/filename&gt;&#xA;                   &lt;/filename&gt;&#xA;                  &lt;/filename&gt;&#xA;                 &lt;/int&gt;&#xA;                &lt;/n&gt;&#xA;               &lt;/fooling&gt;&#xA;              &lt;/max&gt;&#xA;             &lt;/min&gt;&#xA;            &lt;/delta&gt;&#xA;           &lt;/max&gt;&#xA;          &lt;/min&gt;&#xA;         &lt;/delta&gt;&#xA;        &lt;/int&gt;&#xA;       &lt;/int&gt;&#xA;      &lt;/mode&gt;&#xA;     &lt;/mode0&gt;&#xA;    &lt;/winsize&gt;&#xA;   &lt;/winsize&gt;&#xA;  &lt;/username&gt;&#xA; &lt;/file&gt;&lt;/p&gt; &#xA;&lt;p&gt;      .&lt;/p&gt; &#xA;&lt;p&gt;.  --wsize        .       .         wsize.&lt;/p&gt; &#xA;&lt;p&gt;  DPI    .   tcp 3-way handshake       .   &#34;GET / ...&#34;  TLS ClientHello.    ,  - .       ,    http  https ( fake),    ( rst, rstack),           +     (disorder),        (split). fakeknown   fake ,      .       TCB desynchronization  TCB teardown. ,      DPI,     .      :   TTL,     ,  tcp option &#34;MD5 signature&#34;,  sequence numbers.     .&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;md5sig     .   md5    linux.&lt;/li&gt; &#xA; &lt;li&gt;badsum  ,     NAT,       .    NAT   Linux   .  Linux    .    :   sysctl   net.netfilter.nf_conntrack_checksum=1  conntrack  tcp  udp      state INVALID     .    iptables        INVALID   FORWARD.        badsum   .  openwrt   net.netfilter.nf_conntrack_checksum=0,     ,      .  nfqws    ,       sysctl  0. nfqws         ,         .     NAT,  ,     invalid packets       .       badsum.   //   rx-checksum offload, badsum       .     -   ,    ,     . ,         mediatek. badsum     ,      br-lan  tcpdump.    nfqws    ,   . badsum     .&lt;/li&gt; &#xA; &lt;li&gt;  badseq     ,     DPI,     sequence numbers.    seq  -10000.  ,   DPI   seq   . ,             .    --dpi-desync-any-protocol,    badseq increment 0x80000000.    ,       tcp window  .    ,  badseq    DPI   http,   .     DPI TLS  badseq  .&lt;/li&gt; &#xA; &lt;li&gt;TTL   -  ,        .  DPI     ,        .      ,    TTL  ,      .  ip exclude list,  .   ttl   md5sig.    ,      ,   &#34;&#34;    TTL.      ,   zapret-hosts-user-exclude.txt.       TTL,         .    TTL :   ,     .       DPI.&lt;/li&gt; &#xA; &lt;li&gt;hopbyhop    ipv6.  ipv6 extenstion header &#34;hop-by-hop options&#34;.   hopbyhop2  2 ,            .   hop-by-hop   ,    /       .    ,  DPI    hop-by-hop,          ,    ,    .&lt;/li&gt; &#xA; &lt;li&gt;datanoack     tcp  ACK.    ,  DPI  .     NAT      iptables,   masquerade,     (    ipv4).   c iptables  masquerade   nftables   .  ,    NAT    ,       IP.  linux NAT   ,         ,     .&lt;/li&gt; &#xA; &lt;li&gt;autottl.      TTL,      DPI      .    TTL 64,128,255,    (,       nfqws !).   ,  delta (1  ).  TTL   (min,max - 3,20  ),    min,max,    .     TTL   ,         TTL  .     ,      (DPI, )    ,  .     . ,         .  -      ,     ,  . -    .     .    BSD ,         connbytes.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;      . --dpi-desync-fooling     .&lt;/p&gt; &#xA;&lt;p&gt;  fake, rst, rstack     .&lt;/p&gt; &#xA;&lt;p&gt; disorder     2         :&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;2-  &lt;/li&gt; &#xA; &lt;li&gt; 1-  ,    &lt;/li&gt; &#xA; &lt;li&gt;1-  &lt;/li&gt; &#xA; &lt;li&gt; 1-  ,    .  2- .    .  --dpi-desync-split-pos    ,    .   - 2.     ,   1.    DPI      ,      .  DPI   tcp    ,           .  disorder2    .&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt; split    disorder,       :&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt; 1-  ,    &lt;/li&gt; &#xA; &lt;li&gt;1-  &lt;/li&gt; &#xA; &lt;li&gt; 1-  ,    .  2- .&lt;/li&gt; &#xA; &lt;li&gt;2-    split2    .         --wsize.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;disorder2  split2     ,   ttl  fooling .&lt;/p&gt; &#xA;&lt;p&gt;seqovl         (1   split  2   disorder) seqovl      sequence number   seqovl.   split2    ,   ,   ,      ,            (in-window).    ,          window,    .    ,    ,   out-of-window .  DPI    ,     sequence .&lt;/p&gt; &#xA;&lt;p&gt; disorder2 overlap   2-  . ,  seqovl   split_pos,         ,  ,    .     2-     in-window,      ,  .       1    ,         ,     .    1-  ,       .     1  2 ,       .    unix ,  solaris -    . Windows   ,  disorder  seqovl         Windows . Solaris  , windows   .     .     fooling  TTL.     . split/disorder  split2/disorder2 -    .&lt;/p&gt; &#xA;&lt;p&gt;  hopbyhop, destopt  ipfrag1 (   fooling !)    ipv6      &#34;hop-by-hop options&#34; , &#34;destination options&#34;  &#34;fragment&#34;   ,   .    ,      ,         .       .        ,     .    ,  DPI  0   next header   ipv6      extension     .    ,   tcp  udp,     . , - DPI   .      2- ,   &#34;ipfrag1+ipfrag2&#34;. , &#34;hopbyhop,split2&#34;   tcp   2 ,      hop-by-hop.  &#34;hopbyhop,ipfrag2&#34;    : ipv6,hop-by-hop,fragment,tcp/udp.  &#34;ipfrag1&#34;       . .  &#34;IP &#34;.&lt;/p&gt; &#xA;&lt;p&gt; DPI,     ,     ServerHello,   .   ClientHello  ACK      ACK sequence,   ClientHello+1.   disorder      (SACK),   ACK.   ACK  SACK  RST    ,  DPI       .  RST    ACK  ,     ,   DPI    . DPI    ,  ClientHello      ServerHello.   .  fake  .         ServerHello,       ServerHello    --wssize (. conntrack).     ,     -        .   -     TLS 1.3.        .       .  TLS 1.3.       DPI.&lt;/p&gt; &#xA;&lt;p&gt;   Host:   http    SNI  TLS ClientHello.   .   gzip.&lt;/p&gt; &#xA;&lt;p&gt;iptables        :&lt;/p&gt; &#xA;&lt;p&gt;iptables -t mangle -I POSTROUTING -o &amp;lt;_&amp;gt; -p tcp -m multiport --dports 80,443 -m connbytes --connbytes-dir=original --connbytes-mode=packets --connbytes 1:6 -m mark ! --mark 0x40000000/0x40000000 -j NFQUEUE --queue-num 200 --queue-bypass&lt;/p&gt; &#xA;&lt;p&gt;  ,  DPI      http  keep-alive .  ,      https     http :&lt;/p&gt; &#xA;&lt;p&gt;iptables -t mangle -I POSTROUTING -o &amp;lt;_&amp;gt; -p tcp --dport 443 -m connbytes --connbytes-dir=original --connbytes-mode=packets --connbytes 1:6 -m mark ! --mark 0x40000000/0x40000000 -j NFQUEUE --queue-num 200 --queue-bypass iptables -t mangle -I POSTROUTING -o &amp;lt;_&amp;gt; -p tcp --dport 80 -m mark ! --mark 0x40000000/0x40000000 -j NFQUEUE --queue-num 200 --queue-bypass&lt;/p&gt; &#xA;&lt;p&gt;mark ,           . nfqws  fwmark   .  nfqws     ,   iptables  mark    connbytes,       .   -  .         -    .          .     connbytes,        mark.         .&lt;/p&gt; &#xA;&lt;p&gt; --connbytes 1:6 : 1 -     0-   wssize 2 -     3-  3-way handshake 3 -       4-6 -          (TLSClientHello  kyber, )&lt;/p&gt; &#xA;&lt;p&gt;     dpi-desync    3   . 0       .   synack  syndata.  0      hostlist.       .  1-    fake,rst,rstack.  2-    disorder,disorder2,split,split2,ipfrag2.   ,       DPI.&lt;/p&gt; &#xA;&lt;p&gt; SYNACK    geneva   &#34;TCB turnaround&#34;.   DPI       . !!!     NAT,          DPI  NAT.     NAT ,     .     linux      firewall,      OUTPUT.  : -A OUTPUT -m state --state INVALID -j DROP  openwrt   drop INVALID  OUTPUT  FORWARD    /etc/config/firewall :&lt;/p&gt; &#xA;&lt;p&gt;config zone option name &#39;wan&#39; ......... option masq_allow_invalid &#39;1&#39;&lt;/p&gt; &#xA;&lt;p&gt; ,    OUTPUT   .    .   /etc/firewall.user :&lt;/p&gt; &#xA;&lt;p&gt;iptables -D zone_wan_output -m comment --comment &#39;!fw3&#39; -j zone_wan_dest_ACCEPT ip6tables -D zone_wan_output -m comment --comment &#39;!fw3&#39; -j zone_wan_dest_ACCEPT&lt;/p&gt; &#xA;&lt;p&gt;  ,     INVALID  FORWARD        LAN.     ,  SYN,ACK       .     .  ,   synack  ,     INVALID.&lt;/p&gt; &#xA;&lt;p&gt; SYNDATA   .     SYN.    ,    TCP fast open (TFO),  DPI  ,     TFO  .    TFO  ,     .     16  .&lt;/p&gt; &#xA;&lt;p&gt;   VM  virtualbox  vmware   NAT       nfqws.   ttl,    .      bridge.&lt;/p&gt; &#xA;&lt;p&gt;CONNTRACK nfqws       tcp  (conntrack).        DPI. conntrack      : SYN,ESTABLISHED,FIN ,     , sequence numbers. conntrack  &#34;&#34;        .           SYN  SYN,ACK.    conntrack,    iptables     nfqws    ,       connbytes.  UDP       UDP .      . ,   UDP      .      src_ip,src_port,dst_ip,dst_port        . conntrack - ,         ,       sequence numbers  .   -    nfqws,      ,        .    ,            .       .      --ctrack-timeouts.&lt;/p&gt; &#xA;&lt;p&gt;--wssize      tcp window  ,        .       ,   window size         ,       (, TLS ClientHello).     conntrack,     .         wssize,   .  linux      connbytes,   BSD    .   http(s)      http   TLS ClientHello.       http(s),     --wssize-cutoff.   ,    wssize .  d        data payload,  s - relative sequence number,       + 1.     http request  TLS ClientHello,  wssize   ,   wssize-cutoff.       ,     ESTABLISHED   --ctrack-timeouts.     -  5 .  ,  nfqws     .       connbytes,          ESTABLISHED,     .    conntrack   SIGUSR1  nfqws : killall -SIGUSR1 nfqws.     nfqws  stdout.&lt;/p&gt; &#xA;&lt;p&gt;  SYN     window size   TCP extension &#34;scaling factor&#34;. scaling factor     ,    window size : 0=&amp;gt;1, 1=&amp;gt;2, 2=&amp;gt;4, ..., 8=&amp;gt;256, ...   wssize scaling factor   . Scaling factor   ,  ,         .      ServerHello,          DPI,    --wssize=1:6 .   -  scale_factor   ,    window size      .    64:0,   .     ,      ,  DPI   .&lt;/p&gt; &#xA;&lt;p&gt; --wssize    hostlist,       ,         . --wssize    /    ,        DPI,   .&lt;/p&gt; &#xA;&lt;p&gt;--dpi-desync-cutoff   ,      dpi-desync.   n,d,s    --wssize-cutoff.    --dpi-desync-any-protocol=1.         conntrack.     conntrack    --dpi-desync-cutoff, dpi desync   .&lt;/p&gt; &#xA;&lt;p&gt; nfqws     .     TLS  QUIC ClientHello.   ,   chrome  -  tls-kyber,     2  3 . kyber   ,   chromium 124. chrome   TLS. SNI     ,    ,     . stateful DPI    ,       .    TLS  QUIC    ClientHello   ,         .            ClientHello.            ,   .&lt;/p&gt; &#xA;&lt;p&gt;     tcp    TLS.           --dpi-desync-split-tls,       ,  ,     . , ,   TLS ClientHello  2000,  SNI   1700,    fake,split2,      fake,     ,      2 .        3  .&lt;/p&gt; &#xA;&lt;p&gt; UDP   udp    . udp   ,    ip.  UDP     fake,hopbyhop,destopt,ipfrag1,ipfrag2,udplen,tamper.   fake,hopbyhop,destopt  ipfrag2, fake,fakeknown  udplen  tamper. udplen   udp     --dpi-desync-udplen-increment  .     ,     .    DPI,    .  ,         udp .  tamper         .       DHT.    QUIC Initial      ,    --hostlist  .   wireguard handshake initiation  DHT (  &#39;d1&#39;,  &#39;e&#39;).       --dpi-desync-any-protocol.  conntrack  udp.   --dpi-desync-cutoff.  conntrack  udp   4-   --ctrack-timeouts.  fake    stateful DPI,        .   fake  - 64 .     --dpi-desync-fake-unknown-udp.&lt;/p&gt; &#xA;&lt;p&gt;IP        tcp   ip.  udp    ,   udp       (IKE  ). , - ,     udp.    linux      .      tcp  udp.   24  8 ,    8.     .&lt;/p&gt; &#xA;&lt;p&gt;        Linux,       .&lt;/p&gt; &#xA;&lt;p&gt;ipv4 : Linux   ipv4 ,    iptables   OUTPUT    .&lt;/p&gt; &#xA;&lt;p&gt;ipv6 :           conntrack.     -. -  , -  .   &amp;lt;4.16 ,       ,     nf_conntrack,    nf_defrag_ipv6.       .   4.16+   .       NOTRACK.    ,       blockcheck.sh.&lt;/p&gt; &#xA;&lt;p&gt;    ip6table_raw   raw_before_defrag=1.  openwrt           /etc/modules.d.       iptables-legacy  iptables-nft.  legacy,     /etc/modprobe.d/ip6table_raw.conf   : options ip6table_raw raw_before_defrag=1        ip6tables  : update-alternatives --config ip6tables      iptables-nft,     .   .  nft.c   : { .name = &#34;PREROUTING&#34;, .type = &#34;filter&#34;, .prio = -300, /* NF_IP_PRI_RAW &lt;em&gt;/ .hook = NF_INET_PRE_ROUTING, }, { .name = &#34;OUTPUT&#34;, .type = &#34;filter&#34;, .prio = -300, /&lt;/em&gt; NF_IP_PRI_RAW */ .hook = NF_INET_LOCAL_OUT, },    -300  -450.&lt;/p&gt; &#xA;&lt;p&gt;   ,    blockcheck.sh .&lt;/p&gt; &#xA;&lt;p&gt;        ,  nftables.    netfilter hook   .   -401  .&lt;/p&gt; &#xA;&lt;p&gt;  iptables  NAT, ,        NAT.    nfqws  source   ,       NAT.        src ip 192.168.x.x. ,   .     -   iptables   nftables.      101  .&lt;/p&gt; &#xA;&lt;h2&gt;tpws&lt;/h2&gt; &#xA;&lt;p&gt;tpws -  transparent proxy. --debug=0|1|2 ;    output : 0(default)=, 1=, 2= --daemon ;   --pidfile=&#xA; &lt;file&gt;&#xA;   ;  PID   --user=&#xA;  &lt;username&gt;&#xA;    ;  uid  --uid=uid[:gid] ;  uid  --bind-addr ;    .   ipv4  ipv6  ;   ipv6 link local,        : fe80::1%br-lan --bind-linklocal=no|unwanted|prefer|force ; no :    global ipv6 ; unwanted (default) :  global,   - LL ; prefer :  LL,   - global ; force :    LL --bind-iface4=&#xA;   &lt;iface&gt;&#xA;     ;    ipv4  iface --bind-iface6=&#xA;    &lt;iface&gt;&#xA;      ;    ipv6  iface --bind-wait-ifup=&#xA;     &lt;sec&gt;&#xA;       ;   N      --bind-wait-ip=&#xA;      &lt;sec&gt;&#xA;        ;   N   IP  (  --bind-wait-ifup -     ) --bind-wait-ip-linklocal=&#xA;       &lt;sec&gt;&#xA;         ;      --bind-wait-ip ; --bind-linklocal=unwanted :   LL  N  ; --bind-linklocal=prefer :   global address  N  --bind-wait-only ;     .  0   ,   0. --socks ;     socks4/5 proxy --no-resolve ;     socks5 --resolve-threads ;    --port=&#xA;        &lt;port&gt;&#xA;          ;     --maxconn=&amp;lt;max_connections&amp;gt; ;        --maxfiles=&amp;lt;max_open_files&amp;gt; ;     (setrlimit).   (X&#xA;         &lt;em&gt;connections+16),  X=6  tcp proxy mode, X=4   . ;        1.5.   maxfiles (X&lt;/em&gt;connections)*1.5+16 --max-orphan-time=&#xA;         &lt;sec&gt;&#xA;          ;     tpws -   ,       , ;        (   NAT, firewall, ...) ;    linux    .   ,     , ; tpws    ,     ,   . ;       N ,   .   5 . 0    ;         &#xA;         &lt;/sec&gt;&#xA;        &lt;/port&gt;&#xA;       &lt;/sec&gt;&#xA;      &lt;/sec&gt;&#xA;     &lt;/sec&gt;&#xA;    &lt;/iface&gt;&#xA;   &lt;/iface&gt;&#xA;  &lt;/username&gt;&#xA; &lt;/file&gt;&lt;/p&gt; &#xA;&lt;p&gt;--local-rcvbuf=&#xA; &lt;bytes&gt;&#xA;   ; SO_RCVBUF   client-proxy --local-sndbuf=&#xA;  &lt;bytes&gt;&#xA;    ; SO_SNDBUF   client-proxy --remote-rcvbuf=&#xA;   &lt;bytes&gt;&#xA;     ; SO_RCVBUF   proxy-target --remote-sndbuf=&#xA;    &lt;bytes&gt;&#xA;      ; SO_SNDBUF   proxy-target --nosplice ;   splice  linux  --skip-nodelay ;      TCP_NODELAY.   split.&#xA;    &lt;/bytes&gt;&#xA;   &lt;/bytes&gt;&#xA;  &lt;/bytes&gt;&#xA; &lt;/bytes&gt;&lt;/p&gt; &#xA;&lt;p&gt;--split-http-req=method|host ;   http    :   (GET,POST)    Host --split-pos=&#xA; &lt;offset&gt;&#xA;   ;        .  ,   -http.   split-http-req     http. --split-any-protocol ;  split-pos   .   -   http  TLS ClientHello --disorder[=http|tls] ;            --oob[=http|tls] ;   out-of-band data (OOB)      --oob-data=&#xA;  &lt;char&gt;&#xA;   |0xHEX ;   OOB.   0x00. --hostcase ;    &#34;Host:&#34;.    &#34;host:&#34;. --hostspell=HoST ;    Host ( &#34;HOST&#34;  &#34;HoSt&#34;).   --hostcase --hostdot ;      : &#34;Host: kinozal.tv.&#34; --hosttab ;      : &#34;Host: kinozal.tv\t&#34; --hostnospace ;    &#34;Host:&#34; --hostpad=&#xA;   &lt;bytes&gt;&#xA;     ;  -   &#xA;    &lt;bytes&gt;&#xA;       Host: --domcase ;   Host:   : TeSt.cOm --methodspace ;     : &#34;GET /&#34; =&amp;gt; &#34;GET /&#34; --methodeol ;      : &#34;GET /&#34; =&amp;gt; &#34;\r\nGET /&#34; --unixeol ;  0D0A  0A    0A --tlsrec=sni|sniext ;  TLS ClientHello  2 TLS records.   1  2  hostname  SNI     SNI extension.  SNI  - . --tlsrec-pos=&#xA;     &lt;pos&gt;&#xA;       ;  TLS ClientHello  2 TLS records.    ,     -   1. --mss=&#xA;      &lt;int&gt;&#xA;        ;  MSS  .     ,     --mss-pf=[~]port1[-port2] ;  MSS    ,   . ~   --tamper-start=[n]&#xA;       &lt;pos&gt;&#xA;         ;             (    ) --tamper-cutoff=[n]&#xA;        &lt;pos&gt;&#xA;          ;            (    ) --hostlist=&#xA;         &lt;filename&gt;&#xA;           ;    ,     filename.   . ;        . ;   1              . ;   HUP        ;      gzip.      ;    ,  .    =   ;    Host:   http    SNI  TLS ClientHello. --hostlist-exclude=&#xA;          &lt;filename&gt;&#xA;            ;       .    ,   --hostlist-auto=&#xA;           &lt;filename&gt;&#xA;             ;       hostlist (   ) --hostlist-auto-fail-threshold=&#xA;            &lt;int&gt;&#xA;              ;     ,   ,      ( : 3) --hostlist-auto-fail-time=&#xA;             &lt;int&gt;&#xA;               ;           ( : 60) --hostlist-auto-debug=&#xA;              &lt;logfile&gt;&#xA;                ;     autohostlist.      .&#xA;              &lt;/logfile&gt;&#xA;             &lt;/int&gt;&#xA;            &lt;/int&gt;&#xA;           &lt;/filename&gt;&#xA;          &lt;/filename&gt;&#xA;         &lt;/filename&gt;&#xA;        &lt;/pos&gt;&#xA;       &lt;/pos&gt;&#xA;      &lt;/int&gt;&#xA;     &lt;/pos&gt;&#xA;    &lt;/bytes&gt;&#xA;   &lt;/bytes&gt;&#xA;  &lt;/char&gt;&#xA; &lt;/offset&gt;&lt;/p&gt; &#xA;&lt;p&gt;      .&lt;/p&gt; &#xA;&lt;p&gt;  http  split-http-req    split-pos. split-pos      http  TLS ClientHello.      ,  --split-any-protocol.&lt;/p&gt; &#xA;&lt;p&gt;             ,    .     (SNDBUF)   .      TCP_NODELAY   ,   send     ip    ,       ip . ,    send    ,      ,      .         ,  -      ,      DPI.     MSS,    MTU  .   DPI,      TCP ,     .  http   - .     ,        .       ,     ,     ,   2 send       ip .  : tpws        send,        http(s).&lt;/p&gt; &#xA;&lt;p&gt;tpws       IP  ( 32 ).    .  --bind-iface*  --bind-addr   .   --bind-*    .     ipv4  --bind-addr &#34;0.0.0.0&#34;,   ipv6 - &#34;::&#34;. --bind-addr=&#34;&#34; -    ipv4  ipv6.    link local ipv6  (fe80::/8) : --bind-iface6 --bind-linklocal=no :    fc00::/7,    --bind-iface6 --bind-linklocal=unwanted :    fc00::/7,   ,  link local. --bind-iface6 --bind-linklocal=prefer :  link local,    fc00::/7,   . --bind-iface6 --bind-linklocal=force :  link local      ,          .     link-local address   : --bind-iface6=fe80::aaaa:bbbb:cccc:dddd%iface-name  --bind-wait*    ,    IP  ,    ,      .     ifup  -   ,     IP   .            &#34;  X  link local address&#34;.     ip,     ,    : --bind-addr=192.168.5.3 --bind-wait-ip=20   transparent      ,   socks -   .&lt;/p&gt; &#xA;&lt;p&gt; rcvbuf  sndbuf   setsockopt SO_RCVBUF SO_SNDBUF     .&lt;/p&gt; &#xA;&lt;p&gt;        , tpws    &#34;tcp proxy mode&#34;.   ,      splice             .  -    ,     . TCP       ,  DPI     IP  TCP.      ,     ,   linux      -   sysctl.     tpws,  -         ,      ,    . tpws     ,      ,   ,  socks    .   tpws       .      (  windows).     . 2   .           4pda.ru.&lt;/p&gt; &#xA;&lt;p&gt; &#34;--socks&#34;     (     1..1023).   socks 4  5  .    .   IP   ,    tpws,  localhost, . socks5     (curl : --socks5-hostname firefox : socks_remote_dns=true). tpws    ,     ,    .        &#34;--maxconn&#34;,        &#34;--resolver-threads&#34;.   socks   ,       ip      .     ,    .    &#34;--no-resolve&#34;,      ,     .    .&lt;/p&gt; &#xA;&lt;p&gt; --hostpad=&#xA; &lt;bytes&gt;&#xA;    -  Host:    .   &#xA;  &lt;bytes&gt;&#xA;     ,        2K.    http  - 64K,    ,   http     .   DPI,   TCP   .   ,     bytes http     .      padding  MTU,    DPI    ,       --split-     ,        DPI.    4K  8K,    .&#xA;  &lt;/bytes&gt;&#xA; &lt;/bytes&gt;&lt;/p&gt; &#xA;&lt;p&gt;--disorder -     disorder2 nfqws ,      stream . ,    nfqws,     .    .      TTL.      .      TTL=1.       ,      DPI,   .   TTL    .    ,      .   SACK,      ,     ,       .       Linux  MacOS. ,  FreeBSD  OpenBSD     .         .  ,       ,      .     DPI  . --disorder      .       .&lt;/p&gt; &#xA;&lt;p&gt;--tlsrec  --tlsrec-pos    tcp   TLS ClientHello  2 TLS records. --tlsrec=sni   1  2  hostname  SNI,         .    SNI  . --tlsrec-pos    .     TLS   ,    1.    --split-pos.         TLS record layer,    TCP.    --tslrec, --split-pos  --disorder . --tlsrec    .  (openssl, ...)   http      tls ,   -  .     CDN   ddos-.   --tlsrec     .   --tlsrec     TLS 1.2,        ServerHello.    TLS 1.3,     . ,  ,   TLS 1.3,  .&lt;/p&gt; &#xA;&lt;p&gt;--mss    TCP_MAXSEG.      tcp  SYN .     SYN,ACK   MSS.         ,         MSS,  .     ,    .  TLS 1.2     ,         ,    DPI,   .           .    hostlist     socks     . (firefox network.proxy.socks_remote_dns).   ,  tpws         .     TLS.      --mss-pf. --mss-pf=443     https.      TLS1.3,     TLS1.3,     .        ,  ,  MSS    3-way handshake    ,   TLS      ,      DPI.          .    linux,    BSD  MacOS.&lt;/p&gt; &#xA;&lt;p&gt;--skip-nodelay   ,   MTU  MTU ,    tpws.         VPN.  MTU - 1     .  tcp proxy     ,     .&lt;/p&gt; &#xA;&lt;h2&gt;    IP&lt;/h2&gt; &#xA;&lt;p&gt;!!! nftables     ipset-.       RAM !!!    . ,   100K   nfset    256 Mb. !!!        ,   iptables+ipset.&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;    ipset/zapret-hosts-user.txt   ipset/get_user.sh    ipset/zapret-ip-user.txt  IP .&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;C   get_reestr_*      :&lt;/p&gt; &#xA;&lt;ol start=&#34;2&#34;&gt; &#xA; &lt;li&gt; &lt;p&gt;ipset/get_reestr_resolve.sh     rublacklist      ip    ipset/zapret-ip.txt.gz.      IP ,           ,     .   ,     ,      IP :     http   &#34;&#34;  &#34;Host:&#34;    IP .     ,      .    mdig ( ).&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;ipset/get_reestr_preresolved.sh.   ,   2),        .&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;ipset/get_reestr_preresolved_smart.sh.   ,   3),        ( IP   cloudflare, facebook, ...)     &lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;C   get_antifilter_*         antifilter.network  antifilter.download :&lt;/p&gt; &#xA;&lt;ol start=&#34;5&#34;&gt; &#xA; &lt;li&gt; &lt;p&gt;ipset/get_antifilter_ip.sh.   &lt;a href=&#34;https://antifilter.download/list/ip.lst&#34;&gt;https://antifilter.download/list/ip.lst&lt;/a&gt;.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;ipset/get_antifilter_ipsmart.sh.   &lt;a href=&#34;https://antifilter.network/download/ipsmart.lst&#34;&gt;https://antifilter.network/download/ipsmart.lst&lt;/a&gt;.      ip.lst    /32  /22&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;ipset/get_antifilter_ipsum.sh.   &lt;a href=&#34;https://antifilter.download/list/ipsum.lst&#34;&gt;https://antifilter.download/list/ipsum.lst&lt;/a&gt;.     ip.lst   /24&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;ipset/get_antifilter_ipresolve.sh.   &lt;a href=&#34;https://antifilter.download/list/ipresolve.lst&#34;&gt;https://antifilter.download/list/ipresolve.lst&lt;/a&gt;. - ,     get_reestr_resolve.  ipv4.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;ipset/get_antifilter_allyouneed.sh.   &lt;a href=&#34;https://antifilter.download/list/allyouneed.lst&#34;&gt;https://antifilter.download/list/allyouneed.lst&lt;/a&gt;.   ,   ipsum.lst  subnet.lst.&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;        ipset.  2-9    1.&lt;/p&gt; &#xA;&lt;ol start=&#34;10&#34;&gt; &#xA; &lt;li&gt;ipset/get_config.sh.    ,     GETLIST   config    ,      ipset nozapret/nozapret6.&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;    .   .   RAM  .   ,             .              wifi,       2  ( ).&lt;/p&gt; &#xA;&lt;p&gt;    RAM - get_antifilter_allyouneed.sh, get_antifilter_ipsum.sh.&lt;/p&gt; &#xA;&lt;p&gt; zapret-ip.txt  zapret-ipban.txt       .gz.             .       GZIP_LISTS=0.&lt;/p&gt; &#xA;&lt;p&gt;          2 ,         ,    extroot -  .         ,        ,     .&lt;/p&gt; &#xA;&lt;p&gt;  ipset   ipset/create_ipset.sh.    &#34;no-update&#34;,    ipset,         .  ,       .      ipset,      .       ,     create_ipset   &#34;no-update&#34;.       &#34;no-update&#34;.&lt;/p&gt; &#xA;&lt;p&gt;         IP .    ipset   ip2net.     IP            . ip2net     ,      . ip2net    C,   .      .&lt;/p&gt; &#xA;&lt;p&gt;     ipset/zapret-hosts-user-ipban.txt.  ip      ipset &#34;ipban&#34;.           proxy &#34;redsocks&#34;   VPN.&lt;/p&gt; &#xA;&lt;p&gt;IPV6 :   ipv6,        ,   &#34;6&#34;    . zapret-ip.txt =&amp;gt; zapret-ip6.txt  ipset- zapret6  ipban6.   antifilter    ipv6 .&lt;/p&gt; &#xA;&lt;p&gt;  IP.     zapret-hosts-user-exclude.txt,  zapret-ip-exclude.txt  zapret-ip-exclude6.txt.    ipset- nozapret  nozapret6.  ,  init ,     ipset.    IP    . zapret-hosts-user-exclude.txt   , ipv4  ipv6   .&lt;/p&gt; &#xA;&lt;p&gt;FreeBSD.  ipset/*.sh     FreeBSD.  ipset   lookup  ipfw   . ipfw     ipset    ipv4,   ipv6      ,   .&lt;/p&gt; &#xA;&lt;p&gt;  LISTS_RELOAD      .     BSD   PF. LISTS_RELOAD=-   .&lt;/p&gt; &#xA;&lt;h2&gt;ip2net&lt;/h2&gt; &#xA;&lt;p&gt; ip2net    ipv4  ipv6  ip        .     stdin,    stdout.&lt;/p&gt; &#xA;&lt;p&gt;-4 ;  - ipv4 ( ) -6 ;  - ipv6 --prefix-length=min[-max] ;    .  : 22-30 (ipv4), 56-64 (ipv6) --v4-threshold=mul/div ; ipv4 :  ,       mul/div .  : 3/4 --v6-threshold=N ; ipv6 :   ip   &lt;/p&gt; &#xA;&lt;p&gt;      ip/prefix  ip1-ip2.     stdout  .    ipset. ipset    hash:net  ip1-ip2    ip/prefix. ipfw  FreeBSD  ip/prefix,    ip1-ip2. ip2net   ,   IP .&lt;/p&gt; &#xA;&lt;p&gt; ,      .  ipv4        (mul/div. , 3/4),  ipv6   .&lt;/p&gt; &#xA;&lt;p&gt;     :        ,     - .     ,    ( ). ,   v6_threshold=2 prefix_length=32-64,   ipv6 : 1234:5678:aaaa::5 1234:5678:aaaa::6 1234:5678:aaac::5   : 1234:5678:aaa8::/45        /32. ,     ,         /45     .   v6_threshold=4,    : 1234:5678:aaaa::5 1234:5678:aaaa::6 1234:5678:aaac::5   ip    ,     .   prefix_length=56-64,   : 1234:5678:aaaa::/64 1234:5678:aaac::5&lt;/p&gt; &#xA;&lt;p&gt;           ,      .  ip2net   ,          . ,   mul/div - .     32 bit  .     : 5000000/10000000. 1/2 -  .&lt;/p&gt; &#xA;&lt;h2&gt;   &lt;/h2&gt; &#xA;&lt;p&gt; ipset   tpws  nfqws   .       include (--hostlist)  exclude (--hostlist-exclude).     ,      2 .    exclude list.        .    include list      .       .      .     .     -  .   exclude  -  , .   include  -   .   -   include,  exclude.&lt;/p&gt; &#xA;&lt;p&gt;      .  2 include  : ipset/zapret-hosts-users.txt.gz  ipset/zapret-hosts-users.txt ipset/zapret-hosts.txt.gz  ipset/zapret-hosts.txt  1 exclude  ipset/zapret-hosts-users-exclude.txt.gz  ipset/zapret-hosts-users-exclude.txt&lt;/p&gt; &#xA;&lt;p&gt;   MODE_FILTER=hostlist    nfqws  tpws  ,   .    include ,    ,     include .  ,       ,  exclude.       -    zapret-hosts-users.txt.    .&lt;/p&gt; &#xA;&lt;p&gt;  . ,  &#34;ru&#34;    &#34;&lt;em&gt;.ru&#34;.  &#34;&lt;/em&gt;.ru&#34;    .&lt;/p&gt; &#xA;&lt;p&gt;       ipset/get_reestr_hostlist.sh  ipset/get_antizapret_domains.sh&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;  ipset/zapret-hosts.txt.gz.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;  ,  nfqws  tpws  .  ,    HUP.  HUP   .   -   ,    .     ipset   HUP  .&lt;/p&gt; &#xA;&lt;p&gt;           ipset. tpws  nfqws         ,      (http, tls, quic).    ,     ,   RAM   !     RAM     oom,       .&lt;/p&gt; &#xA;&lt;h2&gt;  autohostlist&lt;/h2&gt; &#xA;&lt;p&gt;        ,     .            ,   ,       autohostlist   ,    . nfqws  tpws    .  -      autohostlist  hostlist-exclude.   -   -     .    . tpws/nfqws     ,       ,     .&lt;/p&gt; &#xA;&lt;p&gt;  nfqws          .     connbytes,  nfqws   .          BSD .    connbytes.&lt;/p&gt; &#xA;&lt;p&gt; linux    nfqws   connbytes   : sysctl net.netfilter.nf_conntrack_tcp_be_liberal=1  ,   DPI    RST   ACK.   tcp/ip  linux,      INVALID  conntrack.    connbytes   ,   RST  nfqws.&lt;/p&gt; &#xA;&lt;p&gt;     DPI,  &#34; &#34;      :&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt; :  ,     TCP .&lt;/li&gt; &#xA; &lt;li&gt;RST :  RST  / &lt;/li&gt; &#xA; &lt;li&gt; : (  http)    -&lt;/li&gt; &#xA; &lt;li&gt;  : (  https)   TLS     -  .  ,     .&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;nfqws  tpws    1-3, 4   .         TCP  tpws  nfqws    -.   ,    :&lt;/p&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt;[nfqws]      TCP ,    host.&lt;/li&gt; &#xA; &lt;li&gt;[nfqws,tpws] RST,        .&lt;/li&gt; &#xA; &lt;li&gt;[nfqws,tpws] HTTP ,        ,      2 ,     2   .&lt;/li&gt; &#xA; &lt;li&gt;[tpws]         ,         .     ,    ( &#34;&#34;).&lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;p&gt;    ,   ,   .         ,       autohostlist.          .         ,  . ,     .&lt;/p&gt; &#xA;&lt;p&gt;       .         ,     ,         .   F5,    .      ,      .&lt;/p&gt; &#xA;&lt;p&gt;      ,    .       ,     .       . ,     ,   ,  .    .   ,      .  , ,    .     ipset/zapret-hosts-user-exclude.txt,   .         ,   autohostlist debug log.   ,       nfqws   debug.      ,      .               .&lt;/p&gt; &#xA;&lt;p&gt;   autohostlist   .      .       ,     include ,  autohostlist.       uid,      .&lt;/p&gt; &#xA;&lt;p&gt; zapret  autohostlist  ipset/zapret-hosts-auto.txt. install_easy.sh   zapret   .  autohostlist     hostlist.   ipset/zapret-hosts-user.txt, ipset/zapret-hosts-user-exclude.txt.&lt;/p&gt; &#xA;&lt;h2&gt; &lt;/h2&gt; &#xA;&lt;p&gt;          .&lt;/p&gt; &#xA;&lt;p&gt;      DNS     DPI .      blockcheck.sh.&lt;/p&gt; &#xA;&lt;p&gt; DNS ,        DNS,  DNS  .  : 8.8.8.8, 8.8.4.4, 1.1.1.1, 1.0.0.1, 9.9.9.9  DNS        DNS,  dnscrypt.     -    yandex 77.88.8.88    1253.       DNS   .&lt;/p&gt; &#xA;&lt;p&gt;  blockcheck         .      -,    ,    .    blockcheck.sh  ,  : ./blockcheck.sh | tee /tmp/blockcheck.txt&lt;/p&gt; &#xA;&lt;p&gt;    DPI ,      /opt/zapret/config.&lt;/p&gt; &#xA;&lt;p&gt;  ,       DPI           .   ,      DPI      .        .    curl.  ,  connection reset  . blockcheck.sh   .  split   2-. ,   4-.    .           .     ,     .&lt;/p&gt; &#xA;&lt;p&gt;  autottl       .        ,         ,    ,   .&lt;/p&gt; &#xA;&lt;p&gt;Blockcheck  3  .   quick -     - . standard          DPI    . force      ,          .&lt;/p&gt; &#xA;&lt;p&gt;       netcat (ncat  nmap  openbsd ncat.  openwrt   .),     http  https  IP  .    IP  ,   .   .    ,   netcat-      .     IP,     , ..       .&lt;/p&gt; &#xA;&lt;p&gt;   IP block     ,     ,           DPI     .        /,       .          ,    .        IP     ,     DPI.  DPI      ( ), connection reset  http redirect  .          DPI.  ,  http ,  ,    ,   - .  TLS -  handshake  .        DPI  MiTM  ( ),    ,          TLS handshake   ,        .   .         IP ,     .        IP   ,      IP. ,    ,  ,      IP,    .          .    ,    .&lt;/p&gt; &#xA;&lt;p&gt; ,      IP  DPI,             .     . ,   ipv6 option headers.   ,        .       .&lt;/p&gt; &#xA;&lt;p&gt;        IP&lt;/p&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;testing iana.org on it&#39;s original ip !!!!! AVAILABLE !!!!! testing rutracker.org on 192.0.43.8 (iana.org) curl: (28) Operation timed out after 1002 milliseconds with 0 bytes received testing iana.org on 172.67.182.196 (rutracker.org) HTTP/1.1 409 Conflict testing iana.org on 104.21.32.39 (rutracker.org) HTTP/1.1 409 Conflict&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;testing iana.org on it&#39;s original ip !!!!! AVAILABLE !!!!! testing rutracker.org on 192.0.43.8 (iana.org) curl: (28) Connection timed out after 1001 milliseconds testing iana.org on 172.67.182.196 (rutracker.org) curl: (35) OpenSSL/3.2.1: error:0A000410:SSL routines::ssl/tls alert handshake failure testing iana.org on 104.21.32.39 (rutracker.org) curl: (35) OpenSSL/3.2.1: error:0A000410:SSL routines::ssl/tls alert handshake failure&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;testing iana.org on it&#39;s original ip !!!!! AVAILABLE !!!!! testing rutracker.org on 192.0.43.8 (iana.org) HTTP/1.1 307 Temporary Redirect Location: &lt;a href=&#34;https://www.gblnet.net/blocked.php&#34;&gt;https://www.gblnet.net/blocked.php&lt;/a&gt; testing iana.org on 172.67.182.196 (rutracker.org) HTTP/1.1 409 Conflict testing iana.org on 104.21.32.39 (rutracker.org) HTTP/1.1 409 Conflict&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;testing iana.org on it&#39;s original ip !!!!! AVAILABLE !!!!! testing rutracker.org on 192.0.43.8 (iana.org) curl: (35) Recv failure: Connection reset by peer testing iana.org on 172.67.182.196 (rutracker.org) curl: (35) OpenSSL/3.2.1: error:0A000410:SSL routines::ssl/tls alert handshake failure testing iana.org on 104.21.32.39 (rutracker.org) curl: (35) OpenSSL/3.2.1: error:0A000410:SSL routines::ssl/tls alert handshake failure&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;p&gt;  IP    TCP      &lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;port block tests ipv4 startmail.com:80 ncat -z -w 1 145.131.90.136 80 145.131.90.136 does not connect. netcat code 1 ncat -z -w 1 145.131.90.152 80 145.131.90.152 does not connect. netcat code 1&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;curl_test_http ipv4 startmail.com&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; &lt;p&gt;checking without DPI bypass curl: (28) Connection timed out after 2002 milliseconds UNAVAILABLE code=28&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;IP block tests (requires manual interpretation)&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;testing iana.org on it&#39;s original ip !!!!! AVAILABLE !!!!! testing startmail.com on 192.0.43.8 (iana.org) HTTP/1.1 302 Found Location: &lt;a href=&#34;https://www.iana.org/&#34;&gt;https://www.iana.org/&lt;/a&gt; testing iana.org on 145.131.90.136 (startmail.com) curl: (28) Connection timed out after 2002 milliseconds testing iana.org on 145.131.90.152 (startmail.com) curl: (28) Connection timed out after 2002 milliseconds&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;h2&gt; &lt;/h2&gt; &#xA;&lt;p&gt; /opt/zapret/config        .       .&lt;/p&gt; &#xA;&lt;p&gt; linux     iptables  nftables.     linux  nftables,   nft.  openwrt    nftables     firewall4.&lt;/p&gt; &#xA;&lt;p&gt;FWTYPE=iptables&lt;/p&gt; &#xA;&lt;p&gt;  : tpws - tpws   transparent tpws-socks - tpws   socks   localhost  LAN  (  IFACE_LAN    - OpenWRT).  988 nfqws - nfqws filter -   ipset   hostlist custom -       init    iptables&lt;/p&gt; &#xA;&lt;p&gt;MODE=tpws&lt;/p&gt; &#xA;&lt;p&gt;    HTTP :&lt;/p&gt; &#xA;&lt;p&gt;MODE_HTTP=1&lt;/p&gt; &#xA;&lt;p&gt;     http    tcp  (http keeaplive).    nfqws.       . tpws    http keepalive&lt;/p&gt; &#xA;&lt;p&gt;MODE_HTTP_KEEPALIVE=0&lt;/p&gt; &#xA;&lt;p&gt;    HTTPS :&lt;/p&gt; &#xA;&lt;p&gt;MODE_HTTPS=1&lt;/p&gt; &#xA;&lt;p&gt;    QUIC :&lt;/p&gt; &#xA;&lt;p&gt;MODE_QUIC=0&lt;/p&gt; &#xA;&lt;p&gt;   : none -      ipset -   ipset- zapret/zapret6 hostlist -       autohostlist -  hostlist +      &lt;/p&gt; &#xA;&lt;p&gt;MODE_FILTER=none&lt;/p&gt; &#xA;&lt;p&gt; tpws :&lt;/p&gt; &#xA;&lt;p&gt;TPWS_OPT=&#34;--hostspell=HOST --split-http-req=method --split-pos=3&#34;&lt;/p&gt; &#xA;&lt;p&gt; nfqws    DPI :&lt;/p&gt; &#xA;&lt;p&gt;DESYNC_MARK=0x40000000 DESYNC_MARK_POSTNAT=0x20000000 NFQWS_OPT_DESYNC=&#34;--dpi-desync=fake --dpi-desync-ttl=0 --dpi-desync-fooling=badsum&#34;&lt;/p&gt; &#xA;&lt;p&gt;   nfqws  http  https    ip  4,6 :&lt;/p&gt; &#xA;&lt;p&gt;NFQWS_OPT_DESYNC_HTTP=&#34;--dpi-desync=split --dpi-desync-ttl=0 --dpi-desync-fooling=badsum&#34; NFQWS_OPT_DESYNC_HTTPS=&#34;--wssize=1:6 --dpi-desync=split --dpi-desync-ttl=0 --dpi-desync-fooling=badsum&#34; NFQWS_OPT_DESYNC_HTTP6=&#34;--dpi-desync=split --dpi-desync-ttl=5 --dpi-desync-fooling=none&#34; NFQWS_OPT_DESYNC_HTTPS6=&#34;--wssize=1:6 --dpi-desync=split --dpi-desync-ttl=5 --dpi-desync-fooling=none&#34;&lt;/p&gt; &#xA;&lt;p&gt; -   NFQWS_OPT_DESYNC_HTTP/NFQWS_OPT_DESYNC_HTTPS  ,   NFQWS_OPT_DESYNC.  -   NFQWS_OPT_DESYNC_HTTP6/NFQWS_OPT_DESYNC_HTTPS6  ,   NFQWS_OPT_DESYNC_HTTP/NFQWS_OPT_DESYNC_HTTPS.&lt;/p&gt; &#xA;&lt;p&gt;   QUIC : NFQWS_OPT_DESYNC_QUIC=&#34;--dpi-desync=fake&#34; NFQWS_OPT_DESYNC_QUIC6=&#34;--dpi-desync=hopbyhop&#34;  NFQWS_OPT_DESYNC_QUIC6  ,   NFQWS_OPT_DESYNC_QUIC.&lt;/p&gt; &#xA;&lt;p&gt;    traffic offload (  ) donttouch :   ,   ,     ,        none :   ,      software :      software,      hardware :      hardware,     &lt;/p&gt; &#xA;&lt;p&gt;FLOWOFFLOAD=donttouch&lt;/p&gt; &#xA;&lt;p&gt; GETLIST   install_easy.sh        ip  .     get_config.sh    (crontab  systemd timer).    ,      .   ,    .&lt;/p&gt; &#xA;&lt;p&gt;   ipv4  ipv6.       &#34;1&#34;,   . #DISABLE_IPV4=1 DISABLE_IPV6=1&lt;/p&gt; &#xA;&lt;p&gt;    DNS  mdig (1..100).   ,  ,        DNS  ? MDIG_THREADS=30&lt;/p&gt; &#xA;&lt;p&gt;    .      /tmp    .       (   ),        . TMPDIR=/opt/zapret/tmp&lt;/p&gt; &#xA;&lt;p&gt;   ipset-  nfset-&lt;/p&gt; &#xA;&lt;p&gt;SET_MAXELEM=262144 IPSET_OPT=&#34;hashsize 262144 maxelem 2097152&#34;&lt;/p&gt; &#xA;&lt;p&gt;,   ip  . $1 =      stdout.   nfset      . IPSET_HOOK=&#34;/etc/zapret.ipset.hook&#34;&lt;/p&gt; &#xA;&lt;p&gt;   dmesg    .   ,     ,      ipset    , ipset   .    ,   hashsize,    ipset (create_ipset.sh).   ,       .    hashsize.    hashsize,    ipset  .    hashsize     .&lt;/p&gt; &#xA;&lt;p&gt;   ip2net.    ipv4  ipv6. IP2NET_OPT4=&#34;--prefix-length=22-30 --v4-threshold=3/4&#34; IP2NET_OPT6=&#34;--prefix-length=56-64 --v6-threshold=5&#34;&lt;/p&gt; &#xA;&lt;p&gt;  autohostlist. AUTOHOSTLIST_RETRANS_THRESHOLD=3 AUTOHOSTLIST_FAIL_THRESHOLD=2 AUTOHOSTLIST_FAIL_TIME=60 AUTOHOSTLIST_DEBUG=0&lt;/p&gt; &#xA;&lt;p&gt;        ipset/*.sh.   . GZIP_LISTS=1&lt;/p&gt; &#xA;&lt;p&gt;   ip  .     ,   ipset  ipfw   .  BSD   PF   .      : pfctl -f /etc/pf.conf    pfctl (   FreeBSD,   OpenBSD 6.8)       : pfctl -Tl -f /etc/pf.conf &#34;-&#34;         backend. #LISTS_RELOAD=&#34;pfctl -f /etc/pf.conf&#34; #LISTS_RELOAD=-&lt;/p&gt; &#xA;&lt;p&gt; openwrt     &#39;lan&#39;.         tpws.         : OPENWRT_LAN=&#34;lan lan2 lan3&#34;&lt;/p&gt; &#xA;&lt;p&gt; openwrt   wan  ,  default route.   ipv4  ipv6.    : OPENWRT_WAN4=&#34;wan4 vpn&#34; OPENWRT_WAN6=&#34;wan6 vpn6&#34;&lt;/p&gt; &#xA;&lt;p&gt; INIT_APPLY_FW=1  init     iptables.       ,    .  ,       ,       .  openwrt    firewall3+iptables.&lt;/p&gt; &#xA;&lt;p&gt;     openwrt :&lt;/p&gt; &#xA;&lt;p&gt;     ,         : IFACE_LAN=eth0 IFACE_WAN=eth1 IFACE_WAN6=&#34;henet ipsec0&#34;       .  IFACE_WAN6  ,    IFACE_WAN.&lt;/p&gt; &#xA;&lt;p&gt; :   ,   ..     zapret.   ,    .       : IFACE_LAN=&#34;eth0 eth1 eth2&#34;&lt;/p&gt; &#xA;&lt;h2&gt;        &lt;/h2&gt; &#xA;&lt;p&gt;   -   ,          .          iptables  zapret.      iptables          tpws  nfqws.&lt;/p&gt; &#xA;&lt;p&gt;       iptables  :&lt;/p&gt; &#xA;&lt;p&gt;/opt/zapret/init.d/sysv/zapret start_fw /opt/zapret/init.d/sysv/zapret stop_fw /opt/zapret/init.d/sysv/zapret restart_fw&lt;/p&gt; &#xA;&lt;p&gt;          :&lt;/p&gt; &#xA;&lt;p&gt;/opt/zapret/init.d/sysv/zapret start_daemons /opt/zapret/init.d/sysv/zapret stop_daemons /opt/zapret/init.d/sysv/zapret restart_daemons&lt;/p&gt; &#xA;&lt;p&gt;nftables         ,       .   nf- &#34;zapret&#34;.       ,     .&lt;/p&gt; &#xA;&lt;p&gt; nftables     :&lt;/p&gt; &#xA;&lt;p&gt; set- ,   lan, wan  wan6.     .     flow table    ingress hook. /opt/zapret/init.d/sysv/zapret list_ifsets&lt;/p&gt; &#xA;&lt;p&gt; set- ,   lan, wan  wan6.   linux       IFACE_LAN, IFACE_WAN.  openwrt  .  lanif     OPENWRT_LAN.   lan  wan     ingress hook  flow table. /opt/zapret/init.d/sysv/zapret reload_ifsets&lt;/p&gt; &#xA;&lt;p&gt;    set-.  nft -t list table inet zapret /opt/zapret/init.d/sysv/zapret list_table&lt;/p&gt; &#xA;&lt;p&gt;               zapret  :&lt;/p&gt; &#xA;&lt;p&gt;INIT_FW_PRE_UP_HOOK=&#34;/etc/firewall.zapret.hook.pre_up&#34; INIT_FW_POST_UP_HOOK=&#34;/etc/firewall.zapret.hook.post_up&#34; INIT_FW_PRE_DOWN_HOOK=&#34;/etc/firewall.zapret.hook.pre_down&#34; INIT_FW_POST_DOWN_HOOK=&#34;/etc/firewall.zapret.hook.post_down&#34;&lt;/p&gt; &#xA;&lt;p&gt;    config.   ,     nftables set-,  ipban/ipban6. nfset-    ,        zapret,      /    zapret .&lt;/p&gt; &#xA;&lt;h2&gt; custom&lt;/h2&gt; &#xA;&lt;p&gt;custom     shell include /opt/zapret/init.d/sysv/custom  /opt/zapret/init.d/openwrt/custom&lt;/p&gt; &#xA;&lt;p&gt;      : zapret_custom_daemons zapret_custom_firewall zapret_custom_firewall_nft&lt;/p&gt; &#xA;&lt;p&gt;  custom   ,    &#34;functions&#34;  &#34;zapret&#34;.      iptables   .   ,          / ipv6,    ,  , ...    ,       {ip,nf}tables   .&lt;/p&gt; &#xA;&lt;p&gt;  openwrt  sysv  .  sysv    ,   .        $1 (0  1).  openwrt    procd.&lt;/p&gt; &#xA;&lt;p&gt;      iptables  nftables.   ,        .     iptables  nftables -     .&lt;/p&gt; &#xA;&lt;p&gt; custom  custom-tpws4http-nfqws4https    tpws  http  nfqws  https.      config.          .&lt;/p&gt; &#xA;&lt;h2&gt; &lt;/h2&gt; &#xA;&lt;p&gt;install_easy.sh      ( manual_setup.txt).   OpenWRT, linux    systemd  openrc  MacOS.&lt;/p&gt; &#xA;&lt;p&gt;          &#34; &#34;.&lt;/p&gt; &#xA;&lt;p&gt;   ,               ,    .   curl. ipset -    iptables,  nftables -  .&lt;/p&gt; &#xA;&lt;p&gt;    (alpine)    iptables  ip6tables,  nftables.&lt;/p&gt; &#xA;&lt;p&gt;       . -      99%.      ,       make.    gcc, make   -dev .       :&lt;/p&gt; &#xA;&lt;p&gt;install_easy.sh make&lt;/p&gt; &#xA;&lt;p&gt; openwrt          .   WAN  LAN    .       .     .         LAN  WAN .  ,      tpws       ,     LAN    WAN.     tpws       ,    : LAN   ,   WAN .   nfqws    ,        WAN.              .&lt;/p&gt; &#xA;&lt;p&gt;   uninstall_easy.sh&lt;/p&gt; &#xA;&lt;h2&gt;   openwrt&lt;/h2&gt; &#xA;&lt;p&gt;        .&lt;/p&gt; &#xA;&lt;p&gt; zapret    /tmp.&lt;/p&gt; &#xA;&lt;p&gt;  : sh /tmp/zapret/install_easy.sh    /opt/zapret    .&lt;/p&gt; &#xA;&lt;p&gt;     zapret  tmp   RAM : rm -r /tmp/zapret&lt;/p&gt; &#xA;&lt;p&gt;          &#34; &#34;.&lt;/p&gt; &#xA;&lt;p&gt;             .     windows.    /opt    .&lt;/p&gt; &#xA;&lt;h2&gt;Android&lt;/h2&gt; &#xA;&lt;p&gt;    nfqws  tpws   transparent proxy. tpws      --socks.&lt;/p&gt; &#xA;&lt;p&gt; Android   NFQUEUE. nfqws .&lt;/p&gt; &#xA;&lt;p&gt;     ipset.        ipset   &#34; &#34;  &#34; &#34;.           .&lt;/p&gt; &#xA;&lt;p&gt;tpws     ,    - .  android  /etc/passwd,   --user   .      user id   --uid.   gid 3003 (AID_INET).    permission denied   .  : --uid 1:3003  iptables  : &#34;! --uid-owner 1&#34;  &#34;! --uid-owner tpws&#34;.     iptables  tpws,      .     : magisk : /data/adb/service.d supersu : /system/su.d&lt;/p&gt; &#xA;&lt;p&gt;nfqws    .    uid   (0x7FFFFFFF)               .     ,      .    ,     power . , ,     suspend    UID. UID     .  UID android   power saving.   ,          ,    wifi   . suspend  nfqueue   linux     .  UID   (--uid 1 )    .     android 8.1   ,    mediatek.&lt;/p&gt; &#xA;&lt;p&gt;     tpws  android  ,      .    adb shell  /data/local/tmp/,    . mkdir /data/local/tmp/zapret adb push tpws /data/local/tmp/zapret chmod 755 /data/local/tmp/zapret /data/local/tmp/zapret/tpws chcon u:object_r:system_file:s0 /data/local/tmp/zapret/tpws&lt;/p&gt; &#xA;&lt;p&gt;      :        linux.   live image linux           linux     usb      .    linux    blockcheck.       TTL  1,    TTL   .   rootfs -  linux   ,  .        adb shell.   ,    ,   .  - , , alpine   openwrt.     android,    - arm ( ).    ,     64-,    arm - aarch64.&lt;/p&gt; &#xA;&lt;p&gt;mount --bind /dev /data/linux/dev mount --bind /proc /data/linux/proc mount --bind /sys /data/linux/sys chroot /data/linux&lt;/p&gt; &#xA;&lt;p&gt;        DNS.    .&lt;/p&gt; &#xA;&lt;p&gt;echo nameserver 1.1.1.1 &amp;gt;/etc/resolv.conf&lt;/p&gt; &#xA;&lt;p&gt;      iptables-legacy.   iptables-nft,      .   android  nftables. ls -la $(which iptables)     legacy .  ,      ,     . iptables -S   ,   iptables  ,    android. iptables-nft  .   zapret  /opt/zapret.    install_prereq.sh, install_bin.sh, blockcheck.sh.&lt;/p&gt; &#xA;&lt;p&gt;,        wifi   .       iptables -o &amp;lt; &amp;gt;.    , , ccmni0.     ifconfig. Wifi  -  wlan0.&lt;/p&gt; &#xA;&lt;p&gt; blockcheck    wifi      -    wifi.     wifi     ,      wifi       - ,    .       &#34;   wifi&#34;, &#34;   wifi&#34;,       .   wifi  -   .&lt;/p&gt; &#xA;&lt;h2&gt;    huawei&lt;/h2&gt; &#xA;&lt;p&gt;  E3372, E8372, E5770     .  2  .    vxworks,  - linux.  4pda     telnet  adb.    .&lt;/p&gt; &#xA;&lt;p&gt;    E8372.       .      offload-  .      linux.        OUTPUT ,  FORWARD =&amp;gt;wan     tcpdump.&lt;/p&gt; &#xA;&lt;p&gt;tpws   .&lt;/p&gt; &#xA;&lt;p&gt;nfqueue .     &lt;a href=&#34;https://github.com/im-0/unfuck-nfqueue-on-e3372h&#34;&gt;https://github.com/im-0/unfuck-nfqueue-on-e3372h&lt;/a&gt;,    huawei open source.     ,  .        /proc/config.gz.         unfuck_nfqueue.ko.    NFQUEUE  nfqws  arm  .&lt;/p&gt; &#xA;&lt;p&gt;    offload-   nfqws,   tpws   tcp proxy  nfqws.  NFQUEUE    OUTPUT. connbytes  ,     .    .&lt;/p&gt; &#xA;&lt;p&gt;  - /system/etc/autorun.sh.     zapret,    autorun.sh  &#34;&amp;amp;&#34;.      sleep 5,      iptables  huawei.&lt;/p&gt; &#xA;&lt;p&gt;.        tcp   .   ,   curl    : curl &lt;a href=&#34;http://www.ru&#34;&gt;www.ru&lt;/a&gt; curl: (7) Failed to connect to &lt;a href=&#34;http://www.ru&#34;&gt;www.ru&lt;/a&gt; port 80: Host is unreachable    EHOSTUNREACH (errno -113).      tpws.       , , .  tcpdump    eth_x      SYN ,   ICMP.  -      TCP    .     ,  SYN ,   .    ,   -   .   tcp      ,  ,     ,     - ,       .     tpws   ,     tpws.    ,    ,   tcp . ,      conntrack.     conntrack  .           hardware offload.       .    - , .     ,     tpws  ip .  ipset . , ,    -       .&lt;/p&gt; &#xA;&lt;p&gt;     files/huawei.    ! , , .         arm,  curl : &lt;a href=&#34;https://github.com/bol-van/bins&#34;&gt;https://github.com/bol-van/bins&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;FreeBSD, OpenBSD, MacOS&lt;/h2&gt; &#xA;&lt;p&gt;  docs/bsd.txt&lt;/p&gt; &#xA;&lt;h2&gt;Windows&lt;/h2&gt; &#xA;&lt;p&gt;  docs/windows.txt&lt;/p&gt; &#xA;&lt;h2&gt; &lt;/h2&gt; &#xA;&lt;p&gt;          : PC, android, , ,   .   ,  linux.     .          .         ,      .&lt;/p&gt; &#xA;&lt;p&gt;              :&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;     shell&lt;/li&gt; &#xA; &lt;li&gt; &lt;/li&gt; &#xA; &lt;li&gt;  r/w      &lt;/li&gt; &#xA; &lt;li&gt;   -  &lt;/li&gt; &#xA; &lt;li&gt; cron&lt;/li&gt; &#xA; &lt;li&gt; flow offload     netfilter&lt;/li&gt; &#xA; &lt;li&gt;      &lt;/li&gt; &#xA; &lt;li&gt;  iptables (/usr/lib/iptables/lib*.so)&lt;/li&gt; &#xA; &lt;li&gt;   ( ipset, curl)    ( )&lt;/li&gt; &#xA; &lt;li&gt;    sh&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;      ,     zapret        .          ,        tpws      -j REDIRECT     80.      tpws,      ,       .    REDIRECT   .      ,     . NFQUEUE, ipset     - .&lt;/p&gt; &#xA;&lt;p&gt;          .            . User mode      ,      .   ,   r/w,   entware.           . entware   user-mode ,    /opt.         ,   .&lt;/p&gt; &#xA;&lt;p&gt;   sysv init script  ,      &#34;        &#34;.      -  ,     entware.            PATH.&lt;/p&gt; &#xA;&lt;p&gt;          .&lt;/p&gt; &#xA;&lt;p&gt;Openwrt       linux   embedded devices.    ,         :&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt; root     shell.      ,    &lt;/li&gt; &#xA; &lt;li&gt; r/w.     openwrt.         squashfs root (r/o),         ,  nvram.   r/w    .                   ,  ,        ,    .       r/w   -   ,      ,   USB,   ,    unix  .     fat  ntfs.&lt;/li&gt; &#xA; &lt;li&gt;        (extroot)      (overlay)&lt;/li&gt; &#xA; &lt;li&gt;   opkg   &lt;/li&gt; &#xA; &lt;li&gt;flow offload ,    ,    &lt;/li&gt; &#xA; &lt;li&gt;     ,     opkg.    .&lt;/li&gt; &#xA; &lt;li&gt;     iptables,     opkg&lt;/li&gt; &#xA; &lt;li&gt;         &lt;/li&gt; &#xA; &lt;li&gt; SDK,   &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;    &lt;/h2&gt; &#xA;&lt;p&gt;    ,      .      socks5  iptables+redsocks,  iptables+iproute+vpn.    redsocks  openwrt   redsocks.txt.    iproute+wireguard -  wireguard_iproute_openwrt.txt.&lt;/p&gt; &#xA;&lt;h2&gt;     VPS&lt;/h2&gt; &#xA;&lt;p&gt;VPS -   .    ,   .  VPS     .         .   VPS     vpn  .      ,            . ,    ,   ,      ,      .    ,        ,     .        .       VPN . VPN   &lt;em&gt;&lt;/em&gt;  &lt;em&gt;&lt;/em&gt;      .       .   ,     VPN.   .               .   ,   DPI  vpn     IP ,   VPN.   , ,     vpn      VPN,      DPI    ,       .        VPS    ,    . ,   .        ,      ,   .&lt;/p&gt; &#xA;&lt;p&gt;VPS     .      VPS . ,   : &lt;a href=&#34;https://vps.today/&#34;&gt;https://vps.today/&lt;/a&gt;   VPN      ,           ().    VPS. Openvz   openvpn,       wireguard, ipsec,   ,   kernel mode.  kernel mode   ,      linux   .  kvm, xen, hyper-v, vmware.&lt;/p&gt; &#xA;&lt;p&gt;    ,     VPN ,                ,   &#34;&#34;       IP.  ,      ,   ,    ,       ,          ssh    socks proxy     .  linux   .      ,       .&lt;/p&gt;</summary>
  </entry>
</feed>