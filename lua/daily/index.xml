<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Lua Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2023-08-26T01:31:12Z</updated>
  <subtitle>Daily Trending of Lua in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>aznhe21/actions-preview.nvim</title>
    <updated>2023-08-26T01:31:12Z</updated>
    <id>tag:github.com,2023-08-26:/aznhe21/actions-preview.nvim</id>
    <link href="https://github.com/aznhe21/actions-preview.nvim" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Fully customizable previewer for LSP code actions.&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;actions-preview.nvim&lt;/h1&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/aznhe21/actions-preview.nvim/assets/2226696/fd927cdd-dce4-4741-98ec-3c40320ce624&#34;&gt;https://github.com/aznhe21/actions-preview.nvim/assets/2226696/fd927cdd-dce4-4741-98ec-3c40320ce624&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;A neovim plugin that preview code with LSP code actions applied.&lt;/p&gt; &#xA;&lt;p&gt;The following backends are available:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/nvim-telescope/telescope.nvim&#34;&gt;telescope.nvim&lt;/a&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/MunifTanjim/nui.nvim&#34;&gt;nui.nvim&lt;/a&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Installation&lt;/h2&gt; &#xA;&lt;p&gt;Using &lt;a href=&#34;https://github.com/wbthomason/packer.nvim&#34;&gt;packer.nvim&lt;/a&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;use {&#xA;  &#34;aznhe21/actions-preview.nvim&#34;,&#xA;  config = function()&#xA;    vim.keymap.set({ &#34;v&#34;, &#34;n&#34; }, &#34;gf&#34;, require(&#34;actions-preview&#34;).code_actions)&#xA;  end,&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Configuration&lt;/h2&gt; &#xA;&lt;p&gt;You can customize preview using setup function if you need it.&lt;/p&gt; &#xA;&lt;p&gt;Default configuration:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;require(&#34;actions-preview&#34;).setup {&#xA;  -- options for vim.diff(): https://neovim.io/doc/user/lua.html#vim.diff()&#xA;  diff = {&#xA;    ctxlen = 3,&#xA;  },&#xA;  -- priority list of preferred backend&#xA;  backend = { &#34;telescope&#34;, &#34;nui&#34; },&#xA;&#xA;  -- options related to telescope.nvim&#xA;  telescope = vim.tbl_extend(&#xA;    &#34;force&#34;,&#xA;    -- telescope theme: https://github.com/nvim-telescope/telescope.nvim#themes&#xA;    require(&#34;telescope.themes&#34;).get_dropdown(),&#xA;    -- a table for customizing content&#xA;    {&#xA;      -- a function to make a table containing the values to be displayed.&#xA;      -- fun(action: Action): { title: string, client_name: string|nil }&#xA;      make_value = nil,&#xA;&#xA;      -- a function to make a function to be used in `display` of a entry.&#xA;      -- see also `:h telescope.make_entry` and `:h telescope.pickers.entry_display`.&#xA;      -- fun(values: { index: integer, action: Action, title: string, client_name: string }[]): function&#xA;      make_make_display = nil,&#xA;    },&#xA;  ),&#xA;&#xA;  -- options for nui.nvim components&#xA;  nui = {&#xA;    -- component direction. &#34;col&#34; or &#34;row&#34;&#xA;    dir = &#34;col&#34;,&#xA;    -- keymap for selection component: https://github.com/MunifTanjim/nui.nvim/tree/main/lua/nui/menu#keymap&#xA;    keymap = nil,&#xA;    -- options for nui Layout component: https://github.com/MunifTanjim/nui.nvim/tree/main/lua/nui/layout&#xA;    layout = {&#xA;      position = &#34;50%&#34;,&#xA;      size = {&#xA;        width = &#34;60%&#34;,&#xA;        height = &#34;90%&#34;,&#xA;      },&#xA;      min_width = 40,&#xA;      min_height = 10,&#xA;      relative = &#34;editor&#34;,&#xA;    },&#xA;    -- options for preview area: https://github.com/MunifTanjim/nui.nvim/tree/main/lua/nui/popup&#xA;    preview = {&#xA;      size = &#34;60%&#34;,&#xA;      border = {&#xA;        style = &#34;rounded&#34;,&#xA;        padding = { 0, 1 },&#xA;      },&#xA;    },&#xA;    -- options for selection area: https://github.com/MunifTanjim/nui.nvim/tree/main/lua/nui/menu&#xA;    select = {&#xA;      size = &#34;40%&#34;,&#xA;      border = {&#xA;        style = &#34;rounded&#34;,&#xA;        padding = { 0, 1 },&#xA;      },&#xA;    },&#xA;  },&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;An example of customizing diff algorithms and telescope appearance.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;require(&#34;actions-preview&#34;).setup {&#xA;  diff = {&#xA;    algorithm = &#34;patience&#34;,&#xA;    ignore_whitespace = true,&#xA;  },&#xA;  telescope = require(&#34;telescope.themes&#34;).get_dropdown { winblend = 10 },&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;FAQ&lt;/h2&gt; &#xA;&lt;h3&gt;How to make it look like README (above)?&lt;/h3&gt; &#xA;&lt;p&gt;Here is a config to reproduce the README.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;require(&#34;actions-preview&#34;).setup {&#xA;  telescope = {&#xA;    sorting_strategy = &#34;ascending&#34;,&#xA;    layout_strategy = &#34;vertical&#34;,&#xA;    layout_config = {&#xA;      width = 0.8,&#xA;      height = 0.9,&#xA;      prompt_position = &#34;top&#34;,&#xA;      preview_cutoff = 20,&#xA;      preview_height = function(_, _, max_lines)&#xA;        return max_lines - 15&#xA;      end,&#xA;    },&#xA;  },&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Why do I get &lt;code&gt;Preview is not available for this action&lt;/code&gt; instead of a diff?&lt;/h3&gt; &#xA;&lt;p&gt;TL;DR: Because of implementation limitations in some language servers. It is not possible to compute and display diffs in these language servers.&lt;/p&gt; &#xA;&lt;p&gt;Unfortunately, some language servers realize Code Actions by means of &lt;a href=&#34;https://microsoft.github.io/language-server-protocol/specifications/lsp/3.17/specification/#command&#34;&gt;Command&lt;/a&gt;, which can perform any operation, instead of &lt;a href=&#34;https://microsoft.github.io/language-server-protocol/specifications/lsp/3.17/specification/#textEdit&#34;&gt;TextEdit&lt;/a&gt;, which notifies text changes. In these language servers, we cannot get the result of text changes by a Code Action, and as a result, we cannot compute and display diffs.&lt;/p&gt; &#xA;&lt;h2&gt;Acknowledgements&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/weilbith/nvim-code-action-menu&#34;&gt;weilbith/nvim-code-action-menu&lt;/a&gt; for idea.&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/nvim-telescope/telescope-ui-select.nvim&#34;&gt;nvim-telescope/telescope-ui-select.nvim&lt;/a&gt; for UI.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;LICENSE&lt;/h2&gt; &#xA;&lt;p&gt;This project itself is distributed under &lt;a href=&#34;https://www.gnu.org/licenses/gpl-3.0.html&#34;&gt;GPLv3&lt;/a&gt;. However, this project includes the &lt;a href=&#34;https://github.com/neovim/neovim/tree/master/runtime/lua/vim&#34;&gt;neovim&lt;/a&gt; code, which is distributed under the &lt;a href=&#34;https://www.apache.org/licenses/LICENSE-2.0&#34;&gt;Apache License 2.0&lt;/a&gt;.&lt;/p&gt;</summary>
  </entry>
</feed>