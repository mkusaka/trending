<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Lua Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2023-04-26T01:38:03Z</updated>
  <subtitle>Daily Trending of Lua in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>AckslD/muren.nvim</title>
    <updated>2023-04-26T01:38:03Z</updated>
    <id>tag:github.com,2023-04-26:/AckslD/muren.nvim</id>
    <link href="https://github.com/AckslD/muren.nvim" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Multiple replacements in neovim&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;muren.nvim&lt;/h1&gt; &#xA;&lt;p&gt;Neovim plugin for doing multiple search and replace with ease.&lt;/p&gt; &#xA;&lt;p&gt;&lt;span&gt;⚠&lt;/span&gt; This plugins is in its early days so feel free to open issues if you stumble on issues, have ideas or are missing some things to configure.&lt;/p&gt; &#xA;&lt;h2&gt;What does this plugin do&lt;/h2&gt; &#xA;&lt;p&gt;Sometimes you may want to do some number of search-and-replacements that follow a certain structure. Lets say you have some variables named &lt;code&gt;a_0&lt;/code&gt;, &lt;code&gt;a_1&lt;/code&gt; and &lt;code&gt;a_2&lt;/code&gt; but you instead want to rename them to &lt;code&gt;x&lt;/code&gt;, &lt;code&gt;y&lt;/code&gt; and &lt;code&gt;z&lt;/code&gt;. Using builtin methods there are a few ways to do that (and maybe more which I don&#39;t know):&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Do the replacements one by one manually.&lt;/li&gt; &#xA; &lt;li&gt;Do the first replacement and then edit the command in the command-line window (&lt;code&gt;q:&lt;/code&gt;).&lt;/li&gt; &#xA; &lt;li&gt;Come up with some complex regex.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;All of which I find somewhat cumbersome.&lt;/p&gt; &#xA;&lt;p&gt;With &lt;code&gt;muren&lt;/code&gt; ui, you get two buffers where you can enter a sequence of patterns in the left one (one per line) in the right buffer enter the replacements in the corresponding row. For example it would look something like:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;a_0 | x&#xA;a_1 | y&#xA;a_2 | z&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;where you can use all your vim-skills to populate the buffers (eg &lt;code&gt;&amp;lt;C-v&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;lt;C-a&amp;gt;&lt;/code&gt; etc etc).&lt;/p&gt; &#xA;&lt;p&gt;See &lt;a href=&#34;https://raw.githubusercontent.com/AckslD/muren.nvim/main/#showcase&#34;&gt;examples&lt;/a&gt; below for some screencasts of how this looks like with &lt;code&gt;muren&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Features&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Define and apply multiple replacements.&lt;/li&gt; &#xA; &lt;li&gt;Toggle between simple and 2-step replacements (eg to swap names), see &lt;a href=&#34;https://raw.githubusercontent.com/AckslD/muren.nvim/main/#showcase&#34;&gt;showcases&lt;/a&gt;.&lt;/li&gt; &#xA; &lt;li&gt;Interactively changes options, including which buffer to apply to.&lt;/li&gt; &#xA; &lt;li&gt;Preview changes.&lt;/li&gt; &#xA; &lt;li&gt;Keep patterns and options when toggling ui.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Installation&lt;/h2&gt; &#xA;&lt;p&gt;Use your favorite plugin manager, eg with &lt;code&gt;lazy.nvim&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;{&#xA;  &#39;AckslD/muren.nvim&#39;,&#xA;  config = true,&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;span&gt;❗&lt;/span&gt; requires nvim 0.9.&lt;/p&gt; &#xA;&lt;h2&gt;Usage&lt;/h2&gt; &#xA;&lt;p&gt;By default the following commands are created:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;MurenToggle&lt;/code&gt;: Toggle the UI.&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;MurenOpen&lt;/code&gt;: Open the UI.&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;MurenClose&lt;/code&gt;: Open the UI.&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;MurenFresh&lt;/code&gt;: Open the UI fresh, ie reset all settings and buffers.&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;MurenUnique&lt;/code&gt;: Open the UI populating the patterns with all unique matches of the last search. See &lt;a href=&#34;https://raw.githubusercontent.com/AckslD/muren.nvim/main/#showcase&#34;&gt;examples&lt;/a&gt; below for why this can be very powerful.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;The UI uses the following normal mode keymaps (buffer local):&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;q&lt;/code&gt;: Quit UI.&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;&amp;lt;Tab&amp;gt;&lt;/code&gt;: Swap between &lt;em&gt;patterns&lt;/em&gt; and &lt;em&gt;replacements&lt;/em&gt; pane.&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;&amp;lt;C-s&amp;gt;&lt;/code&gt;: Swap between &lt;em&gt;patterns&lt;/em&gt;/&lt;em&gt;replacements&lt;/em&gt; and &lt;em&gt;options&lt;/em&gt; pane.&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;&amp;lt;CR&amp;gt;&lt;/code&gt;: Apply replacements (only in &lt;em&gt;patterns&lt;/em&gt; or &lt;em&gt;replacements&lt;/em&gt; pane).&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;&amp;lt;CR&amp;gt;&lt;/code&gt;: Toggle/pick options (only in &lt;em&gt;options&lt;/em&gt; pane).&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;See below for how to configure there.&lt;/p&gt; &#xA;&lt;p&gt;Pass &lt;code&gt;create_commands = false&lt;/code&gt; to &lt;code&gt;require(&#39;muren&#39;).setup&lt;/code&gt; to not create them.&lt;/p&gt; &#xA;&lt;p&gt;You can also access this using lua as the following functions:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;require(&#39;muren.api&#39;).toggle_ui&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;require(&#39;muren.api&#39;).open_ui&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;require(&#39;muren.api&#39;).close_ui&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;require(&#39;muren.api&#39;).open_fresh_ui&lt;/code&gt;&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;require(&#39;muren.api&#39;).open_unique_ui&lt;/code&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Configuration&lt;/h2&gt; &#xA;&lt;p&gt;Pass settings to &lt;code&gt;require(&#39;muren&#39;).setup&lt;/code&gt;. The current defaults are:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;{&#xA;  -- general&#xA;  create_commands = true,&#xA;  -- default togglable options&#xA;  two_step = false,&#xA;  all_on_line = true,&#xA;  preview = true,&#xA;  -- keymaps&#xA;  keys = {&#xA;    close = &#39;q&#39;,&#xA;    toggle_side = &#39;&amp;lt;Tab&amp;gt;&#39;,&#xA;    toggle_options_focus = &#39;&amp;lt;C-s&amp;gt;&#39;,&#xA;    toggle_option_under_cursor = &#39;&amp;lt;CR&amp;gt;&#39;,&#xA;    do_replace = &#39;&amp;lt;CR&amp;gt;&#39;,&#xA;  },&#xA;  -- ui sizes&#xA;  patterns_width = 30,&#xA;  patterns_height = 10,&#xA;  options_width = 15,&#xA;  preview_height = 12,&#xA;  -- options order in ui&#xA;  order = {&#xA;    &#39;buffer&#39;,&#xA;    &#39;two_step&#39;,&#xA;    &#39;all_on_line&#39;,&#xA;    &#39;preview&#39;,&#xA;  },&#xA;  -- highlights used for options ui&#xA;  hl = {&#xA;    options = {&#xA;      on = &#39;@string&#39;,&#xA;      off = &#39;@variable.builtin&#39;,&#xA;    },&#xA;  },&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Showcase&lt;/h2&gt; &#xA;&lt;h3&gt;Basic usage&lt;/h3&gt; &#xA;&lt;p&gt;Basic usage replacing variables &lt;code&gt;a_0&lt;/code&gt;, &lt;code&gt;a_1&lt;/code&gt; and &lt;code&gt;a_2&lt;/code&gt; to &lt;code&gt;x&lt;/code&gt;, &lt;code&gt;y&lt;/code&gt; and &lt;code&gt;z&lt;/code&gt;:&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://user-images.githubusercontent.com/23341710/233819100-6e18e39e-37bc-42b4-82b4-237fa4eeee25.mp4&#34;&gt;https://user-images.githubusercontent.com/23341710/233819100-6e18e39e-37bc-42b4-82b4-237fa4eeee25.mp4&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h3&gt;Swapping things&lt;/h3&gt; &#xA;&lt;p&gt;Using non-recursive (2-step) replacements one can swap variables with ease since they are first replaced to temporary placeholders. Toggle the option (see below) to see the difference.&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://user-images.githubusercontent.com/23341710/233819106-8d08cacd-2adc-467c-a784-6f5e59ef6ca1.mp4&#34;&gt;https://user-images.githubusercontent.com/23341710/233819106-8d08cacd-2adc-467c-a784-6f5e59ef6ca1.mp4&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h3&gt;Pick options interactively&lt;/h3&gt; &#xA;&lt;p&gt;You can change some options interactively while previewing your changes in the UI.&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://user-images.githubusercontent.com/23341710/233819114-406dcbe0-ec25-45fc-9240-84ba926a6c5e.mp4&#34;&gt;https://user-images.githubusercontent.com/23341710/233819114-406dcbe0-ec25-45fc-9240-84ba926a6c5e.mp4&lt;/a&gt;&lt;/p&gt; &#xA;&lt;p&gt;Note in particular how things change in the preview.&lt;/p&gt; &#xA;&lt;h3&gt;Populate with unique previuous search matches&lt;/h3&gt; &#xA;&lt;p&gt;&lt;code&gt;:MurenUnique&lt;/code&gt; might initially seem like a random command but something I find very useful. What it does is it finds all the matches of your last search and populates the unique set of these in the patterns pane of the UI. You can them replace all of them in some way but importantly you can do this differently for each unique match.&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://user-images.githubusercontent.com/23341710/233819184-df374312-8947-4b50-baf9-f3136b4d344e.mp4&#34;&gt;https://user-images.githubusercontent.com/23341710/233819184-df374312-8947-4b50-baf9-f3136b4d344e.mp4&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h3&gt;Regexes&lt;/h3&gt; &#xA;&lt;p&gt;There is full support for builtin regex patterns. However this won&#39;t work then the &lt;code&gt;two_step&lt;/code&gt; option is enabled:&lt;/p&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://user-images.githubusercontent.com/23341710/233902113-4b6a33d8-3f6b-4d33-bc46-67e865e0898e.mp4&#34;&gt;https://user-images.githubusercontent.com/23341710/233902113-4b6a33d8-3f6b-4d33-bc46-67e865e0898e.mp4&lt;/a&gt;&lt;/p&gt; &#xA;&lt;h2&gt;TODO&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; disabled&gt; Store history of batches replacements and have a telescope picker to chose between them, previewing the list of patterns and replacements.&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; disabled&gt; Possibly calculate the preview asynchronously in case it makes the UI sluggish?&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; disabled&gt; Support replacements in CWD instead of single buffer.&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; disabled&gt; Apply filetype highlights in preview buffer?&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Etymology&lt;/h2&gt; &#xA;&lt;p&gt;Here are two explanations for the name of the plugin, choose the one you like the most:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;muren&lt;/code&gt; stands for &#34;MUltiple REplacements in Neovim&#34;.&lt;/li&gt; &#xA; &lt;li&gt;&lt;em&gt;muren&lt;/em&gt; is the swedish word for &#34;the wall&#34; and refers to the border between the patterns-buffer and the replacements-buffer.&lt;/li&gt; &#xA;&lt;/ul&gt;</summary>
  </entry>
</feed>