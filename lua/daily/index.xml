<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Lua Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2023-03-11T01:40:02Z</updated>
  <subtitle>Daily Trending of Lua in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>NTBBloodbath/sweetie.nvim</title>
    <updated>2023-03-11T01:40:02Z</updated>
    <id>tag:github.com,2023-03-11:/NTBBloodbath/sweetie.nvim</id>
    <link href="https://github.com/NTBBloodbath/sweetie.nvim" rel="alternate"></link>
    <summary type="html">&lt;p&gt;A clean, delightful and highly customizable Neovim colorscheme written in Lua&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;sweetie.nvim&lt;/h1&gt; &#xA;&lt;p&gt;A clean, delightful and highly customizable Neovim colorscheme written in Lua that includes &lt;a href=&#34;https://raw.githubusercontent.com/NTBBloodbath/sweetie.nvim/master/extras&#34;&gt;extra themes&lt;/a&gt; for other software like Kitty terminal.&lt;/p&gt; &#xA;&lt;p&gt;Sweetie has a great contrast that is friendly with your eyes, every color was selected by hand after a long day testing different colors one by one and comparing them.&lt;/p&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;sweetie.nvim requires at least Neovim &lt;code&gt;&amp;gt;= 0.7.2&lt;/code&gt; in order to work!&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;hr&gt; &#xA;&lt;p align=&#34;center&#34;&gt;dark variant&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://user-images.githubusercontent.com/36456999/223959884-0d2b3fc3-a8a9-4fff-a5ed-08dec742b68a.png&#34; alt=&#34;dark variant demo&#34;&gt;&lt;/p&gt; &#xA;&lt;p align=&#34;center&#34;&gt;light variant&lt;/p&gt; &#xA;&lt;p&gt;&lt;img src=&#34;https://user-images.githubusercontent.com/36456999/223960365-f47e7457-9fc2-4a18-8b1d-bc297ed73be7.png&#34; alt=&#34;light variant demo&#34;&gt;&lt;/p&gt; &#xA;&lt;h2&gt;Installation&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;packer.nvim&lt;/code&gt;:&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;use(&#34;NTBBloodbath/sweetie.nvim&#34;)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;lazy.nvim&lt;/code&gt;:&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;require(&#34;lazy&#34;).setup({&#xA;  { &#34;NTBBloodbath/sweetie.nvim&#34; }&#xA;})&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Usage&lt;/h2&gt; &#xA;&lt;p&gt;Just set the colorscheme in your configuration:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;vim.cmd.colorscheme(&#34;sweetie&#34;)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;If you want to use light variant you can just change your &lt;code&gt;background&lt;/code&gt; Neovim option to &lt;code&gt;light&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;p&gt;You can customize sweetie by using the &lt;code&gt;setup&lt;/code&gt; function, too. Please note that you should call it before setting up sweetie as your colorscheme.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;--- Default configuration&#xA;require(&#34;sweetie&#34;).setup({&#xA;  -- Pop-up menu pseudo-transparency&#xA;  pumblend = {&#xA;    enable = true,&#xA;    transparency_amount = 20,&#xA;  },&#xA;  -- Override default sweetie color palettes&#xA;  -- Palette fields:&#xA;  --  bg&#xA;  --  fg&#xA;  --  bg_hl &#xA;  --  bg_alt&#xA;  --  fg_alt&#xA;  --  grey&#xA;  --  dark_grey&#xA;  --  red&#xA;  --  orange&#xA;  --  green&#xA;  --  teal&#xA;  --  yellow&#xA;  --  blue&#xA;  --  magenta&#xA;  --  violet&#xA;  --  cyan&#xA;  palette = {&#xA;    dark = {},&#xA;    light = {},&#xA;  },&#xA;  -- Override default highlighting groups options&#xA;  overrides = {},&#xA;  -- Custom plugins highlighting groups&#xA;  integrations = {&#xA;    lazy = true,&#xA;    neorg = true,&#xA;    neogit = true,&#xA;    telescope = true,&#xA;  },&#xA;  -- Enable custom cursor coloring even in terminal Neovim sessions&#xA;  cursor_color = true,&#xA;  -- Use sweetie&#39;s palette in `:terminal` instead of your default terminal colorscheme&#xA;  terminal_colors = true,&#xA;})&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If you want to override any highlighting group, you can use the &lt;code&gt;overrides&lt;/code&gt; field in the configuration table. For example, to disable italics in the colorscheme:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;overrides = {&#xA;  Comment = { italic = false },&#xA;  CommentBold = { italic = false },&#xA;  Keyword = { italic = false },&#xA;  Boolean = { italic = false },&#xA;  Class = { italic = false },&#xA;  -- Optional, just if you use Java and you do not want some extra italics&#xA;  -- [&#34;@type.java&#34;] = { italic = false },&#xA;  -- [&#34;@type.qualifier.java&#34;] = { italic = false },&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;blockquote&gt; &#xA; &lt;p&gt;Every &lt;code&gt;overrides&lt;/code&gt; field accept all the &lt;code&gt;:h nvim_set_hl&lt;/code&gt; parameters.&lt;/p&gt; &#xA;&lt;/blockquote&gt; &#xA;&lt;h2&gt;Roadmap&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; Add light theme variant&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; Allow to override default color palette&lt;/li&gt; &#xA; &lt;li&gt;&lt;input type=&#34;checkbox&#34; disabled&gt; Add more extra themes &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;input type=&#34;checkbox&#34; disabled&gt; bat&lt;/li&gt; &#xA;   &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; termux&lt;/li&gt; &#xA;   &lt;li&gt;&lt;input type=&#34;checkbox&#34; disabled&gt; fish shell&lt;/li&gt; &#xA;   &lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled&gt; florisboard&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;License&lt;/h2&gt; &#xA;&lt;p&gt;As always, this project is licensed under &lt;a href=&#34;https://raw.githubusercontent.com/NTBBloodbath/sweetie.nvim/master/LICENSE&#34;&gt;GPLv3&lt;/a&gt; license.&lt;/p&gt;</summary>
  </entry>
  <entry>
    <title>dpayne/CodeGPT.nvim</title>
    <updated>2023-03-11T01:40:02Z</updated>
    <id>tag:github.com,2023-03-11:/dpayne/CodeGPT.nvim</id>
    <link href="https://github.com/dpayne/CodeGPT.nvim" rel="alternate"></link>
    <summary type="html">&lt;p&gt;&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;CodeGPT.nvim&lt;/h1&gt; &#xA;&lt;p&gt;CodeGPT a plugin for neovim that provides commands to interact with ChatGPT. The focus is around code related usages, so code completion, refactorings, generating docs, etc.&lt;/p&gt; &#xA;&lt;h2&gt;Installation&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Set environment variable &lt;code&gt;OPENAI_API_KEY&lt;/code&gt; to your &lt;a href=&#34;https://platform.openai.com/account/api-keys&#34;&gt;openai api key&lt;/a&gt;.&lt;/li&gt; &#xA; &lt;li&gt;The plugins plenary and nui are also required.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Installing with packer.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;use(&#34;nvim-lua/plenary.nvim&#34;)&#xA;use(&#34;MunifTanjim/nui.nvim&#34;)&#xA;use(&#34;dpayne/CodeGPT.nvim&#34;)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Installing with plugged.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-vim&#34;&gt;Plug(&#34;nvim-lua/plenary.nvim&#34;)&#xA;Plug(&#34;MunifTanjim/nui.nvim&#34;)&#xA;Plug(&#34;dpayne/CodeGPT.nvim&#34;)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Commands&lt;/h2&gt; &#xA;&lt;p&gt;The top-level command is &lt;code&gt;:Chat&lt;/code&gt;. The behavior is different depending on whether text is selected and/or arguments are passed.&lt;/p&gt; &#xA;&lt;h3&gt;Completion&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;:Chat&lt;/code&gt; with text selection will trigger the &lt;code&gt;completion&lt;/code&gt; command, ChatGPT will try to complete the selected code snippet. &lt;img src=&#34;https://raw.githubusercontent.com/dpayne/CodeGPT.nvim/master/examples/completion.gif?raw=true&#34; alt=&#34;completion&#34;&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Code Edit&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;:Chat some instructions&lt;/code&gt; with text selection and command args will invoke the &lt;code&gt;code_edit&lt;/code&gt; command. This will treat the command args as instructions on what to do with the code snippet. In the below example, &lt;code&gt;:Chat refactor to use iteration&lt;/code&gt; will apply the instruction &lt;code&gt;refactor to use iteration&lt;/code&gt; to the selected code. &lt;img src=&#34;https://raw.githubusercontent.com/dpayne/CodeGPT.nvim/master/examples/code_edit.gif?raw=true&#34; alt=&#34;code_edit&#34;&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Code Edit&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;:Chat &amp;lt;command&amp;gt;&lt;/code&gt; if there is only one argument and that argument matches a command, it will invoke that command with the given text selection. In the below example &lt;code&gt;:Chat tests&lt;/code&gt; will attempt to write units for the selected code. &lt;img src=&#34;https://raw.githubusercontent.com/dpayne/CodeGPT.nvim/master/examples/tests.gif?raw=true&#34; alt=&#34;tests&#34;&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h3&gt;Chat&lt;/h3&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;:Chat hello world&lt;/code&gt; without any text selection will trigger the &lt;code&gt;chat&lt;/code&gt; command. This will send the arguments &lt;code&gt;hello world&lt;/code&gt; to ChatGPT and show the results in a popup. &lt;img src=&#34;https://raw.githubusercontent.com/dpayne/CodeGPT.nvim/master/examples/chat.gif?raw=true&#34; alt=&#34;chat&#34;&gt;&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;A full list of predefined commands are below&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;command&lt;/th&gt; &#xA;   &lt;th&gt;input&lt;/th&gt; &#xA;   &lt;th&gt;Description&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;completion&lt;/td&gt; &#xA;   &lt;td&gt;text selection&lt;/td&gt; &#xA;   &lt;td&gt;Will ask ChatGPT to complete the selected code.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;code_edit&lt;/td&gt; &#xA;   &lt;td&gt;text selection and command args&lt;/td&gt; &#xA;   &lt;td&gt;Will ask ChatGPT to apply the given instructions (the command args) to the selected code.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;explain&lt;/td&gt; &#xA;   &lt;td&gt;text selection&lt;/td&gt; &#xA;   &lt;td&gt;Will ask ChatGPT to explain the selected code.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;doc&lt;/td&gt; &#xA;   &lt;td&gt;text selection&lt;/td&gt; &#xA;   &lt;td&gt;Will ask ChatGPT to document the selected code.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;opt&lt;/td&gt; &#xA;   &lt;td&gt;text selection&lt;/td&gt; &#xA;   &lt;td&gt;Will ask ChatGPT to optimize the selected code.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;tests&lt;/td&gt; &#xA;   &lt;td&gt;text selection&lt;/td&gt; &#xA;   &lt;td&gt;Will ask ChatGPT to write unit tests for the selected code.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;chat&lt;/td&gt; &#xA;   &lt;td&gt;command args&lt;/td&gt; &#xA;   &lt;td&gt;Will pass the given command args to ChatGPT and return the response in a popup.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;h2&gt;Overriding Command Configurations&lt;/h2&gt; &#xA;&lt;p&gt;The configuration option &lt;code&gt;vim.g[&#34;codegpt_commands_defaults&#34;] = {}&lt;/code&gt; can be used to override command configurations. This is a lua table with a list of commands and the options you want to override.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;vim.g[&#34;codegpt_commands_defaults&#34;] = {&#xA;  [&#34;completion&#34;] = {&#xA;      user_message_template = &#34;This is a template of the message passed to chat gpt. Hello, the code snippet is {{text_selection}}.&#34;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The above, overrides the message template for the &lt;code&gt;completion&lt;/code&gt; command.&lt;/p&gt; &#xA;&lt;p&gt;A full list of overrides&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;name&lt;/th&gt; &#xA;   &lt;th&gt;default&lt;/th&gt; &#xA;   &lt;th&gt;description&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;model&lt;/td&gt; &#xA;   &lt;td&gt;&#34;gpt-3.5-turbo&#34;&lt;/td&gt; &#xA;   &lt;td&gt;The model to use.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;max_tokens&lt;/td&gt; &#xA;   &lt;td&gt;4096&lt;/td&gt; &#xA;   &lt;td&gt;The maximum number of tokens to use including the prompt tokens.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;temperature&lt;/td&gt; &#xA;   &lt;td&gt;0.6&lt;/td&gt; &#xA;   &lt;td&gt;0 -&amp;gt; 1, what sampling temperature to use.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;system_message_template&lt;/td&gt; &#xA;   &lt;td&gt;&#34;&#34;&lt;/td&gt; &#xA;   &lt;td&gt;Helps set the behavior of the assistant.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;user_message_template&lt;/td&gt; &#xA;   &lt;td&gt;&#34;&#34;&lt;/td&gt; &#xA;   &lt;td&gt;Instructs the assistant.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;callback_type&lt;/td&gt; &#xA;   &lt;td&gt;&#34;replace_lines&#34;&lt;/td&gt; &#xA;   &lt;td&gt;Controls what the plugin does with the response&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;language_instructions&lt;/td&gt; &#xA;   &lt;td&gt;{}&lt;/td&gt; &#xA;   &lt;td&gt;A table of filetype =&amp;gt; instructions. The current buffer&#39;s filetype is used in this lookup. This is useful trigger different instructions for different languages.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;h4&gt;Language Instructions&lt;/h4&gt; &#xA;&lt;p&gt;Some commands have templates that use the &lt;code&gt;{{language_instructions}}&lt;/code&gt; macro to allow for additional instructions for specific &lt;a href=&#34;https://neovim.io/doc/user/filetype.html&#34;&gt;filetypes&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;vim.g[&#34;codegpt_commands_defaults&#34;] = {&#xA;  [&#34;completion&#34;] = {&#xA;      language_instructions = {&#xA;          cpp = &#34;Use trailing return type.&#34;,&#xA;      },&#xA;  }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The above adds a specific &lt;code&gt;Use trailing return type.&lt;/code&gt; to the command &lt;code&gt;completion&lt;/code&gt; for the filetype &lt;code&gt;cpp&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Custom Commands&lt;/h2&gt; &#xA;&lt;p&gt;Custom commands can be added to the &lt;code&gt;vim.g[&#34;codegpt_commands&#34;]&lt;/code&gt; configuration option to extend the available commands.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;vim.g[&#34;codegpt_commands&#34;] = {&#xA;  [&#34;modernize&#34;] = {&#xA;      user_message_template = &#34;I have the following {{language}} code: ```{{filetype}}\n{{text_selection}}```\nModernize the above code. Use current best practices. Only return the code snippet and comments. {{language_instructions}}&#34;,&#xA;      language_instructions = {&#xA;          cpp = &#34;Refactor the code to use trailing return type, and the auto keyword where applicable.&#34;,&#xA;      },&#xA;  }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;The above configuration adds the command &lt;code&gt;:Chat modernize&lt;/code&gt; that attempts modernize the selected code snippet.&lt;/p&gt; &#xA;&lt;h2&gt;Command Defaults&lt;/h2&gt; &#xA;&lt;p&gt;The default command configuration is&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;{&#xA;    model = &#34;gpt-3.5-turbo&#34;,&#xA;    max_tokens = 4096,&#xA;    temperature = 0.6,&#xA;    number_of_choices = 1,&#xA;    system_message_template = &#34;&#34;,&#xA;    user_message_template = &#34;&#34;,&#xA;    callback_type = &#34;replace_lines&#34;,&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;More Configuration Options&lt;/h2&gt; &#xA;&lt;h3&gt;Disable wrapping of text in popup window&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;-- Disables wrapping the text in the popup window. Default is true.&#xA;vim.g[&#34;codegpt_wrap_popup_text&#34;] = false&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Move completion to popup window&lt;/h3&gt; &#xA;&lt;p&gt;For any command, you can override the callback type to move the completion to a popup window. An example below is for overring the &lt;code&gt;completion&lt;/code&gt; command.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;require(&#34;codegpt.config&#34;)&#xA;&#xA;vim.g[&#34;codegpt_commands&#34;] = {&#xA;[&#34;completion&#34;] = {&#xA;    callback_type = &#34;code_popup&#34;,&#xA;},&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Miscellaneous Configuration Options&lt;/h3&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;&#xA;-- Open API key and api endpoint&#xA;vim.g[&#34;codegpt_openai_api_key&#34;] = os.getenv(&#34;OPENAI_API_KEY&#34;)&#xA;vim.g[&#34;codegpt_chat_completions_url&#34;] = &#34;https://api.openai.com/v1/chat/completions&#34;&#xA;&#xA;-- clears visual selection after completion&#xA;vim.g[&#34;codegpt_clear_visual_selection&#34;] = true&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Callback Types&lt;/h2&gt; &#xA;&lt;p&gt;Callback types controls what to do with the response&lt;/p&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;name&lt;/th&gt; &#xA;   &lt;th&gt;Description&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;replace_lines&lt;/td&gt; &#xA;   &lt;td&gt;replaces the current lines with the response. If no text is selected it will insert the response at the cursor.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;text_popup&lt;/td&gt; &#xA;   &lt;td&gt;Will display the result in a text popup window.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;code_popup&lt;/td&gt; &#xA;   &lt;td&gt;Will display the results in a popup window with the filetype set to the filetype of the current buffer&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;h2&gt;Template Variables&lt;/h2&gt; &#xA;&lt;table&gt; &#xA; &lt;thead&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;th&gt;name&lt;/th&gt; &#xA;   &lt;th&gt;Description&lt;/th&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/thead&gt; &#xA; &lt;tbody&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;language&lt;/td&gt; &#xA;   &lt;td&gt;Programming language of the current buffer.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;filetype&lt;/td&gt; &#xA;   &lt;td&gt;filetype of the current buffer.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;text_selection&lt;/td&gt; &#xA;   &lt;td&gt;Any selected text.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;command_args&lt;/td&gt; &#xA;   &lt;td&gt;Command arguments.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA;  &lt;tr&gt; &#xA;   &lt;td&gt;filetype_instructions&lt;/td&gt; &#xA;   &lt;td&gt;filetype specific instructions.&lt;/td&gt; &#xA;  &lt;/tr&gt; &#xA; &lt;/tbody&gt; &#xA;&lt;/table&gt; &#xA;&lt;h1&gt;Example Configuration&lt;/h1&gt; &#xA;&lt;p&gt;Note CodeGPT should work without any configuration. This is an example configuration that shows some of the options available.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;&#xA;require(&#34;codegpt.config&#34;)&#xA;&#xA;-- Override the default chat completions url, this is useful to override when testing custom commands&#xA;-- vim.g[&#34;codegpt_chat_completions_url&#34;] = &#34;http://127.0.0.1:800/test&#34;&#xA;&#xA;vim.g[&#34;codegpt_commands&#34;] = {&#xA;  [&#34;tests&#34;] = {&#xA;    -- Language specific instructions for java filetype&#xA;    language_instructions = {&#xA;        java = &#34;Use the TestNG framework.&#34;,&#xA;    },&#xA;  },&#xA;  [&#34;doc&#34;] = {&#xA;    -- Language specific instructions for python filetype&#xA;    language_instructions = {&#xA;        python = &#34;Use the Google style docstrings.&#34;&#xA;    },&#xA;&#xA;    -- Overrides the max tokens to be 1024&#xA;    max_tokens = 1024,&#xA;  },&#xA;  [&#34;code_edit&#34;] = {&#xA;    -- Overrides the system message template&#xA;    system_message_template = &#34;You are {{language}} developer.&#34;,&#xA;&#xA;    -- Overrides the user message template&#xA;    user_message_template = &#34;I have the following {{language}} code: ```{{filetype}}\n{{text_selection}}```\nEdit the above code. {{language_instructions}}&#34;,&#xA;&#xA;    -- Display the response in a popup window. The popup window filetype will be the filetype of the current buffer.&#xA;    callback_type = &#34;code_popup&#34;,&#xA;  },&#xA;  -- Custom command&#xA;  [&#34;modernize&#34;] = {&#xA;    user_message_template = &#34;I have the following {{language}} code: ```{{filetype}}\n{{text_selection}}```\nModernize the above code. Use current best practices. Only return the code snippet and comments. {{language_instructions}}&#34;,&#xA;    language_instructions = {&#xA;        cpp = &#34;Use modern C++ syntax. Use auto where possible. Do not import std. Use trailing return type. Use the c++11, c++14, c++17, and c++20 standards where applicable.&#34;,&#xA;    },&#xA;  }&#xA;}&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h1&gt;Goals&lt;/h1&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;Code related usages&lt;/li&gt; &#xA; &lt;li&gt;Simple&lt;/li&gt; &#xA; &lt;li&gt;Easy to add custom commands&lt;/li&gt; &#xA;&lt;/ul&gt;</summary>
  </entry>
  <entry>
    <title>tomasklaen/uosc</title>
    <updated>2023-03-11T01:40:02Z</updated>
    <id>tag:github.com,2023-03-11:/tomasklaen/uosc</id>
    <link href="https://github.com/tomasklaen/uosc" rel="alternate"></link>
    <summary type="html">&lt;p&gt;Feature-rich minimalist proximity-based UI for MPV player.&lt;/p&gt;&lt;hr&gt;&lt;div align=&#34;center&#34;&gt; &#xA; &lt;h1&gt;uosc&lt;/h1&gt; &#xA; &lt;p&gt; Feature-rich minimalist proximity-based UI for &lt;a href=&#34;https://mpv.io&#34;&gt;MPV player&lt;/a&gt;. &lt;/p&gt; &#xA; &lt;br&gt; &#xA; &lt;a href=&#34;https://user-images.githubusercontent.com/47283320/195073006-bfa72bcc-89d2-4dc7-b8dc-f3c13273910c.webm&#34;&gt;&lt;img src=&#34;https://user-images.githubusercontent.com/47283320/195072935-44d591d9-00bb-4a55-8795-9cf81f65d397.png&#34; alt=&#34;Preview screenshot&#34;&gt;&lt;/a&gt; &#xA;&lt;/div&gt; &#xA;&lt;p&gt;Most notable features:&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;UI elements hide and show based on their proximity to cursor instead of every time mouse moves. This gives you 100% control over when you see the UI and when you don&#39;t. Click on the preview above to see it in action.&lt;/li&gt; &#xA; &lt;li&gt;Set min timeline size to make an always visible discrete progress bar.&lt;/li&gt; &#xA; &lt;li&gt;Build your own context menu with nesting support by editing your &lt;code&gt;input.conf&lt;/code&gt; file.&lt;/li&gt; &#xA; &lt;li&gt;Configurable controls bar.&lt;/li&gt; &#xA; &lt;li&gt;Fast and efficient thumbnails with &lt;a href=&#34;https://github.com/po5/thumbfast&#34;&gt;thumbfast&lt;/a&gt; integration.&lt;/li&gt; &#xA; &lt;li&gt;UIs for: &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;Loading external subtitles.&lt;/li&gt; &#xA;   &lt;li&gt;Selecting subtitle/audio/video track.&lt;/li&gt; &#xA;   &lt;li&gt;Selecting stream quality.&lt;/li&gt; &#xA;   &lt;li&gt;Quick directory and playlist navigation.&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;Mouse scroll wheel does multiple things depending on what is the cursor hovering over: &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;Timeline: seek by &lt;code&gt;timeline_step&lt;/code&gt; seconds per scroll.&lt;/li&gt; &#xA;   &lt;li&gt;Volume bar: change volume by &lt;code&gt;volume_step&lt;/code&gt; per scroll.&lt;/li&gt; &#xA;   &lt;li&gt;Speed bar: change speed by &lt;code&gt;speed_step&lt;/code&gt; per scroll.&lt;/li&gt; &#xA;   &lt;li&gt;Just hovering video with no UI widget below cursor: your configured wheel bindings from &lt;code&gt;input.conf&lt;/code&gt;.&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA; &lt;li&gt;Transform chapters into timeline ranges (the red portion of the timeline in the preview).&lt;/li&gt; &#xA; &lt;li&gt;And a lot of useful options and commands to bind keys to.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/tomasklaen/uosc/releases&#34;&gt;Changelog&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Download&lt;/h2&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/tomasklaen/uosc/releases/latest/download/uosc.zip&#34;&gt;&lt;code&gt;uosc.zip&lt;/code&gt;&lt;/a&gt; - main archive with script and its requirements&lt;/li&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://github.com/tomasklaen/uosc/releases/latest/download/uosc.conf&#34;&gt;&lt;code&gt;uosc.conf&lt;/code&gt;&lt;/a&gt; - configuration file with default values and documentation&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;h2&gt;Installation&lt;/h2&gt; &#xA;&lt;ol&gt; &#xA; &lt;li&gt; &lt;p&gt;Extract &lt;code&gt;uosc.zip&lt;/code&gt; into your mpv config directory.&lt;/p&gt; &lt;p&gt;&lt;em&gt;List of all the possible places where it can be located is documented here: &lt;a href=&#34;https://mpv.io/manual/master/#files&#34;&gt;https://mpv.io/manual/master/#files&lt;/a&gt;&lt;/em&gt;&lt;/p&gt; &lt;p&gt;On Linux and macOS these terminal commands can be used to install or update uosc and thumbfast (if wget and unzip are installed):&lt;/p&gt; &lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;mkdir -pv ~/.config/mpv/script-opts/&#xA;rm -rf ~/.config/mpv/scripts/uosc_shared&#xA;wget -P /tmp/ https://github.com/tomasklaen/uosc/releases/latest/download/uosc.zip&#xA;unzip -od ~/.config/mpv/ /tmp/uosc.zip&#xA;rm -fv /tmp/uosc.zip&#xA;wget -NP ~/.config/mpv/scripts/ https://raw.githubusercontent.com/po5/thumbfast/master/thumbfast.lua&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;strong&gt;uosc&lt;/strong&gt; is a replacement for the built in osc, so that has to be disabled first.&lt;/p&gt; &lt;p&gt;In your &lt;code&gt;mpv.conf&lt;/code&gt; (file that should already exist in your mpv directory, if not, create it):&lt;/p&gt; &lt;pre&gt;&lt;code class=&#34;language-config&#34;&gt;# required so that the 2 UIs don&#39;t fight each other&#xA;osc=no&#xA;# uosc provides its own seeking/volume indicators, so you also don&#39;t need this&#xA;osd-bar=no&#xA;# uosc will draw its own window controls if you disable window border&#xA;border=no&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;To configure &lt;strong&gt;uosc&lt;/strong&gt;, create a &lt;code&gt;script-opts/uosc.conf&lt;/code&gt; file, or download &lt;code&gt;uosc.conf&lt;/code&gt; with all default values from the link above, and save into &lt;code&gt;script-opts/&lt;/code&gt; folder.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;strong&gt;OPTIONAL&lt;/strong&gt;: To have thumbnails in timeline, install &lt;a href=&#34;https://github.com/po5/thumbfast&#34;&gt;thumbfast&lt;/a&gt;. That&#39;s it, no other step necessary, &lt;strong&gt;uosc&lt;/strong&gt; integrates with it seamlessly.&lt;/p&gt; &lt;/li&gt; &#xA; &lt;li&gt; &lt;p&gt;&lt;strong&gt;OPTIONAL&lt;/strong&gt;: If the UI feels sluggish/slow while playing video, you can remedy this a lot by placing this in your &lt;code&gt;mpv.conf&lt;/code&gt;:&lt;/p&gt; &lt;pre&gt;&lt;code class=&#34;language-config&#34;&gt;video-sync=display-resample&#xA;&lt;/code&gt;&lt;/pre&gt; &lt;p&gt;Though this does come at the cost of a little bit higher CPU/GPU load.&lt;/p&gt; &lt;h4&gt;What is going on?&lt;/h4&gt; &lt;p&gt;&lt;strong&gt;uosc&lt;/strong&gt; places performance as one of its top priorities, so how can the UI feel slow? Well, it really isn&#39;t, &lt;strong&gt;uosc&lt;/strong&gt; is &lt;strong&gt;fast&lt;/strong&gt;, it just doesn&#39;t feel like it because when video is playing, the UI rendering frequency is chained to its frame rate, so unless you are the type of person that can&#39;t see above 24fps, it &lt;em&gt;will&lt;/em&gt; feel slow, unless you tell mpv to resample the video framerate to match your display. This is mpv limitation, and not much we can do about it on our side.&lt;/p&gt; &lt;/li&gt; &#xA;&lt;/ol&gt; &#xA;&lt;h2&gt;Options&lt;/h2&gt; &#xA;&lt;p&gt;All of the available &lt;strong&gt;uosc&lt;/strong&gt; options with their default values and documentation are in the provided &lt;code&gt;uosc.conf&lt;/code&gt; file.&lt;/p&gt; &#xA;&lt;p&gt;To change the font, &lt;strong&gt;uosc&lt;/strong&gt; respects the mpv&#39;s &lt;code&gt;osd-font&lt;/code&gt; configuration.&lt;/p&gt; &#xA;&lt;h2&gt;Navigation&lt;/h2&gt; &#xA;&lt;p&gt;These bindings are active when any &lt;strong&gt;uosc&lt;/strong&gt; menu is open (main menu, playlist, load/select subtitles,...):&lt;/p&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;code&gt;up&lt;/code&gt;, &lt;code&gt;down&lt;/code&gt; - select previous/next item&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;left&lt;/code&gt;, &lt;code&gt;right&lt;/code&gt; - back to parent menu or close, activate item&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;enter&lt;/code&gt; - activate item&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;esc&lt;/code&gt; - close menu&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;wheel_up&lt;/code&gt;, &lt;code&gt;wheel_down&lt;/code&gt; - scroll menu&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;pgup&lt;/code&gt;, &lt;code&gt;pgdwn&lt;/code&gt;, &lt;code&gt;home&lt;/code&gt;, &lt;code&gt;end&lt;/code&gt; - self explanatory&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;ctrl+up/down&lt;/code&gt; - move selected item in menus that support it (playlist)&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;del&lt;/code&gt; - delete selected item in menus that support it (playlist)&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;shift+enter&lt;/code&gt;, &lt;code&gt;shift+right&lt;/code&gt; - activate item without closing the menu&lt;/li&gt; &#xA; &lt;li&gt;&lt;code&gt;ctrl+enter&lt;/code&gt;, &lt;code&gt;ctrl+click&lt;/code&gt; - force activate an item, even if it&#39;s a submenu. In practical terms: activates a directory instead of navigation to its contents.&lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;p&gt;Click on a faded parent menu to go back to it.&lt;/p&gt; &#xA;&lt;h2&gt;Commands&lt;/h2&gt; &#xA;&lt;p&gt;&lt;strong&gt;uosc&lt;/strong&gt; provides various commands with useful features to bind your preferred keys to. These are all unbound by default.&lt;/p&gt; &#xA;&lt;p&gt;To add a keybind to one of this commands, open your &lt;code&gt;input.conf&lt;/code&gt; file and add one on a new line. The command syntax is &lt;code&gt;script-binding uosc/{command-name}&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;Example to bind the &lt;code&gt;tab&lt;/code&gt; key to peek timeline:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;tab  script-binding uosc/toggle-ui&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Available commands:&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;toggle-ui&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Makes the whole UI visible until you call this command again. Useful for peeking remaining time and such while watching.&lt;/p&gt; &#xA;&lt;p&gt;There&#39;s also a &lt;code&gt;toggle-elements &amp;lt;ids&amp;gt;&lt;/code&gt; message you can send to toggle one or more specific elements by specifying their names separated by comma:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;script-message-to uosc toggle-elements timeline,speed&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Available element IDs: &lt;code&gt;timeline&lt;/code&gt;, &lt;code&gt;controls&lt;/code&gt;, &lt;code&gt;volume&lt;/code&gt;, &lt;code&gt;top_bar&lt;/code&gt;, &lt;code&gt;speed&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;Under the hood, &lt;code&gt;toggle-ui&lt;/code&gt; is using &lt;code&gt;toggle-elements&lt;/code&gt;, and that is in turn using the &lt;code&gt;set-min-visibility &amp;lt;visibility&amp;gt; [&amp;lt;ids&amp;gt;]&lt;/code&gt; message. &lt;code&gt;&amp;lt;visibility&amp;gt;&lt;/code&gt; is a &lt;code&gt;0-1&lt;/code&gt; floating point. Leave out &lt;code&gt;&amp;lt;ids&amp;gt;&lt;/code&gt; to set it for all elements.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;toggle-progress&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Toggles the always visible portion of the timeline. You can look at it as switching &lt;code&gt;timeline_size_min&lt;/code&gt; option between it&#39;s configured value and 0.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;toggle-title&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Toggles the top bar title between main and alternative title&#39;s. This can also be done by clicking on the top bar.&lt;/p&gt; &#xA;&lt;p&gt;Only relevant if top bar is enabled, &lt;code&gt;top_bar_alt_title&lt;/code&gt; is configured, and &lt;code&gt;top_bar_alt_title_place&lt;/code&gt; is &lt;code&gt;toggle&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;flash-ui&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Command(s) to briefly flash the whole UI. Elements are revealed for a second and then fade away.&lt;/p&gt; &#xA;&lt;p&gt;To flash individual elements, you can use: &lt;code&gt;flash-timeline&lt;/code&gt;, &lt;code&gt;flash-top-bar&lt;/code&gt;, &lt;code&gt;flash-volume&lt;/code&gt;, &lt;code&gt;flash-speed&lt;/code&gt;, &lt;code&gt;flash-pause-indicator&lt;/code&gt;, &lt;code&gt;decide-pause-indicator&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;There&#39;s also a &lt;code&gt;flash-elements &amp;lt;ids&amp;gt;&lt;/code&gt; message you can use to flash one or more specific elements. Example:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;script-message-to uosc flash-elements timeline,speed&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Available element IDs: &lt;code&gt;timeline&lt;/code&gt;, &lt;code&gt;controls&lt;/code&gt;, &lt;code&gt;volume&lt;/code&gt;, &lt;code&gt;top_bar&lt;/code&gt;, &lt;code&gt;speed&lt;/code&gt;, &lt;code&gt;pause_indicator&lt;/code&gt;&lt;/p&gt; &#xA;&lt;p&gt;This is useful in combination with other commands that modify values represented by flashed elements, for example: flashing volume element when changing the volume.&lt;/p&gt; &#xA;&lt;p&gt;You can use it in your bindings like so:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;space        cycle pause; script-binding uosc/flash-pause-indicator&#xA;right        seek  5&#xA;left         seek -5&#xA;shift+right  seek  30; script-binding uosc/flash-timeline&#xA;shift+left   seek -30; script-binding uosc/flash-timeline&#xA;m            no-osd cycle mute; script-binding uosc/flash-volume&#xA;up           no-osd add volume  10; script-binding uosc/flash-volume&#xA;down         no-osd add volume -10; script-binding uosc/flash-volume&#xA;[            no-osd add speed -0.25; script-binding uosc/flash-speed&#xA;]            no-osd add speed  0.25; script-binding uosc/flash-speed&#xA;\            no-osd set speed 1; script-binding uosc/flash-speed&#xA;&amp;gt;            script-binding uosc/next; script-message-to uosc flash-elements top_bar,timeline&#xA;&amp;lt;            script-binding uosc/prev; script-message-to uosc flash-elements top_bar,timeline&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Case for &lt;code&gt;(flash/decide)-pause-indicator&lt;/code&gt;: mpv handles frame stepping forward by briefly resuming the video, which causes pause indicator to flash, and none likes that when they are trying to compare frames. The solution is to enable manual pause indicator (&lt;code&gt;pause_indicator=manual&lt;/code&gt;) and use &lt;code&gt;flash-pause-indicator&lt;/code&gt; (for a brief flash) or &lt;code&gt;decide-pause-indicator&lt;/code&gt; (for a static indicator) as a secondary command to appropriate bindings.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;menu&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Toggles default menu. Read &lt;a href=&#34;https://raw.githubusercontent.com/tomasklaen/uosc/main/#menu-1&#34;&gt;Menu&lt;/a&gt; section below to find out how to fill it up with items you want there.&lt;/p&gt; &#xA;&lt;p&gt;Note: there&#39;s also a &lt;code&gt;menu-blurred&lt;/code&gt; command that opens a menu without pre-selecting the 1st item, suitable for commands triggered with a mouse, such as control bar buttons.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;subtitles&lt;/code&gt;, &lt;code&gt;audio&lt;/code&gt;, &lt;code&gt;video&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Menus to select a track of a requested type.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;load-subtitles&lt;/code&gt;, &lt;code&gt;load-audio&lt;/code&gt;, &lt;code&gt;load-video&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Displays a file explorer with directory navigation to load a requested track type.&lt;/p&gt; &#xA;&lt;p&gt;For subtitles, the explorer only displays file types defined in &lt;code&gt;subtitle_types&lt;/code&gt; option. For audio and video, the ones defined in &lt;code&gt;video_types&lt;/code&gt; and &lt;code&gt;audio_types&lt;/code&gt; are displayed.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;playlist&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Playlist navigation.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;chapters&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Chapter navigation.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;editions&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Editions menu. Editions are different video cuts available in some mkv files.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;stream-quality&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Switch stream quality. This is just a basic re-assignment of &lt;code&gt;ytdl-format&lt;/code&gt; mpv property from predefined options (configurable with &lt;code&gt;stream_quality_options&lt;/code&gt;) and video reload, there is no fetching of available formats going on.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;open-file&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Open file menu. Browsing starts in current file directory, or user directory when file not available. The explorer only displays file types defined in the &lt;code&gt;video_types&lt;/code&gt;, &lt;code&gt;audio_types&lt;/code&gt;, and &lt;code&gt;image_types&lt;/code&gt; options.&lt;/p&gt; &#xA;&lt;p&gt;You can use &lt;code&gt;ctrl+enter&lt;/code&gt; or &lt;code&gt;ctrl+click&lt;/code&gt; to load the whole directory in mpv instead of navigating its contents.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;items&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Opens &lt;code&gt;playlist&lt;/code&gt; menu when playlist exists, or &lt;code&gt;open-file&lt;/code&gt; menu otherwise.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;next&lt;/code&gt;, &lt;code&gt;prev&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Open next/previous item in playlist, or file in current directory when there is no playlist. Enable &lt;code&gt;loop-playlist&lt;/code&gt; to loop around.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;first&lt;/code&gt;, &lt;code&gt;last&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Open first/last item in playlist, or file in current directory when there is no playlist.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;next-file&lt;/code&gt;, &lt;code&gt;prev-file&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Open next/prev file in current directory. Enable &lt;code&gt;loop-playlist&lt;/code&gt; to loop around&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;first-file&lt;/code&gt;, &lt;code&gt;last-file&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Open first/last file in current directory.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;shuffle&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Toggle uosc&#39;s playlist/directory shuffle mode on or off.&lt;/p&gt; &#xA;&lt;p&gt;This simply makes the next selected playlist or directory item be random, like the shuffle function of most other players. This does not modify the actual playlist in any way, in contrast to the mpv built-in command &lt;code&gt;playlist-shuffle&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;delete-file-next&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Delete currently playing file and start next file in playlist (if there is a playlist) or current directory.&lt;/p&gt; &#xA;&lt;p&gt;Useful when watching episodic content.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;delete-file-quit&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Delete currently playing file and quit mpv.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;show-in-directory&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Show current file in your operating systems&#39; file explorer.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;audio-device&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Switch audio output device.&lt;/p&gt; &#xA;&lt;h4&gt;&lt;code&gt;open-config-directory&lt;/code&gt;&lt;/h4&gt; &#xA;&lt;p&gt;Open directory with &lt;code&gt;mpv.conf&lt;/code&gt; in file explorer.&lt;/p&gt; &#xA;&lt;h2&gt;Menu&lt;/h2&gt; &#xA;&lt;p&gt;&lt;strong&gt;uosc&lt;/strong&gt; provides a way to build, display, and use your own menu. By default it displays a pre-configured menu with common actions.&lt;/p&gt; &#xA;&lt;p&gt;To display the menu, add &lt;strong&gt;uosc&lt;/strong&gt;&#39;s &lt;code&gt;menu&lt;/code&gt; command to a key of your choice. Example to bind it to &lt;strong&gt;right click&lt;/strong&gt; and &lt;strong&gt;menu&lt;/strong&gt; buttons:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;mbtn_right  script-binding uosc/menu&#xA;menu        script-binding uosc/menu&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To display a submenu, send a &lt;code&gt;show-submenu&lt;/code&gt; message to &lt;strong&gt;uosc&lt;/strong&gt; with first parameter specifying menu ID. Example:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;R    script-message-to uosc show-submenu &#34;Utils &amp;gt; Aspect ratio&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Note: The &lt;strong&gt;menu&lt;/strong&gt; key is the one nobody uses between the &lt;strong&gt;win&lt;/strong&gt; and &lt;strong&gt;right_ctrl&lt;/strong&gt; keys (it might not be on your keyboard).&lt;/p&gt; &#xA;&lt;h3&gt;Adding items to menu&lt;/h3&gt; &#xA;&lt;p&gt;Adding items to menu is facilitated by commenting your keybinds in &lt;code&gt;input.conf&lt;/code&gt; with special comment syntax. &lt;strong&gt;uosc&lt;/strong&gt; will than parse this file and build the context menu out of it.&lt;/p&gt; &#xA;&lt;h4&gt;Syntax&lt;/h4&gt; &#xA;&lt;p&gt;Comment has to be at the end of the line with the binding.&lt;/p&gt; &#xA;&lt;p&gt;Comment has to start with &lt;code&gt;#!&lt;/code&gt; (or &lt;code&gt;#menu:&lt;/code&gt;).&lt;/p&gt; &#xA;&lt;p&gt;Text after &lt;code&gt;#!&lt;/code&gt; is an item title.&lt;/p&gt; &#xA;&lt;p&gt;Title can be split with &lt;code&gt;&amp;gt;&lt;/code&gt; to define nested menus. There is no limit on nesting.&lt;/p&gt; &#xA;&lt;p&gt;Use &lt;code&gt;#&lt;/code&gt; instead of a key if you don&#39;t necessarily want to bind a key to a command, but still want it in the menu.&lt;/p&gt; &#xA;&lt;p&gt;If multiple menu items with the same command are defined, &lt;strong&gt;uosc&lt;/strong&gt; will concatenate them into one item and just display all available shortcuts as that items&#39; hint, while using the title of the first defined item.&lt;/p&gt; &#xA;&lt;p&gt;Menu items are displayed in the order they are defined in &lt;code&gt;input.conf&lt;/code&gt; file.&lt;/p&gt; &#xA;&lt;p&gt;The command &lt;code&gt;ignore&lt;/code&gt; does not result in a menu item, however all the folders leading up to it will still be created. This allows more flexible structuring of the &lt;code&gt;input.conf&lt;/code&gt; file.&lt;/p&gt; &#xA;&lt;h4&gt;Examples&lt;/h4&gt; &#xA;&lt;p&gt;Adds a menu item to load subtitles:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;alt+s  script-binding uosc/load-subtitles  #! Load subtitles&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Adds a stay-on-top toggle with no keybind:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;#  cycle ontop  #! Toggle on-top&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Define and display multiple shortcuts in single items&#39; menu hint (items with same command get concatenated):&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;esc  quit  #! Quit&#xA;q    quit  #!&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Define a folder without defining any of its contents:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;#  ignore  #! Folder title &amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Example context menu:&lt;/p&gt; &#xA;&lt;p&gt;This is the default pre-configured menu if none is defined in your &lt;code&gt;input.conf&lt;/code&gt;, but with added shortcuts. To both pause &amp;amp; move the window with left mouse button, so that you can have the menu on the right one, enable &lt;code&gt;click_threshold&lt;/code&gt; in &lt;code&gt;uosc.conf&lt;/code&gt; (see default &lt;code&gt;uosc.conf&lt;/code&gt; for example/docs).&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;menu        script-binding uosc/menu&#xA;mbtn_right  script-binding uosc/menu&#xA;s           script-binding uosc/subtitles          #! Subtitles&#xA;a           script-binding uosc/audio              #! Audio tracks&#xA;q           script-binding uosc/stream-quality     #! Stream quality&#xA;p           script-binding uosc/items              #! Playlist&#xA;c           script-binding uosc/chapters           #! Chapters&#xA;&amp;gt;           script-binding uosc/next               #! Navigation &amp;gt; Next&#xA;&amp;lt;           script-binding uosc/prev               #! Navigation &amp;gt; Prev&#xA;alt+&amp;gt;       script-binding uosc/delete-file-next   #! Navigation &amp;gt; Delete file &amp;amp; Next&#xA;alt+&amp;lt;       script-binding uosc/delete-file-prev   #! Navigation &amp;gt; Delete file &amp;amp; Prev&#xA;alt+esc     script-binding uosc/delete-file-quit   #! Navigation &amp;gt; Delete file &amp;amp; Quit&#xA;o           script-binding uosc/open-file          #! Navigation &amp;gt; Open file&#xA;#           set video-aspect-override &#34;-1&#34;         #! Utils &amp;gt; Aspect ratio &amp;gt; Default&#xA;#           set video-aspect-override &#34;16:9&#34;       #! Utils &amp;gt; Aspect ratio &amp;gt; 16:9&#xA;#           set video-aspect-override &#34;4:3&#34;        #! Utils &amp;gt; Aspect ratio &amp;gt; 4:3&#xA;#           set video-aspect-override &#34;2.35:1&#34;     #! Utils &amp;gt; Aspect ratio &amp;gt; 2.35:1&#xA;#           script-binding uosc/audio-device       #! Utils &amp;gt; Audio devices&#xA;#           script-binding uosc/editions           #! Utils &amp;gt; Editions&#xA;ctrl+s      async screenshot                       #! Utils &amp;gt; Screenshot&#xA;O           script-binding uosc/show-in-directory  #! Utils &amp;gt; Show in directory&#xA;#           script-binding uosc/open-config-directory #! Utils &amp;gt; Open config directory&#xA;esc         quit #! Quit&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To see all the commands you can bind keys or menu items to, refer to &lt;a href=&#34;https://mpv.io/manual/master/#list-of-input-commands&#34;&gt;mpv&#39;s list of input commands documentation&lt;/a&gt;.&lt;/p&gt; &#xA;&lt;h2&gt;Message handlers&lt;/h2&gt; &#xA;&lt;p&gt;&lt;strong&gt;uosc&lt;/strong&gt; listens on some messages that can be sent with &lt;code&gt;script-message-to uosc&lt;/code&gt; command. Example:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;R    script-message-to uosc show-submenu &#34;Utils &amp;gt; Aspect ratio&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;&lt;code&gt;get-version &amp;lt;script_id&amp;gt;&lt;/code&gt;&lt;/h3&gt; &#xA;&lt;p&gt;Tells uosc to send it&#39;s version to &lt;code&gt;&amp;lt;script_id&amp;gt;&lt;/code&gt; script. Useful if you want to detect that uosc is installed. Example:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;-- Register response handler&#xA;mp.register_script_message(&#39;uosc-version&#39;, function(version)&#xA;  print(&#39;uosc version&#39;, version)&#xA;end)&#xA;&#xA;-- Ask for version&#xA;mp.commandv(&#39;script-message-to&#39;, &#39;uosc&#39;, &#39;get-version&#39;, mp.get_script_name())&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;&lt;code&gt;show-submenu &amp;lt;menu_id&amp;gt;&lt;/code&gt;, &lt;code&gt;show-submenu-blurred &amp;lt;menu_id&amp;gt;&lt;/code&gt;&lt;/h3&gt; &#xA;&lt;p&gt;Opens one of the submenus defined in &lt;code&gt;input.conf&lt;/code&gt; (read on how to build those in the Menu documentation above). To prevent 1st item being preselected, use &lt;code&gt;show-submenu-blurred&lt;/code&gt; instead.&lt;/p&gt; &#xA;&lt;p&gt;Parameters&lt;/p&gt; &#xA;&lt;h5&gt;&lt;code&gt;&amp;lt;menu_id&amp;gt;&lt;/code&gt;&lt;/h5&gt; &#xA;&lt;p&gt;ID (title) of the submenu, including &lt;code&gt;&amp;gt;&lt;/code&gt; subsections as defined in &lt;code&gt;input.conf&lt;/code&gt;. It has to be match the title exactly.&lt;/p&gt; &#xA;&lt;h3&gt;&lt;code&gt;open-menu &amp;lt;menu_json&amp;gt; [submenu_id]&lt;/code&gt;&lt;/h3&gt; &#xA;&lt;p&gt;A message other scripts can send to open a uosc menu serialized as JSON. You can optionally pass a &lt;code&gt;submenu_id&lt;/code&gt; to pre-open a submenu. The ID is the submenu title chain leading to the submenu concatenated with &lt;code&gt;&amp;gt;&lt;/code&gt;, for example &lt;code&gt;Tools &amp;gt; Aspect ratio&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;Menu data structure:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;Menu {&#xA;  type?: string;&#xA;  title?: string;&#xA;  items: Item[];&#xA;  selected_index?: integer;&#xA;  keep_open?: boolean;&#xA;  on_close: string | string[];&#xA;}&#xA;&#xA;Item = Command | Submenu;&#xA;&#xA;Submenu {&#xA;  title?: string;&#xA;  hint?: string;&#xA;  items: Item[];&#xA;  keep_open?: boolean;&#xA;}&#xA;&#xA;Command {&#xA;  title?: string;&#xA;  hint?: string;&#xA;  icon?: string;&#xA;  value: string | string[];&#xA;  bold?: boolean;&#xA;  italic?: boolean;&#xA;  muted?: boolean;&#xA;  active?: integer;&#xA;  keep_open?: boolean;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;When &lt;code&gt;Command.value&lt;/code&gt; is a string, it&#39;ll be passed to &lt;code&gt;mp.command(value)&lt;/code&gt;. If it&#39;s a table (array) of strings, it&#39;ll be used as &lt;code&gt;mp.commandv(table.unpack(value))&lt;/code&gt;. The same goes for &lt;code&gt;Menu.on_close&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;Menu.type&lt;/code&gt; controls what happens when opening a menu when some other menu is already open. When the new menu type is different, it&#39;ll replace the currently opened menu. When it&#39;s the same, the currently open menu will simply be closed. This is used to implement toggling of menus with the same type.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;item.icon&lt;/code&gt; property accepts icon names. You can pick one from here: &lt;a href=&#34;https://fonts.google.com/icons?selected=Material+Icons&#34;&gt;Google Material Icons&lt;/a&gt;&lt;br&gt; There is also a special icon name &lt;code&gt;spinner&lt;/code&gt; which will display a rotating spinner. Along with a no-op command on an item and &lt;code&gt;keep_open=true&lt;/code&gt;, this can be used to display placeholder menus/items that are still loading.&lt;/p&gt; &#xA;&lt;p&gt;When &lt;code&gt;keep_open&lt;/code&gt; is &lt;code&gt;true&lt;/code&gt;, activating the item will not close the menu. This property can be defined on both menus and items, and is inherited from parent to child if child doesn&#39;t overwrite it.&lt;/p&gt; &#xA;&lt;p&gt;It&#39;s usually not necessary to define &lt;code&gt;selected_index&lt;/code&gt; as it&#39;ll default to the first &lt;code&gt;active&lt;/code&gt; item, or 1st item in the list.&lt;/p&gt; &#xA;&lt;p&gt;Example:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;local utils = require(&#39;mp.utils&#39;)&#xA;local menu = {&#xA;  type = &#39;menu_type&#39;,&#xA;  title = &#39;Custom menu&#39;,&#xA;  items = {&#xA;    {title = &#39;Foo&#39;, hint = &#39;foo&#39;, value = &#39;quit&#39;},&#xA;    {title = &#39;Bar&#39;, hint = &#39;bar&#39;, value = &#39;quit&#39;, active = true},&#xA;  }&#xA;}&#xA;local json = utils.format_json(menu)&#xA;mp.commandv(&#39;script-message-to&#39;, &#39;uosc&#39;, &#39;open-menu&#39;, json)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;&lt;code&gt;update-menu &amp;lt;menu_json&amp;gt;&lt;/code&gt;&lt;/h3&gt; &#xA;&lt;p&gt;Updates currently opened menu with the same &lt;code&gt;type&lt;/code&gt;. If the menu isn&#39;t open, it will be opened.&lt;/p&gt; &#xA;&lt;p&gt;The difference between this and &lt;code&gt;open-menu&lt;/code&gt; is that if the same type menu is already open, &lt;code&gt;open-menu&lt;/code&gt; will close it (facilitating menu toggling with the same key/command), while &lt;code&gt;update-menu&lt;/code&gt; will update it&#39;s data.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;update-menu&lt;/code&gt;, along with &lt;code&gt;{menu/item}.keep_open&lt;/code&gt; property and &lt;code&gt;item.command&lt;/code&gt; that sends a message back can be used to create a self updating menu with some limited UI. Example:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;local utils = require(&#39;mp.utils&#39;)&#xA;local script_name = mp.get_script_name()&#xA;local state = {&#xA;  checkbox = &#39;no&#39;,&#xA;  radio = &#39;bar&#39;&#xA;}&#xA;&#xA;function command(str)&#xA;  return string.format(&#39;script-message-to %s %s&#39;, script_name, str)&#xA;end&#xA;&#xA;function create_menu_data()&#xA;  return {&#xA;    type = &#39;test_menu&#39;,&#xA;    title = &#39;Test menu&#39;,&#xA;    keep_open = true,&#xA;    items = {&#xA;      {&#xA;        title = &#39;Checkbox&#39;,&#xA;        icon = state.checkbox == &#39;yes&#39; and &#39;check_box&#39; or &#39;check_box_outline_blank&#39;,&#xA;        value = command(&#39;set-state checkbox &#39; .. (state.checkbox == &#39;yes&#39; and &#39;no&#39; or &#39;yes&#39;))&#xA;      },&#xA;      {&#xA;        title = &#39;Radio&#39;,&#xA;        hint = state.radio,&#xA;        items = {&#xA;          {&#xA;            title = &#39;Foo&#39;,&#xA;            icon = state.radio == &#39;foo&#39; and &#39;radio_button_checked&#39; or &#39;radio_button_unchecked&#39;,&#xA;            value = command(&#39;set-state radio foo&#39;)&#xA;          },&#xA;          {&#xA;            title = &#39;Bar&#39;,&#xA;            icon = state.radio == &#39;bar&#39; and &#39;radio_button_checked&#39; or &#39;radio_button_unchecked&#39;,&#xA;            value = command(&#39;set-state radio bar&#39;)&#xA;          },&#xA;          {&#xA;            title = &#39;Baz&#39;,&#xA;            icon = state.radio == &#39;baz&#39; and &#39;radio_button_checked&#39; or &#39;radio_button_unchecked&#39;,&#xA;            value = command(&#39;set-state radio baz&#39;)&#xA;          },&#xA;        },&#xA;      },&#xA;      {&#xA;        title = &#39;Submit&#39;,&#xA;        icon = &#39;check&#39;,&#xA;        value = command(&#39;submit&#39;),&#xA;        keep_open = false&#xA;      },&#xA;    }&#xA;  }&#xA;end&#xA;&#xA;mp.add_forced_key_binding(&#39;t&#39;, &#39;test_menu&#39;, function()&#xA;  local json = utils.format_json(create_menu_data())&#xA;  mp.commandv(&#39;script-message-to&#39;, &#39;uosc&#39;, &#39;open-menu&#39;, json)&#xA;end)&#xA;&#xA;mp.register_script_message(&#39;set-state&#39;, function(prop, value)&#xA;  state[prop] = value&#xA;  -- Update currently opened menu&#xA;  local json = utils.format_json(create_menu_data())&#xA;  mp.commandv(&#39;script-message-to&#39;, &#39;uosc&#39;, &#39;update-menu&#39;, json)&#xA;end)&#xA;&#xA;mp.register_script_message(&#39;submit&#39;, function(prop, value)&#xA;  -- Do something with state&#xA;end)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;&lt;code&gt;set &amp;lt;prop&amp;gt; &amp;lt;value&amp;gt;&lt;/code&gt;&lt;/h3&gt; &#xA;&lt;p&gt;Tell &lt;strong&gt;uosc&lt;/strong&gt; to set an external property to this value. Currently, this is only used to set/display control button active state and badges:&lt;/p&gt; &#xA;&lt;p&gt;In your script, set the value of &lt;code&gt;foo&lt;/code&gt; to &lt;code&gt;1&lt;/code&gt;.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;mp.commandv(&#39;script-message-to&#39;, &#39;uosc&#39;, &#39;set&#39;, &#39;foo&#39;, 1)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;&lt;code&gt;foo&lt;/code&gt; can now be used as a &lt;code&gt;toggle&lt;/code&gt; or &lt;code&gt;cycle&lt;/code&gt; property by specifying its owner with a &lt;code&gt;@{script_name}&lt;/code&gt; suffix:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;toggle:icon_name:foo@script_name&#xA;cycle:icon_name:foo@script_name:no/yes!&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If user clicks this &lt;code&gt;toggle&lt;/code&gt; or &lt;code&gt;cycle&lt;/code&gt; button, uosc will send a &lt;code&gt;set&lt;/code&gt; message back to the script owner. You can then listen to this message, do what you need with the new value, and update uosc state accordingly:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;-- Send initial value so that the button has a correct active state&#xA;mp.commandv(&#39;script-message-to&#39;, &#39;uosc&#39;, &#39;set&#39;, &#39;foo&#39;, &#39;yes&#39;)&#xA;-- Listen for changes coming from `toggle` or `cycle` button&#xA;mp.register_script_message(&#39;set&#39;, function(prop, value)&#xA;    -- ... do something with `value`&#xA;    -- Update uosc external prop&#xA;    mp.commandv(&#39;script-message-to&#39;, &#39;uosc&#39;, &#39;set&#39;, &#39;foo&#39;, value)&#xA;end)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;External properties can also be used as control button badges:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;controls=command:icon_name:command_name#foo@script_name?My foo button&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;&lt;code&gt;overwrite-binding &amp;lt;name&amp;gt; &amp;lt;command&amp;gt;&lt;/code&gt;&lt;/h3&gt; &#xA;&lt;p&gt;Allows a overwriting handling of uosc built in bindings. Useful for 3rd party scripts that specialize in a specific domain to replace built in menus or behaviors provided by existing bindings.&lt;/p&gt; &#xA;&lt;p&gt;Example that reroutes uosc&#39;s basic stream quality menu to &lt;a href=&#34;https://github.com/christoph-heinrich/mpv-quality-menu&#34;&gt;christoph-heinrich/mpv-quality-menu&lt;/a&gt;:&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;mp.commandv(&#39;script-message-to&#39;, &#39;uosc&#39;, &#39;overwrite-binding&#39;, &#39;stream-quality&#39;, &#39;script-binding quality_menu/video_formats_toggle&#39;)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;To cancel the overwrite and return to default behavior, just omit the &lt;code&gt;&amp;lt;command&amp;gt;&lt;/code&gt; parameter.&lt;/p&gt; &#xA;&lt;h2&gt;Why &lt;em&gt;uosc&lt;/em&gt;?&lt;/h2&gt; &#xA;&lt;p&gt;It stood for micro osc as it used to render just a couple rectangles before it grew to what it is today. And now it means a minimalist UI design direction where everything is out of your way until needed.&lt;/p&gt;</summary>
  </entry>
</feed>