<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom">
  <title>GitHub Lua Daily Trending</title>
  <id>http://mshibanami.github.io/GitHubTrendingRSS</id>
  <updated>2023-11-25T01:31:30Z</updated>
  <subtitle>Daily Trending of Lua in GitHub</subtitle>
  <link href="http://mshibanami.github.io/GitHubTrendingRSS"></link>
  <entry>
    <title>ThePrimeagen/git-worktree.nvim</title>
    <updated>2023-11-25T01:31:30Z</updated>
    <id>tag:github.com,2023-11-25:/ThePrimeagen/git-worktree.nvim</id>
    <link href="https://github.com/ThePrimeagen/git-worktree.nvim" rel="alternate"></link>
    <summary type="html">&lt;p&gt;&lt;/p&gt;&lt;hr&gt;&lt;h1&gt;git-worktree.nvim&lt;a name=&#34;git-worktreenvim&#34;&gt;&lt;/a&gt;&lt;/h1&gt; &#xA;&lt;p&gt;A simple wrapper around git worktree operations, create, switch, and delete. There is some assumed workflow within this plugin, but pull requests are welcomed to fix that).&lt;/p&gt; &#xA;&lt;!-- mdformat-toc start --slug=github --maxlevel=6 --minlevel=1 --&gt; &#xA;&lt;ul&gt; &#xA; &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ThePrimeagen/git-worktree.nvim/master/#git-worktreenvim&#34;&gt;git-worktree.nvim&lt;/a&gt; &#xA;  &lt;ul&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ThePrimeagen/git-worktree.nvim/master/#known-issues&#34;&gt;Known Issues&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ThePrimeagen/git-worktree.nvim/master/#dependencies&#34;&gt;Dependencies&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ThePrimeagen/git-worktree.nvim/master/#getting-started&#34;&gt;Getting Started&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ThePrimeagen/git-worktree.nvim/master/#setup&#34;&gt;Setup&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ThePrimeagen/git-worktree.nvim/master/#repository&#34;&gt;Repository&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ThePrimeagen/git-worktree.nvim/master/#options&#34;&gt;Options&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ThePrimeagen/git-worktree.nvim/master/#usage&#34;&gt;Usage&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ThePrimeagen/git-worktree.nvim/master/#telescope&#34;&gt;Telescope&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ThePrimeagen/git-worktree.nvim/master/#hooks&#34;&gt;Hooks&lt;/a&gt;&lt;/li&gt; &#xA;   &lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/ThePrimeagen/git-worktree.nvim/master/#made-with-fury&#34;&gt;Made with fury&lt;/a&gt;&lt;/li&gt; &#xA;  &lt;/ul&gt; &lt;/li&gt; &#xA;&lt;/ul&gt; &#xA;&lt;!-- mdformat-toc end --&gt; &#xA;&lt;h2&gt;Known Issues&lt;a name=&#34;known-issues&#34;&gt;&lt;/a&gt;&lt;/h2&gt; &#xA;&lt;p&gt;There are a few known issues. I&#39;ll try to be actively filing them in the issues. If you experience something, and it&#39;s not an issue, feel free to make an issue! Even if it&#39;s a dupe I am just happy for the contribution.&lt;/p&gt; &#xA;&lt;h2&gt;Dependencies&lt;a name=&#34;dependencies&#34;&gt;&lt;/a&gt;&lt;/h2&gt; &#xA;&lt;p&gt;Requires NeoVim 0.5+ Requires plenary.nvim Optional telescope.nvim for telescope extension&lt;/p&gt; &#xA;&lt;h2&gt;Getting Started&lt;a name=&#34;getting-started&#34;&gt;&lt;/a&gt;&lt;/h2&gt; &#xA;&lt;p&gt;First, install the plugin the usual way you prefer.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-console&#34;&gt;Plug &#39;ThePrimeagen/git-worktree.nvim&#39;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;Next, re-source your &lt;code&gt;vimrc&lt;/code&gt;/&lt;code&gt;init.vim&lt;/code&gt; and execute &lt;code&gt;PlugInstall&lt;/code&gt; to ensure you have the plugin installed.&lt;/p&gt; &#xA;&lt;h2&gt;Setup&lt;a name=&#34;setup&#34;&gt;&lt;/a&gt;&lt;/h2&gt; &#xA;&lt;h2&gt;Repository&lt;a name=&#34;repository&#34;&gt;&lt;/a&gt;&lt;/h2&gt; &#xA;&lt;p&gt;This repository does work best with a bare repo. To clone a bare repo, do the following.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;git clone --bare &amp;lt;upstream&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;If you do not use a bare repo, using telescope create command will be more helpful in the process of creating a branch.&lt;/p&gt; &#xA;&lt;h3&gt;Debugging&lt;/h3&gt; &#xA;&lt;p&gt;git-worktree writes logs to a &lt;code&gt;git-worktree-nvim.log&lt;/code&gt; file that resides in Neovim&#39;s cache path. (&lt;code&gt;:echo stdpath(&#34;cache&#34;)&lt;/code&gt; to find where that is for you.)&lt;/p&gt; &#xA;&lt;p&gt;By default, logging is enabled for warnings and above. This can be changed by setting &lt;code&gt;vim.g.git_worktree_log_level&lt;/code&gt; variable to one of the following log levels: &lt;code&gt;trace&lt;/code&gt;, &lt;code&gt;debug&lt;/code&gt;, &lt;code&gt;info&lt;/code&gt;, &lt;code&gt;warn&lt;/code&gt;, &lt;code&gt;error&lt;/code&gt;, or &lt;code&gt;fatal&lt;/code&gt;. Note that this would have to be done &lt;strong&gt;before&lt;/strong&gt; git-worktree&#39;s &lt;code&gt;setup&lt;/code&gt; call. Alternatively, it can be more convenient to launch Neovim with an environment variable, e.g. &lt;code&gt;&amp;gt; GIT_WORKTREE_NVIM_LOG=trace nvim&lt;/code&gt;. In case both, &lt;code&gt;vim.g&lt;/code&gt; and an environment variable are used, the log level set by the environment variable overrules. Supplying an invalid log level defaults back to warnings.&lt;/p&gt; &#xA;&lt;h3&gt;Troubleshooting&lt;/h3&gt; &#xA;&lt;p&gt;If the upstream is not setup correctly when trying to pull or push, make sure the following command returns what is shown below. This seems to happen with the gitHub cli.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;git config --get remote.origin.fetch&#xA;&#xA;+refs/heads/*:refs/remotes/origin/*&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;if it does not run the following&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code&gt;git config remote.origin.fetch &#34;+refs/heads/*:refs/remotes/origin/*&#34;&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Options&lt;a name=&#34;options&#34;&gt;&lt;/a&gt;&lt;/h2&gt; &#xA;&lt;p&gt;&lt;code&gt;change_directory_command&lt;/code&gt;: The vim command used to change to the new worktree directory. Set this to &lt;code&gt;tcd&lt;/code&gt; if you want to only change the &lt;code&gt;pwd&lt;/code&gt; for the current vim Tab.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;update_on_change&lt;/code&gt;: Updates the current buffer to point to the new work tree if the file is found in the new project. Otherwise, the following command will be run.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;update_on_change_command&lt;/code&gt;: The vim command to run during the &lt;code&gt;update_on_change&lt;/code&gt; event. Note, that this command will only be run when the current file is not found in the new worktree. This option defaults to &lt;code&gt;e .&lt;/code&gt; which opens the root directory of the new worktree.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;clearjumps_on_change&lt;/code&gt;: Every time you switch branches, your jumplist will be cleared so that you don&#39;t accidentally go backward to a different branch and edit the wrong files.&lt;/p&gt; &#xA;&lt;p&gt;&lt;code&gt;autopush&lt;/code&gt;: When creating a new worktree, it will push the branch to the upstream then perform a &lt;code&gt;git rebase&lt;/code&gt;&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;require(&#34;git-worktree&#34;).setup({&#xA;    change_directory_command = &amp;lt;str&amp;gt; -- default: &#34;cd&#34;,&#xA;    update_on_change = &amp;lt;boolean&amp;gt; -- default: true,&#xA;    update_on_change_command = &amp;lt;str&amp;gt; -- default: &#34;e .&#34;,&#xA;    clearjumps_on_change = &amp;lt;boolean&amp;gt; -- default: true,&#xA;    autopush = &amp;lt;boolean&amp;gt; -- default: false,&#xA;})&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Usage&lt;a name=&#34;usage&#34;&gt;&lt;/a&gt;&lt;/h2&gt; &#xA;&lt;p&gt;Three primary functions should cover your day-to-day.&lt;/p&gt; &#xA;&lt;p&gt;The path can be either relative from the git root dir or absolute path to the worktree.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;-- Creates a worktree.  Requires the path, branch name, and the upstream&#xA;-- Example:&#xA;:lua require(&#34;git-worktree&#34;).create_worktree(&#34;feat-69&#34;, &#34;master&#34;, &#34;origin&#34;)&#xA;&#xA;-- switches to an existing worktree.  Requires the path name&#xA;-- Example:&#xA;:lua require(&#34;git-worktree&#34;).switch_worktree(&#34;feat-69&#34;)&#xA;&#xA;-- deletes to an existing worktree.  Requires the path name&#xA;-- Example:&#xA;:lua require(&#34;git-worktree&#34;).delete_worktree(&#34;feat-69&#34;)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h2&gt;Telescope&lt;a name=&#34;telescope&#34;&gt;&lt;/a&gt;&lt;/h2&gt; &#xA;&lt;p&gt;Add the following to your vimrc to load the telescope extension&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;require(&#34;telescope&#34;).load_extension(&#34;git_worktree&#34;)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Switch and Delete a worktrees&lt;/h3&gt; &#xA;&lt;p&gt;To bring up the telescope window listing your workspaces run the following&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;:lua require(&#39;telescope&#39;).extensions.git_worktree.git_worktrees()&#xA;-- &amp;lt;Enter&amp;gt; - switches to that worktree&#xA;-- &amp;lt;c-d&amp;gt; - deletes that worktree&#xA;-- &amp;lt;c-f&amp;gt; - toggles forcing of the next deletion&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;h3&gt;Create a worktree&lt;/h3&gt; &#xA;&lt;p&gt;To bring up the telescope window to create a new worktree run the following&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;:lua require(&#39;telescope&#39;).extensions.git_worktree.create_git_worktree()&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;First a telescope git branch window will appear. Pressing enter will choose the selected branch for the branch name. If no branch is selected, then the prompt will be used as the branch name.&lt;/p&gt; &#xA;&lt;p&gt;After the git branch window, a prompt will be presented to enter the path name to write the worktree to.&lt;/p&gt; &#xA;&lt;p&gt;As of now you can not specify the upstream in the telescope create workflow, however if it finds a branch of the same name in the origin it will use it&lt;/p&gt; &#xA;&lt;h2&gt;Hooks&lt;a name=&#34;hooks&#34;&gt;&lt;/a&gt;&lt;/h2&gt; &#xA;&lt;p&gt;Yes! The best part about &lt;code&gt;git-worktree&lt;/code&gt; is that it emits information so that you can act on it.&lt;/p&gt; &#xA;&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;local Worktree = require(&#34;git-worktree&#34;)&#xA;&#xA;-- op = Operations.Switch, Operations.Create, Operations.Delete&#xA;-- metadata = table of useful values (structure dependent on op)&#xA;--      Switch&#xA;--          path = path you switched to&#xA;--          prev_path = previous worktree path&#xA;--      Create&#xA;--          path = path where worktree created&#xA;--          branch = branch name&#xA;--          upstream = upstream remote name&#xA;--      Delete&#xA;--          path = path where worktree deleted&#xA;&#xA;Worktree.on_tree_change(function(op, metadata)&#xA;  if op == Worktree.Operations.Switch then&#xA;    print(&#34;Switched from &#34; .. metadata.prev_path .. &#34; to &#34; .. metadata.path)&#xA;  end&#xA;end)&#xA;&lt;/code&gt;&lt;/pre&gt; &#xA;&lt;p&gt;This means that you can use &lt;a href=&#34;https://github.com/ThePrimeagen/harpoon&#34;&gt;harpoon&lt;/a&gt; or other plugins to perform follow up operations that will help in turbo charging your development experience!&lt;/p&gt; &#xA;&lt;h2&gt;Made with fury&lt;a name=&#34;made-with-fury&#34;&gt;&lt;/a&gt;&lt;/h2&gt; &#xA;&lt;p&gt;All plugins are made live on &lt;a href=&#34;https://twitch.tv/ThePrimeagen&#34;&gt;Twitch&lt;/a&gt; with love and fury. Come and join!&lt;/p&gt;</summary>
  </entry>
</feed>